var RA=Object.defineProperty,MA=Object.defineProperties;var NA=Object.getOwnPropertyDescriptors;var uI=Object.getOwnPropertySymbols,xA=Object.getPrototypeOf,PA=Object.prototype.hasOwnProperty,OA=Object.prototype.propertyIsEnumerable,kA=Reflect.get;var lI=(t,e,n)=>e in t?RA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})PA.call(e,n)&&lI(t,n,e[n]);if(uI)for(var n of uI(e))OA.call(e,n)&&lI(t,n,e[n]);return t},ue=(t,e)=>MA(t,NA(e));var Xn=(t,e,n)=>kA(xA(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function dI(t,e){return Object.is(t,e)}var Ve=null,Lc=!1,Vc=1,_n=Symbol("SIGNAL");function me(t){let e=Ve;return Ve=t,e}function hI(){return Ve}var xo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Vh(t){if(Lc)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(t);let e=Ve.nextProducerIndex++;if($c(Ve),e<Ve.producerNode.length&&Ve.producerNode[e]!==t&&No(Ve)){let n=Ve.producerNode[e];Bc(n,Ve.producerIndexOfThis[e])}Ve.producerNode[e]!==t&&(Ve.producerNode[e]=t,Ve.producerIndexOfThis[e]=No(Ve)?mI(t,Ve,e):0),Ve.producerLastReadVersion[e]=t.version}function FA(){Vc++}function fI(t){if(!(No(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vc)){if(!t.producerMustRecompute(t)&&!Uh(t)){t.dirty=!1,t.lastCleanEpoch=Vc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Vc}}function pI(t){if(t.liveConsumerNode===void 0)return;let e=Lc;Lc=!0;try{for(let n of t.liveConsumerNode)n.dirty||LA(n)}finally{Lc=e}}function gI(){return Ve?.consumerAllowSignalWrites!==!1}function LA(t){t.dirty=!0,pI(t),t.consumerMarkedDirty?.(t)}function Uc(t){return t&&(t.nextProducerIndex=0),me(t)}function jh(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(No(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Bc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Uh(t){$c(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fI(n),r!==n.version))return!0}return!1}function Bh(t){if($c(t),No(t))for(let e=0;e<t.producerNode.length;e++)Bc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function mI(t,e,n){if(yI(t),t.liveConsumerNode.length===0&&vI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=mI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Bc(t,e){if(yI(t),t.liveConsumerNode.length===1&&vI(t))for(let r=0;r<t.producerNode.length;r++)Bc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$c(i),i.producerIndexOfThis[r]=e}}function No(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $c(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function yI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function vI(t){return t.producerNode!==void 0}function _I(t){let e=Object.create(VA);e.computation=t;let n=()=>{if(fI(e),Vh(e),e.value===jc)throw e.error;return e.value};return n[_n]=e,n}var Fh=Symbol("UNSET"),Lh=Symbol("COMPUTING"),jc=Symbol("ERRORED"),VA=ue(O({},xo),{value:Fh,dirty:!0,error:null,equal:dI,producerMustRecompute(t){return t.value===Fh||t.value===Lh},producerRecomputeValue(t){if(t.value===Lh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Lh;let n=Uc(t),r;try{r=t.computation()}catch(i){r=jc,t.error=i}finally{jh(t,n)}if(e!==Fh&&e!==jc&&r!==jc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function jA(){throw new Error}var II=jA;function wI(){II()}function EI(t){II=t}var UA=null;function DI(t){let e=Object.create(bI);e.value=t;let n=()=>(Vh(e),e.value);return n[_n]=e,n}function $h(t,e){gI()||wI(),t.equal(t.value,e)||(t.value=e,BA(t))}function CI(t,e){gI()||wI(),$h(t,e(t.value))}var bI=ue(O({},xo),{equal:dI,value:void 0});function BA(t){t.version++,FA(),pI(t),UA?.()}function X(t){return typeof t=="function"}function Fi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hc=Fi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Or(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof Hc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{TI(s)}catch(o){e=e??[],o instanceof Hc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Hc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)TI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Or(n,e)}remove(e){let{_finalizers:n}=this;n&&Or(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var Hh=Ne.EMPTY;function qc(t){return t instanceof Ne||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function TI(t){X(t)?t():t.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Li={setTimeout(t,e,...n){let{delegate:r}=Li;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Li;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function zc(t){Li.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(t);else throw t})}function Po(){}var SI=qh("C",void 0,void 0);function AI(t){return qh("E",void 0,t)}function RI(t){return qh("N",t,void 0)}function qh(t,e,n){return{kind:t,value:e,error:n}}var kr=null;function Vi(t){if(jt.useDeprecatedSynchronousErrorHandling){let e=!kr;if(e&&(kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=kr;if(kr=null,n)throw r}}else t()}function MI(t){jt.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=t)}var Fr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qc(e)&&e.add(this)):this.destination=qA}static create(e,n,r){return new ji(e,n,r)}next(e){this.isStopped?Gh(RI(e),this):this._next(e)}error(e){this.isStopped?Gh(AI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gh(SI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$A=Function.prototype.bind;function zh(t,e){return $A.call(t,e)}var Wh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Gc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Gc(r)}else Gc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Gc(n)}}},ji=class extends Fr{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&jt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zh(e.next,s),error:e.error&&zh(e.error,s),complete:e.complete&&zh(e.complete,s)}):i=e}this.destination=new Wh(i)}};function Gc(t){jt.useDeprecatedSynchronousErrorHandling?MI(t):zc(t)}function HA(t){throw t}function Gh(t,e){let{onStoppedNotification:n}=jt;n&&Li.setTimeout(()=>n(t,e))}var qA={closed:!0,next:Po,error:HA,complete:Po};var Ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(t){return t}function Wc(...t){return Kh(t)}function Kh(t){return t.length===0?_t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=GA(n)?n:new ji(n,r,i);return Vi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=NI(r),new r((i,s)=>{let o=new ji({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ui](){return this}pipe(...n){return Kh(n)(this)}toPromise(n){return n=NI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function NI(t){var e;return(e=t??jt.Promise)!==null&&e!==void 0?e:Promise}function zA(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function GA(t){return t&&t instanceof Fr||zA(t)&&qc(t)}function Qh(t){return X(t?.lift)}function pe(t){return e=>{if(Qh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new Yh(t,e,n,r,i)}var Yh=class extends Fr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bi(){return pe((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var $i=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Bi()(this)}};var xI=Fi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Kc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xI}next(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Hh:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,Or(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new Kc(e,n),t})(),Kc=class extends He{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Hh}};var We=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zh={now(){return(Zh.delegate||Date).now()},delegate:void 0};var Qc=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var Oo={setInterval(t,e,...n){let{delegate:r}=Oo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Oo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Hi=class extends Qc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Oo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Oo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Or(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var qi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};qi.now=Zh.now;var zi=class extends qi{constructor(e,n=qi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Jh=new zi(Hi);var Yc=class extends Hi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Zc=class extends zi{};var Xh=new Zc(Yc);var It=new le(t=>t.complete());function PI(t){return t&&X(t.schedule)}function OI(t){return t[t.length-1]}function Jc(t){return X(OI(t))?t.pop():void 0}function er(t){return PI(OI(t))?t.pop():void 0}function ef(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function FI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function kI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(t){return this instanceof Lr?(this.v=t,this):new Lr(t)}function LI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(M){return new Promise(function(R,F){s.push([v,M,R,F])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof Lr?Promise.resolve(v.value.v).then(f,p):m(s[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function VI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kI=="function"?kI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Xc=t=>t&&typeof t.length=="number"&&typeof t!="function";function eu(t){return X(t?.then)}function tu(t){return X(t[Ui])}function nu(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function ru(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iu=WA();function su(t){return X(t?.[iu])}function ou(t){return LI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function au(t){return X(t?.getReader)}function ke(t){if(t instanceof le)return t;if(t!=null){if(tu(t))return KA(t);if(Xc(t))return QA(t);if(eu(t))return YA(t);if(nu(t))return jI(t);if(su(t))return ZA(t);if(au(t))return JA(t)}throw ru(t)}function KA(t){return new le(e=>{let n=t[Ui]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QA(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function YA(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,zc)})}function ZA(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function jI(t){return new le(e=>{XA(t,e).catch(n=>e.error(n))})}function JA(t){return jI(ou(t))}function XA(t,e){var n,r,i,s;return FI(this,void 0,void 0,function*(){try{for(n=VI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function tr(t,e=0){return pe((n,r)=>{n.subscribe(de(r,i=>dt(r,t,()=>r.next(i),e),()=>dt(r,t,()=>r.complete(),e),i=>dt(r,t,()=>r.error(i),e)))})}function nr(t,e=0){return pe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function UI(t,e){return ke(t).pipe(nr(e),tr(e))}function BI(t,e){return ke(t).pipe(nr(e),tr(e))}function $I(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function HI(t,e){return new le(n=>{let r;return dt(n,e,()=>{r=t[iu](),dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function cu(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{dt(n,e,()=>{let r=t[Symbol.asyncIterator]();dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function qI(t,e){return cu(ou(t),e)}function zI(t,e){if(t!=null){if(tu(t))return UI(t,e);if(Xc(t))return $I(t,e);if(eu(t))return BI(t,e);if(nu(t))return cu(t,e);if(su(t))return HI(t,e);if(au(t))return qI(t,e)}throw ru(t)}function Ae(t,e){return e?zI(t,e):ke(t)}function Y(...t){let e=er(t);return Ae(t,e)}function Gi(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function tf(t){return!!t&&(t instanceof le||X(t.lift)&&X(t.subscribe))}var In=Fi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return pe((n,r)=>{let i=0;n.subscribe(de(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:eR}=Array;function tR(t,e){return eR(e)?t(...e):t(e)}function uu(t){return re(e=>tR(t,e))}var{isArray:nR}=Array,{getPrototypeOf:rR,prototype:iR,keys:sR}=Object;function lu(t){if(t.length===1){let e=t[0];if(nR(e))return{args:e,keys:null};if(oR(e)){let n=sR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function oR(t){return t&&typeof t=="object"&&rR(t)===iR}function du(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function hu(...t){let e=er(t),n=Jc(t),{args:r,keys:i}=lu(t);if(r.length===0)return Ae([],e);let s=new le(aR(r,e,i?o=>du(i,o):_t));return n?s.pipe(uu(n)):s}function aR(t,e,n=_t){return r=>{GI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)GI(e,()=>{let l=Ae(t[u],e),f=!1;l.subscribe(de(r,p=>{s[u]=p,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function GI(t,e,n){t?dt(n,t,e):e()}function WI(t,e,n,r,i,s,o,a){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let R=!1;ke(n(M,f++)).subscribe(de(e,F=>{i?.(F),s?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?dt(e,o,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(de(e,v,()=>{p=!0,m()})),()=>{a?.()}}function je(t,e,n=1/0){return X(e)?je((r,i)=>re((s,o)=>e(r,s,i,o))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),pe((r,i)=>WI(r,i,t,n)))}function Wi(t=1/0){return je(_t,t)}function KI(){return Wi(1)}function Ki(...t){return KI()(Ae(t,er(t)))}function fu(t){return new le(e=>{ke(t()).subscribe(e)})}function nf(...t){let e=Jc(t),{args:n,keys:r}=lu(t),i=new le(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let p=!1;ke(n[f]).subscribe(de(s,m=>{p||(p=!0,l--),a[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?du(r,a):a),s.complete())}))}});return e?i.pipe(uu(e)):i}function At(t,e){return pe((n,r)=>{let i=0;n.subscribe(de(r,s=>t.call(e,s,i++)&&r.next(s)))})}function rr(t){return pe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(de(n,void 0,void 0,o=>{s=ke(t(o,rr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function QI(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(de(o,f=>{let p=l++;u=a?t(u,f,p):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Qi(t,e){return X(e)?je(t,e,1):je(t,1)}function ir(t){return pe((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wn(t){return t<=0?()=>It:pe((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function rf(t){return re(()=>t)}function pu(t=cR){return pe((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cR(){return new In}function ko(t){return pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):_t,wn(1),n?ir(e):pu(()=>new In))}function Yi(t){return t<=0?()=>It:pe((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):_t,Yi(1),n?ir(e):pu(()=>new In))}function gu(t,e){return pe(QI(t,e,arguments.length>=2,!0))}function mu(...t){let e=er(t);return pe((n,r)=>{(e?Ki(t,n,e):Ki(t,n)).subscribe(r)})}function Ut(t,e){return pe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,f=s++;ke(t(u,f)).subscribe(i=de(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function of(t){return pe((e,n)=>{ke(t).subscribe(de(n,()=>n.complete(),Po)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?pe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(de(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_t}var kw="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(dp(e,n)),this.code=e}};function dp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Wo(t){return{toString:t}.toString()}var yu="__parameters__";function uR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function lR(t,e,n){return Wo(()=>{let r=uR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,f){let p=u.hasOwnProperty(yu)?u[yu]:Object.defineProperty(u,yu,{value:[]})[yu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var If=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function dR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function YI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var hR=De({__forward_ref__:De});function Zr(t){return t.__forward_ref__=Zr,t.toString=function(){return ht(this())},t}function lt(t){return Fw(t)?t():t}function Fw(t){return typeof t=="function"&&t.hasOwnProperty(hR)&&t.__forward_ref__===Zr}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qu(t){return ZI(t,Vw)||ZI(t,jw)}function Lw(t){return Qu(t)!==null}function ZI(t,e){return t.hasOwnProperty(e)?t[e]:null}function fR(t){let e=t&&(t[Vw]||t[jw]);return e||null}function JI(t){return t&&(t.hasOwnProperty(XI)||t.hasOwnProperty(pR))?t[XI]:null}var Vw=De({\u0275prov:De}),XI=De({\u0275inj:De}),jw=De({ngInjectableDef:De}),pR=De({ngInjectorDef:De}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Uw(t){return t&&!!t.\u0275providers}var gR=De({\u0275cmp:De}),mR=De({\u0275dir:De}),yR=De({\u0275pipe:De}),vR=De({\u0275mod:De}),Au=De({\u0275fac:De}),Vo=De({__NG_ELEMENT_ID__:De}),ew=De({__NG_ENV_ID__:De});function hp(t){return typeof t=="string"?t:t==null?"":String(t)}function _R(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():hp(t)}function IR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function fp(t,e){throw new B(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),wf;function Bw(){return wf}function Rt(t){let e=wf;return wf=t,e}function $w(t,e,n){let r=Qu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;fp(t,"Injector")}var wR={},jo=wR,Ef="__NG_DI_FLAG__",Ru="ngTempTokenPath",ER="ngTokenPath",DR=/\n/gm,CR="\u0275",tw="__source",es;function bR(){return es}function sr(t){let e=es;return es=t,e}function TR(t,e=oe.Default){if(es===void 0)throw new B(-203,!1);return es===null?$w(t,void 0,e):es.get(t,e&oe.Optional?null:void 0,e)}function ae(t,e=oe.Default){return(Bw()||TR)(lt(t),e)}function k(t,e=oe.Default){return ae(t,Yu(e))}function Yu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Df(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=AR(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ae(i,s))}else e.push(ae(r))}return e}function SR(t,e){return t[Ef]=e,t.prototype[Ef]=e,t}function AR(t){return t[Ef]}function RR(t,e,n,r){let i=t[Ru];throw e[tw]&&i.unshift(e[tw]),t.message=MR(`
`+t.message,i,n,r),t[ER]=i,t[Ru]=null,t}function MR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==CR?t.slice(2):t;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ht(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(DR,`
  `)}`}var pt=SR(lR("Optional"),8);function ns(t,e){let n=t.hasOwnProperty(Au);return n?t[Au]:null}function NR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function xR(t){return t.flat(Number.POSITIVE_INFINITY)}function pp(t,e){t.forEach(n=>Array.isArray(n)?pp(n,e):e(n))}function Hw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function PR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function OR(t,e,n){let r=Ko(t,e);return r>=0?t[r|1]=n:(r=~r,PR(t,r,e,n)),r}function af(t,e){let n=Ko(t,e);if(n>=0)return t[n|1]}function Ko(t,e){return kR(t,e,1)}function kR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var rs={},Mt=[],is=new j(""),qw=new j("",-1),zw=new j(""),Nu=class{get(e,n=jo){if(n===jo){let r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return n}},Gw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gw||{}),Zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zt||{}),cr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(cr||{});function FR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Cf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];LR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Ww(t){return t===3||t===4||t===6}function LR(t){return t.charCodeAt(0)===64}function Uo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?nw(t,n,i,null,e[++r]):nw(t,n,i,null,null))}}return t}function nw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Kw="ng-template";function VR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&FR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(gp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function gp(t){return t.type===4&&t.value!==Kw}function jR(t,e,n){let r=t.type===4&&!n?Kw:t.value;return e===r}function UR(t,e,n){let r=4,i=t.attrs,s=i!==null?HR(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Bt(r)&&!Bt(u))return!1;if(o&&Bt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!jR(t,u,n)||u===""&&e.length===1){if(Bt(r))return!1;o=!0}}else if(r&8){if(i===null||!VR(t,i,u,n)){if(Bt(r))return!1;o=!0}}else{let l=e[++a],f=BR(u,i,gp(t),n);if(f===-1){if(Bt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Bt(r))return!1;o=!0}}}}return Bt(r)||o}function Bt(t){return(t&1)===0}function BR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return qR(e,t)}function $R(t,e,n=!1){for(let r=0;r<e.length;r++)if(UR(t,e[r],n))return!0;return!1}function HR(t){for(let e=0;e<t.length;e++){let n=t[e];if(Ww(n))return e}return t.length}function qR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function rw(t,e){return t?":not("+e.trim()+")":e}function zR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Bt(o)&&(e+=rw(s,i),i=""),r=o,s=s||!Bt(r);n++}return i!==""&&(e+=rw(s,i)),e}function GR(t){return t.map(zR).join(",")}function WR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Bt(i))break;i=s}r++}return{attrs:e,classes:n}}function gt(t){return Wo(()=>{let e=Xw(t),n=ue(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zt.Emulated,styles:t.styles||Mt,_:null,schemas:t.schemas||null,tView:null,id:""});eE(n);let r=t.dependencies;return n.directiveDefs=sw(r,!1),n.pipeDefs=sw(r,!0),n.id=YR(n),n})}function KR(t){return Br(t)||Qw(t)}function QR(t){return t!==null}function Xr(t){return Wo(()=>({type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function iw(t,e){if(t==null)return rs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=cr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==cr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function rt(t){return Wo(()=>{let e=Xw(t);return eE(e),e})}function Br(t){return t[gR]||null}function Qw(t){return t[mR]||null}function Yw(t){return t[yR]||null}function Zw(t){let e=Br(t)||Qw(t)||Yw(t);return e!==null?e.standalone:!1}function Jw(t,e){let n=t[vR]||null;if(!n&&e===!0)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return n}function Xw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||rs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iw(t.inputs,e),outputs:iw(t.outputs),debugInfo:null}}function eE(t){t.features?.forEach(e=>e(t))}function sw(t,e){if(!t)return null;let n=e?Yw:KR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(QR)}function YR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tn(t){return{\u0275providers:t}}function ZR(...t){return{\u0275providers:tE(!0,t),\u0275fromNgModule:!0}}function tE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return pp(e,o=>{let a=o;bf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nE(i,s),n}function nE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];mp(i,s=>{e(s,r)})}}function bf(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,s=JI(t),o=!s&&Br(t);if(!s&&!o){let u=t.ngModule;if(s=JI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)bf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{pp(s.imports,f=>{bf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&nE(l,e)}if(!a){let l=ns(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mt},i),e({provide:zw,useValue:i,multi:!0},i),e({provide:is,useValue:()=>ae(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;mp(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function mp(t,e){for(let n of t)Uw(n)&&(n=n.\u0275providers),Array.isArray(n)?mp(n,e):e(n)}var JR=De({provide:String,useValue:De});function rE(t){return t!==null&&typeof t=="object"&&JR in t}function XR(t){return!!(t&&t.useExisting)}function eM(t){return!!(t&&t.useFactory)}function ss(t){return typeof t=="function"}function tM(t){return!!t.useClass}var Zu=new j(""),Eu={},nM={},cf;function yp(){return cf===void 0&&(cf=new Nu),cf}var xt=class{},Bo=class extends xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sf(e,o=>this.processProvider(o)),this.records.set(qw,Zi(void 0,this)),i.has("environment")&&this.records.set(xt,Zi(void 0,this));let s=this.records.get(Zu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(zw,Mt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=sr(this),r=Rt(void 0),i;try{return e()}finally{sr(n),Rt(r)}}get(e,n=jo,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ew))return e[ew](this);r=Yu(r);let i,s=sr(this),o=Rt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=aM(e)&&Qu(e);l&&this.injectableDefInScope(l)?u=Zi(Tf(e),Eu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?yp():this.parent;return n=r&oe.Optional&&n===jo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ru]=a[Ru]||[]).unshift(ht(e)),s)throw a;return RR(a,e,"R3InjectorError",this.source)}else throw a}finally{Rt(o),sr(s)}}resolveInjectorInitializers(){let e=me(null),n=sr(this),r=Rt(void 0),i;try{let s=this.get(is,Mt,oe.Self);for(let o of s)o()}finally{sr(n),Rt(r),me(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=lt(e);let n=ss(e)?e:lt(e&&e.provide),r=iM(e);if(!ss(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zi(void 0,Eu,!0),i.factory=()=>Df(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=me(null);try{return n.value===Eu&&(n.value=nM,n.value=n.factory()),typeof n.value=="object"&&n.value&&oM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Tf(t){let e=Qu(t),n=e!==null?e.factory:ns(t);if(n!==null)return n;if(t instanceof j)throw new B(204,!1);if(t instanceof Function)return rM(t);throw new B(204,!1)}function rM(t){if(t.length>0)throw new B(204,!1);let n=fR(t);return n!==null?()=>n.factory(t):()=>new t}function iM(t){if(rE(t))return Zi(void 0,t.useValue);{let e=iE(t);return Zi(e,Eu)}}function iE(t,e,n){let r;if(ss(t)){let i=lt(t);return ns(i)||Tf(i)}else if(rE(t))r=()=>lt(t.useValue);else if(eM(t))r=()=>t.useFactory(...Df(t.deps||[]));else if(XR(t))r=()=>ae(lt(t.useExisting));else{let i=lt(t&&(t.useClass||t.provide));if(sM(t))r=()=>new i(...Df(t.deps));else return ns(i)||Tf(i)}return r}function Zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sM(t){return!!t.deps}function oM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function aM(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Sf(t,e){for(let n of t)Array.isArray(n)?Sf(n,e):n&&Uw(n)?Sf(n.\u0275providers,e):e(n)}function Sn(t,e){t instanceof Bo&&t.assertNotDestroyed();let n,r=sr(t),i=Rt(void 0);try{return e()}finally{sr(r),Rt(i)}}function cM(){return Bw()!==void 0||bR()!=null}function uM(t){return typeof t=="function"}var An=0,ie=1,W=2,tt=3,$t=4,Ht=5,xu=6,Pu=7,En=8,os=9,Jt=10,nt=11,$o=12,ow=13,Qo=14,Xt=15,$r=16,Ji=17,Dn=18,Ju=19,sE=20,or=21,uf=22,Nt=23,Hr=25,oE=1;var qr=7,Ou=8,as=9,wt=10,ku=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ku||{});function ar(t){return Array.isArray(t)&&typeof t[oE]=="object"}function Rn(t){return Array.isArray(t)&&t[oE]===!0}function aE(t){return(t.flags&4)!==0}function Xu(t){return t.componentOffset>-1}function cE(t){return(t.flags&1)===1}function ur(t){return!!t.template}function Af(t){return(t[W]&512)!==0}var Rf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function uE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Mn(){return lE}function lE(t){return t.type.prototype.ngOnChanges&&(t.setInput=dM),lM}Mn.ngInherit=!0;function lM(){let t=hE(this),e=t?.current;if(e){let n=t.previous;if(n===rs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function dM(t,e,n,r,i){let s=this.declaredInputs[r],o=hE(t)||hM(t,{previous:rs,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Rf(l&&l.currentValue,n,u===rs),uE(t,e,i,n)}var dE="__ngSimpleChanges__";function hE(t){return t[dE]||null}function hM(t,e){return t[dE]=e}var aw=null;var Qt=function(t,e,n){aw?.(t,e,n)},fM="svg",pM="math";function en(t){for(;Array.isArray(t);)t=t[An];return t}function gM(t,e){return en(e[t])}function Pt(t,e){return en(e[t.index])}function fE(t,e){return t.data[e]}function dr(t,e){let n=e[t];return ar(n)?n:n[An]}function mM(t){return(t[W]&4)===4}function vp(t){return(t[W]&128)===128}function yM(t){return Rn(t[tt])}function cw(t,e){return e==null?null:t[e]}function pE(t){t[Ji]=0}function gE(t){t[W]&1024||(t[W]|=1024,vp(t)&&tl(t))}function el(t){return!!(t[W]&9216||t[Nt]?.dirty)}function Mf(t){t[Jt].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),el(t)&&tl(t)}function tl(t){t[Jt].changeDetectionScheduler?.notify(0);let e=zr(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!vp(e)));)e=zr(e)}function mE(t,e){if((t[W]&256)===256)throw new B(911,!1);t[or]===null&&(t[or]=[]),t[or].push(e)}function vM(t,e){if(t[or]===null)return;let n=t[or].indexOf(e);n!==-1&&t[or].splice(n,1)}function zr(t){let e=t[tt];return Rn(e)?e[tt]:e}var ye={lFrame:TE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yE=!1;function _M(){return ye.lFrame.elementDepthCount}function IM(){ye.lFrame.elementDepthCount++}function wM(){ye.lFrame.elementDepthCount--}function vE(){return ye.bindingsEnabled}function EM(){return ye.skipHydrationRootTNode!==null}function DM(t){return ye.skipHydrationRootTNode===t}function CM(){ye.skipHydrationRootTNode=null}function Te(){return ye.lFrame.lView}function Et(){return ye.lFrame.tView}function it(){let t=_E();for(;t!==null&&t.type===64;)t=t.parent;return t}function _E(){return ye.lFrame.currentTNode}function bM(){let t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function nl(t,e){let n=ye.lFrame;n.currentTNode=t,n.isParent=e}function IE(){return ye.lFrame.isParent}function TM(){ye.lFrame.isParent=!1}function wE(){return yE}function uw(t){yE=t}function SM(t){return ye.lFrame.bindingIndex=t}function EE(){return ye.lFrame.bindingIndex++}function AM(t){let e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RM(){return ye.lFrame.inI18n}function MM(t,e){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nf(e)}function NM(){return ye.lFrame.currentDirectiveIndex}function Nf(t){ye.lFrame.currentDirectiveIndex=t}function xM(t){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function DE(){return ye.lFrame.currentQueryIndex}function _p(t){ye.lFrame.currentQueryIndex=t}function PM(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Ht]:null}function CE(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=PM(s),i===null||(s=s[Qo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ye.lFrame=bE();return r.currentTNode=e,r.lView=t,!0}function Ip(t){let e=bE(),n=t[ie];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function bE(){let t=ye.lFrame,e=t===null?null:t.child;return e===null?TE(t):e}function TE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function SE(){let t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var AE=SE;function wp(){let t=SE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yo(){return ye.lFrame.selectedIndex}function Gr(t){ye.lFrame.selectedIndex=t}function RE(){let t=ye.lFrame;return fE(t.tView,t.selectedIndex)}function OM(){return ye.lFrame.currentNamespace}var ME=!0;function NE(){return ME}function xE(t){ME=t}function kM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=lE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function PE(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Du(t,e,n){OE(t,e,3,n)}function Cu(t,e,n,r){(t[W]&3)===n&&OE(t,e,n,r)}function lf(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function OE(t,e,n,r){let i=r!==void 0?t[Ji]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ji]+=65536),(a<s||s==-1)&&(FM(t,n,e,u),t[Ji]=(t[Ji]&4294901760)+u+2),u++}function lw(t,e){Qt(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),Qt(5,t,e)}}function FM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[W]>>14<t[Ji]>>16&&(t[W]&3)===e&&(t[W]+=16384,lw(a,s)):lw(a,s)}var ts=-1,Wr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function LM(t){return t instanceof Wr}function VM(t){return(t.flags&8)!==0}function jM(t){return(t.flags&16)!==0}var df={},xf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Yu(r);let i=this.injector.get(e,df,r);return i!==df||n===df?i:this.parentInjector.get(e,n,r)}};function kE(t){return t!==ts}function Fu(t){return t&32767}function UM(t){return t>>16}function Lu(t,e){let n=UM(t),r=e;for(;n>0;)r=r[Qo],n--;return r}var Pf=!0;function dw(t){let e=Pf;return Pf=t,e}var BM=256,FE=BM-1,LE=5,$M=0,Yt={};function HM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vo)&&(r=n[Vo]),r==null&&(r=n[Vo]=$M++);let i=r&FE,s=1<<i;e.data[t+(i>>LE)]|=s}function Vu(t,e){let n=VE(t,e);if(n!==-1)return n;let r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,hf(r.data,t),hf(e,null),hf(r.blueprint,null));let i=Ep(t,e),s=t.injectorIndex;if(kE(i)){let o=Fu(i),a=Lu(i,e),u=a[ie].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function hf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ep(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=HE(i),r===null)return ts;if(n++,i=i[Qo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ts}function Of(t,e,n){HM(t,e,n)}function qM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Ww(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function jE(t,e,n){if(n&oe.Optional||t!==void 0)return t;fp(e,"NodeInjector")}function UE(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[os],s=Rt(void 0);try{return i?i.get(e,r,n&oe.Optional):$w(e,r,n&oe.Optional)}finally{Rt(s)}}return jE(r,e,n)}function BE(t,e,n,r=oe.Default,i){if(t!==null){if(e[W]&2048&&!(r&oe.Self)){let o=KM(t,e,n,r,Yt);if(o!==Yt)return o}let s=$E(t,e,n,r,Yt);if(s!==Yt)return s}return UE(e,n,r,i)}function $E(t,e,n,r,i){let s=GM(n);if(typeof s=="function"){if(!CE(e,t,r))return r&oe.Host?jE(i,n,r):UE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))fp(n);else return o}finally{AE()}}else if(typeof s=="number"){let o=null,a=VE(t,e),u=ts,l=r&oe.Host?e[Xt][Ht]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?Ep(t,e):e[a+8],u===ts||!fw(r,!1)?a=-1:(o=e[ie],a=Fu(u),e=Lu(u,e)));a!==-1;){let f=e[ie];if(hw(s,a,f.data)){let p=zM(a,e,n,o,r,l);if(p!==Yt)return p}u=e[a+8],u!==ts&&fw(r,e[ie].data[a+8]===l)&&hw(s,a,e)?(o=f,a=Fu(u),e=Lu(u,e)):a=-1}}return i}function zM(t,e,n,r,i,s){let o=e[ie],a=o.data[t+8],u=r==null?Xu(a)&&Pf:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,f=bu(a,o,n,u,l);return f!==null?Kr(e,o,f,a):Yt}function bu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?a:a+f,m=i?a+f:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&ur(v)&&v.type===n)return u}return null}function Kr(t,e,n,r){let i=t[n],s=e.data;if(LM(i)){let o=i;o.resolving&&IR(_R(s[n]));let a=dw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Rt(o.injectImpl):null,f=CE(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&kM(n,s[n],e)}finally{l!==null&&Rt(l),dw(a),o.resolving=!1,AE()}}return i}function GM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vo)?t[Vo]:void 0;return typeof e=="number"?e>=0?e&FE:WM:e}function hw(t,e,n){let r=1<<t;return!!(n[e+(t>>LE)]&r)}function fw(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var Ur=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BE(this._tNode,this._lView,e,Yu(r),n)}};function WM(){return new Ur(it(),Te())}function fs(t){return Wo(()=>{let e=t.prototype.constructor,n=e[Au]||kf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Au]||kf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function kf(t){return Fw(t)?()=>{let e=kf(lt(t));return e&&e()}:ns(t)}function KM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[W]&2048&&!(o[W]&512);){let a=$E(s,o,n,r|oe.Self,Yt);if(a!==Yt)return a;let u=s.parent;if(!u){let l=o[sE];if(l){let f=l.get(n,Yt,r);if(f!==Yt)return f}u=HE(o),o=o[Qo]}s=u}return i}function HE(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[Ht]:null}function Dp(t){return qM(it(),t)}function pw(t,e=null,n=null,r){let i=qE(t,e,n,r);return i.resolveInjectorInitializers(),i}function qE(t,e=null,n=null,r,i=new Set){let s=[n||Mt,ZR(t)];return r=r||(typeof t=="object"?void 0:ht(t)),new Bo(s,e||yp(),r||null,i)}var Vr=class Vr{static create(e,n){if(Array.isArray(e))return pw({name:""},n,e,"");{let r=e.name??"";return pw({name:r},e.parent,e.providers,r)}}};Vr.THROW_IF_NOT_FOUND=jo,Vr.NULL=new Nu,Vr.\u0275prov=z({token:Vr,providedIn:"any",factory:()=>ae(qw)}),Vr.__NG_ELEMENT_ID__=-1;var ft=Vr;var QM=new j("");QM.__NG_ELEMENT_ID__=t=>{let e=it();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new B(204,!1)};var YM="ngOriginalError";function ff(t){return t[YM]}var zE=!0,GE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ff=class extends GE{constructor(e){super(),this._lView=e}onDestroy(e){return mE(this._lView,e),()=>vM(this._lView,e)}};function ZM(){return new Ff(Te())}var ps=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Lf=class extends He{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,cM()&&(this.destroyRef=k(GE,{optional:!0})??void 0,this.pendingTasks=k(ps,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=Lf;function ju(...t){}function WE(t){let e,n;function r(){t=ju;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function gw(t){return queueMicrotask(()=>t()),()=>{t=ju}}var Cp="isAngularZone",Uu=Cp+"_ID",JM=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=zE}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,tN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,XM,ju,ju);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},XM={};function bp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){WE(()=>{t.callbackScheduled=!1,Vf(t),t.isCheckStableRunning=!0,bp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vf(t)}function tN(t){let e=()=>{eN(t)},n=JM++;t._inner=t._inner.fork({name:"angular",properties:{[Cp]:!0,[Uu]:n,[Uu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(nN(u))return r.invokeTask(s,o,a,u);try{return mw(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yw(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return mw(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rN(u)&&e(),yw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Vf(t),bp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Vf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yw(t){t._nesting--,bp(t)}var jf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function nN(t){return KE(t,"__ignore_ng_zone__")}function rN(t){return KE(t,"__scheduler_tick__")}function KE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Cn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ff(e);for(;n&&ff(n);)n=ff(n);return n||null}},iN=new j("",{providedIn:"root",factory:()=>{let t=k(we),e=k(Cn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function sN(){return gs(it(),Te())}function gs(t,e){return new Ot(Pt(t,e))}var Ot=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=sN;let t=e;return t})();function oN(t){return t instanceof Ot?t.nativeElement:t}function aN(){return this._results[Symbol.iterator]()}var Uf=class t{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=aN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=xR(e);(this._changesDetected=!NR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function QE(t){return(t.flags&128)===128}var YE=new Map,cN=0;function uN(){return cN++}function lN(t){YE.set(t[Ju],t)}function Bf(t){YE.delete(t[Ju])}var vw="__ngContext__";function cs(t,e){ar(e)?(t[vw]=e[Ju],lN(e)):t[vw]=e}function ZE(t){return XE(t[$o])}function JE(t){return XE(t[$t])}function XE(t){for(;t!==null&&!Rn(t);)t=t[$t];return t}var $f;function eD(t){$f=t}function dN(){if($f!==void 0)return $f;if(typeof document<"u")return document;throw new B(210,!1)}var Tp=new j("",{providedIn:"root",factory:()=>hN}),hN="ng",Sp=new j(""),hr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Ap=new j("",{providedIn:"root",factory:()=>dN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fN="h",pN="b";var gN=()=>null;function Rp(t,e,n=!1){return gN(t,e,n)}var tD=!1,mN=new j("",{providedIn:"root",factory:()=>tD});var vu;function yN(){if(vu===void 0&&(vu=null,If.trustedTypes))try{vu=If.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vu}function _w(t){return yN()?.createScriptURL(t)||t}var Bu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kw})`}};function Zo(t){return t instanceof Bu?t.changingThisBreaksApplicationSecurity:t}function Mp(t,e){let n=vN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${kw})`)}return n===e}function vN(t){return t instanceof Bu&&t.getTypeName()||null}var _N=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nD(t){return t=String(t),t.match(_N)?t:"unsafe:"+t}var rl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rl||{});function IN(t){let e=iD();return e?e.sanitize(rl.URL,t)||"":Mp(t,"URL")?Zo(t):nD(hp(t))}function wN(t){let e=iD();if(e)return _w(e.sanitize(rl.RESOURCE_URL,t)||"");if(Mp(t,"ResourceURL"))return _w(Zo(t));throw new B(904,!1)}function EN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?wN:IN}function rD(t,e,n){return EN(e,n)(t)}function iD(){let t=Te();return t&&t[Jt].sanitizer}function sD(t){return t instanceof Function?t():t}var bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bn||{}),DN;function Np(t,e){return DN(t,e)}function Xi(t,e,n,r,i){if(r!=null){let s,o=!1;Rn(r)?s=r:ar(r)&&(o=!0,r=r[An]);let a=en(r);t===0&&n!==null?i==null?lD(e,n,a):$u(e,n,a,i||null,!0):t===1&&n!==null?$u(e,n,a,i||null,!0):t===2?LN(e,a,o):t===3&&e.destroyNode(a),s!=null&&jN(e,t,s,n,i)}}function CN(t,e){return t.createText(e)}function oD(t,e,n){return t.createElement(e,n)}function bN(t,e){aD(t,e),e[An]=null,e[Ht]=null}function TN(t,e,n,r,i,s){r[An]=i,r[Ht]=e,il(t,r,n,1,i,s)}function aD(t,e){e[Jt].changeDetectionScheduler?.notify(9),il(t,e,e[nt],2,null,null)}function SN(t){let e=t[$o];if(!e)return pf(t[ie],t);for(;e;){let n=null;if(ar(e))n=e[$o];else{let r=e[wt];r&&(n=r)}if(!n){for(;e&&!e[$t]&&e!==t;)ar(e)&&pf(e[ie],e),e=e[tt];e===null&&(e=t),ar(e)&&pf(e[ie],e),n=e&&e[$t]}e=n}}function AN(t,e,n,r){let i=wt+r,s=n.length;r>0&&(n[i-1][$t]=e),r<s-wt?(e[$t]=n[i],Hw(n,wt+r,e)):(n.push(e),e[$t]=null),e[tt]=n;let o=e[$r];o!==null&&n!==o&&cD(o,e);let a=e[Dn];a!==null&&a.insertView(t),Mf(e),e[W]|=128}function cD(t,e){let n=t[as],r=e[tt];if(ar(r))t[W]|=ku.HasTransplantedViews;else{let i=r[tt][Xt];e[Xt]!==i&&(t[W]|=ku.HasTransplantedViews)}n===null?t[as]=[e]:n.push(e)}function xp(t,e){let n=t[as],r=n.indexOf(e);n.splice(r,1)}function Hf(t,e){if(t.length<=wt)return;let n=wt+e,r=t[n];if(r){let i=r[$r];i!==null&&i!==t&&xp(i,r),e>0&&(t[n-1][$t]=r[$t]);let s=Mu(t,wt+e);bN(r[ie],r);let o=s[Dn];o!==null&&o.detachView(s[ie]),r[tt]=null,r[$t]=null,r[W]&=-129}return r}function uD(t,e){if(!(e[W]&256)){let n=e[nt];n.destroyNode&&il(t,e,n,3,null,null),SN(e)}}function pf(t,e){if(e[W]&256)return;let n=me(null);try{e[W]&=-129,e[W]|=256,e[Nt]&&Bh(e[Nt]),MN(t,e),RN(t,e),e[ie].type===1&&e[nt].destroy();let r=e[$r];if(r!==null&&Rn(e[tt])){r!==e[tt]&&xp(r,e);let i=e[Dn];i!==null&&i.detachView(t)}Bf(e)}finally{me(n)}}function RN(t,e){let n=t.cleanup,r=e[Pu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Pu]=null);let i=e[or];if(i!==null){e[or]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function MN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Qt(4,a,u);try{u.call(a)}finally{Qt(5,a,u)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function NN(t,e,n){return xN(t,e.parent,n)}function xN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zt.None||s===Zt.Emulated)return null}return Pt(r,n)}}function $u(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lD(t,e,n){t.appendChild(e,n)}function Iw(t,e,n,r,i){r!==null?$u(t,e,n,r,i):lD(t,e,n)}function dD(t,e){return t.parentNode(e)}function PN(t,e){return t.nextSibling(e)}function ON(t,e,n){return FN(t,e,n)}function kN(t,e,n){return t.type&40?Pt(t,n):null}var FN=kN,ww;function hD(t,e,n,r){let i=NN(t,r,e),s=e[nt],o=r.parent||e[Ht],a=ON(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Iw(s,i,n[u],a,!1);else Iw(s,i,n,a,!1);ww!==void 0&&ww(s,r,e,n,i)}function Fo(t,e){if(e!==null){let n=e.type;if(n&3)return Pt(e,t);if(n&4)return qf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Fo(t,r);{let i=t[e.index];return Rn(i)?qf(-1,i):en(i)}}else{if(n&128)return Fo(t,e.next);if(n&32)return Np(e,t)()||en(t[e.index]);{let r=fD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zr(t[Xt]);return Fo(i,r)}else return Fo(t,e.next)}}}return null}function fD(t,e){if(e!==null){let r=t[Xt][Ht],i=e.projection;return r.projection[i]}return null}function qf(t,e){let n=wt+t+1;if(n<e.length){let r=e[n],i=r[ie].firstChild;if(i!==null)return Fo(r,i)}return e[qr]}function LN(t,e,n){t.removeChild(null,e,n)}function Pp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&cs(en(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Pp(t,e,n.child,r,i,s,!1),Xi(e,t,i,a,s);else if(u&32){let l=Np(n,r),f;for(;f=l();)Xi(e,t,i,f,s);Xi(e,t,i,a,s)}else u&16?VN(t,e,r,n,i,s):Xi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function il(t,e,n,r,i,s){Pp(n,r,t.firstChild,e,i,s,!1)}function VN(t,e,n,r,i,s){let o=n[Xt],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Xi(e,t,i,f,s)}else{let l=u,f=o[tt];QE(r)&&(l.flags|=128),Pp(t,e,l,f,i,s,!0)}}function jN(t,e,n,r,i){let s=n[qr],o=en(n);s!==o&&Xi(e,t,r,s,i);for(let a=wt;a<n.length;a++){let u=n[a];il(u[ie],u,t,e,r,s)}}function UN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:bn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bn.Important),t.setStyle(n,r,i,s))}}function BN(t,e,n){t.setAttribute(e,"style",n)}function pD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function gD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Cf(t,e,r),i!==null&&pD(t,e,i),s!==null&&BN(t,e,s)}var sl={};function ms(t=1){mD(Et(),Te(),Yo()+t,!1)}function mD(t,e,n,r){if(!r)if((e[W]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Du(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Cu(e,s,0,n)}Gr(n)}function se(t,e=oe.Default){let n=Te();if(n===null)return ae(t,e);let r=it();return BE(r,n,lt(t),e)}function yD(t,e,n,r,i,s){let o=me(null);try{let a=null;i&cr.SignalBased&&(a=e[r][_n]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&cr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):uE(e,a,r,s)}finally{me(o)}}function $N(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gr(~i);else{let s=i,o=n[++r],a=n[++r];MM(o,s);let u=e[s];a(2,u)}}}finally{Gr(-1)}}function ol(t,e,n,r,i,s,o,a,u,l,f){let p=e.blueprint.slice();return p[An]=i,p[W]=r|4|128|8|64,(l!==null||t&&t[W]&2048)&&(p[W]|=2048),pE(p),p[tt]=p[Qo]=t,p[En]=n,p[Jt]=o||t&&t[Jt],p[nt]=a||t&&t[nt],p[os]=u||t&&t[os]||null,p[Ht]=s,p[Ju]=uN(),p[xu]=f,p[sE]=l,p[Xt]=e.type==2?t[Xt]:p,p}function Op(t,e,n,r,i){let s=t.data[e];if(s===null)s=HN(t,e,n,r,i),RM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=bM();s.injectorIndex=o===null?-1:o.injectorIndex}return nl(s,!0),s}function HN(t,e,n,r,i){let s=_E(),o=IE(),a=o?s:s&&s.parent,u=t.data[e]=ZN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function vD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _D(t,e,n,r,i){let s=Yo(),o=r&2;try{Gr(-1),o&&e.length>Hr&&mD(t,e,Hr,!1),Qt(o?2:0,i),n(r,i)}finally{Gr(s),Qt(o?3:1,i)}}function ID(t,e,n){if(aE(e)){let r=me(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{me(r)}}}function qN(t,e,n){vE()&&(sx(t,e,n,Pt(n,e)),(n.flags&64)===64&&CD(t,e,n))}function zN(t,e,n=Pt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function wD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ED(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ED(t,e,n,r,i,s,o,a,u,l,f){let p=Hr+r,m=p+i,v=GN(p,m),S=typeof l=="function"?l():l;return v[ie]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function GN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:sl);return n}function WN(t,e,n,r){let s=r.get(mN,tD)||n===Zt.ShadowDom,o=t.selectRootElement(e,s);return KN(o),o}function KN(t){QN(t)}var QN=()=>null;function YN(t,e,n,r){let i=TD(e);i.push(n),t.firstCreatePass&&SD(t).push(r,i.length-1)}function ZN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return EM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ew(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=cr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Dw(r,n,l,a,u):Dw(r,n,l,a)}return r}function Dw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function JN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=Ew(0,p.inputs,f,u,v),l=Ew(1,p.outputs,f,l,S);let M=u!==null&&o!==null&&!gp(e)?mx(u,f,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function XN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ex(t,e,n,r,i,s,o,a){let u=Pt(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(Fp(t,n,f,r,i),Xu(e)&&tx(n,e.index)):e.type&3?(r=XN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function tx(t,e){let n=dr(e,t);n[W]&16||(n[W]|=64)}function nx(t,e,n,r){if(vE()){let i=r===null?null:{"":-1},s=ax(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&DD(t,e,n,o,i,a),i&&cx(n,r,i)}n.mergedAttrs=Uo(n.mergedAttrs,n.attrs)}function DD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Of(Vu(n,e),t,r[l].type);lx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=vD(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Uo(n.mergedAttrs,f.hostAttrs),dx(t,n,e,u,f),ux(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}JN(t,n,s)}function rx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;ix(o)!=a&&o.push(a),o.push(n,r,s)}}function ix(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Xu(n)&&hx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Vu(n,e),cs(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Kr(e,t,a,n);if(cs(l,e),o!==null&&gx(e,a-i,l,u,n,o),ur(u)){let f=dr(n.index,e);f[En]=Kr(e,t,a,n)}}}function CD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=NM();try{Gr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Nf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ox(u,l)}}finally{Gr(-1),Nf(o)}}function ox(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ax(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if($R(e,o.selectors,!1))if(r||(r=[]),ur(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;zf(t,e,u)}else r.unshift(o),zf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function zf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function cx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function ux(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ur(e)&&(n[""]=t)}}function lx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ns(i.type,!0)),o=new Wr(s,ur(i),se);t.blueprint[r]=o,n[r]=o,rx(t,e,r,vD(t,n,i.hostVars,sl),i)}function hx(t,e,n){let r=Pt(e,t),i=wD(n),s=t[Jt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=kp(t,ol(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function fx(t,e,n,r,i,s){let o=Pt(t,e);px(e[nt],o,s,t.value,n,r,i)}function px(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?hp(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function gx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],f=o[a++],p=o[a++];yD(r,n,u,l,f,p)}}function mx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function yx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function bD(t,e){let n=t.contentQueries;if(n!==null){let r=me(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];_p(s),a.contentQueries(2,e[o],o)}}}finally{me(r)}}}function kp(t,e){return t[$o]?t[ow][$t]=e:t[$o]=e,t[ow]=e,e}function Gf(t,e,n){_p(0);let r=me(null);try{e(t,n)}finally{me(r)}}function TD(t){return t[Pu]??=[]}function SD(t){return t.cleanup??=[]}function AD(t,e){let n=t[os],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function Fp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],f=t.data[o];yD(f,l,r,a,u,i)}}function vx(t,e){let n=dr(e,t),r=n[ie];_x(r,n);let i=n[An];i!==null&&n[xu]===null&&(n[xu]=Rp(i,n[os])),Lp(r,n,n[En])}function _x(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Lp(t,e,n){Ip(e);try{let r=t.viewQuery;r!==null&&Gf(1,r,n);let i=t.template;i!==null&&_D(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Dn]?.finishViewCreation(t),t.staticContentQueries&&bD(t,e),t.staticViewQueries&&Gf(2,t.viewQuery,n);let s=t.components;s!==null&&Ix(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,wp()}}function Ix(t,e){for(let n=0;n<e.length;n++)vx(t,e[n])}function wx(t,e,n,r){let i=me(null);try{let s=e.tView,a=t[W]&4096?4096:16,u=ol(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[$r]=l;let f=t[Dn];return f!==null&&(u[Dn]=f.createEmbeddedView(s)),Lp(s,u,n),u}finally{me(i)}}function Cw(t,e){return!e||e.firstChild===null||QE(t)}function Ex(t,e,n,r=!0){let i=e[ie];if(AN(i,e,t,n),r){let o=qf(n,t),a=e[nt],u=dD(a,t[qr]);u!==null&&TN(i,t[Ht],a,e,u,o)}let s=e[xu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Hu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(en(s)),Rn(s)&&Dx(s,r);let o=n.type;if(o&8)Hu(t,e,n.child,r);else if(o&32){let a=Np(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=fD(e,n);if(Array.isArray(a))r.push(...a);else{let u=zr(e[Xt]);Hu(u[ie],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Dx(t,e){for(let n=wt;n<t.length;n++){let r=t[n],i=r[ie].firstChild;i!==null&&Hu(r[ie],r,i,e)}t[qr]!==t[An]&&e.push(t[qr])}var RD=[];function Cx(t){return t[Nt]??bx(t)}function bx(t){let e=RD.pop()??Object.create(Sx);return e.lView=t,e}function Tx(t){t.lView[Nt]!==t&&(t.lView=null,RD.push(t))}var Sx=ue(O({},xo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{tl(t.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function Ax(t){let e=t[Nt]??Object.create(Rx);return e.lView=t,e}var Rx=ue(O({},xo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=zr(t.lView);for(;e&&!MD(e[ie]);)e=zr(e);e&&gE(e)},consumerOnSignalRead(){this.lView[Nt]=this}});function MD(t){return t.type!==2}var Mx=100;function ND(t,e=!0,n=0){let r=t[Jt],i=r.rendererFactory,s=!1;s||i.begin?.();try{Nx(t,n)}catch(o){throw e&&AD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Nx(t,e){let n=wE();try{uw(!0),Wf(t,e);let r=0;for(;el(t);){if(r===Mx)throw new B(103,!1);r++,Wf(t,1)}}finally{uw(n)}}function xx(t,e,n,r){let i=e[W];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Jt].inlineEffectRunner?.flush(),Ip(e);let a=!0,u=null,l=null;s||(MD(t)?(l=Cx(e),u=Uc(l)):hI()===null?(a=!1,l=Ax(e),u=Uc(l)):e[Nt]&&(Bh(e[Nt]),e[Nt]=null));try{pE(e),SM(t.bindingStartIndex),n!==null&&_D(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let v=t.preOrderCheckHooks;v!==null&&Du(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Cu(e,v,0,null),lf(e,0)}if(o||Px(e),xD(e,0),t.contentQueries!==null&&bD(t,e),!s)if(f){let v=t.contentCheckHooks;v!==null&&Du(e,v)}else{let v=t.contentHooks;v!==null&&Cu(e,v,1),lf(e,1)}$N(t,e);let p=t.components;p!==null&&OD(e,p,0);let m=t.viewQuery;if(m!==null&&Gf(2,m,r),!s)if(f){let v=t.viewCheckHooks;v!==null&&Du(e,v)}else{let v=t.viewHooks;v!==null&&Cu(e,v,2),lf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[uf]){for(let v of e[uf])v();e[uf]=null}s||(e[W]&=-73)}catch(f){throw s||tl(e),f}finally{l!==null&&(jh(l,u),a&&Tx(l)),wp()}}function xD(t,e){for(let n=ZE(t);n!==null;n=JE(n))for(let r=wt;r<n.length;r++){let i=n[r];PD(i,e)}}function Px(t){for(let e=ZE(t);e!==null;e=JE(e)){if(!(e[W]&ku.HasTransplantedViews))continue;let n=e[as];for(let r=0;r<n.length;r++){let i=n[r];gE(i)}}}function Ox(t,e,n){let r=dr(e,t);PD(r,n)}function PD(t,e){vp(t)&&Wf(t,e)}function Wf(t,e){let r=t[ie],i=t[W],s=t[Nt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Uh(s)),o||=!1,s&&(s.dirty=!1),t[W]&=-9217,o)xx(r,t,r.template,t[En]);else if(i&8192){xD(t,1);let a=r.components;a!==null&&OD(t,a,1)}}function OD(t,e,n){for(let r=0;r<e.length;r++)Ox(t,e[r],n)}function Vp(t,e){let n=wE()?64:1088;for(t[Jt].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=zr(t);if(Af(t)&&!r)return t;t=r}return null}var Qr=class{get rootNodes(){let e=this._lView,n=e[ie];return Hu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(e){this._lView[En]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(Rn(e)){let n=e[Ou],r=n?n.indexOf(this):-1;r>-1&&(Hf(e,r),Mu(n,r))}this._attachedToViewContainer=!1}uD(this._lView[ie],this._lView)}onDestroy(e){mE(this._lView,e)}markForCheck(){Vp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Mf(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,ND(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Af(this._lView),n=this._lView[$r];n!==null&&!e&&xp(n,this._lView),aD(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Af(this._lView),r=this._lView[$r];r!==null&&!n&&cD(r,this._lView),Mf(this._lView)}},Ho=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Lx;let t=e;return t})(),kx=Ho,Fx=class extends kx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=wx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Qr(i)}};function Lx(){return jp(it(),Te())}function jp(t,e){return t.type&4?new Fx(e,t,gs(t,e)):null}var P4=new RegExp(`^(\\d+)*(${pN}|${fN})*(.*)`);var Vx=()=>null;function bw(t,e){return Vx(t,e)}var us=class{},Up=new j("",{providedIn:"root",factory:()=>!1});var kD=new j(""),FD=new j(""),Kf=class{},qu=class{};function jx(t){let e=Error(`No component factory found for ${ht(t)}.`);return e[Ux]=t,e}var Ux="ngComponent";var Qf=class{resolveComponentFactory(e){throw jx(e)}},Kp=class Kp{};Kp.NULL=new Qf;var ls=Kp,ds=class{},fr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Bx();let t=e;return t})();function Bx(){let t=Te(),e=it(),n=dr(e.index,t);return(ar(n)?n:t)[nt]}var $x=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Yf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=YI(i,a);else if(s==2){let u=a,l=e[++o];r=YI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var zu=class extends ls{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Br(e);return new qo(n,this.ngModule)}};function Tw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:cr.None;e?n.push({propName:o,templateName:r,isSignal:(a&cr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Hx(t){let e=t.toLowerCase();return e==="svg"?fM:e==="math"?pM:null}var qo=class extends qu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Tw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Tw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=GR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=me(null);try{i=i||this.ngModule;let o=i instanceof xt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new xf(e,o):e,u=a.get(ds,null);if(u===null)throw new B(407,!1);let l=a.get($x,null),f=a.get(us,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?WN(m,r,this.componentDef.encapsulation,a):oD(m,v,Hx(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=Rp(S,a,!0));let F=ED(0,null,null,1,0,null,null,null,null,null,null),U=ol(null,F,null,M,null,null,p,m,a,null,R);Ip(U);let H,ce,Re=null;try{let J=this.componentDef,D,y=null;J.findHostDirectiveDefs?(D=[],y=new Map,J.findHostDirectiveDefs(J,D,y),D.push(J)):D=[J];let _=qx(U,S);Re=zx(_,S,J,D,U,p,m),ce=fE(F,Hr),S&&Kx(m,J,S,r),n!==void 0&&Qx(ce,this.ngContentSelectors,n),H=Wx(Re,J,D,y,U,[Yx]),Lp(F,U,null)}catch(J){throw Re!==null&&Bf(Re),Bf(U),J}finally{wp()}return new Zf(this.componentType,H,gs(ce,U),U,ce)}finally{me(s)}}},Zf=class extends Kf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Qr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Fp(s[ie],s,i,e,n),this.previousInputValues.set(e,n);let o=dr(this._tNode.index,s);Vp(o,1)}}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qx(t,e){let n=t[ie],r=Hr;return t[r]=e,Op(n,r,2,"#host",null)}function zx(t,e,n,r,i,s,o){let a=i[ie];Gx(r,t,e,o);let u=null;e!==null&&(u=Rp(e,i[os]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=ol(i,wD(n),null,f,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&zf(a,t,r.length-1),kp(i,p),i[t.index]=p}function Gx(t,e,n,r){for(let i of t)e.mergedAttrs=Uo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Yf(e,e.mergedAttrs,!0),n!==null&&gD(r,n,e))}function Wx(t,e,n,r,i,s){let o=it(),a=i[ie],u=Pt(o,i);DD(a,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,m=Kr(i,a,p,o);cs(m,i)}CD(a,i,o),u&&cs(u,i);let l=Kr(i,a,o.directiveStart+o.componentOffset,o);if(t[En]=i[En]=l,s!==null)for(let f of s)f(l,e);return ID(a,o,i),l}function Kx(t,e,n,r){if(r)Cf(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:s}=WR(e.selectors[0]);i&&Cf(t,n,i),s&&s.length>0&&pD(t,n,s.join(" "))}}function Qx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Yx(){let t=it();PE(Te()[ie],t)}var ys=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Zx;let t=e;return t})();function Zx(){let t=it();return VD(t,Te())}var Jx=ys,LD=class extends Jx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return gs(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ep(this._hostTNode,this._hostLView);if(kE(e)){let n=Lu(e,this._hostLView),r=Fu(e),i=n[ie].data[r+8];return new Ur(i,n)}else return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Sw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=bw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Cw(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!uM(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new qo(Br(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(xt,null);M&&(s=M)}let f=Br(u.componentType??{}),p=bw(this._lContainer,f?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,Cw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(yM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[tt],l=new LD(u,u[Ht],u[tt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ex(o,i,s,r),e.attachToViewContainerRef(),Hw(gf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Sw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Hf(this._lContainer,n);r&&(Mu(gf(this._lContainer),n),uD(r[ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=Hf(this._lContainer,n);return r&&Mu(gf(this._lContainer),n)!=null?new Qr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Sw(t){return t[Ou]}function gf(t){return t[Ou]||(t[Ou]=[])}function VD(t,e){let n,r=e[t.index];return Rn(r)?n=r:(n=yx(r,e,null,t),e[t.index]=n,kp(e,n)),eP(n,e,t,r),new LD(n,t,e)}function Xx(t,e){let n=t[nt],r=n.createComment(""),i=Pt(e,t),s=dD(n,i);return $u(n,s,r,PN(n,i),!1),r}var eP=tP;function tP(t,e,n,r){if(t[qr])return;let i;n.type&8?i=en(r):i=Xx(e,n),t[qr]=i}var Jf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Xf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Bp(e,n).matches!==null&&this.queries[n].setDirty()}},ep=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=uP(e):this.predicate=e}},tp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},np=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,nP(n,s)),this.matchTNodeWithReadOption(e,n,bu(n,e,s,!1,!1))}else r===Ho?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,bu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ot||i===ys||i===Ho&&n.type&4)this.addMatch(n.index,-2);else{let s=bu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function nP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function rP(t,e){return t.type&11?gs(t,e):t.type&4?jp(t,e):null}function iP(t,e,n,r){return n===-1?rP(e,t):n===-2?sP(t,e,r):Kr(t,t[ie],n,e)}function sP(t,e,n){if(n===Ot)return gs(e,t);if(n===Ho)return jp(e,t);if(n===ys)return VD(e,t)}function jD(t,e,n,r){let i=e[Dn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let f=s[l];a.push(iP(e,f,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function rp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=jD(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],f=e[-u];for(let p=wt;p<f.length;p++){let m=f[p];m[$r]===m[tt]&&rp(m[ie],m,l,r)}if(f[as]!==null){let p=f[as];for(let m=0;m<p.length;m++){let v=p[m];rp(v[ie],v,l,r)}}}}}return r}function oP(t,e){return t[Dn].queries[e].queryList}function aP(t,e,n){let r=new Uf((n&4)===4);return YN(t,e,r,r.destroy),(e[Dn]??=new Xf).queries.push(new Jf(r))-1}function cP(t,e,n,r){let i=Et();if(i.firstCreatePass){let s=it();lP(i,new ep(e,n,r),s.index),dP(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return aP(i,Te(),n)}function uP(t){return t.split(",").map(e=>e.trim())}function lP(t,e,n){t.queries===null&&(t.queries=new tp),t.queries.track(new np(e,n))}function dP(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Bp(t,e){return t.queries.getByIndex(e)}function hP(t,e){let n=t[ie],r=Bp(n,e);return r.crossesNgTemplate?rp(n,t,e,[]):jD(n,t,r,e)}var Aw=new Set;function Jo(t){Aw.has(t)||(Aw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fP(t){return typeof t=="function"&&t[_n]!==void 0}function Xo(t,e){Jo("NgSignals");let n=DI(t),r=n[_n];return e?.equal&&(r.equal=e.equal),n.set=i=>$h(r,i),n.update=i=>CI(r,i),n.asReadonly=pP.bind(n),n}function pP(){let t=this[_n];if(t.readonlyFn===void 0){let e=()=>this();e[_n]=t,t.readonlyFn=e}return t.readonlyFn}function UD(t){return fP(t)&&typeof t.set=="function"}function gP(t){return Object.getPrototypeOf(t.prototype).constructor}function Nn(t){let e=gP(t.type),n=!0,r=[t];for(;e;){let i;if(ur(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=_u(t.inputs),o.inputTransforms=_u(t.inputTransforms),o.declaredInputs=_u(t.declaredInputs),o.outputs=_u(t.outputs);let a=i.hostBindings;a&&IP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&vP(t,u),l&&_P(t,l),mP(t,i),dR(t.outputs,i.outputs),ur(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Nn&&(n=!1)}}e=Object.getPrototypeOf(e)}yP(r)}function mP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function yP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Uo(i.hostAttrs,n=Uo(n,i.hostAttrs))}}function _u(t){return t===rs?{}:t===Mt?[]:t}function vP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function _P(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function IP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function $p(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var lr=class{},zo=class{};var ip=class extends lr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zu(this);let s=Jw(e);this._bootstrapComponents=sD(s.bootstrap),this._r3Injector=qE(e,n,[{provide:lr,useValue:this},{provide:ls,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sp=class extends zo{constructor(e){super(),this.moduleType=e}create(e){return new ip(this.moduleType,e,[])}};var Gu=class extends lr{constructor(e){super(),this.componentFactoryResolver=new zu(this),this.instance=null;let n=new Bo([...e.providers,{provide:lr,useValue:this},{provide:ls,useValue:this.componentFactoryResolver}],e.parent||yp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Hp(t,e,n=null){return new Gu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function qp(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function wP(t){return(t.flags&32)===32}var Lo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Lo||{}),EP=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),jr=class jr{constructor(){this.ngZone=k(we),this.scheduler=k(us),this.errorHandler=k(Cn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of jr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};jr.PHASES=[Lo.EarlyRead,Lo.Write,Lo.MixedReadWrite,Lo.Read],jr.\u0275prov=z({token:jr,providedIn:"root",factory:()=>new jr});var Rw=jr;function ea(t,e,n,r){let i=Te(),s=EE();if(qp(i,s,e)){let o=Et(),a=RE();fx(a,i,t,e,n,r)}return ea}function Iu(t,e){return t<<17|e<<2}function Yr(t){return t>>17&32767}function DP(t){return(t&2)==2}function CP(t,e){return t&131071|e<<17}function op(t){return t|2}function hs(t){return(t&131068)>>2}function mf(t,e){return t&-131069|e<<2}function bP(t){return(t&1)===1}function ap(t){return t|1}function TP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Yr(o),u=hs(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Ko(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=Yr(t[a+1]);t[r+1]=Iu(m,a),m!==0&&(t[m+1]=mf(t[m+1],r)),t[a+1]=CP(t[a+1],r)}else t[r+1]=Iu(a,0),a!==0&&(t[a+1]=mf(t[a+1],r)),a=r;else t[r+1]=Iu(u,0),a===0?a=r:t[u+1]=mf(t[u+1],r),u=r;l&&(t[r+1]=op(t[r+1])),Mw(t,f,r,!0),Mw(t,f,r,!1),SP(e,f,t,r,s),o=Iu(a,u),s?e.classBindings=o:e.styleBindings=o}function SP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ko(s,e)>=0&&(n[r+1]=ap(n[r+1]))}function Mw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Yr(i):hs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];AP(u,e)&&(a=!0,t[o+1]=r?ap(l):op(l)),o=r?Yr(l):hs(l)}a&&(t[n+1]=r?op(i):ap(i))}function AP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ko(t,e)>=0:!1}function Nw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Fp(t,n,s[o],o,r)}function al(t,e){return RP(t,e,null,!0),al}function RP(t,e,n,r){let i=Te(),s=Et(),o=AM(2);if(s.firstUpdatePass&&NP(s,t,o,r),e!==sl&&qp(i,o,e)){let a=s.data[Yo()];FP(s,a,i,i[nt],t,i[o+1]=LP(e,n),r,o)}}function MP(t,e){return e>=t.expandoStartIndex}function NP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Yo()],o=MP(t,n);VP(s,r)&&e===null&&!o&&(e=!1),e=xP(i,s,e,r),TP(i,s,e,n,o,r)}}function xP(t,e,n,r){let i=xM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yf(null,t,e,n,r),n=Go(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=yf(i,t,e,n,r),s===null){let u=PP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=yf(null,t,e,u[1],r),u=Go(u,e.attrs,r),OP(t,e,r,u))}else s=kP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function PP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(hs(r)!==0)return t[Yr(r)]}function OP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yr(i)]=r}function kP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Go(r,o,n)}return Go(r,e.attrs,n)}function yf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Go(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Go(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),OR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function FP(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=bP(l)?xw(u,e,n,i,hs(l),o):void 0;if(!Wu(f)){Wu(s)||DP(l)&&(s=xw(u,null,n,i,a,o));let p=gM(Yo(),n);UN(r,o,p,i,s)}}function xw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===sl&&(m=p?Mt:void 0);let v=p?af(m,r):f===r?m:void 0;if(l&&!Wu(v)&&(v=af(u,r)),Wu(v)&&(a=v,o))return a;let S=t[i+1];i=o?Yr(S):hs(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=af(u,r))}return a}function Wu(t){return t!==void 0}function LP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ht(Zo(t)))),t}function VP(t,e){return(t.flags&(e?8:16))!==0}function jP(t,e,n,r,i,s){let o=e.consts,a=cw(o,i),u=Op(e,t,2,r,a);return nx(e,n,u,cw(o,s)),u.attrs!==null&&Yf(u,u.attrs,!1),u.mergedAttrs!==null&&Yf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function q(t,e,n,r){let i=Te(),s=Et(),o=Hr+t,a=i[nt],u=s.firstCreatePass?jP(o,s,i,e,n,r):s.data[o],l=UP(s,i,u,a,e,t);i[o]=l;let f=cE(u);return nl(u,!0),gD(a,l,u),!wP(u)&&NE()&&hD(s,i,l,u),_M()===0&&cs(l,i),IM(),f&&(qN(s,i,u),ID(s,u,i)),r!==null&&zN(i,u),q}function K(){let t=it();IE()?TM():(t=t.parent,nl(t,!1));let e=t;DM(e)&&CM(),wM();let n=Et();return n.firstCreatePass&&(PE(n,t),aE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&VM(e)&&Nw(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jM(e)&&Nw(n,e,Te(),e.stylesWithoutHost,!1),K}function Ke(t,e,n,r){return q(t,e,n,r),K(),Ke}var UP=(t,e,n,r,i,s)=>(xE(!0),oD(r,i,OM()));var Ku="en-US";var BP=Ku;function $P(t){typeof t=="string"&&(BP=t.toLowerCase().replace(/_/g,"-"))}var HP=(t,e,n)=>{};function nn(t,e,n,r){let i=Te(),s=Et(),o=it();return BD(s,i,i[nt],o,t,e,r),nn}function qP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Pu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function BD(t,e,n,r,i,s,o){let a=cE(r),l=t.firstCreatePass&&SD(t),f=e[En],p=TD(e),m=!0;if(r.type&3||o){let M=Pt(r,e),R=o?o(M):M,F=p.length,U=o?ce=>o(en(ce[r.index])):r.index,H=null;if(!o&&a&&(H=qP(t,e,i,r.index)),H!==null){let ce=H.__ngLastListenerFn__||H;ce.__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,m=!1}else{s=Ow(r,e,f,s),HP(M,i,s);let ce=n.listen(R,i,s);p.push(s,ce),l&&l.push(i,U,F,F+1)}}else s=Ow(r,e,f,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],U=S[R+1],Re=e[F][U].subscribe(s),J=p.length;p.push(s,Re),l&&l.push(i,r.index,J,-(J+1))}}}function Pw(t,e,n,r){let i=me(null);try{return Qt(6,e,n),n(r)!==!1}catch(s){return AD(t,s),!1}finally{Qt(7,e,n),me(i)}}function Ow(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?dr(t.index,e):e;Vp(o,5);let a=Pw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=Pw(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function $D(t,e,n,r){cP(t,e,n,r)}function HD(t){let e=Te(),n=Et(),r=DE();_p(r+1);let i=Bp(n,r);if(t.dirty&&mM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=hP(e,r);t.reset(s,oN),t.notifyOnChanges()}return!0}return!1}function qD(){return oP(Te(),DE())}function te(t,e=""){let n=Te(),r=Et(),i=t+Hr,s=r.firstCreatePass?Op(r,i,1,e,null):r.data[i],o=zP(r,n,s,e,t);n[i]=o,NE()&&hD(r,n,o,s),nl(s,!1)}var zP=(t,e,n,r,i)=>(xE(!0),CN(e[nt],r));function ei(t,e,n){UD(e)&&(e=e());let r=Te(),i=EE();if(qp(r,i,e)){let s=Et(),o=RE();ex(s,o,r,t,e,r[nt],n,!1)}return ei}function vs(t,e){let n=UD(t);return n&&t.set(e),n}function ti(t,e){let n=Te(),r=Et(),i=it();return BD(r,n,n[nt],i,t,e),ti}function GP(t,e,n){let r=Et();if(r.firstCreatePass){let i=ur(t);cp(n,r.data,r.blueprint,i,!0),cp(e,r.data,r.blueprint,i,!1)}}function cp(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)cp(t[s],e,n,r,i);else{let s=Et(),o=Te(),a=it(),u=ss(t)?t:lt(t.provide),l=iE(t),f=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ss(t)||!t.multi){let v=new Wr(l,i,se),S=_f(u,e,i?f:f+m,p);S===-1?(Of(Vu(a,o),s,u),vf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=_f(u,e,f+m,p),S=_f(u,e,f,f+m),M=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!M){Of(Vu(a,o),s,u);let F=QP(i?KP:WP,n.length,i,r,l);!i&&R&&(n[S].providerFactory=F),vf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=zD(n[i?S:v],l,!i&&r);vf(s,t,v>-1?v:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function vf(t,e,n,r){let i=ss(e),s=tM(e);if(i||s){let u=(s?lt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function zD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _f(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function WP(t,e,n,r){return up(this.multi,[])}function KP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Kr(n,n[ie],this.providerFactory.index,r);s=a.slice(0,o),up(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],up(i,s);return s}function up(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function QP(t,e,n,r,i){let s=new Wr(t,n,se);return s.multi=[],s.index=e,s.componentProviders=0,zD(s,i,r&&!n),s}function ta(t,e=[]){return n=>{n.providersResolver=(r,i)=>GP(r,i?i(t):t,e)}}var YP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=tE(!1,r.type),s=i.length>0?Hp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(ae(xt))});let t=e;return t})();function mt(t){Jo("NgStandalone"),t.getStandaloneInjector=e=>e.get(YP).getOrCreateStandaloneInjector(t)}var Tn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GD=new Tn("18.2.4");var cl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var WD=new j("");function ni(t){return!!t&&typeof t.then=="function"}function KD(t){return!!t&&typeof t.subscribe=="function"}var QD=new j(""),YD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(QD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ni(o))r.push(o);else if(KD(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zp=new j("");function ZP(){EI(()=>{throw new B(600,!1)})}function JP(t){return t.isBoundToModule}var XP=10;function eO(t,e,n){try{let r=n();return ni(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ri=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(iN),this.afterRenderManager=k(EP),this.zonelessEnabled=k(Up),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new He,this.afterTick=new He,this.componentTypes=[],this.components=[],this.isStable=k(ps).hasPendingTasks.pipe(re(r=>!r)),this._injector=k(xt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof qu;if(!this._injector.get(YD).done){let v=!s&&Zw(r),S=!1;throw new B(405,S)}let a;s?a=r:a=this._injector.get(ls).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=JP(a)?void 0:this._injector.get(lr),l=i||a.selector,f=a.create(ft.NULL,[],l,u),p=f.location.nativeElement,m=f.injector.get(WD,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Tu(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let r=me(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,me(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(ds,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<XP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)tO(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>el(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Tu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(zp,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Tu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tO(t,e,n,r){if(!n&&!el(t))return;ND(t,e,n&&!r?0:1)}var lp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gp=(()=>{let e=class e{compileModuleSync(r){return new sp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Jw(r),o=sD(s.declarations).reduce((a,u)=>{let l=Br(u);return l&&a.push(new qo(l)),a},[]);return new lp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nO=(()=>{let e=class e{constructor(){this.zone=k(we),this.changeDetectionScheduler=k(us),this.applicationRef=k(ri)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rO=new j("",{factory:()=>!1});function ZD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(ue(O({},XD()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:is,multi:!0,useFactory:()=>{let r=k(nO,{optional:!0});return()=>r.initialize()}},{provide:is,multi:!0,useFactory:()=>{let r=k(iO);return()=>{r.initialize()}}},e===!0?{provide:kD,useValue:!0}:[],{provide:FD,useValue:n??zE}]}function JD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ZD({ngZoneFactory:()=>{let i=XD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Jo("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return tn([{provide:rO,useValue:!0},{provide:Up,useValue:!1},r])}function XD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var iO=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(ps)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sO=(()=>{let e=class e{constructor(){this.appRef=k(ri),this.taskService=k(ps),this.ngZone=k(we),this.zonelessEnabled=k(Up),this.disableScheduling=k(kD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Uu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(FD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?gw:WE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Uu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oO(){return typeof $localize<"u"&&$localize.locale||Ku}var Wp=new j("",{providedIn:"root",factory:()=>k(Wp,oe.Optional|oe.SkipSelf)||oO()});var eC=new j("");function wu(t){return!!t.platformInjector}function aO(t){let e=wu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{wu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Cn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),wu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(eC);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Tu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return eO(r,n,()=>{let s=e.get(YD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Wp,Ku);if($P(o||Ku),wu(t)){let a=e.get(ri);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return cO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function cO(t,e){let n=t.injector.get(ri);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var Su=null;function uO(t=[],e){return ft.create({name:e,providers:[{provide:Zu,useValue:"platform"},{provide:eC,useValue:new Set([()=>Su=null])},...t]})}function lO(t=[]){if(Su)return Su;let e=uO(t);return Su=e,ZP(),dO(e),e}function dO(t){t.get(Sp,null)?.forEach(n=>n())}var pr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hO;let t=e;return t})();function hO(t){return fO(it(),Te(),(t&16)===16)}function fO(t,e,n){if(Xu(t)&&!n){let r=dr(t.index,e);return new Qr(r,r)}else if(t.type&175){let r=e[Xt];return new Qr(r,e)}return null}function tC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=lO(r),s=[ZD({}),{provide:us,useExisting:sO},...n||[]],o=new Gu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return aO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var nC=new j("");function gr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function na(t,e){Jo("NgSignals");let n=_I(t);return e?.equal&&(n[_n].equal=e.equal),n}function xn(t){let e=me(null);try{return t()}finally{me(e)}}var sC=null;function Pn(){return sC}function oC(t){sC??=t}var ul=class{};var Dt=new j(""),aC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(pO),providedIn:"platform"});let t=e;return t})();var pO=(()=>{let e=class e extends aC{constructor(){super(),this._doc=k(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(r){let i=Pn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Pn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function cC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function rC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ii(t){return t&&t[0]!=="?"?"?"+t:t}var _s=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(uC),providedIn:"root"});let t=e;return t})(),gO=new j(""),uC=(()=>{let e=class e extends _s{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return cC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ii(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ii(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ii(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ae(aC),ae(gO,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ra=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=vO(rC(iC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ii(i))}normalize(r){return e.stripTrailingSlash(yO(this._basePath,iC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ii(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ii(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ii,e.joinWithSlash=cC,e.stripTrailingSlash=rC,e.\u0275fac=function(i){return new(i||e)(ae(_s))},e.\u0275prov=z({token:e,factory:()=>mO(),providedIn:"root"});let t=e;return t})();function mO(){return new ra(ae(_s))}function yO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function iC(t){return t.replace(/\/index.html$/,"")}function vO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function lC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ia=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Jr({});let t=e;return t})(),dC="browser",_O="server";function Qp(t){return t===_O}var ll=class{};var Jp=class extends ul{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xp=class t extends Jp{static makeCurrent(){oC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=wO();return n==null?null:EO(n)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lC(document.cookie,e)}},sa=null;function wO(){return sa=sa||document.querySelector("base"),sa?sa.getAttribute("href"):null}function EO(t){return new URL(t,document.baseURI).pathname}var DO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),dl=new j(""),gC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ae(dl),ae(we))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e){this._doc=e}},Yp="ng-app-id",mC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Yp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Yp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Yp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ae(Dt),ae(Tp),ae(Ap,8),ae(hr))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Zp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tg=/%COMP%/g,yC="%COMP%",CO=`_nghost-${yC}`,bO=`_ngcontent-${yC}`,TO=!0,SO=new j("",{providedIn:"root",factory:()=>TO});function AO(t){return bO.replace(tg,t)}function RO(t){return CO.replace(tg,t)}function vC(t,e){return e.map(n=>n.replace(tg,t))}var hC=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Qp(u),this.defaultRenderer=new aa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zt.ShadowDom&&(i=ue(O({},i),{encapsulation:Zt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof hl?s.applyToHost(r):s instanceof ca&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Zt.Emulated:o=new hl(l,f,i,this.appId,p,a,u,m);break;case Zt.ShadowDom:return new eg(l,f,r,i,a,u,this.nonce,m);default:o=new ca(l,f,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ae(gC),ae(mC),ae(Tp),ae(SO),ae(Dt),ae(hr),ae(we),ae(Ap))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),aa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Zp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Zp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Zp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(bn.DashCase|bn.Important)?e.style.setProperty(n,r,i&bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Pn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var eg=class extends aa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=vC(i.id,i.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ca=class extends aa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?vC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},hl=class extends ca{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=AO(l),this.hostAttr=RO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},MO=(()=>{let e=class e extends oa{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ae(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),NO=(()=>{let e=class e extends oa{constructor(r){super(r),this.delegate=k(nC,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(ae(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),pC=["alt","control","meta","shift"],xO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},OO=(()=>{let e=class e extends oa{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),pC.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),a+=f+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=xO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),pC.forEach(a=>{if(a!==s){let u=PO[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ae(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function _C(t,e){return tC(O({rootComponent:t},kO(e)))}function kO(t){return{appProviders:[...UO,...t?.providers??[]],platformProviders:jO}}function FO(){Xp.makeCurrent()}function LO(){return new Cn}function VO(){return eD(document),document}var jO=[{provide:hr,useValue:dC},{provide:Sp,useValue:FO,multi:!0},{provide:Dt,useFactory:VO,deps:[]}];var UO=[{provide:Zu,useValue:"root"},{provide:Cn,useFactory:LO,deps:[]},{provide:dl,useClass:MO,multi:!0,deps:[Dt,we,hr]},{provide:dl,useClass:OO,multi:!0,deps:[Dt]},{provide:dl,useClass:NO,multi:!0},hC,mC,gC,{provide:ds,useExisting:hC},{provide:ll,useClass:DO,deps:[]},[]];var IC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ae(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ne="primary",Ca=Symbol("RouteTitle"),og=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function bs(t){return new og(t)}function $O(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function HO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rn(t[n],e[n]))return!1;return!0}function rn(t,e){let n=t?ag(t):void 0,r=e?ag(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!AC(t[i],e[i]))return!1;return!0}function ag(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function AC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function RC(t){return t.length>0?t[t.length-1]:null}function mr(t){return tf(t)?t:ni(t)?Ae(Promise.resolve(t)):Y(t)}var qO={exact:NC,subset:xC},MC={exact:zO,subset:GO,ignored:()=>!0};function wC(t,e,n){return qO[n.paths](t.root,e.root,n.matrixParams)&&MC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function zO(t,e){return rn(t,e)}function NC(t,e,n){if(!oi(t.segments,e.segments)||!gl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!NC(t.children[r],e.children[r],n))return!1;return!0}function GO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AC(t[n],e[n]))}function xC(t,e,n){return PC(t,e,e.segments,n)}function PC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!oi(i,n)||e.hasChildren()||!gl(i,n,r))}else if(t.segments.length===n.length){if(!oi(t.segments,n)||!gl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!xC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!oi(t.segments,i)||!gl(t.segments,i,r)||!t.children[ne]?!1:PC(t.children[ne],e,s,r)}}function gl(t,e,n){return e.every((r,i)=>MC[n](t[i].parameters,r.parameters))}var kn=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=bs(this.queryParams),this._queryParamMap}toString(){return QO.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ml(this)}},si=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=bs(this.parameters),this._parameterMap}toString(){return kC(this)}};function WO(t,e){return oi(t,e)&&t.every((n,r)=>rn(n.parameters,e[r].parameters))}function oi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function KO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var Pg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new ga,providedIn:"root"});let t=e;return t})(),ga=class{parse(e){let n=new ug(e);return new kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ua(e.root,!0)}`,r=JO(e.queryParams),i=typeof e.fragment=="string"?`#${YO(e.fragment)}`:"";return`${n}${r}${i}`}},QO=new ga;function ml(t){return t.segments.map(e=>kC(e)).join("/")}function ua(t,e){if(!t.hasChildren())return ml(t);if(e){let n=t.children[ne]?ua(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${ua(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=KO(t,(r,i)=>i===ne?[ua(t.children[ne],!1)]:[`${i}:${ua(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${ml(t)}/${n[0]}`:`${ml(t)}/(${n.join("//")})`}}function OC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fl(t){return OC(t).replace(/%3B/gi,";")}function YO(t){return encodeURI(t)}function cg(t){return OC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yl(t){return decodeURIComponent(t)}function EC(t){return yl(t.replace(/\+/g,"%20"))}function kC(t){return`${cg(t.path)}${ZO(t.parameters)}`}function ZO(t){return Object.entries(t).map(([e,n])=>`;${cg(e)}=${cg(n)}`).join("")}function JO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${fl(n)}=${fl(i)}`).join("&"):`${fl(n)}=${fl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var XO=/^[^\/()?;#]+/;function ng(t){let e=t.match(XO);return e?e[0]:""}var ek=/^[^\/()?;=#]+/;function tk(t){let e=t.match(ek);return e?e[0]:""}var nk=/^[^=?&#]+/;function rk(t){let e=t.match(nk);return e?e[0]:""}var ik=/^[^&#]+/;function sk(t){let e=t.match(ik);return e?e[0]:""}var ug=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new Ie(e,n)),r}parseSegment(){let e=ng(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new si(yl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=tk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ng(this.remaining);i&&(r=i,this.capture(r))}e[yl(n)]=yl(r)}parseQueryParam(e){let n=rk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=sk(this.remaining);o&&(r=o,this.capture(r))}let i=EC(n),s=EC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ng(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ne]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function FC(t){return t.segments.length>0?new Ie([],{[ne]:t}):t}function LC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=LC(i);if(r===ne&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return ok(n)}function ok(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new Ie(t.segments.concat(e.segments),e.children)}return t}function ai(t){return t instanceof kn}function ak(t,e,n=null,r=null){let i=VC(t);return jC(i,e,n,r)}function VC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=FC(r);return e??i}function jC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rg(i,i,i,n,r);let s=ck(e);if(s.toRoot())return rg(i,i,new Ie([],{}),n,r);let o=uk(s,i,t),a=o.processChildren?ha(o.segmentGroup,o.index,s.commands):BC(o.segmentGroup,o.index,s.commands);return rg(i,o.segmentGroup,a,n,r)}function vl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ma(t){return typeof t=="object"&&t!=null&&t.outlets}function rg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=UC(t,e,n);let a=FC(LC(o));return new kn(a,s,i)}function UC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=UC(s,e,n)}),new Ie(t.segments,r)}var _l=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&vl(r[0]))throw new B(4003,!1);let i=r.find(ma);if(i&&i!==RC(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ck(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new _l(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new _l(n,e,r)}var Es=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function uk(t,e,n){if(t.isAbsolute)return new Es(e,!0,0);if(!n)return new Es(e,!1,NaN);if(n.parent===null)return new Es(n,!0,0);let r=vl(t.commands[0])?0:1,i=n.segments.length-1+r;return lk(n,i,t.numberOfDoubleDots)}function lk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Es(r,!1,i-s)}function dk(t){return ma(t[0])?t[0].outlets:{[ne]:t}}function BC(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return ha(t,e,n);let r=hk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new Ie(t.segments.slice(r.pathIndex),t.children),ha(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?lg(t,e,n):r.match?ha(t,0,i):lg(t,e,n)}function ha(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=dk(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let s=ha(t.children[ne],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=BC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function hk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ma(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!CC(u,l,o))return s;r+=2}else{if(!CC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ma(s)){let u=fk(s.outlets);return new Ie(r,u)}if(i===0&&vl(n[0])){let u=t.segments[e];r.push(new si(u.path,DC(n[0]))),i++;continue}let o=ma(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&vl(a)?(r.push(new si(o,DC(a))),i+=2):(r.push(new si(o,{})),i++)}return new Ie(r,{})}function fk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lg(new Ie([],{}),0,r))}),e}function DC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function CC(t,e,n){return t==n.path&&rn(e,n.parameters)}var fa="imperative",Qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qe||{}),kt=class{constructor(e,n){this.id=e,this.url=n}},ya=class extends kt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fn=class extends kt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(bt||{}),dg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dg||{}),On=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ci=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationSkipped}},va=class extends kt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Il=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class extends kt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pg=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yg=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vg=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_g=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ig=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _a=class{},Ts=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function pk(t,e){return t.providers&&!t._injector&&(t._injector=Hp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zt(t){return t.outlet||ne}function gk(t,e){let n=t.filter(r=>zt(r)===e);return n.push(...t.filter(r=>zt(r)!==e)),n}function ba(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Eg=class{get injector(){return ba(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Al(this.rootInjector),this.attachRef=null}},Al=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Eg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ae(xt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Dg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Dg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Cg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cg(e,this._root).map(n=>n.value)}};function Dg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Dg(t,n);if(r)return r}return null}function Cg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Cg(t,n);if(r.length)return r.unshift(e),r}return[]}var Ct=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ws(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var El=class extends wl{constructor(e,n){super(e),this.snapshot=n,Og(this,e)}toString(){return this.snapshot.toString()}};function $C(t){let e=mk(t),n=new We([new si("",{})]),r=new We({}),i=new We({}),s=new We({}),o=new We(""),a=new ui(n,r,s,o,i,ne,t,e.root);return a.snapshot=e.root,new El(new Ct(a,[]),e)}function mk(t){let e={},n={},r={},i="",s=new Ds([],e,r,i,n,ne,t,null,{});return new Cl("",new Ct(s,[]))}var ui=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[Ca]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>bs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>bs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&qC(i)&&(r.resolve[Ca]=i.title),r}var Ds=class{get title(){return this.data?.[Ca]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Cl=class extends wl{constructor(e,n){super(n),this.url=e,Og(this,n)}toString(){return HC(this._root)}};function Og(t,e){e.value._routerState=t,e.children.forEach(n=>Og(t,n))}function HC(t){let e=t.children.length>0?` { ${t.children.map(HC).join(", ")} } `:"";return`${t.value}${e}`}function ig(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rn(e.params,n.params)||t.paramsSubject.next(n.params),HO(e.url,n.url)||t.urlSubject.next(n.url),rn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bg(t,e){let n=rn(t.params,e.params)&&WO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||bg(t.parent,e.parent))}function qC(t){return typeof t.title=="string"||t.title===null}var Ta=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=k(Al),this.location=k(ys),this.changeDetector=k(pr),this.inputBinder=k(kg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Tg(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]});let t=e;return t})(),Tg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ui?this.route:e===Al?this.childContexts:this.parent.get(e,n)}},kg=new j("");function yk(t,e,n){let r=Ia(t,e._root,n?n._root:void 0);return new El(r,e)}function Ia(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=vk(t,e,n);return new Ct(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ia(t,a)),o}}let r=_k(e.value),i=e.children.map(s=>Ia(t,s));return new Ct(r,i)}}function vk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ia(t,r,i);return Ia(t,r)})}function _k(t){return new ui(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var wa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},zC="ngNavigationCancelingError";function bl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ai(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GC(!1,bt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function GC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[zC]=!0,n.cancellationCode=e,n}function Ik(t){return WC(t)&&ai(t.url)}function WC(t){return!!t&&t[zC]}var wk=(t,e,n,r)=>re(i=>(new Sg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Sg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ig(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ws(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ws(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ws(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ws(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new wg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _g(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(ig(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ig(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Tl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cs=class{constructor(e,n){this.component=e,this.route=n}};function Ek(t,e,n){let r=t._root,i=e?e._root:null;return la(r,i,n,[r.value])}function Dk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function As(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Lw(t)?t:e.get(t):r}function la(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ws(e);return t.children.forEach(o=>{Ck(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>pa(a,n.getContext(o),i)),i}function Ck(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=bk(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Tl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?la(t,e,a?a.children:null,r,i):la(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cs(a.outlet.component,o))}else o&&pa(e,a,i),i.canActivateChecks.push(new Tl(r)),s.component?la(t,null,a?a.children:null,r,i):la(t,null,n,r,i);return i}function bk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!oi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!oi(t.url,e.url)||!rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bg(t,e)||!rn(t.queryParams,e.queryParams);case"paramsChange":default:return!bg(t,e)}}function pa(t,e,n){let r=ws(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?pa(o,e.children.getContext(s),n):pa(o,null,n):pa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Cs(e.outlet.component,i)):n.canDeactivateChecks.push(new Cs(null,i)):n.canDeactivateChecks.push(new Cs(null,i))}function Sa(t){return typeof t=="function"}function Tk(t){return typeof t=="boolean"}function Sk(t){return t&&Sa(t.canLoad)}function Ak(t){return t&&Sa(t.canActivate)}function Rk(t){return t&&Sa(t.canActivateChild)}function Mk(t){return t&&Sa(t.canDeactivate)}function Nk(t){return t&&Sa(t.canMatch)}function KC(t){return t instanceof In||t?.name==="EmptyError"}var pl=Symbol("INITIAL_VALUE");function Ss(){return Ut(t=>hu(t.map(e=>e.pipe(wn(1),mu(pl)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===pl)return pl;if(n===!1||xk(n))return n}return!0}),At(e=>e!==pl),wn(1)))}function xk(t){return ai(t)||t instanceof wa}function Pk(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Y(ue(O({},n),{guardsResult:!0})):Ok(o,r,i,t).pipe(je(a=>a&&Tk(a)?kk(r,s,t,e):Y(a)),re(a=>ue(O({},n),{guardsResult:a})))})}function Ok(t,e,n,r){return Ae(t).pipe(je(i=>Uk(i.component,i.route,n,e,r)),Kt(i=>i!==!0,!0))}function kk(t,e,n,r){return Ae(e).pipe(Qi(i=>Ki(Lk(i.route.parent,r),Fk(i.route,r),jk(t,i.path,n),Vk(t,i.route,n))),Kt(i=>i!==!0,!0))}function Fk(t,e){return t!==null&&e&&e(new Ig(t)),Y(!0)}function Lk(t,e){return t!==null&&e&&e(new vg(t)),Y(!0)}function Vk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(s=>fu(()=>{let o=ba(e)??n,a=As(s,o),u=Ak(a)?a.canActivate(e,t):Sn(o,()=>a(e,t));return mr(u).pipe(Kt())}));return Y(i).pipe(Ss())}function jk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Dk(o)).filter(o=>o!==null).map(o=>fu(()=>{let a=o.guards.map(u=>{let l=ba(o.node)??n,f=As(u,l),p=Rk(f)?f.canActivateChild(r,t):Sn(l,()=>f(r,t));return mr(p).pipe(Kt())});return Y(a).pipe(Ss())}));return Y(s).pipe(Ss())}function Uk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let o=s.map(a=>{let u=ba(e)??i,l=As(a,u),f=Mk(l)?l.canDeactivate(t,e,n,r):Sn(u,()=>l(t,e,n,r));return mr(f).pipe(Kt())});return Y(o).pipe(Ss())}function Bk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let s=i.map(o=>{let a=As(o,t),u=Sk(a)?a.canLoad(e,n):Sn(t,()=>a(e,n));return mr(u)});return Y(s).pipe(Ss(),QC(r))}function QC(t){return Wc(Ue(e=>{if(typeof e!="boolean")throw bl(t,e)}),re(e=>e===!0))}function $k(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let s=i.map(o=>{let a=As(o,t),u=Nk(a)?a.canMatch(e,n):Sn(t,()=>a(e,n));return mr(u)});return Y(s).pipe(Ss(),QC(r))}var Ea=class{constructor(e){this.segmentGroup=e||null}},Da=class extends Error{constructor(e){super(),this.urlTree=e}};function Is(t){return Gi(new Ea(t))}function Hk(t){return Gi(new B(4e3,!1))}function qk(t){return Gi(GC(!1,bt.GuardRejected))}var Ag=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[ne])return Hk(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,params:v,data:S,title:M}=i,R=Sn(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,title:M}));if(R instanceof kn)throw new Da(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Da(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new kn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zk(t,e,n,r,i){let s=YC(t,e,n);return s.matched?(r=pk(e,r),$k(r,e,n,i).pipe(re(o=>o===!0?s:O({},Rg)))):Y(s)}function YC(t,e,n){if(e.path==="**")return Gk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Rg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$O)(n,t,e);if(!i)return O({},Rg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Gk(t){return{matched:!0,parameters:t.length>0?RC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function bC(t,e,n,r){return n.length>0&&Qk(t,n,r)?{segmentGroup:new Ie(e,Kk(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&Yk(t,n,r)?{segmentGroup:new Ie(t.segments,Wk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function Wk(t,e,n,r){let i={};for(let s of n)if(Rl(t,e,s)&&!r[zt(s)]){let o=new Ie([],{});i[zt(s)]=o}return O(O({},r),i)}function Kk(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&zt(r)!==ne){let i=new Ie([],{});n[zt(r)]=i}return n}function Qk(t,e,n){return n.some(r=>Rl(t,e,r)&&zt(r)!==ne)}function Yk(t,e,n){return n.some(r=>Rl(t,e,r))}function Rl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Zk(t,e,n){return e.length===0&&!t.children[n]}var Mg=class{};function Jk(t,e,n,r,i,s,o="emptyOnly"){return new Ng(t,e,n,r,i,o,s).recognize()}var Xk=31,Ng=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ag(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=bC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new Ct(r,n),s=new Cl("",i),o=ak(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ds([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(re(r=>({children:r,rootSnapshot:n})),rr(r=>{if(r instanceof Da)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ea?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(re(o=>o instanceof Ct?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(Qi(o=>{let a=r.children[o],u=gk(n,o);return this.processSegmentGroup(e,u,a,o,i)}),gu((o,a)=>(o.push(...a),o)),ir(null),sf(),je(o=>{if(o===null)return Is(r);let a=ZC(o);return e1(a),Y(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(Qi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(rr(l=>{if(l instanceof Ea)return Y(null);throw l}))),Kt(u=>!!u),rr(u=>{if(KC(u))return Zk(r,i,s)?Y(new Mg):Is(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return zt(r)!==o&&(o===ne||!Rl(i,s,r))?Is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Is(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=YC(n,i,s);if(!u)return Is(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Xk&&(this.allowRedirects=!1));let v=new Ds(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,TC(i),zt(i),i.component??i._loadedComponent??null,i,SC(i)),S=Dl(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(je(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=zk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ut(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new Ds(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,TC(r),zt(r),r.component??r._loadedComponent??null,r,SC(r)),M=Dl(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=bC(n,m,v,l);if(F.length===0&&R.hasChildren())return this.processChildren(f,l,R,S).pipe(re(H=>new Ct(S,H)));if(l.length===0&&F.length===0)return Y(new Ct(S,[]));let U=zt(r)===s;return this.processSegment(f,l,R,F,U?ne:s,!0,S).pipe(re(H=>new Ct(S,H instanceof Ct?[H]:[])))}))):Is(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):Bk(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):qk(n))):Y({routes:[],injector:e})}};function e1(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function t1(t){let e=t.value.routeConfig;return e&&e.path===""}function ZC(t){let e=[],n=new Set;for(let r of t){if(!t1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ZC(r.children);e.push(new Ct(r.value,i))}return e.filter(r=>!n.has(r))}function TC(t){return t.data||{}}function SC(t){return t.resolve||{}}function n1(t,e,n,r,i,s){return je(o=>Jk(t,e,n,r,o.extractedUrl,i,s).pipe(re(({state:a,tree:u})=>ue(O({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function r1(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of JC(u))o.add(l);let a=0;return Ae(o).pipe(Qi(u=>s.has(u)?i1(u,r,t,e):(u.data=Dl(u,u.parent,t).resolve,Y(void 0))),Ue(()=>a++),Yi(1),je(u=>a===o.size?Y(n):It))})}function JC(t){let e=t.children.map(n=>JC(n)).flat();return[t,...e]}function i1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!qC(i)&&(s[Ca]=i.title),s1(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=Dl(t,t.parent,n).resolve,null)))}function s1(t,e,n,r){let i=ag(t);if(i.length===0)return Y({});let s={};return Ae(i).pipe(je(o=>o1(t[o],e,n,r).pipe(Kt(),Ue(a=>{if(a instanceof wa)throw bl(new ga,a);s[o]=a}))),Yi(1),rf(s),rr(o=>KC(o)?It:Gi(o)))}function o1(t,e,n,r){let i=ba(e)??r,s=As(t,i),o=s.resolve?s.resolve(e,n):Sn(i,()=>s(e,n));return mr(o)}function sg(t){return Ut(e=>{let n=t(e);return n?Ae(n).pipe(re(()=>e)):Y(e)})}var XC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ne);return i}getResolvedTitleForRoute(r){return r.data[Ca]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(a1),providedIn:"root"});let t=e;return t})(),a1=(()=>{let e=class e extends XC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ae(IC))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fg=new j("",{providedIn:"root",factory:()=>({})}),c1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],standalone:!0,features:[mt],decls:1,vars:0,template:function(i,s){i&1&&Ke(0,"router-outlet")},dependencies:[Ta],encapsulation:2});let t=e;return t})();function Lg(t){let e=t.children&&t.children.map(Lg),n=e?ue(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=c1),n}var Vg=new j(""),u1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Gp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=mr(r.loadComponent()).pipe(re(eb),Ue(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ko(()=>{this.componentLoaders.delete(r)})),s=new $i(i,()=>new He).pipe(Bi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=l1(i,this.compiler,r,this.onLoadEndListener).pipe(ko(()=>{this.childrenLoaders.delete(i)})),a=new $i(o,()=>new He).pipe(Bi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function l1(t,e,n,r){return mr(t.loadChildren()).pipe(re(eb),je(i=>i instanceof zo||Array.isArray(i)?Y(i):Ae(e.compileModuleAsync(i))),re(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Vg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Lg),injector:s}}))}function d1(t){return t&&typeof t=="object"&&"default"in t}function eb(t){return d1(t)?t.default:t}var jg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(h1),providedIn:"root"});let t=e;return t})(),h1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f1=new j("");var p1=new j(""),g1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=k(u1),this.environmentInjector=k(xt),this.urlSerializer=k(Pg),this.rootContexts=k(Al),this.location=k(ra),this.inputBindingEnabled=k(kg,{optional:!0})!==null,this.titleStrategy=k(XC),this.options=k(Fg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(jg),this.createViewTransition=k(f1,{optional:!0}),this.navigationErrorHandler=k(p1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let r=s=>this.events.next(new mg(s)),i=s=>this.events.next(new yg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new We({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),re(o=>ue(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ut(o=>{let a=!1,u=!1;return Y(o).pipe(Ut(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",bt.SupersededByNewNavigation),It;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let m="";return this.events.next(new ci(l.id,this.urlSerializer.serialize(l.rawUrl),m,dg.IgnoredSameUrlNavigation)),l.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y(l).pipe(Ut(m=>{let v=this.transitions?.getValue();return this.events.next(new ya(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?It:Promise.resolve(m)}),n1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ue(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Il(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:M,extras:R}=l,F=new ya(m,this.urlSerializer.serialize(v),S,M);this.events.next(F);let U=$C(this.rootComponentType).snapshot;return this.currentTransition=o=ue(O({},l),{targetSnapshot:U,urlAfterRedirects:v,extras:ue(O({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Y(o)}else{let m="";return this.events.next(new ci(l.id,this.urlSerializer.serialize(l.extractedUrl),m,dg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),It}}),Ue(l=>{let f=new hg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),re(l=>(this.currentTransition=o=ue(O({},l),{guards:Ek(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Pk(this.environmentInjector,l=>this.events.next(l)),Ue(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw bl(this.urlSerializer,l.guardsResult);let f=new fg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),At(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",bt.GuardRejected),!1)),sg(l=>{if(l.guards.canActivateChecks.length)return Y(l).pipe(Ue(f=>{let p=new pg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Ut(f=>{let p=!1;return Y(f).pipe(r1(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",bt.NoDataFromResolver)}}))}),Ue(f=>{let p=new gg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),sg(l=>{let f=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ue(v=>{p.component=v}),re(()=>{})));for(let v of p.children)m.push(...f(v));return m};return hu(f(l.targetSnapshot.root)).pipe(ir(null),wn(1))}),sg(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Ae(p).pipe(re(()=>o)):Y(o)}),re(l=>{let f=yk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ue(O({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Ue(()=>{this.events.next(new _a)}),wk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),wn(1),Ue({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),of(this.transitionAbortSubject.pipe(Ue(l=>{throw l}))),ko(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",bt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),rr(l=>{if(u=!0,WC(l))this.events.next(new On(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Ik(l)?this.events.next(new Ts(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new va(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=Sn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(p instanceof wa){let{message:m,cancellationCode:v}=bl(this.urlSerializer,p);this.events.next(new On(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new Ts(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(f);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return It}))}))}cancelNavigationTransition(r,i,s){let o=new On(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function m1(t){return t!==fa}var y1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(v1),providedIn:"root"});let t=e;return t})(),xg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},v1=(()=>{let e=class e extends xg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fs(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(_1),providedIn:"root"});let t=e;return t})(),_1=(()=>{let e=class e extends tb{constructor(){super(...arguments),this.location=k(ra),this.urlSerializer=k(Pg),this.options=k(Fg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(jg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$C(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ya)this.stateMemento=this.createStateMemento();else if(r instanceof ci)this.rawUrlTree=i.initialUrl;else if(r instanceof Il){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof _a?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof On&&(r.code===bt.GuardRejected||r.code===bt.NoDataFromResolver)?this.restoreHistory(i):r instanceof va?this.restoreHistory(i,!0):r instanceof Fn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof kn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fs(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),da=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(da||{});function I1(t,e){t.events.pipe(At(n=>n instanceof Fn||n instanceof On||n instanceof va||n instanceof ci),re(n=>n instanceof Fn||n instanceof ci?da.COMPLETE:(n instanceof On?n.code===bt.Redirect||n.code===bt.SupersededByNewNavigation:!1)?da.REDIRECTING:da.FAILED),At(n=>n!==da.REDIRECTING),wn(1)).subscribe(()=>{e()})}function w1(t){throw t}var E1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},D1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(cl),this.stateManager=k(tb),this.options=k(Fg,{optional:!0})||{},this.pendingTasks=k(ps),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(g1),this.urlSerializer=k(Pg),this.location=k(ra),this.urlHandlingStrategy=k(jg),this._events=new He,this.errorHandler=this.options.errorHandler||w1,this.navigated=!1,this.routeReuseStrategy=k(y1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Vg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(kg,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof On&&i.code!==bt.Redirect&&i.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Fn)this.navigated=!0;else if(i instanceof Ts){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||m1(s.source)},a);this.scheduleNavigation(u,fa,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}b1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Lg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=VC(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return jC(m,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ai(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,fa,null,i)}navigate(r,i={skipLocationChange:!1}){return C1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},E1):i===!1?s=O({},D1):s=i,ai(r))return wC(this.currentUrlTree,r,s);let o=this.parseUrl(r);return wC(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,f;a?(u=a.resolve,l=a.reject,f=a.promise):f=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return I1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function C1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function b1(t){return!(t instanceof _a)&&!(t instanceof Ts)}var Sl=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new He,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof Fn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ai(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:rD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:ai(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(se(sn),se(ui),Dp("tabindex"),se(fr),se(Ot),se(_s))},e.\u0275dir=rt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&nn("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ea("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gr],replaceUrl:[2,"replaceUrl","replaceUrl",gr],routerLink:"routerLink"},standalone:!0,features:[$p,Mn]});let t=e;return t})(),nb=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Fn&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(Wi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ae(r).pipe(Wi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=T1(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(se(sn),se(Ot),se(fr),se(pr),se(Sl,8))},e.\u0275dir=rt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&$D(o,Sl,5),i&2){let a;HD(a=qD())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Mn]});let t=e;return t})();function T1(t){return!!t.paths}var S1=new j("");function rb(t,...e){return tn([{provide:Vg,multi:!0,useValue:t},[],{provide:ui,useFactory:A1,deps:[sn]},{provide:zp,multi:!0,useFactory:R1},e.map(n=>n.\u0275providers)])}function A1(t){return t.routerState.root}function R1(){let t=k(ft);return e=>{let n=t.get(ri);if(e!==n.components[0])return;let r=t.get(sn),i=t.get(M1);t.get(N1)===1&&r.initialNavigation(),t.get(x1,null,oe.Optional)?.setUpPreloading(),t.get(S1,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var M1=new j("",{factory:()=>new He}),N1=new j("",{providedIn:"root",factory:()=>1});var x1=new j("");var hb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(se(fr),se(Ot))},e.\u0275dir=rt({type:e});let t=e;return t})(),P1=(()=>{let e=class e extends hb{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fs(e)))(s||e)}})(),e.\u0275dir=rt({type:e,features:[Nn]});let t=e;return t})(),fb=new j("");var O1={provide:fb,useExisting:Zr(()=>Ps),multi:!0};function k1(){let t=Pn()?Pn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var F1=new j(""),Ps=(()=>{let e=class e extends hb{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!k1())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(se(fr),se(Ot),se(F1,8))},e.\u0275dir=rt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&nn("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ta([O1]),Nn]});let t=e;return t})();function L1(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var $g=new j(""),pb=new j("");function V1(t){return L1(t.value)?{required:!0}:null}function ib(t){return null}function gb(t){return t!=null}function mb(t){return ni(t)?Ae(t):t}function yb(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function vb(t,e){return e.map(n=>n(t))}function j1(t){return!t.validate}function _b(t){return t.map(e=>j1(e)?e:n=>e.validate(n))}function U1(t){if(!t)return null;let e=t.filter(gb);return e.length==0?null:function(n){return yb(vb(n,e))}}function Hg(t){return t!=null?U1(_b(t)):null}function B1(t){if(!t)return null;let e=t.filter(gb);return e.length==0?null:function(n){let r=vb(n,e).map(mb);return nf(r).pipe(re(yb))}}function qg(t){return t!=null?B1(_b(t)):null}function sb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $1(t){return t._rawValidators}function H1(t){return t._rawAsyncValidators}function Bg(t){return t?Array.isArray(t)?t:[t]:[]}function Nl(t,e){return Array.isArray(t)?t.includes(e):t===e}function ob(t,e){let n=Bg(e);return Bg(t).forEach(i=>{Nl(n,i)||n.push(i)}),n}function ab(t,e){return Bg(e).filter(n=>!Nl(t,n))}var xl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ns=class extends xl{get formDirective(){return null}get path(){return null}},Pa=class extends xl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},q1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},v9=ue(O({},q1),{"[class.ng-submitted]":"isSubmitted"}),Ll=(()=>{let e=class e extends Pl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(se(Pa,2))},e.\u0275dir=rt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&al("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Nn]});let t=e;return t})(),Vl=(()=>{let e=class e extends Pl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(se(Ns,10))},e.\u0275dir=rt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&al("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Nn]});let t=e;return t})();var Aa="VALID",Ml="INVALID",Rs="PENDING",Ra="DISABLED",xs=class{},Ol=class extends xs{constructor(e,n){super(),this.value=e,this.source=n}},Na=class extends xs{constructor(e,n){super(),this.pristine=e,this.source=n}},xa=class extends xs{constructor(e,n){super(),this.touched=e,this.source=n}},Ms=class extends xs{constructor(e,n){super(),this.status=e,this.source=n}};function Ib(t){return(jl(t)?t.validators:t)||null}function z1(t){return Array.isArray(t)?Hg(t):t||null}function wb(t,e){return(jl(e)?e.asyncValidators:t)||null}function G1(t){return Array.isArray(t)?qg(t):t||null}function jl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function W1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function K1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var kl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=na(()=>this.statusReactive()),this.statusReactive=Xo(void 0),this._pristine=na(()=>this.pristineReactive()),this.pristineReactive=Xo(!0),this._touched=na(()=>this.touchedReactive()),this.touchedReactive=Xo(!1),this._events=new He,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(e){xn(()=>this.statusReactive.set(e))}get valid(){return this.status===Aa}get invalid(){return this.status===Ml}get pending(){return this.status==Rs}get disabled(){return this.status===Ra}get enabled(){return this.status!==Ra}get pristine(){return xn(this.pristineReactive)}set pristine(e){xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(e){xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ob(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ob(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ab(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ab(e,this._rawAsyncValidators))}hasValidator(e){return Nl(this._rawValidators,e)}hasAsyncValidator(e){return Nl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new xa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new xa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Na(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Na(!0,r))}markAsPending(e={}){this.status=Rs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ms(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ra,this.errors=null,this._forEachChild(i=>{i.disable(ue(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ol(this.value,r)),this._events.next(new Ms(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Aa,this._forEachChild(r=>{r.enable(ue(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Aa||this.status===Rs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ol(this.value,n)),this._events.next(new Ms(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ra:Aa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Rs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=mb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ms(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Ra:this.errors?Ml:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rs)?Rs:this._anyControlsHaveStatus(Ml)?Ml:Aa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Na(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new xa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=z1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=G1(this._rawAsyncValidators)}},Fl=class extends kl{constructor(e,n,r){super(Ib(n),wb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){K1(this,!0,e),Object.keys(e).forEach(r=>{W1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zg=new j("CallSetDisabledState",{providedIn:"root",factory:()=>Gg}),Gg="always";function Q1(t,e){return[...e.path,t]}function Eb(t,e,n=Gg){Db(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Z1(t,e),X1(t,e),J1(t,e),Y1(t,e)}function cb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Y1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Db(t,e){let n=$1(t);e.validator!==null?t.setValidators(sb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=H1(t);e.asyncValidator!==null?t.setAsyncValidators(sb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();cb(e._rawValidators,i),cb(e._rawAsyncValidators,i)}function Z1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Cb(t,e)})}function J1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Cb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Cb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function X1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function eF(t,e){t==null,Db(t,e)}function tF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function nF(t){return Object.getPrototypeOf(t.constructor)===P1}function rF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function iF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Ps?n=s:nF(s)?r=s:i=s}),i||r||n||null}var sF={provide:Ns,useExisting:Zr(()=>Oa)},Ma=Promise.resolve(),Oa=(()=>{let e=class e extends Ns{get submitted(){return xn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=na(()=>this.submittedReactive()),this.submittedReactive=Xo(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new Fl({},Hg(r),qg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ma.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Eb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ma.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ma.then(()=>{let i=this._findContainer(r.path),s=new Fl({});eF(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ma.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ma.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),rF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(se($g,10),se(pb,10),se(zg,8))},e.\u0275dir=rt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&nn("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ta([sF]),Nn]});let t=e;return t})();function ub(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function lb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var oF=class extends kl{constructor(e=null,n,r){super(Ib(n),wb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(lb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ub(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ub(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var aF={provide:Pa,useExisting:Zr(()=>ka)},db=Promise.resolve(),ka=(()=>{let e=class e extends Pa{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new oF,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=iF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),tF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Eb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){db.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&gr(i);db.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Q1(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(se(Ns,9),se($g,10),se(pb,10),se(fb,10),se(pr,8),se(zg,8))},e.\u0275dir=rt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ta([aF]),Nn,Mn]});let t=e;return t})(),Ul=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var cF=(()=>{let e=class e{constructor(){this._validator=ib}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ib,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,features:[Mn]});let t=e;return t})();var uF={provide:$g,useExisting:Zr(()=>Fa),multi:!0};var Fa=(()=>{let e=class e extends cF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gr,this.createValidator=r=>V1}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fs(e)))(s||e)}})(),e.\u0275dir=rt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&ea("required",s._enabled?"":null)},inputs:{required:"required"},features:[ta([uF]),Nn]});let t=e;return t})();var lF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Jr({});let t=e;return t})();var Bl=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:zg,useValue:r.callSetDisabledState??Gg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Jr({imports:[lF]});let t=e;return t})();var Sb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[f],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Kg;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Kg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hF=function(t){let e=Sb(t);return Ab.encodeByteArray(e,!0)},La=function(t){return hF(t).replace(/\./g,"")},Yg=function(t){try{return Ab.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pF=()=>fF().__FIREBASE_DEFAULTS__,gF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Yg(t[1]);return e&&JSON.parse(e)},Hl=()=>{try{return pF()||gF()||mF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zg=t=>{var e,n;return(n=(e=Hl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rb=t=>{let e=Zg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jg=()=>{var t;return(t=Hl())===null||t===void 0?void 0:t.config},Xg=t=>{var e;return(e=Hl())===null||e===void 0?void 0:e[`_${t}`]};var $l=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Mb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[La(JSON.stringify(n)),La(JSON.stringify(o)),""].join(".")}function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function yF(){var t;let e=(t=Hl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Pb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ob(){let t=qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kb(){return!yF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function em(){try{return typeof indexedDB=="object"}catch{return!1}}function Fb(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var vF="FirebaseError",Tt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}},Ln=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_F(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Tt(i,a,r)}};function _F(t,e){return t.replace(IF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IF=/\{\$([^}]+)}/g;function Lb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function li(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Tb(s)&&Tb(o)){if(!li(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Tb(t){return t!==null&&typeof t=="object"}function Va(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vb(t,e){let n=new Qg(t,e);return n.subscribe.bind(n)}var Qg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wg),i.error===void 0&&(i.error=Wg),i.complete===void 0&&(i.complete=Wg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wg(){}var w9=4*60*60*1e3;function yt(t){return t&&t._delegate?t._delegate:t}var Ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var tm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $l;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DF(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function EF(t){return t===di?void 0:t}function DF(t){return t.instantiationMode==="EAGER"}var ql=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new tm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var CF=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),bF={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},TF=he.INFO,SF={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},AF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=SF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yr=class{constructor(e){this.name=e,this._logLevel=TF,this._logHandler=AF,this._userLogHandler=null,CF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var RF=(t,e)=>e.some(n=>t instanceof n),jb,Ub;function MF(){return jb||(jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NF(){return Ub||(Ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Bb=new WeakMap,rm=new WeakMap,$b=new WeakMap,nm=new WeakMap,sm=new WeakMap;function xF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(on(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Bb.set(n,t)}).catch(()=>{}),sm.set(e,t),e}function PF(t){if(rm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rm.set(t,e)}var im={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$b.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hb(t){im=t(im)}function OF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(zl(this),e,...n);return $b.set(r,e.sort?e.sort():[e]),on(r)}:NF().includes(t)?function(...e){return t.apply(zl(this),e),on(Bb.get(this))}:function(...e){return on(t.apply(zl(this),e))}}function kF(t){return typeof t=="function"?OF(t):(t instanceof IDBTransaction&&PF(t),RF(t,MF())?new Proxy(t,im):t)}function on(t){if(t instanceof IDBRequest)return xF(t);if(nm.has(t))return nm.get(t);let e=kF(t);return e!==t&&(nm.set(t,e),sm.set(e,t)),e}var zl=t=>sm.get(t);function zb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=on(o);return r&&o.addEventListener("upgradeneeded",u=>{r(on(o.result),u.oldVersion,u.newVersion,on(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var FF=["get","getKey","getAll","getAllKeys","count"],LF=["put","add","delete","clear"],om=new Map;function qb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(om.get(e))return om.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=LF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FF.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return om.set(e,s),s}Hb(t=>ue(O({},t),{get:(e,n,r)=>qb(e,n)||t.get(e,n,r),has:(e,n)=>!!qb(e,n)||t.has(e,n)}));var cm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function VF(t){let e=t.getComponent();return e?.type==="VERSION"}var um="@firebase/app",Gb="0.10.10";var Vn=new yr("@firebase/app"),jF="@firebase/app-compat",UF="@firebase/analytics-compat",BF="@firebase/analytics",$F="@firebase/app-check-compat",HF="@firebase/app-check",qF="@firebase/auth",zF="@firebase/auth-compat",GF="@firebase/database",WF="@firebase/database-compat",KF="@firebase/functions",QF="@firebase/functions-compat",YF="@firebase/installations",ZF="@firebase/installations-compat",JF="@firebase/messaging",XF="@firebase/messaging-compat",eL="@firebase/performance",tL="@firebase/performance-compat",nL="@firebase/remote-config",rL="@firebase/remote-config-compat",iL="@firebase/storage",sL="@firebase/storage-compat",oL="@firebase/firestore",aL="@firebase/vertexai-preview",cL="@firebase/firestore-compat",uL="firebase",lL="10.13.1";var lm="[DEFAULT]",dL={[um]:"fire-core",[jF]:"fire-core-compat",[BF]:"fire-analytics",[UF]:"fire-analytics-compat",[HF]:"fire-app-check",[$F]:"fire-app-check-compat",[qF]:"fire-auth",[zF]:"fire-auth-compat",[GF]:"fire-rtdb",[WF]:"fire-rtdb-compat",[KF]:"fire-fn",[QF]:"fire-fn-compat",[YF]:"fire-iid",[ZF]:"fire-iid-compat",[JF]:"fire-fcm",[XF]:"fire-fcm-compat",[eL]:"fire-perf",[tL]:"fire-perf-compat",[nL]:"fire-rc",[rL]:"fire-rc-compat",[iL]:"fire-gcs",[sL]:"fire-gcs-compat",[oL]:"fire-fst",[cL]:"fire-fst-compat",[aL]:"fire-vertex","fire-js":"fire-js",[uL]:"fire-js-all"};var ja=new Map,hL=new Map,dm=new Map;function Wb(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _r(t){let e=t.name;if(dm.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,t);for(let n of ja.values())Wb(n,t);for(let n of hL.values())Wb(n,t);return!0}function Ba(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t.settings!==void 0}var fL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Ln("app","Firebase",fL);var hm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}};var Ir=lL;function gm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:lm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vr.create("bad-app-name",{appName:String(i)});if(n||(n=Jg()),!n)throw vr.create("no-options");let s=ja.get(i);if(s){if(li(n,s.options)&&li(r,s.config))return s;throw vr.create("duplicate-app",{appName:i})}let o=new ql(i);for(let u of dm.values())o.addComponent(u);let a=new hm(n,r,o);return ja.set(i,a),a}function Os(t=lm){let e=ja.get(t);if(!e&&t===lm&&Jg())return gm();if(!e)throw vr.create("no-app",{appName:t});return e}function Gl(){return Array.from(ja.values())}function Be(t,e,n){var r;let i=(r=dL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(a.join(" "));return}_r(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var pL="firebase-heartbeat-database",gL=1,Ua="firebase-heartbeat-store",am=null;function Zb(){return am||(am=zb(pL,gL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw vr.create("idb-open",{originalErrorMessage:t.message})})),am}function mL(t){return w(this,null,function*(){try{let n=(yield Zb()).transaction(Ua),r=yield n.objectStore(Ua).get(Jb(t));return yield n.done,r}catch(e){if(e instanceof Tt)Vn.warn(e.message);else{let n=vr.create("idb-get",{originalErrorMessage:e?.message});Vn.warn(n.message)}}})}function Kb(t,e){return w(this,null,function*(){try{let r=(yield Zb()).transaction(Ua,"readwrite");yield r.objectStore(Ua).put(e,Jb(t)),yield r.done}catch(n){if(n instanceof Tt)Vn.warn(n.message);else{let r=vr.create("idb-set",{originalErrorMessage:n?.message});Vn.warn(r.message)}}})}function Jb(t){return`${t.name}!${t.options.appId}`}var yL=1024,vL=30*24*60*60*1e3,fm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new pm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=vL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Qb(),{heartbeatsToSend:r,unsentEntries:i}=_L(this._heartbeatsCache.heartbeats),s=La(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vn.warn(n),""}})}};function Qb(){return new Date().toISOString().substring(0,10)}function _L(t,e=yL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Yb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var pm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return em()?Fb().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield mL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Kb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Kb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Yb(t){return La(JSON.stringify({version:2,heartbeats:t})).length}function IL(t){_r(new Ft("platform-logger",e=>new cm(e),"PRIVATE")),_r(new Ft("heartbeat",e=>new fm(e),"PRIVATE")),Be(um,Gb,t),Be(um,Gb,"esm2017"),Be("fire-js","")}IL("");var wL="firebase",EL="10.13.1";Be(wL,EL,"app");var fi=new Tn("ANGULARFIRE2_VERSION");function Kl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var $a=(t,e)=>{let n=e?[e]:Gl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Fs=class{constructor(){return $a(DL)}},DL="app-check";function ks(){}var Wl=class{zone;delegate;constructor(e,n=Xh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},mm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ks,{},ks,ks)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ls=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Wl(Zone.current)),this.insideAngular=n.run(()=>new Wl(Zone.current,Jh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ae(we))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ql(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function CL(t){return Ql().ngZone.runOutsideAngular(()=>t())}function hi(t){return Ql().ngZone.run(()=>t())}function bL(t){return TL(Ql())(t)}function TL(t){return function(n){return n=n.lift(new mm(t.ngZone)),n.pipe(nr(t.outsideAngular),tr(t.insideAngular))}}var SL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),hi(()=>t.apply(void 0,r))},jn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=hi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ks,{},ks,ks))),r[s]=SL(r[s],n));let i=CL(()=>t.apply(this,r));if(!e)if(i instanceof le){let s=Ql();return i.pipe(nr(s.outsideAngular),tr(s.insideAngular))}else return hi(()=>i);return i instanceof le?i.pipe(bL):i instanceof Promise?hi(()=>new Promise((s,o)=>i.then(a=>hi(()=>s(a)),a=>hi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:hi(()=>i)};var Un=class{constructor(e){return e}},pi=class{constructor(){return Gl()}};function AL(t){return t&&t.length===1?t[0]:new Un(Os())}var ym=new j("angularfire2._apps"),RL={provide:Un,useFactory:AL,deps:[[new pt,ym]]},ML={provide:pi,deps:[[new pt,ym]]};function NL(t){return(e,n)=>{let r=n.get(hr);Be("angularfire",fi.full,"core"),Be("angularfire",fi.full,"app"),Be("angular",GD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Un(i)}}function Xb(t,...e){return tn([RL,ML,{provide:ym,useFactory:NL(t),multi:!0,deps:[we,ft,Ls,...e]}])}var eT=jn(gm,!0);function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vT=yT,_T=new Ln("auth","Firebase",yT());var td=new yr("@firebase/auth");function xL(t,...e){td.logLevel<=he.WARN&&td.warn(`Auth (${Ir}): ${t}`,...e)}function Zl(t,...e){td.logLevel<=he.ERROR&&td.error(`Auth (${Ir}): ${t}`,...e)}function Dr(t,...e){throw jm(t,...e)}function gi(t,...e){return jm(t,...e)}function IT(t,e,n){let r=Object.assign(Object.assign({},vT()),{[e]:n});return new Ln("auth","Firebase",r).create(e,{appName:t.name})}function Er(t){return IT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _T.create(t,...e)}function Q(t,e,...n){if(!t)throw jm(e,...n)}function Bn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Zl(e),new Error(e)}function Cr(t,e){t||Bn(e)}function wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PL(){return tT()==="http:"||tT()==="https:"}function tT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PL()||xb()||"connection"in navigator)?navigator.onLine:!0}function kL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=Nb()||Pb()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Um(t,e){Cr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var nd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var FL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var LL=new mi(3e4,6e4);function Ka(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function vi(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return wT(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Va(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),nd.fetch()(DT(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function wT(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},FL),e);try{let i=new Em(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Yl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Yl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw IT(t,f,l);Dr(t,f)}}catch(i){if(i instanceof Tt)throw i;Dr(t,"network-request-failed",{message:String(i)})}})}function ET(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield vi(t,e,n,r,i);return"mfaPendingCredential"in l&&Dr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function DT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Um(t.config,i):`${t.config.apiScheme}://${i}`}function VL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Em=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gi(this.auth,"network-request-failed")),LL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Yl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=gi(t,e,r);return i.customData._tokenResponse=n,i}function nT(t){return t!==void 0&&t.enterprise!==void 0}var Dm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function jL(t,e){return w(this,null,function*(){return vi(t,"GET","/v2/recaptchaConfig",Ka(t,e))})}function UL(t,e){return w(this,null,function*(){return vi(t,"POST","/v1/accounts:delete",e)})}function CT(t,e){return w(this,null,function*(){return vi(t,"POST","/v1/accounts:lookup",e)})}function Ha(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Bm(t,e=!1){return w(this,null,function*(){let n=yt(t),r=yield n.getIdToken(e),i=$m(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ha(vm(i.auth_time)),issuedAtTime:Ha(vm(i.iat)),expirationTime:Ha(vm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function vm(t){return Number(t)*1e3}function $m(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Yg(n);return i?JSON.parse(i):(Zl("Failed to decode base64 JWT payload"),null)}catch(i){return Zl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rT(t){let e=$m(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function za(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Tt&&BL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function BL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Cm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ga=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function rd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield za(t,CT(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bT(s.providerUserInfo):[],a=$L(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ga(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Hm(t){return w(this,null,function*(){let e=yt(t);yield rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $L(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bT(t){return t.map(e=>{var{providerId:n}=e,r=ef(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function HL(t,e){return w(this,null,function*(){let n=yield wT(t,{},()=>w(this,null,function*(){let r=Va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=DT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function qL(t,e){return w(this,null,function*(){return vi(t,"POST","/v2/accounts:revokeToken",Ka(t,e))})}var qa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=rT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield HL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Bn("not implemented")}};function wr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Vs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ef(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ga(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield za(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Bm(this,e)}reload(){return Hm(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield rd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(an(this.auth.app))return Promise.reject(Er(this.auth));let e=yield this.getIdToken();return yield za(this,UL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:H,emailVerified:ce,isAnonymous:Re,providerData:J,stsTokenManager:D}=n;Q(H&&D,e,"internal-error");let y=qa.fromJSON(this.name,D);Q(typeof H=="string",e,"internal-error"),wr(p,e.name),wr(m,e.name),Q(typeof ce=="boolean",e,"internal-error"),Q(typeof Re=="boolean",e,"internal-error"),wr(v,e.name),wr(S,e.name),wr(M,e.name),wr(R,e.name),wr(F,e.name),wr(U,e.name);let _=new t({uid:H,auth:e,email:m,emailVerified:ce,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:F,lastLoginAt:U});return J&&Array.isArray(J)&&(_.providerData=J.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new qa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield rd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?bT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new qa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ga(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var iT=new Map;function $n(t){Cr(t instanceof Function,"Expected a class definition");let e=iT.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iT.set(t,e),e)}var zL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),bm=zL;function Jl(t,e,n){return`firebase:${t}:${e}:${n}`}var id=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Jl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Vs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t($n(bm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||$n(bm),o=Jl(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=Vs._fromJSON(e,f);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function sT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NT(e))return"Blackberry";if(xT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||AT(e))&&!e.includes("edge/"))return"Chrome";if(MT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function TT(t=qe()){return/firefox\//i.test(t)}function ST(t=qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AT(t=qe()){return/crios\//i.test(t)}function RT(t=qe()){return/iemobile/i.test(t)}function MT(t=qe()){return/android/i.test(t)}function NT(t=qe()){return/blackberry/i.test(t)}function xT(t=qe()){return/webos/i.test(t)}function qm(t=qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GL(t=qe()){var e;return qm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WL(){return Ob()&&document.documentMode===10}function PT(t=qe()){return qm(t)||MT(t)||xT(t)||NT(t)||/windows phone/i.test(t)||RT(t)}function OT(t,e=[]){let n;switch(t){case"Browser":n=sT(qe());break;case"Worker":n=`${sT(qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ir}/${r}`}var Tm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function KL(n){return w(this,arguments,function*(t,e={}){return vi(t,"GET","/v2/passwordPolicy",Ka(t,e))})}var QL=6,Sm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:QL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Am=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sd(this),this.idTokenSubscription=new sd(this),this.beforeStateQueue=new Tm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield id.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield CT(this,{idToken:e}),r=yield Vs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(an(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=kL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(an(this.app))return Promise.reject(Er(this));let n=e?yt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return an(this.app)?Promise.reject(Er(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return an(this.app)?Promise.reject(Er(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence($n(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield KL(this),n=new Sm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield qL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&$n(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield id.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Us(t){return yt(t)}var sd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vb(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var hd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YL(t){hd=t}function kT(t){return hd.loadJS(t)}function ZL(){return hd.recaptchaEnterpriseScript}function JL(){return hd.gapiScript}function FT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var XL="recaptcha-enterprise",eV="NO_RECAPTCHA",Rm=class{constructor(e){this.type=XL,this.auth=Us(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){jL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Dm(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;nT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(eV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&nT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=ZL();u.length!==0&&(u+=a),kT(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function oT(t,e,n,r=!1){return w(this,null,function*(){let i=new Rm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function tV(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield oT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield oT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function zm(t,e){let n=Ba(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(li(s,e??{}))return i;Dr(i,"already-initialized")}return n.initialize({options:e})}function nV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($n);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Gm(t,e,n){let r=Us(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=LT(e),{host:o,port:a}=rV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||iV()}function LT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rV(t){let e=LT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:aT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:aT(o)}}}function aT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function iV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var od=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,n){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}};function _m(t,e){return w(this,null,function*(){return ET(t,"POST","/v1/accounts:signInWithIdp",Ka(t,e))})}var ad=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Mm=class extends ad{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function sV(t,e){return w(this,null,function*(){return ET(t,"POST","/v1/accounts:signUp",Ka(t,e))})}var js=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Vs._fromIdTokenResponse(e,r,i),o=cT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=cT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function cT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Nm=class t extends Tt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function VT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nm._fromErrorAndOperation(t,s,e,r):s})}function oV(t,e,n=!1){return w(this,null,function*(){let r=yield za(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return js._forOperation(t,"link",r)})}function aV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(an(r.app))return Promise.reject(Er(r));let i="reauthenticate";try{let s=yield za(t,VT(r,i,e,t),n);Q(s.idToken,r,"internal-error");let o=$m(s.idToken);Q(o,r,"internal-error");let{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),js._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Dr(r,"user-mismatch"),s}})}function cV(t,e,n=!1){return w(this,null,function*(){if(an(t.app))return Promise.reject(Er(t));let r="signIn",i=yield VT(t,r,e),s=yield js._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function uV(t){return w(this,null,function*(){let e=Us(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Wm(t,e,n){return w(this,null,function*(){if(an(t.app))return Promise.reject(Er(t));let r=Us(t),o=yield tV(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&uV(t),u}),a=yield js._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Km(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function Qm(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}var cd="__sak";var ud=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cd,"1"),this.storage.removeItem(cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var lV=1e3,dV=10,hV=(()=>{class t extends ud{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);WL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,dV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Xn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Xn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Xn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),jT=hV;var fV=(()=>{class t extends ud{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ym=fV;function pV(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var gV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield pV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function UT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var xm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=UT("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function cn(){return window}function mV(t){cn().location.href=t}function BT(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}function yV(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _V(){return BT()?self:null}var $T="firebaseLocalStorageDb",IV=1,ld="firebaseLocalStorage",HT="fbase_key",yi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function fd(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function wV(){let t=indexedDB.deleteDatabase($T);return new yi(t).toPromise()}function Pm(){let t=indexedDB.open($T,IV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ld,{keyPath:HT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),yield wV(),e(yield Pm()))}))})}function uT(t,e,n){return w(this,null,function*(){let r=fd(t,!0).put({[HT]:e,value:n});return new yi(r).toPromise()})}function EV(t,e){return w(this,null,function*(){let n=fd(t,!1).get(e),r=yield new yi(n).toPromise();return r===void 0?null:r.value})}function lT(t,e){let n=fd(t,!0).delete(e);return new yi(n).toPromise()}var DV=800,CV=3,bV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Pm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>CV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return BT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=gV._getInstance(_V()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield yV(),!this.activeServiceWorker)return;this.sender=new xm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Pm();return yield uT(n,cd,"1"),yield lT(n,cd),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>uT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>EV(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>lT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=fd(s,!1).getAll();return new yi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),DV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),qT=bV;var mW=FT("rcb"),yW=new mi(3e4,6e4);function TV(t,e){return e?$n(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Wa=class extends od{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _m(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _m(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _m(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function SV(t){return cV(t.auth,new Wa(t),t.bypassAuthState)}function AV(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),aV(n,new Wa(t),t.bypassAuthState)}function RV(t){return w(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),oV(n,new Wa(t),t.bypassAuthState)})}var Om=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SV;case"linkViaPopup":case"linkViaRedirect":return RV;case"reauthViaPopup":case"reauthViaRedirect":return AV;default:Dr(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vW=new mi(2e3,1e4);var MV="pendingRedirect",Xl=new Map,km=class t extends Om{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Xl.get(this.auth._key());if(!e){try{let r=(yield NV(this.resolver,this.auth))?yield Xn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xl.set(this.auth._key(),e)}return this.bypassAuthState||Xl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Xn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Xn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function NV(t,e){return w(this,null,function*(){let n=OV(e),r=PV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function xV(t,e){Xl.set(t._key(),e)}function PV(t){return $n(t._redirectPersistence)}function OV(t){return Jl(MV,t.config.apiKey,t.name)}function kV(t,e,n=!1){return w(this,null,function*(){if(an(t.app))return Promise.reject(Er(t));let r=Us(t),i=TV(r,e),o=yield new km(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var FV=10*60*1e3,Fm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FV&&this.cachedEventUids.clear(),this.cachedEventUids.has(dT(e))}saveEventToCache(e){this.cachedEventUids.add(dT(e)),this.lastProcessedEventTime=Date.now()}};function dT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zT(t);default:return!1}}function VV(n){return w(this,arguments,function*(t,e={}){return vi(t,"GET","/v1/projects",e)})}var jV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UV=/^https?/;function BV(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield VV(t);for(let n of e)try{if($V(n))return}catch{}Dr(t,"unauthorized-domain")})}function $V(t){let e=wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!UV.test(n))return!1;if(jV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var HV=new mi(3e4,6e4);function hT(){let t=cn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qV(t){return new Promise((e,n)=>{var r,i,s;function o(){hT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hT(),n(gi(t,"network-request-failed"))},timeout:HV.get()})}if(!((i=(r=cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cn().gapi)===null||s===void 0)&&s.load)o();else{let a=FT("iframefcb");return cn()[a]=()=>{gapi.load?o():n(gi(t,"network-request-failed"))},kT(`${JL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ed=null,e})}var ed=null;function zV(t){return ed=ed||qV(t),ed}var GV=new mi(5e3,15e3),WV="__/auth/iframe",KV="emulator/auth/iframe",QV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZV(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Um(e,KV):`https://${t.config.authDomain}/${WV}`,r={apiKey:e.apiKey,appName:t.name,v:Ir},i=YV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Va(r).slice(1)}`}function JV(t){return w(this,null,function*(){let e=yield zV(t),n=cn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:ZV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QV,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=gi(t,"network-request-failed"),a=cn().setTimeout(()=>{s(o)},GV.get());function u(){cn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var XV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ej=500,tj=600,nj="_blank",rj="http://localhost",dd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ij(t,e,n,r=ej,i=tj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},XV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=qe().toLowerCase();n&&(a=AT(l)?nj:n),TT(l)&&(e=e||rj,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(GL(l)&&a!=="_self")return sj(e||"",a),new dd(null);let p=window.open(e||"",a,f);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new dd(p)}function sj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var oj="__/auth/handler",aj="emulator/auth/handler",cj=encodeURIComponent("fac");function fT(t,e,n,r,i,s){return w(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ir,eventId:i};if(e instanceof ad){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Lb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Mm){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield t._getAppCheckToken(),l=u?`#${cj}=${encodeURIComponent(u)}`:"";return`${uj(t)}?${Va(a).slice(1)}${l}`})}function uj({config:t}){return t.emulator?Um(t,aj):`https://${t.authDomain}/${oj}`}var Im="webStorageSupport",Lm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ym,this._completeRedirectFn=kV,this._overrideRedirectResult=xV}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield fT(e,n,r,wm(),i);return ij(e,o,UT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield fT(e,n,r,wm(),i);return mV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield JV(e),r=new Fm(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Im];o!==void 0&&n(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PT()||ST()||qm()}},GT=Lm;var pT="@firebase/auth",gT="1.7.8";var Vm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dj(t){_r(new Ft("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(t)},l=new Am(r,i,s,u);return nV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_r(new Ft("auth-internal",e=>{let n=Us(e.getProvider("auth").getImmediate());return(r=>new Vm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(pT,gT,lj(t)),Be(pT,gT,"esm2017")}var hj=5*60,fj=Xg("authIdTokenMaxAge")||hj,mT=null,pj=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fj)return;let i=n?.token;mT!==i&&(mT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Zm(t=Os()){let e=Ba(t,"auth");if(e.isInitialized())return e.getImmediate();let n=zm(t,{popupRedirectResolver:GT,persistence:[qT,jT,Ym]}),r=Xg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=pj(s.toString());Qm(n,o,()=>o(n.currentUser)),Km(n,a=>o(a))}}let i=Zg("auth");return i&&Gm(n,`http://${i}`),n}function gj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=gi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dj("Browser");var WT="auth",_i=class{constructor(e){return e}},Qa=class{constructor(){return $a(WT)}};var Jm=new j("angularfire2.auth-instances");function cU(t,e){let n=Kl(WT,t,e);return n&&new _i(n)}function uU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _i(r)}}var lU={provide:Qa,deps:[[new pt,Jm]]},dU={provide:_i,useFactory:cU,deps:[[new pt,Jm],Un]};function KT(t,...e){return Be("angularfire",fi.full,"auth"),tn([dU,lU,{provide:Jm,useFactory:uU(t),multi:!0,deps:[we,ft,Ls,pi,[new pt,Fs],...e]}])}var QT=jn(Wm,!0);var YT=jn(Zm,!0);var ZT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JT={};var br,Xm;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,C,T){for(var I=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)I[mn-2]=arguments[mn];return y.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],C=D.g[2];var T=D.g[3],I=y+(T^_&(C^T))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[2]+606105819&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[6]+2821735955&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[10]+4294925233&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[14]+2792965006&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^T&(_^C))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[11]+643717713&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[15]+3634488961&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[3]+4107603335&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[7]+1735328473&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^T)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[11]+1839030562&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[7]+4139469664&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[3]+3572445317&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[15]+530742520&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~T))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[14]+2878612391&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[10]+4293915773&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[6]+2734768916&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[2]+718787259&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<y;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==y||(_[C]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function f(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(f(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),I=parseInt(D.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var C=ce(_,y).g;_=F(_,C.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=C,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,C=0;C<=y;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),I=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=I>>>16,T&=65535,I&=65535,_[C]=I<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,I=this.i(E)&65535,mn=D.i(C)>>>16,ho=D.i(C)&65535;_[2*E+2*C]+=I*ho,U(_,2*E+2*C),_[2*E+2*C+1]+=T*ho,U(_,2*E+2*C+1),_[2*E+2*C+1]+=I*mn,U(_,2*E+2*C+1),_[2*E+2*C+2]+=T*mn,U(_,2*E+2*C+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function U(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function H(D,y){this.g=D,this.h=y}function ce(D,y){if(S(y))throw Error("division by zero");if(S(D))return new H(p,p);if(M(D))return y=ce(R(D),y),new H(R(y.g),R(y.h));if(M(y))return y=ce(D,R(y)),new H(R(y.g),y.h);if(30<D.g.length){if(M(D)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Re(_),E=Re(E);var C=J(_,1),T=J(E,1);for(E=J(E,2),_=J(_,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(C=C.add(_),T=I),E=J(E,1),_=J(_,1)}return y=F(D,C.j(y)),new H(C,y)}for(C=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(y);M(I)||0<I.l(D);)_-=E,T=l(_),I=T.j(y);S(T)&&(T=m),C=C.add(T),D=F(D,I)}return new H(C,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Re(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function J(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,C=[],T=0;T<E;T++)C[T]=0<y?D.i(T+_)>>>y|D.i(T+_+1)<<32-y:D.i(T+_);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xm=JT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,br=JT.Integer=o}).apply(typeof ZT<"u"?ZT:typeof self<"u"?self:typeof window<"u"?window:{});var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var ey,ty,Bs,ny,Ya,gd,ry,iy,sy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pd=="object"&&pd];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in h))break e;h=h[b]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var h=0,g=!1,b={next:function(){if(!g&&h<c.length){var A=h++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,h){return h})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var P=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)P[Ee-2]=arguments[Ee];return d.prototype[b].apply(g,P)}}function M(c){let d=c.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function R(c,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let P=0;P<A;P++)c[b+P]=g[P]}else c.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Re=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function J(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function D(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function y(c){let d={};for(let h in c)d[h]=c[h];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)c[h]=g[h];for(let A=0;A<_.length;A++)h=_[A],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function C(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=dh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class mn{constructor(){this.h=this.g=null}add(d,h){let g=ho.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var ho=new F(()=>new QS,c=>c.reset());class QS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let fo,po=!1,dh=new mn,c_=()=>{let c=a.Promise.resolve(void 0);fo=()=>{c.then(YS)}};var YS=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(h){T(h)}var d=ho;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}po=!1};function Qn(){this.s=this.s,this.C=this.C}Qn.prototype.s=!1,Qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var ZS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function go(c,d){if(Ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{ce(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:JS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&go.aa.h.call(this)}}S(go,Ze);var JS={2:"touch",3:"pen",4:"mouse"};go.prototype.h=function(){go.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mo="closure_listenable_"+(1e6*Math.random()|0),XS=0;function eA(c,d,h,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++XS,this.da=this.fa=!1}function Ic(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wc(c){this.src=c,this.g={},this.h=0}wc.prototype.add=function(c,d,h,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=fh(c,d,g,b);return-1<P?(d=c[P],h||(d.fa=!1)):(d=new eA(d,this.src,A,!!g,b),d.fa=h,c.push(d)),d};function hh(c,d){var h=d.type;if(h in c.g){var g=c.g[h],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Ic(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function fh(c,d,h,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return b}return-1}var ph="closure_lm_"+(1e6*Math.random()|0),gh={};function u_(c,d,h,g,b){if(g&&g.once)return d_(c,d,h,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)u_(c,d[A],h,g,b);return null}return h=_h(h),c&&c[mo]?c.K(d,h,l(g)?!!g.capture:!!g,b):l_(c,d,h,!1,g,b)}function l_(c,d,h,g,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,Ee=yh(c);if(Ee||(c[ph]=Ee=new wc(c)),h=Ee.add(d,h,g,P,A),h.proxy)return h;if(g=tA(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)ZS||(b=P),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(f_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function tA(){function c(h){return d.call(c.src,c.listener,h)}let d=nA;return c}function d_(c,d,h,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)d_(c,d[A],h,g,b);return null}return h=_h(h),c&&c[mo]?c.L(d,h,l(g)?!!g.capture:!!g,b):l_(c,d,h,!0,g,b)}function h_(c,d,h,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)h_(c,d[A],h,g,b);else g=l(g)?!!g.capture:!!g,h=_h(h),c&&c[mo]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],h=fh(A,h,g,b),-1<h&&(Ic(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=yh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=fh(d,h,g,b)),(h=-1<c?d[c]:null)&&mh(h))}function mh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[mo])hh(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(f_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=yh(d))?(hh(h,c),h.h==0&&(h.src=null,d[ph]=null)):Ic(c)}}}function f_(c){return c in gh?gh[c]:gh[c]="on"+c}function nA(c,d){if(c.da)c=!0;else{d=new go(d,this);var h=c.listener,g=c.ha||c.src;c.fa&&mh(c),c=h.call(g,d)}return c}function yh(c){return c=c[ph],c instanceof wc?c:null}var vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function _h(c){return typeof c=="function"?c:(c[vh]||(c[vh]=function(d){return c.handleEvent(d)}),c[vh])}function Je(){Qn.call(this),this.i=new wc(this),this.M=this,this.F=null}S(Je,Qn),Je.prototype[mo]=!0,Je.prototype.removeEventListener=function(c,d,h,g){h_(this,c,d,h,g)};function ct(c,d){var h,g=c.F;if(g)for(h=[];g;g=g.F)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Ze(d,c);else if(d instanceof Ze)d.target=d.target||c;else{var b=d;d=new Ze(g,c),E(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var P=d.g=h[A];b=Ec(P,g,!0,d)&&b}if(P=d.g=c,b=Ec(P,g,!0,d)&&b,b=Ec(P,g,!1,d)&&b,h)for(A=0;A<h.length;A++)P=d.g=h[A],b=Ec(P,g,!1,d)&&b}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],g=0;g<h.length;g++)Ic(h[g]);delete c.g[d],c.h--}}this.F=null},Je.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},Je.prototype.L=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function Ec(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==h){var Ee=P.listener,Ge=P.ha||P.src;P.fa&&hh(c.i,P),b=Ee.call(Ge,g)!==!1&&b}}return b&&!g.defaultPrevented}function p_(c,d,h){if(typeof c=="function")h&&(c=m(c,h));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function g_(c){c.g=p_(()=>{c.g=null,c.i&&(c.i=!1,g_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class rA extends Qn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:g_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(c){Qn.call(this),this.h=c,this.g={}}S(yo,Qn);var m_=[];function y_(c){J(c.g,function(d,h){this.g.hasOwnProperty(h)&&mh(d)},c),c.g={}}yo.prototype.N=function(){yo.aa.N.call(this),y_(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ih=a.JSON.stringify,iA=a.JSON.parse,sA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function wh(){}wh.prototype.h=null;function v_(c){return c.h||(c.h=c.i())}function __(){}var vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Eh(){Ze.call(this,"d")}S(Eh,Ze);function Dh(){Ze.call(this,"c")}S(Dh,Ze);var Mr={},I_=null;function Dc(){return I_=I_||new Je}Mr.La="serverreachability";function w_(c){Ze.call(this,Mr.La,c)}S(w_,Ze);function _o(c){let d=Dc();ct(d,new w_(d))}Mr.STAT_EVENT="statevent";function E_(c,d){Ze.call(this,Mr.STAT_EVENT,c),this.stat=d}S(E_,Ze);function ut(c){let d=Dc();ct(d,new E_(d,c))}Mr.Ma="timingevent";function D_(c,d){Ze.call(this,Mr.Ma,c),this.size=d}S(D_,Ze);function Io(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function wo(){this.g=!0}wo.prototype.xa=function(){this.g=!1};function oA(c,d,h,g,b,A){c.info(function(){if(c.g)if(A)for(var P="",Ee=A.split("&"),Ge=0;Ge<Ee.length;Ge++){var ve=Ee[Ge].split("=");if(1<ve.length){var Xe=ve[0];ve=ve[1];var et=Xe.split("_");P=2<=et.length&&et[1]=="type"?P+(Xe+"="+ve+"&"):P+(Xe+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+P})}function aA(c,d,h,g,b,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+P})}function xi(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+uA(c,h)+(g?" "+g:"")})}function cA(c,d){c.info(function(){return"TIMEOUT: "+d})}wo.prototype.info=function(){};function uA(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var g=h[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return Ih(h)}catch{return d}}var Cc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},C_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ch;function bc(){}S(bc,wh),bc.prototype.g=function(){return new XMLHttpRequest},bc.prototype.i=function(){return{}},Ch=new bc;function Yn(c,d,h,g){this.j=c,this.i=d,this.l=h,this.R=g||1,this.U=new yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new b_}function b_(){this.i=null,this.g="",this.h=!1}var T_={},bh={};function Th(c,d,h){c.L=1,c.v=Rc(yn(d)),c.m=h,c.P=!0,S_(c,null)}function S_(c,d){c.F=Date.now(),Tc(c),c.A=yn(c.v);var h=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),B_(h.i,"t",g),c.C=0,h=c.j.J,c.h=new b_,c.g=sI(c.j,h?d:null,!c.m),0<c.O&&(c.M=new rA(m(c.Y,c,c.g),c.O)),d=c.U,h=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(m_[0]=b.toString()),b=m_);for(var A=0;A<b.length;A++){var P=u_(h,b[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),_o(),oA(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;let d=this.M;d&&vn(c)==3?d.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{let et=vn(this.g);var d=this.g.Ba();let ki=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||K_(this.g)))){this.J||et!=4||d==7||(d==8||0>=ki?_o(3):_o(2)),Sh(this);var h=this.g.Z();this.X=h;t:if(A_(this)){var g=K_(this.g);c="";var b=g.length,A=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),Eo(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,aA(this.i,this.u,this.A,this.l,this.R,et,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ge=this.g;if((Ee=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ee)){var ve=Ee;break t}}ve=null}if(h=ve)xi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ah(this,h);else{this.o=!1,this.s=3,ut(12),Nr(this),Eo(this);break e}}if(this.P){h=!0;let Vt;for(;!this.J&&this.C<P.length;)if(Vt=lA(this,P),Vt==bh){et==4&&(this.s=4,ut(14),h=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==T_){this.s=4,ut(15),xi(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else xi(this.i,this.l,Vt,null),Ah(this,Vt);if(A_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||P.length!=0||this.h.h||(this.s=1,ut(16),h=!1),this.o=this.o&&h,!h)xi(this.i,this.l,P,"[Invalid Chunked Response]"),Nr(this),Eo(this);else if(0<P.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Oh(Xe),Xe.M=!0,ut(11))}}else xi(this.i,this.l,P,null),Ah(this,P);et==4&&Nr(this),this.o&&!this.J&&(et==4?tI(this.j,this):(this.o=!1,Tc(this)))}else SA(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Nr(this),Eo(this)}}}catch{}finally{}};function A_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function lA(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?bh:(h=Number(d.substring(h,g)),isNaN(h)?T_:(g+=1,g+h>d.length?bh:(d=d.slice(g,g+h),c.C=g+h,d)))}Yn.prototype.cancel=function(){this.J=!0,Nr(this)};function Tc(c){c.S=Date.now()+c.I,R_(c,c.I)}function R_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Io(m(c.ba,c),d)}function Sh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(cA(this.i,this.A),this.L!=2&&(_o(),ut(17)),Nr(this),this.s=2,Eo(this)):R_(this,this.S-c)};function Eo(c){c.j.G==0||c.J||tI(c.j,c)}function Nr(c){Sh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,y_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ah(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||Rh(h.h,c))){if(!c.K&&Rh(h.h,c)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)Oc(h),xc(h);else break e;Ph(h),ut(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=Io(m(h.Za,h),6e3));if(1>=x_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Pr(h,11)}else if((c.K||h.g==c)&&Oc(h),!U(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];let Xe=ve[3];Xe!=null&&(h.la=Xe,h.j.info("VER="+h.la));let et=ve[4];et!=null&&(h.Aa=et,h.j.info("SVER="+h.Aa));let ki=ve[5];ki!=null&&typeof ki=="number"&&0<ki&&(g=1.5*ki,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Vt=c.g;if(Vt){let Fc=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fc){var A=g.h;A.g||Fc.indexOf("spdy")==-1&&Fc.indexOf("quic")==-1&&Fc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Mh(A,A.h),A.h=null))}if(g.D){let kh=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;kh&&(g.ya=kh,be(g.I,g.D,kh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=c;if(g.qa=iI(g,g.J?g.ia:null,g.W),P.K){P_(g.h,P);var Ee=P,Ge=g.L;Ge&&(Ee.I=Ge),Ee.B&&(Sh(Ee),Tc(Ee)),g.g=P}else X_(g);0<h.i.length&&Pc(h)}else ve[0]!="stop"&&ve[0]!="close"||Pr(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Pr(h,7):xh(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}_o(4)}catch{}}var dA=class{constructor(c,d){this.g=c,this.map=d}};function M_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function N_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function x_(c){return c.h?1:c.g?c.g.size:0}function Rh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Mh(c,d){c.g?c.g.add(d):c.h=d}function P_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}M_.prototype.cancel=function(){if(this.i=O_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function O_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return M(c.i)}function hA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,g=0;g<h;g++)d.push(c[g]);return d}d=[],h=0;for(g in c)d[h++]=c[g];return d}function fA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let g in c)d[h++]=g;return d}}}function k_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=fA(c),g=hA(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],h&&h[A],c)}var F_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pA(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var g=c[h].indexOf("="),b=null;if(0<=g){var A=c[h].substring(0,g);b=c[h].substring(g+1)}else A=c[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,Sc(this,c.j),this.o=c.o,this.g=c.g,Ac(this,c.s),this.l=c.l;var d=c.i,h=new bo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),L_(this,h),this.m=c.m}else c&&(d=String(c).match(F_))?(this.h=!1,Sc(this,d[1]||"",!0),this.o=Do(d[2]||""),this.g=Do(d[3]||"",!0),Ac(this,d[4]),this.l=Do(d[5]||"",!0),L_(this,d[6]||"",!0),this.m=Do(d[7]||"")):(this.h=!1,this.i=new bo(null,this.h))}xr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Co(d,V_,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Co(d,V_,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Co(h,h.charAt(0)=="/"?yA:mA,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Co(h,_A)),c.join("")};function yn(c){return new xr(c)}function Sc(c,d,h){c.j=h?Do(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ac(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function L_(c,d,h){d instanceof bo?(c.i=d,IA(c.i,c.h)):(h||(d=Co(d,vA)),c.i=new bo(d,c.h))}function be(c,d,h){c.i.set(d,h)}function Rc(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Do(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Co(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,gA),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var V_=/[#\/\?@]/g,mA=/[#\?:]/g,yA=/[#\?]/g,vA=/[#\?@]/g,_A=/#/g;function bo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Zn(c){c.g||(c.g=new Map,c.h=0,c.i&&pA(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=bo.prototype,t.add=function(c,d){Zn(this),this.i=null,c=Pi(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function j_(c,d){Zn(c),d=Pi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function U_(c,d){return Zn(c),d=Pi(c,d),c.g.has(d)}t.forEach=function(c,d){Zn(this),this.g.forEach(function(h,g){h.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){Zn(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)h.push(d[g])}return h},t.V=function(c){Zn(this);let d=[];if(typeof c=="string")U_(this,c)&&(d=d.concat(this.g.get(Pi(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return Zn(this),this.i=null,c=Pi(this,c),U_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function B_(c,d,h){j_(c,d),0<h.length&&(c.i=null,c.g.set(Pi(c,d),M(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=A;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),c.push(b)}}return this.i=c.join("&")};function Pi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function IA(c,d){d&&!c.j&&(Zn(c),c.i=null,c.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(j_(this,g),B_(this,b,h))},c)),c.j=d}function wA(c,d){let h=new wo;if(a.Image){let g=new Image;g.onload=v(Jn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=v(Jn,h,"TestLoadImage: error",!1,d,g),g.onabort=v(Jn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(Jn,h,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function EA(c,d){let h=new wo,g=new AbortController,b=setTimeout(()=>{g.abort(),Jn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Jn(h,"TestPingServer: ok",!0,d):Jn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Jn(h,"TestPingServer: error",!1,d)})}function Jn(c,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function DA(){this.g=new sA}function CA(c,d,h){let g=h||"";try{k_(c,function(b,A){let P=b;l(b)&&(P=Ih(b)),d.push(g+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function To(c){this.l=c.Ub||null,this.j=c.eb||!1}S(To,wh),To.prototype.g=function(){return new Mc(this.l,this.j)},To.prototype.i=function(c){return function(){return c}}({});function Mc(c,d){Je.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Mc,Je),t=Mc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ao(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ao(this)),this.g&&(this.readyState=3,Ao(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?So(this):Ao(this),this.readyState==3&&$_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,So(this))},t.Qa=function(c){this.g&&(this.response=c,So(this))},t.ga=function(){this.g&&So(this)};function So(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ao(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Ao(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function H_(c){let d="";return J(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Nh(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=H_(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):be(c,d,h))}function Me(c){Je.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,Je);var bA=/^https?$/i,TA=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ch.g(),this.v=this.o?v_(this.o):v_(Ch),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){q_(this,A);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TA,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of h)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W_(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){q_(this,A)}};function q_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,z_(c),Nc(c)}function z_(c){c.A||(c.A=!0,ct(c,"complete"),ct(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ct(this,"complete"),ct(this,"abort"),Nc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?G_(this):this.bb())},t.bb=function(){G_(this)};function G_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)p_(c.Ea,0,c);else if(ct(c,"readystatechange"),vn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var b=String(c.D).match(F_)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!bA.test(b?b.toLowerCase():"")}h=g}if(h)ct(c,"complete"),ct(c,"success");else{c.m=6;try{var A=2<vn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",z_(c)}}finally{Nc(c)}}}}function Nc(c,d){if(c.g){W_(c);let h=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ct(c,"ready");try{h.onreadystatechange=g}catch{}}}function W_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),iA(d)}};function K_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function SA(c){let d={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(U(c[g]))continue;var h=C(c[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ro(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function Q_(c){this.Aa=0,this.i=[],this.j=new wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ro("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ro("baseRetryDelayMs",5e3,c),this.cb=Ro("retryDelaySeedMs",1e4,c),this.Wa=Ro("forwardChannelMaxRetries",2,c),this.wa=Ro("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new M_(c&&c.concurrentRequestLimit),this.Da=new DA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Q_.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,g){ut(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=iI(this,null,this.W),Pc(this)};function xh(c){if(Y_(c),c.G==3){var d=c.U++,h=yn(c.I);if(be(h,"SID",c.K),be(h,"RID",d),be(h,"TYPE","terminate"),Mo(c,h),d=new Yn(c,c.j,d),d.L=2,d.v=Rc(yn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=sI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Tc(d)}rI(c)}function xc(c){c.g&&(Oh(c),c.g.cancel(),c.g=null)}function Y_(c){xc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Oc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Pc(c){if(!N_(c.h)&&!c.s){c.s=!0;var d=c.Ga;fo||c_(),po||(fo(),po=!0),dh.add(d,c),c.B=0}}function AA(c,d){return x_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Io(m(c.Ga,c,d),nI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Yn(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=J_(this,b,d),h=yn(this.I),be(h,"RID",c),be(h,"CVER",22),this.D&&be(h,"X-HTTP-Session-Id",this.D),Mo(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(H_(A)))+"&"+d:this.m&&Nh(h,this.m,A)),Mh(this.h,b),this.Ua&&be(h,"TYPE","init"),this.P?(be(h,"$req",d),be(h,"SID","null"),b.T=!0,Th(b,h,null)):Th(b,h,d),this.G=2}}else this.G==3&&(c?Z_(this,c):this.i.length==0||N_(this.h)||Z_(this))};function Z_(c,d){var h;d?h=d.l:h=c.U++;let g=yn(c.I);be(g,"SID",c.K),be(g,"RID",h),be(g,"AID",c.T),Mo(c,g),c.m&&c.o&&Nh(g,c.m,c.o),h=new Yn(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=J_(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mh(c.h,h),Th(h,g,d)}function Mo(c,d){c.H&&J(c.H,function(h,g){be(d,g,h)}),c.l&&k_({},function(h,g){be(d,g,h)})}function J_(c,d,h){h=Math.min(c.i.length,h);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let P=["count="+h];A==-1?0<h?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ee=!0;for(let Ge=0;Ge<h;Ge++){let ve=b[Ge].g,Xe=b[Ge].map;if(ve-=A,0>ve)A=Math.max(0,b[Ge].g-100),Ee=!1;else try{CA(Xe,P,"req"+ve+"_")}catch{g&&g(Xe)}}if(Ee){g=P.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,g}function X_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;fo||c_(),po||(fo(),po=!0),dh.add(d,c),c.v=0}}function Ph(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Io(m(c.Fa,c),nI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,eI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Io(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),xc(this),eI(this))};function Oh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function eI(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=yn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),Mo(c,d),c.m&&c.o&&Nh(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=Rc(yn(d)),h.m=null,h.P=!0,S_(h,c)}t.Za=function(){this.C!=null&&(this.C=null,xc(this),Ph(this),ut(19))};function Oc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function tI(c,d){var h=null;if(c.g==d){Oc(c),Oh(c),c.g=null;var g=2}else if(Rh(c.h,d))h=d.D,P_(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Dc(),ct(g,new D_(g,h)),Pc(c)}else X_(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&AA(c,d)||g==2&&Ph(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),b){case 1:Pr(c,5);break;case 4:Pr(c,10);break;case 3:Pr(c,6);break;default:Pr(c,2)}}}function nI(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Pr(c,d){if(c.j.info("Error code "+d),d==2){var h=m(c.fb,c),g=c.Xa;let b=!g;g=new xr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sc(g,"https"),Rc(g),b?wA(g.toString(),h):EA(g.toString(),h)}else ut(2);c.G=0,c.l&&c.l.sa(d),rI(c),Y_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function rI(c){if(c.G=0,c.ka=[],c.l){let d=O_(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function iI(c,d,h){var g=h instanceof xr?yn(h):new xr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Ac(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new xr(null);g&&Sc(A,g),d&&(A.g=d),b&&Ac(A,b),h&&(A.l=h),g=A}return h=c.D,d=c.ya,h&&d&&be(g,h,d),be(g,"VER",c.la),Mo(c,g),g}function sI(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new To({eb:h})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oI(){}t=oI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kc(){}kc.prototype.g=function(c,d){return new vt(c,d)};function vt(c,d){Je.call(this),this.g=new Q_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Oi(this)}S(vt,Je),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){xh(this.g)},vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=Ih(c),c=h);d.i.push(new dA(d.Ya++,c)),d.G==3&&Pc(d)},vt.prototype.N=function(){this.g.l=null,delete this.j,xh(this.g),delete this.g,vt.aa.N.call(this)};function aI(c){Eh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(aI,Eh);function cI(){Dh.call(this),this.status=1}S(cI,Dh);function Oi(c){this.g=c}S(Oi,oI),Oi.prototype.ua=function(){ct(this.g,"a")},Oi.prototype.ta=function(c){ct(this.g,new aI(c))},Oi.prototype.sa=function(c){ct(this.g,new cI)},Oi.prototype.ra=function(){ct(this.g,"b")},kc.prototype.createWebChannel=kc.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,sy=Hn.createWebChannelTransport=function(){return new kc},iy=Hn.getStatEventTarget=function(){return Dc()},ry=Hn.Event=Mr,gd=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cc.NO_ERROR=0,Cc.TIMEOUT=8,Cc.HTTP_ERROR=6,Ya=Hn.ErrorCode=Cc,C_.COMPLETE="complete",ny=Hn.EventType=C_,__.EventType=vo,vo.OPEN="a",vo.CLOSE="b",vo.ERROR="c",vo.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Bs=Hn.WebChannel=__,ty=Hn.FetchXmlHttpFactory=To,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,ey=Hn.XhrIo=Me}).apply(typeof pd<"u"?pd:typeof self<"u"?self:typeof window<"u"?window:{});var XT="@firebase/firestore";var ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");var co="10.13.1";var Ci=new yr("@firebase/firestore");function Za(){return Ci.logLevel}function L(t,...e){if(Ci.logLevel<=he.DEBUG){let n=e.map($v);Ci.debug(`Firestore (${co}): ${t}`,...n)}}function zn(t,...e){if(Ci.logLevel<=he.ERROR){let n=e.map($v);Ci.error(`Firestore (${co}): ${t}`,...n)}}function Ks(t,...e){if(Ci.logLevel<=he.WARN){let n=e.map($v);Ci.warn(`Firestore (${co}): ${t}`,...n)}}function $v(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+t;throw zn(e),new Error(e)}function Ce(t,e){t||G()}function Z(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Tt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Id=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ly=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ze.UNAUTHENTICATED))}shutdown(){}},dy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},hy=class{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Id(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new ze(e)}},fy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},py=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},my=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new gy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function fU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var wd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=fU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function Qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ye=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ye(0,0))}static max(){return new t(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ed=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends Ed{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},pU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,St=class t extends Ed{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return pU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var yy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};yy.UNKNOWN_ID=-1;function gU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new bi(i,$.empty(),e)}function mU(t){return new bi(t.readTime,t.key,-1)}var bi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),$.empty(),-1)}static max(){return new t(ee.max(),$.empty(),-1)}};function yU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var vU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function gc(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==vU)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function _U(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mc(t){return t.name==="IndexedDbTransactionError"}var N0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Zd(t){return t==null}function ic(t){return t===0&&1/t==-1/0}function IU(t){return typeof t=="number"&&Number.isInteger(t)&&!ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var wU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],m6=[...wU,"documentOverlays"],EU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DU=EU,CU=[...DU,"indexConfiguration","indexState","indexEntries"];var y6=[...CU,"globals"];function e0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zs(this.root,e,this.comparator,!1)}getReverseIterator(){return new zs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zs(this.root,e,this.comparator,!0)}},zs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dd(this.data.getIterator())}getIteratorFrom(e){return new Dd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Dd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ln=class t{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new t([])}unionWith(e){let n=new ot(St.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Cd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var at=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};at.EMPTY_BYTE_STRING=new at("");var bU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(t){if(Ce(!!t),typeof t=="string"){let e=0,n=bU.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}function Hv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qv(t){let e=t.mapValue.fields.__previous_value__;return Hv(e)?qv(e):e}function sc(t){let e=Gn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}var _y=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},bd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hv(t)?4:O0(t)?9007199254740991:P0(t)?10:11:G()}function pn(t,e){if(t===e)return!0;let n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Gn(i.timestampValue),a=Gn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Sr(i.bytesValue).isEqual(Sr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Se(i.doubleValue),a=Se(s.doubleValue);return o===a?ic(o)===ic(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qs(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(e0(o)!==e0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!pn(o[u],a[u])))return!1;return!0}(t,e);default:return G()}}function oc(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;let n=Ti(t),r=Ti(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return t0(t.timestampValue,e.timestampValue);case 4:return t0(sc(t),sc(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Sr(s),u=Sr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=_e(a[l],u[l]);if(f!==0)return f}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=_e(Se(s.latitude),Se(o.latitude));return a!==0?a:_e(Se(s.longitude),Se(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return n0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,f;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=_e(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:n0(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===md.mapValue&&o===md.mapValue)return 0;if(s===md.mapValue)return 1;if(o===md.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=_e(u[p],f[p]);if(m!==0)return m;let v=Ys(a[u[p]],l[f[p]]);if(v!==0)return v}return _e(u.length,f.length)}(t.mapValue,e.mapValue);default:throw G()}}function t0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=Gn(t),r=Gn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function n0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ys(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function Zs(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Gn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Iy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Iy(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function wy(t){return!!t&&"integerValue"in t}function zv(t){return!!t&&"arrayValue"in t}function r0(t){return!!t&&"nullValue"in t}function i0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vd(t){return!!t&&"mapValue"in t}function P0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Xa(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Xa(this.value))}};function k0(t){let e=[];return uo(t.fields,(n,r)=>{let i=new St([n]);if(vd(r)){let s=k0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new ln(e)}var Wt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Js=class{constructor(e,n){this.position=e,this.inclusive=n}};function s0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=$.comparator($.fromName(o.referenceValue),n.key):r=Ys(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function o0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}var Xs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function TU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Td=class{},$e=class t extends Td{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Dy(e,n,r):n==="array-contains"?new Ty(e,r):n==="in"?new Sy(e,r):n==="not-in"?new Ay(e,r):n==="array-contains-any"?new Ry(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Cy(e,r):new by(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class t extends Td{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return F0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function F0(t){return t.op==="and"}function L0(t){return SU(t)&&F0(t)}function SU(t){for(let e of t.filters)if(e instanceof gn)return!1;return!0}function Ey(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Zs(t.value);if(L0(t))return t.filters.map(e=>Ey(e)).join(",");{let e=t.filters.map(n=>Ey(n)).join(",");return`${t.op}(${e})`}}function V0(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)}(t,e):t instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&V0(o,i.filters[a]),!0):!1}(t,e):void G()}function j0(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Zs(n.value)}`}(t):t instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(j0).join(" ,")+"}"}(t):"Filter"}var Dy=class extends $e{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},Cy=class extends $e{constructor(e,n){super(e,"in",n),this.keys=U0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},by=class extends $e{constructor(e,n){super(e,"not-in",n),this.keys=U0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function U0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}var Ty=class extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return zv(n)&&oc(n.arrayValue,this.value)}},Sy=class extends $e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}},Ay=class extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!oc(this.value.arrayValue,n)}},Ry=class extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}};var My=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function a0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new My(t,e,n,r,i,s,o)}function Gv(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ey(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zs(r)).join(",")),e.ue=n}return e.ue}function Wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o0(t.startAt,e.startAt)&&o0(t.endAt,e.endAt)}function Ny(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var eo=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function AU(t,e,n,r,i,s,o,a){return new eo(t,e,n,r,i,s,o,a)}function Kv(t){return new eo(t)}function c0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RU(t){return t.collectionGroup!==null}function ec(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xs(s,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new Xs(St.keyField(),r))}return e.ce}function hn(t){let e=Z(t);return e.le||(e.le=MU(e,ec(t))),e.le}function MU(t,e){if(t.limitType==="F")return a0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Xs(i.field,s)});let n=t.endAt?new Js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Js(t.startAt.position,t.startAt.inclusive):null;return a0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xy(t,e,n){return new eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jd(t,e){return Wv(hn(t),hn(e))&&t.limitType===e.limitType}function B0(t){return`${Gv(hn(t))}|lt:${t.limitType}`}function $s(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>j0(i)).join(", ")}]`),Zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zs(i)).join(",")),`Target(${r})`}(hn(t))}; limitType=${t.limitType})`}function Xd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ec(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=s0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,ec(r),i)||r.endAt&&!function(o,a,u){let l=s0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,ec(r),i))}(t,e)}function NU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $0(t){return(e,n)=>{let r=!1;for(let i of ec(t)){let s=xU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xU(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Ys(u,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var Ar=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return x0(this.inner)}size(){return this.innerSize}};var PU=new Oe($.comparator);function Wn(){return PU}var H0=new Oe($.comparator);function Ja(...t){let e=H0;for(let n of t)e=e.insert(n.key,n);return e}function q0(t){let e=H0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return tc()}function z0(){return tc()}function tc(){return new Ar(t=>t.toString(),(t,e)=>t.isEqual(e))}var OU=new Oe($.comparator),kU=new ot($.comparator);function fe(...t){let e=kU;for(let n of t)e=e.add(n);return e}var FU=new ot(_e);function LU(){return FU}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function G0(t){return{integerValue:""+t}}function VU(t,e){return IU(e)?G0(e):Qv(t,e)}var to=class{constructor(){this._=void 0}};function jU(t,e,n){return t instanceof no?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hv(s)&&(s=qv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Si?K0(t,e):t instanceof Ai?Q0(t,e):function(i,s){let o=W0(i,s),a=u0(o)+u0(i.Pe);return wy(o)&&wy(i.Pe)?G0(a):Qv(i.serializer,a)}(t,e)}function UU(t,e,n){return t instanceof Si?K0(t,e):t instanceof Ai?Q0(t,e):n}function W0(t,e){return t instanceof ro?function(r){return wy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var no=class extends to{},Si=class extends to{constructor(e){super(),this.elements=e}};function K0(t,e){let n=Y0(e);for(let r of t.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ai=class extends to{constructor(e){super(),this.elements=e}};function Q0(t,e){let n=Y0(e);for(let r of t.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}var ro=class extends to{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function u0(t){return Se(t.integerValue||t.doubleValue)}function Y0(t){return zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Si&&i instanceof Si||r instanceof Ai&&i instanceof Ai?Qs(r.elements,i.elements,pn):r instanceof ro&&i instanceof ro?pn(r.Pe,i.Pe):r instanceof no&&i instanceof no}(t.transform,e.transform)}var Py=class{constructor(e,n){this.version=e,this.transformResults=n}},Di=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function _d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var io=class{};function Z0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sd(t.key,Di.none()):new Ri(t.key,t.data,Di.none());{let n=t.data,r=Gt.empty(),i=new ot(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Kn(t.key,r,new ln(i.toArray()),Di.none())}}function $U(t,e,n){t instanceof Ri?function(i,s,o){let a=i.value.clone(),u=d0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Kn?function(i,s,o){if(!_d(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=d0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(J0(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nc(t,e,n,r){return t instanceof Ri?function(s,o,a,u){if(!_d(s.precondition,o))return a;let l=s.value.clone(),f=h0(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kn?function(s,o,a,u){if(!_d(s.precondition,o))return a;let l=h0(s.fieldTransforms,u,o),f=o.data;return f.setAll(J0(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return _d(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function HU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=W0(r.transform,i||null);s!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function l0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qs(r,i,(s,o)=>BU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ri=class extends io{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kn=class extends io{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function J0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function d0(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,UU(o,a,n[i]))}return r}function h0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,jU(s,o,e))}return r}var Sd=class extends io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Oy=class extends io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ky=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&$U(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=nc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=z0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=Z0(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(n,r)=>l0(n,r))&&Qs(this.baseMutations,e.baseMutations,(n,r)=>l0(n,r))}},Fy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return OU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Ly=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Vy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Fe,ge;function qU(t){switch(t){default:return G();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function X0(t){if(t===void 0)return zn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Fe.OK:return N.OK;case Fe.CANCELLED:return N.CANCELLED;case Fe.UNKNOWN:return N.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return N.INTERNAL;case Fe.UNAVAILABLE:return N.UNAVAILABLE;case Fe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Fe.NOT_FOUND:return N.NOT_FOUND;case Fe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Fe.ABORTED:return N.ABORTED;case Fe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Fe.DATA_LOSS:return N.DATA_LOSS;default:return G()}}(ge=Fe||(Fe={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var f0=null;function zU(){return new TextEncoder}var GU=new br([4294967295,4294967295],0);function p0(t){let e=zU().encode(t),n=new Xm;return n.update(e),new Uint8Array(n.digest())}function g0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new br([n,r],0),new br([i,s],0)]}var jy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wi(`Invalid padding: ${n}`);if(r<0)throw new wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=br.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(br.fromNumber(r)));return i.compare(GU)===1&&(i=new br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=p0(e),[r,i]=g0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=p0(e),[r,i]=g0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ad=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new Oe(_e),Wn(),fe())}},ac=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var Gs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Rd=class{constructor(e,n){this.targetId=e,this.me=n}},Md=class{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Nd=class{constructor(){this.fe=0,this.ge=y0(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new ac(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=y0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Uy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wn(),this.qe=m0(),this.Qe=new Oe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Ny(s))if(r===0){let o=new $(s.path);this.Ue(n,o,Wt.newNoDocument(o,ee.min()))}else Ce(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}f0?.et(function(f,p,m,v,S){var M,R,F,U,H,ce;let Re={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},J=p.unchangedNames;return J&&(Re.bloomFilter={applied:S===0,hashCount:(M=J?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(U=(F=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&U!==void 0?U:0,padding:(ce=(H=J?.bits)===null||H===void 0?void 0:H.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Re}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Sr(r).toUint8Array()}catch(u){if(u instanceof Cd)return Ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new jy(o,i,s)}catch(u){return Ks(u instanceof wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Ny(a.target)){let u=new $(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Wt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=fe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Ad(e,n,this.Qe,this.ke,r);return this.ke=Wn(),this.qe=m0(),this.Qe=new Oe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Nd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Nd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function m0(){return new Oe($.comparator)}function y0(){return new Oe($.comparator)}var WU={asc:"ASCENDING",desc:"DESCENDING"},KU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QU={and:"AND",or:"OR"},By=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function $y(t,e){return t.useProto3Json||Zd(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YU(t,e){return xd(t,e.toTimestamp())}function fn(t){return Ce(!!t),ee.fromTimestamp(function(n){let r=Gn(n);return new Ye(r.seconds,r.nanos)}(t))}function Yv(t,e){return Hy(t,e).canonicalString()}function Hy(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tS(t){let e=Pe.fromString(t);return Ce(oS(e)),e}function qy(t,e){return Yv(t.databaseId,e.path)}function oy(t,e){let n=tS(e);if(n.get(1)!==t.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(rS(n))}function nS(t,e){return Yv(t.databaseId,e)}function ZU(t){let e=tS(t);return e.length===4?Pe.emptyPath():rS(e)}function zy(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rS(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function v0(t,e,n){return{name:qy(t,e),fields:n.value.mapValue.fields}}function JU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(Ce(f===void 0||typeof f=="string"),at.fromBase64String(f||"")):(Ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array),at.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let f=l.code===void 0?N.UNKNOWN:X0(l.code);return new V(f,l.message||"")}(o);n=new Md(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=oy(t,r.document.name),s=fn(r.document.updateTime),o=r.document.createTime?fn(r.document.createTime):ee.min(),a=new Gt({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,s,o,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Gs(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=oy(t,r.document),s=r.readTime?fn(r.readTime):ee.min(),o=Wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=oy(t,r.document),s=r.removedTargetIds||[];n=new Gs([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Vy(i,s),a=r.targetId;n=new Rd(a,o)}}return n}function XU(t,e){let n;if(e instanceof Ri)n={update:v0(t,e.key,e.value)};else if(e instanceof Sd)n={delete:qy(t,e.key)};else if(e instanceof Kn)n={update:v0(t,e.key,e.data),updateMask:c2(e.fieldMask)};else{if(!(e instanceof Oy))return G();n={verify:qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof no)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Si)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ai)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ro)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function e2(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fn(i.updateTime):fn(s);return o.isEqual(ee.min())&&(o=fn(s)),new Py(o,i.transformResults||[])}(n,e))):[]}function t2(t,e){return{documents:[nS(t,e.path)]}}function n2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nS(t,i);let s=function(l){if(l.length!==0)return sS(gn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:Hs(m.field),direction:s2(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=$y(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function r2(t){let e=ZU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){let m=iS(p);return m instanceof gn&&L0(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new Xs(qs(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Zd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new Js(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new Js(v,m)}(n.endAt)),AU(e,i,o,s,a,"F",u,l)}function i2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=qs(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qs(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=qs(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=qs(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(qs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(r=>iS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function s2(t){return WU[t]}function o2(t){return KU[t]}function a2(t){return QU[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function qs(t){return St.fromServerFormat(t.fieldPath)}function sS(t){return t instanceof $e?function(n){if(n.op==="=="){if(i0(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(r0(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i0(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(r0(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:o2(n.op),value:n.value}}}(t):t instanceof gn?function(n){let r=n.getFilters().map(i=>sS(i));return r.length===1?r[0]:{compositeFilter:{op:a2(n.op),filters:r}}}(t):G()}function c2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var cc=class t{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Gy=class{constructor(e){this.ct=e}};function u2(t){let e=r2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xy(e,e.limit,"L"):e}var Pd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ic(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Gn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Sr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?O0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):P0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):G()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),$.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Pd.vt=new Pd;var Wy=class{constructor(){this.un=new Ky}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(bi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Ky=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Pe.comparator)).toArray()}};var _6=new Uint8Array(0);var un=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);var uc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Qy=class{constructor(){this.changes=new Ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Yy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Zy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nc(r.mutation,i,ln.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=Ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ja();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Wn(),o=tc(),a=function(){return tc()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Kn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),nc(f.mutation,l,f.mutation.getFieldMask(),Ye.now())):o.set(l.key,ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var p;return a.set(l,new Yy(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=tc(),i=new Oe((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||ln.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=z0();f.forEach(m=>{if(!s.has(m)){let v=Z0(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return $.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Ii()),a=-1,u=s;return o.next(l=>x.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,fe())).next(f=>({batchId:a,changes:q0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=Ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ja();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new eo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Wt.newInvalidDocument(f)))});let a=Ja();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&nc(f.mutation,l,ln.empty(),Ye.now()),Xd(n,l)&&(a=a.insert(u,l))}),a})}};var Jy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:u2(i.bundledQuery),readTime:fn(i.readTime)}}(n)),x.resolve()}};var Xy=class{constructor(){this.overlays=new Oe($.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ii();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Ii(),s=n.length+1,o=new $(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Ii(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=Ii(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ly(n,r));let s=this.Ir.get(n);s===void 0&&(s=fe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var ev=class{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var lc=class{constructor(){this.Tr=new ot(Le.Er),this.dr=new ot(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Le(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Le(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new $(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new $(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=fe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Le(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||$.comparator(e.key,n.key)}};var tv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ot(Le.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ky(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Le(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(_e);return n.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;$.isDocumentKey(s)||(s=s.child(""));let o=new Le(new $(s),0),a=new ot(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Le(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Le(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var nv=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Wn(),o=n.path,a=new $(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||yU(mU(f),r)<=0||(i.has(f.key)||Xd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rv(this)}getSize(e){return x.resolve(this.size)}},rv=class extends Qy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var iv=class{constructor(e){this.persistence=e,this.Nr=new Ar(n=>Gv(n),Wv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lc,this.targetCount=0,this.kr=uc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var sv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new N0(0),this.Kr=!1,this.Kr=!0,this.$r=new ev,this.referenceDelegate=e(this),this.Ur=new iv(this),this.indexManager=new Wy,this.remoteDocumentCache=function(i){return new nv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Gy(n),this.Gr=new Jy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new tv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new ov(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},ov=class extends vy{constructor(e){super(),this.currentSequenceNumber=e}},av=class t{constructor(e){this.persistence=e,this.Jr=new lc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=$.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var cv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var uv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var lv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kb()?8:_U(qe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new uv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Za()<=he.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",$s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Za()<=he.DEBUG&&L("QueryEngine","Query:",$s(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Za()<=he.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",$s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):x.resolve())}Yi(e,n){if(c0(n))return x.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xy(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=fe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,xy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return c0(n)||i.isEqual(ee.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(Za()<=he.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$s(n)),this.rs(e,o,n,gU(i,-1)).next(a=>a))})}ts(e,n){let r=new ot($0(e));return n.forEach((i,s)=>{Xd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Za()<=he.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",$s(n)),this.Ji.getDocumentsMatchingQuery(e,n,bi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var dv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(_e),this._s=new Ar(s=>Gv(s),Wv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function l2(t,e,n,r){return new dv(t,e,n,r)}function aS(t,e){return w(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=fe();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function d2(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>f.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);Ce(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cS(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h2(t,e){let n=Z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(at.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,f)&&a.push(n.Ur.updateTargetData(s,v))});let u=Wn(),l=fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(f2(s,o,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(ee.min())){let f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function f2(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Wn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function p2(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function g2(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new cc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function hv(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!mc(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function _0(t,e,n){let r=Z(t),i=ee.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=Z(u),m=p._s.get(f);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,f)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:fe())).next(a=>(m2(r,NU(e),a),{documents:a,Ts:s})))}function m2(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Od=class{constructor(){this.activeTargetIds=LU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var fv=class{constructor(){this.so=new Od,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Od,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var pv=class{_o(e){}shutdown(){}};var kd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yd=null;function ay(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}var y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var gv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var st="WebChannelConnection",mv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=ay(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ks("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=y2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=ay();return new Promise((o,a)=>{let u=new ey;u.setWithCredentials(!0),u.listenOnce(ny.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ya.NO_ERROR:let f=u.getResponseJson();L(st,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ya.TIMEOUT:L(st,`RPC '${e}' ${s} timed out`),a(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ya.HTTP_ERROR:let p=u.getStatus();if(L(st,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(v.status);a(new V(S,v.message))}else a(new V(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(N.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{L(st,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(st,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ay(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sy(),a=iy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new ty({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");L(st,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),m=!1,v=!1,S=new gv({Io:R=>{v?L(st,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(st,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(st,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,U)=>{R.listen(F,H=>{try{U(H)}catch(ce){setTimeout(()=>{throw ce},0)}})};return M(p,Bs.EventType.OPEN,()=>{v||(L(st,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,Bs.EventType.CLOSE,()=>{v||(v=!0,L(st,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,Bs.EventType.ERROR,R=>{v||(v=!0,Ks(st,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new V(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Bs.EventType.MESSAGE,R=>{var F;if(!v){let U=R.data[0];Ce(!!U);let H=U,ce=H.error||((F=H[0])===null||F===void 0?void 0:F.error);if(ce){L(st,`RPC '${e}' stream ${i} received error:`,ce);let Re=ce.status,J=function(_){let E=Fe[_];if(E!==void 0)return X0(E)}(Re),D=ce.message;J===void 0&&(J=N.INTERNAL,D="Unknown error status: "+Re+" with message "+ce.message),v=!0,S.So(new V(J,D)),p.close()}else L(st,`RPC '${e}' stream ${i} received:`,U),S.bo(U)}}),M(a,ry.STAT_EVENT,R=>{R.stat===gd.PROXY?L(st,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===gd.NOPROXY&&L(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function cy(){return typeof document<"u"?document:null}function eh(t){return new By(t,!0)}var Fd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ld=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Fd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(zn(n.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yv=class extends Ld{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=JU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?fn(o.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=zy(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Ny(u)?{documents:t2(s,u)}:{query:n2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eS(s,o.resumeToken);let l=$y(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=xd(s,o.snapshotVersion.toTimestamp());let l=$y(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=i2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=zy(this.serializer),n.removeTarget=e,this.a_(n)}},vv=class extends Ld{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=e2(e.writeResults,e.commitTime),r=fn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=zy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>XU(this.serializer,r))};this.a_(n)}};var _v=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Hy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Hy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Iv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zn(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var wv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Mi(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield yc(l),l.q_.set("Unknown"),l.L_.delete(4),yield th(l)})}(this))}))}),this.q_=new Iv(r,i)}};function th(t){return w(this,null,function*(){if(Mi(t))for(let e of t.B_)yield e(!0)})}function yc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function uS(t,e){let n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),e_(n)?Xv(n):lo(n).r_()&&Jv(n,e))}function Zv(t,e){let n=Z(t),r=lo(n);n.N_.delete(e),r.r_()&&lS(n,e),n.N_.size===0&&(r.r_()?r.o_():Mi(n)&&n.q_.set("Unknown"))}function Jv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(t).A_(e)}function lS(t,e){t.Q_.xe(e),lo(t).R_(e)}function Xv(t){t.Q_=new Uy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lo(t).start(),t.q_.v_()}function e_(t){return Mi(t)&&!lo(t).n_()&&t.N_.size>0}function Mi(t){return Z(t).L_.size===0}function dS(t){t.Q_=void 0}function v2(t){return w(this,null,function*(){t.q_.set("Online")})}function _2(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{Jv(t,e)})})}function I2(t,e){return w(this,null,function*(){dS(t),e_(t)?(t.q_.M_(e),Xv(t)):t.q_.set("Unknown")})}function w2(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Md&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Vd(t,r)}else if(e instanceof Gs?t.Q_.Ke(e):e instanceof Rd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{let r=yield cS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(l);f&&s.N_.set(l,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(at.EMPTY_BYTE_STRING,f.snapshotVersion)),lS(s,u);let p=new cc(f.target,u,l,f.sequenceNumber);Jv(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield Vd(t,r)}})}function Vd(t,e,n){return w(this,null,function*(){if(!mc(e))throw e;t.L_.add(1),yield yc(t),t.q_.set("Offline"),n||(n=()=>cS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield th(t)}))})}function hS(t,e){return e().catch(n=>Vd(t,n,e))}function nh(t){return w(this,null,function*(){let e=Z(t),n=Rr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;E2(e);)try{let i=yield p2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,D2(e,i)}catch(i){yield Vd(e,i)}fS(e)&&pS(e)})}function E2(t){return Mi(t)&&t.O_.length<10}function D2(t,e){t.O_.push(e);let n=Rr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function fS(t){return Mi(t)&&!Rr(t).n_()&&t.O_.length>0}function pS(t){Rr(t).start()}function C2(t){return w(this,null,function*(){Rr(t).p_()})}function b2(t){return w(this,null,function*(){let e=Rr(t);for(let n of t.O_)e.m_(n.mutations)})}function T2(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Fy.from(r,e,n);yield hS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield nh(t)})}function S2(t,e){return w(this,null,function*(){e&&Rr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return qU(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Rr(r).s_(),yield hS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield nh(r)}})}(t,e)),fS(t)&&pS(t)})}function I0(t,e){return w(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Mi(n);n.L_.add(3),yield yc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield th(n)})}function A2(t,e){return w(this,null,function*(){let n=Z(t);e?(n.L_.delete(2),yield th(n)):e||(n.L_.add(2),yield yc(n),n.q_.set("Unknown"))})}function lo(t){return t.K_||(t.K_=function(n,r,i){let s=Z(n);return s.w_(),new yv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:v2.bind(null,t),Ro:_2.bind(null,t),mo:I2.bind(null,t),d_:w2.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),e_(t)?Xv(t):t.q_.set("Unknown")):(yield t.K_.stop(),dS(t))}))),t.K_}function Rr(t){return t.U_||(t.U_=function(n,r,i){let s=Z(n);return s.w_(),new vv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:C2.bind(null,t),mo:S2.bind(null,t),f_:b2.bind(null,t),g_:T2.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield nh(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Ev=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function t_(t,e){if(zn("AsyncQueue",`${e}: ${t}`),mc(t))return new V(N.UNAVAILABLE,`${e}: ${t}`);throw t}var jd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=Ja(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ud=class{constructor(){this.W_=new Oe($.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},so=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,jd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Dv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Cv=class{constructor(){this.queries=w0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Z(n),s=i.queries;i.queries=w0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function w0(){return new Ar(t=>B0(t),Jd)}function R2(t,e){return w(this,null,function*(){let n=Z(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Dv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=t_(o,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&n_(n)})}function M2(t,e){return w(this,null,function*(){let n=Z(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function N2(t,e){let n=Z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&n_(n)}function x2(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function n_(t){t.Y_.forEach(e=>{e.next()})}var bv,E0;(E0=bv||(bv={})).ea="default",E0.Cache="cache";var Tv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bv.Cache}};var Bd=class{constructor(e){this.key=e}},$d=class{constructor(e){this.key=e}},Sv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=$0(e),this.Ra=new jd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Ud,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),v=Xd(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,p)=>function(v,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return M(v)-M(S)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new so(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ud,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new $d(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Bd(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return so.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Av=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Rv=class{constructor(e){this.key=e,this.va=!1}},Mv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ar(a=>B0(a),Jd),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe($.comparator),this.Na=new Map,this.La=new lc,this.Ba={},this.ka=new Map,this.qa=uc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function P2(t,e,n=!0){return w(this,null,function*(){let r=IS(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield gS(r,e,n,!0),i})}function O2(t,e){return w(this,null,function*(){let n=IS(t);yield gS(n,e,!0,!1)})}function gS(t,e,n,r){return w(this,null,function*(){let i=yield g2(t.localStore,hn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield k2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&uS(t.remoteStore,i),a})}function k2(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(M,R,F,U){return w(this,null,function*(){let H=R.view.ma(F);H.ns&&(H=yield _0(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,H)));let ce=U&&U.targetChanges.get(R.targetId),Re=U&&U.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(H,M.isPrimaryClient,ce,Re);return C0(M,R.targetId,J.wa),J.snapshot})}(t,p,m,v);let s=yield _0(t.localStore,e,!0),o=new Sv(e,s.Ts),a=o.ma(s.documents),u=ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);C0(t,n,l.wa);let f=new Av(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function F2(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Jd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield hv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zv(r.remoteStore,i.targetId),Nv(r,i.targetId)}).catch(gc))):(Nv(r,i.targetId),yield hv(r.localStore,i.targetId,!0))})}function L2(t,e){return w(this,null,function*(){let n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zv(n.remoteStore,r.targetId))})}function V2(t,e,n){return w(this,null,function*(){let r=z2(t);try{let i=yield function(o,a){let u=Z(o),l=Ye.now(),f=a.reduce((v,S)=>v.add(S.key),fe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Wn(),M=fe();return u.cs.getEntries(v,f).next(R=>{S=R,S.forEach((F,U)=>{U.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let F=[];for(let U of a){let H=HU(U,p.get(U.key).overlayedDocument);H!=null&&F.push(new Kn(U.key,H,k0(H.value.mapValue),Di.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:q0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(_e)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield vc(r,i.changes),yield nh(r.remoteStore)}catch(i){let s=t_(i,"Failed to persist write");n.reject(s)}})}function mS(t,e){return w(this,null,function*(){let n=Z(t);try{let r=yield h2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ce(o.va):i.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),yield vc(n,r,e)}catch(r){yield gc(r)}})}function D0(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Z(o);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&n_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function j2(t,e,n){return w(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe($.comparator);o=o.insert(s,Wt.newNoDocument(s,ee.min()));let a=fe().add(s),u=new Ad(ee.min(),new Map,new Oe(_e),o,a);yield mS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),r_(r)}else yield hv(r.localStore,e,!1).then(()=>Nv(r,e,n)).catch(gc)})}function U2(t,e){return w(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield d2(n.localStore,e);vS(n,r,null),yS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield vc(n,i)}catch(i){yield gc(i)}})}function B2(t,e,n){return w(this,null,function*(){let r=Z(t);try{let i=yield function(o,a){let u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);vS(r,e,n),yS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield vc(r,i)}catch(i){yield gc(i)}})}function yS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function vS(t,e,n){let r=Z(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_S(t,r)})}function _S(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Zv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),r_(t))}function C0(t,e,n){for(let r of n)r instanceof Bd?(t.La.addReference(r.key,e),$2(t,r)):r instanceof $d?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_S(t,r.key)):G()}function $2(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),r_(t))}function r_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new $(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new Rv(n)),t.Oa=t.Oa.insert(n,r),uS(t.remoteStore,new cc(hn(Kv(n.path)),r,"TargetPurposeLimboResolution",N0.oe))}}function vc(t,e,n){return w(this,null,function*(){let r=Z(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=cv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=Z(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!mc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=f.os.get(m),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(m,M)}}})}(r.localStore,s))})}function H2(t,e){return w(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield aS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new V(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vc(n,r.hs)}})}function q2(t,e){let n=Z(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function IS(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j2.bind(null,e),e.Ca.d_=N2.bind(null,e.eventManager),e.Ca.$a=x2.bind(null,e.eventManager),e}function z2(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B2.bind(null,e),e}var Hd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return l2(this.persistence,new lv,e.initialUser,this.serializer)}createPersistence(e){return new sv(av.Zr,this.serializer)}createSharedClientState(e){return new fv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var xv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H2.bind(null,this.syncEngine),yield A2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Cv}()}createDatastore(e){let n=eh(e.databaseInfo.databaseId),r=function(s){return new mv(s)}(e.databaseInfo);return function(s,o,a,u){return new _v(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new wv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D0(this.syncEngine,n,0),function(){return kd.D()?new kd:new pv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,f){let p=new Mv(i,s,o,a,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Z(i);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield yc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Pv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Ov=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ze.UNAUTHENTICATED,this.clientId=wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=t_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function uy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield aS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function b0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield W2(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>I0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>I0(e.remoteStore,i)),t._onlineComponents=e})}function G2(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function W2(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!G2(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),yield uy(t,new Hd)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield uy(t,new Hd);return t._offlineComponents})}function wS(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield b0(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield b0(t,new xv))),t._onlineComponents})}function K2(t){return wS(t).then(e=>e.syncEngine)}function T0(t){return w(this,null,function*(){let e=yield wS(t),n=e.eventManager;return n.onListen=P2.bind(null,e.syncEngine),n.onUnlisten=F2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L2.bind(null,e.syncEngine),n})}function ES(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var S0=new Map;function DS(t,e,n){if(!n)throw new V(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q2(t,e,n,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A0(t){if(!$.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R0(t){if($.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function i_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function rc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=i_(t);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var qd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},oo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ly;switch(r.type){case"firstParty":return new py(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=S0.get(n);r&&(L("ComponentProvider","Removing Datastore"),S0.delete(n),r.terminate())}(this),Promise.resolve()}};function CS(t,e,n,r={}){var i;let s=(t=rc(t,oo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ze.MOCK_USER;else{a=Mb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ze(l)}t._authCredentials=new dy(new Id(a,u))}}var zd=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Tr=class t extends zd{constructor(e,n,r){super(e,n,Kv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function rh(t,e,...n){if(t=yt(t),DS("collection","path",e),t instanceof oo){let r=Pe.fromString(e,...n);return R0(r),new Tr(t,null,r)}{if(!(t instanceof Lt||t instanceof Tr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return R0(r),new Tr(t.firestore,null,r)}}function bS(t,e,...n){if(t=yt(t),arguments.length===1&&(e=wd.newId()),DS("doc","path",e),t instanceof oo){let r=Pe.fromString(e,...n);return A0(r),new Lt(t,null,new $(r))}{if(!(t instanceof Lt||t instanceof Tr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return A0(r),new Lt(t.firestore,t instanceof Tr?t.converter:null,new $(r))}}var kv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Fd(this,"async_queue_retry"),this.Eu=()=>{let n=cy();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=cy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=cy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new qn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!mc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Ev.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&G()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function M0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ao=class extends oo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new kv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||AS(this),this._firestoreClient.terminate()}};function TS(t,e){let n=typeof t=="object"?t:Os(),r=typeof t=="string"?t:e||"(default)",i=Ba(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Rb("firestore");s&&CS(i,...s)}return i}function SS(t){return t._firestoreClient||AS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AS(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,f){return new _y(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ES(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Ov(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var dc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(at.fromBase64String(e))}catch(n){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var hc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Gd=class{constructor(e){this._methodName=e}};var fc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var pc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Y2=/^__.*__$/,Fv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ri(e,this.data,n,this.fieldTransforms)}};function RS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Lv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Wd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(RS(this.wu)&&Y2.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Vv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||eh(e)}Nu(e,n,r,i=!1){return new Lv({wu:e,methodName:n,Ou:r,path:St.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Z2(t){let e=t._freezeSettings(),n=eh(t._databaseId);return new Vv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J2(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);PS("Data must be an object, but it was:",o,r);let a=NS(r,o),u,l;if(s.merge)u=new ln(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let m=X2(e,p,n);if(!o.contains(m))throw new V(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);tB(f,m)||f.push(m)}u=new ln(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Fv(new Gt(a),u,l)}function MS(t,e){if(xS(t=yt(t)))return PS("Unsupported field value:",e,t),NS(t,e);if(t instanceof Gd)return function(r,i){if(!RS(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=MS(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ye.fromDate(r);return{timestampValue:xd(i.serializer,s)}}if(r instanceof Ye){let s=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(i.serializer,s)}}if(r instanceof fc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dc)return{bytesValue:eS(i.serializer,r._byteString)};if(r instanceof Lt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Qv(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${i_(r)}`)}(t,e)}function NS(t,e){let n={};return x0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(r,i)=>{let s=MS(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof fc||t instanceof dc||t instanceof Lt||t instanceof Gd||t instanceof pc)}function PS(t,e,n){if(!xS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=i_(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function X2(t,e,n){if((e=yt(e))instanceof hc)return e._internalPath;if(typeof e=="string")return OS(t,e);throw Wd("Field path arguments must be of type string or ",t,!1,void 0,n)}var eB=new RegExp("[~\\*/\\[\\]]");function OS(t,e,n){if(e.search(eB)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hc(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(N.INVALID_ARGUMENT,a+t+u)}function tB(t,e){return t.some(n=>n.isEqual(e))}var Kd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new jv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(kS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},jv=class extends Kd{data(){return super.data()}};function kS(t,e){return typeof e=="string"?OS(t,e):e instanceof hc?e._internalPath:e._delegate._internalPath}function nB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Uv=class{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return uo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new pc(s)}convertGeoPoint(e){return new fc(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=qv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){let n=Gn(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);Ce(oS(r));let i=new bd(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(n)||zn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function rB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ei=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Qd=class extends Kd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(kS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ws=class extends Qd{data(e={}){return super.data(e)}},Bv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ei(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ws(this._firestore,this._userDataWriter,r.key,r,new Ei(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:iB(a.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function iB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}var Yd=class extends Uv{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}};function FS(t,e){let n=rc(t.firestore,ao),r=bS(t),i=rB(t.converter,e);return sB(n,[J2(Z2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Di.exists(!1))]).then(()=>r)}function s_(t,...e){var n,r,i;t=yt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||M0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(M0(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof Lt)l=rc(t.firestore,ao),f=Kv(t._key.path),u={next:p=>{e[o]&&e[o](oB(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=rc(t,zd);l=rc(p.firestore,ao),f=p._query;let m=new Yd(l);u={next:v=>{e[o]&&e[o](new Bv(l,m,p,v))},error:e[o+1],complete:e[o+2]},nB(t._query)}return function(m,v,S,M){let R=new Pv(M),F=new Tv(v,R,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return R2(yield T0(m),F)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return M2(yield T0(m),F)}))}}(SS(l),f,a,u)}function sB(t,e){return function(r,i){let s=new qn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return V2(yield K2(r),i,s)})),s.promise}(SS(t),e)}function oB(t,e,n){let r=n.docs.get(e._key),i=new Yd(t);return new Qd(t,i,e._key,r,new Ei(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){co=i})(Ir),_r(new Ft("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ao(new hy(r.getProvider("auth-internal")),new my(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Be(XT,"4.7.1",e),Be(XT,"4.7.1","esm2017")})();var ih=function(){return ih=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ih.apply(this,arguments)};var uB={includeMetadataChanges:!1};function LS(t,e){return e===void 0&&(e=uB),new le(function(n){var r=s_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function VS(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:ih(ih({},r),(n={},n[e.idField]=t.id,n))}function jS(t){return LS(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function US(t,e){return e===void 0&&(e={}),jS(t).pipe(re(function(n){return n.map(function(r){return VS(r,e)})}))}var Ni=class{constructor(e){return e}},BS="firestore",o_=class{constructor(){return $a(BS)}};var a_=new j("angularfire2.firestore-instances");function lB(t,e){let n=Kl(BS,t,e);return n&&new Ni(n)}function dB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ni(r)}}var hB={provide:o_,deps:[[new pt,a_]]},fB={provide:Ni,useFactory:lB,deps:[[new pt,a_],Un]};function $S(t,...e){return Be("angularfire",fi.full,"fst"),tn([fB,hB,{provide:a_,useFactory:dB(t),multi:!0,deps:[we,ft,Ls,pi,[new pt,Qa],[new pt,Fs],...e]}])}var HS=jn(US,!0);var qS=jn(FS,!0);var zS=jn(TS,!0);var sh=class t{constructor(e,n){this.router=e;this.firestore=n}nombreIngresado="carlos";claveIngresada=123;user="";errorLogin=!1;loginsCollection=[];countLogins=0;sub;goTo(){this.router.navigate(["/registro"])}Login(){let e=rh(this.firestore,"logins");qS(e,{fecha:new Date,user:this.user})}GetData(){let e=rh(this.firestore,"logins"),n=HS(e);this.sub=n.subscribe(r=>{this.loginsCollection=r,this.countLogins=this.loginsCollection.length,console.log(r)})}static \u0275fac=function(n){return new(n||t)(se(sn),se(Ni))};static \u0275cmp=gt({type:t,selectors:[["app-login"]],standalone:!0,features:[mt],decls:24,vars:2,consts:[[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","placeholder","Ingrese su nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","placeholder","Ingrese su contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["id","registrarse",1,"text-decoration-none",3,"click"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1)(2,"h1",2),te(3,"Inicio Sesi\xF3n"),K(),q(4,"form")(5,"div",3)(6,"label",4),te(7,"Nombre"),K(),q(8,"input",5),ti("ngModelChange",function(s){return vs(r.nombreIngresado,s)||(r.nombreIngresado=s),s}),K()(),q(9,"div",3)(10,"label",6),te(11,"Contrase\xF1a"),K(),q(12,"input",7),ti("ngModelChange",function(s){return vs(r.claveIngresada,s)||(r.claveIngresada=s),s}),K()(),q(13,"div",8)(14,"a",9),te(15,"\xBFOlvid\xF3 su contrase\xF1a?"),K()(),q(16,"button",10),te(17,"Ingresar"),K(),q(18,"div",11)(19,"span"),te(20,"\xBFNo tienes una cuenta?"),K(),q(21,"a",12),nn("click",function(){return r.goTo()}),te(22,"Registrarse"),K()()()()(),Ke(23,"router-outlet")),n&2&&(ms(8),ei("ngModel",r.nombreIngresado),ms(4),ei("ngModel",r.claveIngresada))},dependencies:[Ta,ia,Bl,Ul,Ps,Ll,Vl,Fa,ka,Oa],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none}.form-control[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 10px #ffcc0080}label[_ngcontent-%COMP%]{margin-left:10px;font-weight:700}#registrarse[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#000;text-decoration:none}#registrarse[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0}span[_ngcontent-%COMP%]{font-weight:700}"]})};var oh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=gt({type:t,selectors:[["app-home"]],standalone:!0,features:[mt],decls:27,vars:0,consts:[[1,"seccion-juegos"],[1,"preguntados"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfcCz3JlM4xlxLvDWPSj71xusZCerXq0QEpg&s","alt","preguntados"],["href","scores"],[1,"mayor-menor"],["src","https://resizer.glanacion.com/resizer/v2/un-juego-con-cartas-espanolas-sin-comodines-ni-L4YAHBM6IVBLNEJA5E33NQTKHI.jpg?auth=c4b877fbfbe96ead5811742b26ba93b66a4e97730d76bc15e6920f84a1745fd4&width=768&quality=70&smart=false","alt","mayor o menor"],[1,"ahorcado"],["src","https://cdn-icons-png.flaticon.com/512/2241/2241387.png","alt","ahorcado"],[1,"juego-nuevo"],["src","https://img.freepik.com/vector-gratis/hoja-trabajo-juego-combinacion-creativo-animales_23-2148782846.jpg","alt","juego nuevo"]],template:function(n,r){n&1&&(q(0,"h1"),te(1,"Seccion de Juegos"),K(),q(2,"div",0)(3,"div",1),Ke(4,"img",2),q(5,"p"),te(6,"Preguntados"),K(),q(7,"a",3),te(8,"ver puntuacion"),K()(),q(9,"div",4),Ke(10,"img",5),q(11,"p"),te(12,"Mayor o Menor"),K(),q(13,"a",3),te(14,"ver puntuacion"),K()(),q(15,"div",6),Ke(16,"img",7),q(17,"p"),te(18,"Ahorcado"),K(),q(19,"a",3),te(20,"ver puntuacion"),K()(),q(21,"div",8),Ke(22,"img",9),q(23,"p"),te(24,"Juego Nuevo"),K(),q(25,"a",3),te(26,"ver puntuacion"),K()()())},styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:80px;font-size:3.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}p[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-weight:700;margin:40px 0}.seccion-juegos[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:100px;padding:20px;align-items:center}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;box-shadow:0 4px 8px #00000080;transition:transform .3s ease}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer;box-shadow:0 4px 8px #000}a[_ngcontent-%COMP%]{background-color:#deb887;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;color:#fff;padding:10px 20px;margin-left:110px;text-decoration:none;border-radius:15px;font-size:1.2em;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{background-color:#e6ab5e;transform:scale(1.05)}a[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}"]})};var ah=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=gt({type:t,selectors:[["app-error"]],standalone:!0,features:[mt],decls:2,vars:0,template:function(n,r){n&1&&(q(0,"p"),te(1,"error works!"),K())}})};var ch=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=gt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[mt],decls:20,vars:0,consts:[[1,"container","mt-5","p-5","bg-light","rounded-5","shadow-lg",2,"background-size","cover","background-position","center"],[1,"row","align-items-center","bg-card","rounded-5","shadow","p-4"],[1,"col-md-4","text-center"],["src","../../../../public/quiensoy.jpeg","alt","Juan Pablo",1,"img-fluid","rounded-circle","shadow",2,"max-width","320px"],[1,"col-md-8"],[1,"mb-4","text-dark","display-4"],[1,"lead","text-dark"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1)(2,"div",2),Ke(3,"img",3),K(),q(4,"div",4)(5,"h1",5),te(6,"Me llamo Juan Pablo De Maio"),K(),q(7,"p",6)(8,"strong"),te(9,"Edad:"),K(),te(10," 19 a\xF1os"),Ke(11,"br"),q(12,"strong"),te(13,"Estudios:"),K(),te(14," Actualmente estudio en la UTN, cursando la carrera de T\xE9cnico en Programaci\xF3n."),Ke(15,"br"),q(16,"strong"),te(17,"Juego con Cartas o Im\xE1genes"),K(),Ke(18,"br"),te(19," Descripci\xF3n: Pensaba en mostrar una serie de cartas que se van a dar vuelta, despu\xE9s se volver\xEDan a dar vuelta y el jugador deber\xEDa ir clickeando en el orden que se fueron mostrando las cartas. Se deber\xEDa subir la dificultad ocultando las cartas m\xE1s r\xE1pido e ir sumando puntos. "),K()()()())},styles:[".container[_ngcontent-%COMP%]{border-radius:30px;background-size:cover;background-position:center;overflow:hidden}.bg-card[_ngcontent-%COMP%]{background-color:#7dd86299;border:1px solid rgba(208,250,195,.8);box-shadow:0 4px 8px #0003;padding:20px}h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2.5rem;font-weight:700;color:#343a40}p.lead[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.2rem;line-height:1.8;color:#343a40}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:320px;border:5px solid #ffc107}.rounded-5[_ngcontent-%COMP%]{border-radius:30px!important}.bg-light[_ngcontent-%COMP%]{background-color:#d0fac399!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 20px #0003}"]})};var uh=class t{constructor(e,n){this.auth=e}nuevoEmail="";nuevaClave="";router;usuarioLoggeado="";flagError=!1;msjError="";Register(){QT(this.auth,this.nuevoEmail,this.nuevaClave).then(e=>{e.user.email!==null&&(this.usuarioLoggeado=e.user.email),this.flagError=!1}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.msjError="Email invalido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;default:this.msjError=e.code;break}})}static \u0275fac=function(n){return new(n||t)(se(_i),se(sn))};static \u0275cmp=gt({type:t,selectors:[["app-registro"]],standalone:!0,features:[mt],decls:23,vars:2,consts:[[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[1,"form-group"],["for","mail"],["type","text","id","email","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","placeholder","Ingrese una contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["id","registrarse",1,"text-decoration-none"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1)(2,"h1",2),te(3,"Inicio Sesi\xF3n"),K(),q(4,"form")(5,"div",3)(6,"label",4),te(7,"email"),K(),q(8,"input",5),ti("ngModelChange",function(s){return vs(r.nuevoEmail,s)||(r.nuevoEmail=s),s}),K()(),q(9,"div",3)(10,"label",6),te(11,"Contrase\xF1a"),K(),q(12,"input",7),ti("ngModelChange",function(s){return vs(r.nuevaClave,s)||(r.nuevaClave=s),s}),K()(),q(13,"div",8)(14,"a",9),te(15,"\xBFOlvid\xF3 su contrase\xF1a?"),K()(),q(16,"button",10),te(17,"registrarse"),K(),q(18,"div",11)(19,"span"),te(20,"\xBFya tienes una cuenta?"),K(),q(21,"a",12),te(22,"iniciar sesion"),K()()()()()),n&2&&(ms(8),ei("ngModel",r.nuevoEmail),ms(4),ei("ngModel",r.nuevaClave))},dependencies:[ia,Bl,Ul,Ps,Ll,Vl,Fa,ka,Oa]})};var GS=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:sh},{path:"home",component:oh},{path:"quien-soy",component:ch},{path:"registro",component:uh},{path:"**",component:ah}];var WS={projectId:"sala-juegos-ab9cb",appId:"1:639687055629:web:6ec8a897ad3ef0f988b844",storageBucket:"sala-juegos-ab9cb.appspot.com",apiKey:"AIzaSyD_AqRMAi5HFadu1U_VaF4wAZPHBskjQWs",authDomain:"sala-juegos-ab9cb.firebaseapp.com",messagingSenderId:"639687055629"};var KS={providers:[JD({eventCoalescing:!0}),rb(GS),Xb(()=>eT(WS)),KT(()=>YT()),$S(()=>zS())]};var lh=class t{constructor(e){this.router=e}title="sala-de-juegos";goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(se(sn))};static \u0275cmp=gt({type:t,selectors:[["app-root"]],standalone:!0,features:[mt],decls:11,vars:0,consts:[[1,"navbar"],["routerLink","home","routerLinkActive","active-route",1,"nav-link"],["routerLink","quien-soy","routerLinkActive","active-route",1,"nav-link"],[1,"nav-links-derecha"],[1,"nav-link-perfil"],["routerLink","login","routerLinkActive","active-route",1,"nav-link-login",3,"click"]],template:function(n,r){n&1&&(q(0,"nav",0)(1,"a",1),te(2,"HOME"),K(),q(3,"a",2),te(4,"QUIEN SOY"),K(),q(5,"div",3)(6,"a",4),te(7,"PERFIL"),K(),q(8,"a",5),nn("click",function(){return r.goTo("login")}),te(9,"LOGIN"),K()()(),Ke(10,"router-outlet"))},dependencies:[Ta,Sl,nb],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;background-color:#deb887;border-radius:20px;padding:5px 10px;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e6ab5e}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.nav-link[_ngcontent-%COMP%]{margin:0 50px;font-size:1.5em}.nav-links-derecha[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:100px}.nav-link-login[_ngcontent-%COMP%], .nav-link-perfil[_ngcontent-%COMP%]{font-size:1.5em}.nav-link-login[_ngcontent-%COMP%]{margin-right:50px}"]})};_C(lh,KS).catch(t=>console.error(t));
