var eN=Object.create;var Yp=Object.defineProperty,tN=Object.defineProperties,nN=Object.getOwnPropertyDescriptor,rN=Object.getOwnPropertyDescriptors,iN=Object.getOwnPropertyNames,oE=Object.getOwnPropertySymbols,cE=Object.getPrototypeOf,uE=Object.prototype.hasOwnProperty,sN=Object.prototype.propertyIsEnumerable,oN=Reflect.get;var aE=(t,e,n)=>e in t?Yp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||={})uE.call(e,n)&&aE(t,n,e[n]);if(oE)for(var n of oE(e))sN.call(e,n)&&aE(t,n,e[n]);return t},Le=(t,e)=>tN(t,rN(e));var aN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var cN=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of iN(e))!uE.call(t,i)&&i!==n&&Yp(t,i,{get:()=>e[i],enumerable:!(r=nN(e,i))||r.enumerable});return t};var zH=(t,e,n)=>(n=t!=null?eN(cE(t)):{},cN(e||!t||!t.__esModule?Yp(n,"default",{value:t,enumerable:!0}):n,t));var pi=(t,e,n)=>oN(cE(t),n,e);var D=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(d){i(d)}},o=u=>{try{a(n.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var UV=aN((nr,xv)=>{"use strict";(function(t,e){typeof nr=="object"&&typeof xv<"u"?xv.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(nr,function(){"use strict";function t(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,h){return l.get(t(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(t(l,h),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,I=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),h()},s),window.scrollTo(y,I)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),_=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),N="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),M=l=>{console.warn(`${N} ${typeof l=="object"?l.join(" "):l}`)},F=l=>{console.error(`${N} ${l}`)},H=[],Q=l=>{H.includes(l)||(H.push(l),M(l))},Y=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Q(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},_e=l=>typeof l=="function"?l():l,Z=l=>l&&typeof l.toPromise=="function",C=l=>Z(l)?l.toPromise():Promise.resolve(l),E=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${g.container}`),S=l=>{let h=b();return h?h.querySelector(l):null},A=l=>S(`.${l}`),R=()=>A(g.popup),T=()=>A(g.icon),yn=()=>A(g["icon-content"]),Kr=()=>A(g.title),ac=()=>A(g["html-container"]),Qr=()=>A(g.image),hr=()=>A(g["progress-steps"]),Yr=()=>A(g["validation-message"]),Wt=()=>S(`.${g.actions} .${g.confirm}`),Zr=()=>S(`.${g.actions} .${g.cancel}`),Tt=()=>S(`.${g.actions} .${g.deny}`),dt=()=>A(g["input-label"]),Jr=()=>S(`.${g.loader}`),vn=()=>A(g.actions),fl=()=>A(g.footer),Fn=()=>A(g["timer-progress-bar"]),cc=()=>A(g.close),xp=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Xr=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort(($,he)=>{let Ae=parseInt($.getAttribute("tabindex")||"0"),ze=parseInt(he.getAttribute("tabindex")||"0");return Ae>ze?1:Ae<ze?-1:0}),I=l.querySelectorAll(xp),P=Array.from(I).filter($=>$.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(P))].filter($=>vt($))},ei=()=>Kt(document.body,g.shown)&&!Kt(document.body,g["toast-shown"])&&!Kt(document.body,g["no-backdrop"]),ti=()=>{let l=R();return l?Kt(l,g.toast):!1},uc=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},yt=(l,h)=>{if(l.textContent="",h){let I=new DOMParser().parseFromString(h,"text/html"),P=I.querySelector("head");P&&Array.from(P.childNodes).forEach(he=>{l.appendChild(he)});let $=I.querySelector("body");$&&Array.from($.childNodes).forEach(he=>{he instanceof HTMLVideoElement||he instanceof HTMLAudioElement?l.appendChild(he.cloneNode(!0)):l.appendChild(he)})}},Kt=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let I=0;I<y.length;I++)if(!l.classList.contains(y[I]))return!1;return!0},pl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(_).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Dt=(l,h,y)=>{if(pl(l,h),!h.customClass)return;let I=h.customClass[y];if(I){if(typeof I!="string"&&!I.forEach){M(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof I}"`);return}pe(l,I)}},go=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},lc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},dc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(I=>{Array.isArray(l)?l.forEach(P=>{y?P.classList.add(I):P.classList.remove(I)}):y?l.classList.add(I):l.classList.remove(I)}))},pe=(l,h)=>{dc(l,h,!0)},Qt=(l,h)=>{dc(l,h,!1)},Vn=(l,h)=>{let y=Array.from(l.children);for(let I=0;I<y.length;I++){let P=y[I];if(P instanceof HTMLElement&&Kt(P,h))return P}},wn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},qe=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},Ze=l=>{l&&(l.style.display="none")},Je=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{jn(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},ht=(l,h,y,I)=>{let P=l.querySelector(h);P&&P.style.setProperty(y,I)},jn=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?qe(l,y):Ze(l)},vt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),gl=()=>!vt(Wt())&&!vt(Tt())&&!vt(Zr()),ml=l=>l.scrollHeight>l.clientHeight,ni=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),I=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||I>0},mo=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Fn();y&&vt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},yl=()=>{let l=Fn();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),I=h/y*100;l.style.width=`${I}%`},yo=()=>typeof window>"u"||typeof document>"u",Np=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Mp=()=>{let l=b();return l?(l.remove(),Qt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},In=()=>{o.currentInstance.resetValidationMessage()},vl=()=>{let l=R(),h=Vn(l,g.input),y=Vn(l,g.file),I=l.querySelector(`.${g.range} input`),P=l.querySelector(`.${g.range} output`),$=Vn(l,g.select),he=l.querySelector(`.${g.checkbox} input`),Ae=Vn(l,g.textarea);h.oninput=In,y.onchange=In,$.onchange=In,he.onchange=In,Ae.oninput=In,I.oninput=()=>{In(),P.value=I.value},I.onchange=()=>{In(),P.value=I.value}},wl=l=>typeof l=="string"?document.querySelector(l):l,ns=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},hc=l=>{window.getComputedStyle(l).direction==="rtl"&&pe(b(),g.rtl)},fc=l=>{let h=Mp();if(yo()){F("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&pe(y,g["no-transition"]),yt(y,Np);let I=wl(l.target);I.appendChild(y),ns(l),hc(I),vl()},_n=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?Il(l,h):l&&yt(h,l)},Il=(l,h)=>{l.jquery?vo(h,l):yt(h,l.toString())},vo=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},Un=(()=>{if(yo())return!1;let l=document.createElement("div");return typeof l.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof l.style.animation<"u"?"animationend":!1})(),rs=(l,h)=>{let y=vn(),I=Jr();!y||!I||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Ze(y):qe(y),Dt(y,h,"actions"),_l(y,I,h),yt(I,h.loaderHtml||""),Dt(I,h,"loader"))};function _l(l,h,y){let I=Wt(),P=Tt(),$=Zr();!I||!P||!$||(wo(I,"confirm",y),wo(P,"deny",y),wo($,"cancel",y),wt(I,P,$,y),y.reverseButtons&&(y.toast?(l.insertBefore($,I),l.insertBefore(P,I)):(l.insertBefore($,h),l.insertBefore(P,h),l.insertBefore(I,h))))}function wt(l,h,y,I){if(!I.buttonsStyling){Qt([l,h,y],g.styled);return}pe([l,h,y],g.styled),I.confirmButtonColor&&(l.style.backgroundColor=I.confirmButtonColor,pe(l,g["default-outline"])),I.denyButtonColor&&(h.style.backgroundColor=I.denyButtonColor,pe(h,g["default-outline"])),I.cancelButtonColor&&(y.style.backgroundColor=I.cancelButtonColor,pe(y,g["default-outline"]))}function wo(l,h,y){let I=O(h);jn(l,y[`show${I}Button`],"inline-block"),yt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Dt(l,y,`${h}Button`)}let is=(l,h)=>{let y=cc();y&&(yt(y,h.closeButtonHtml||""),Dt(y,h,"closeButton"),jn(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},ss=(l,h)=>{let y=b();y&&(Pp(y,h.backdrop),kp(y,h.position),ri(y,h.grow),Dt(y,h,"container"))};function Pp(l,h){typeof h=="string"?l.style.background=h:h||pe([document.documentElement,document.body],g["no-backdrop"])}function kp(l,h){h&&(h in g?pe(l,g[h]):(M('The "position" parameter is not valid, defaulting to "center"'),pe(l,g.center)))}function ri(l,h){h&&pe(l,g[`grow-${h}`])}var Ne={innerParams:new WeakMap,domCache:new WeakMap};let Op=["input","file","range","select","radio","checkbox","textarea"],Io=(l,h)=>{let y=R();if(!y)return;let I=Ne.innerParams.get(l),P=!I||h.input!==I.input;Op.forEach($=>{let he=Vn(y,g[$]);he&&(_o($,h.inputAttributes),he.className=g[$],P&&Ze(he))}),h.input&&(P&&El(h),Bn(h))},El=l=>{if(!l.input)return;if(!Ve[l.input]){F(`Unexpected type of input! Expected ${Object.keys(Ve).join(" | ")}, got "${l.input}"`);return}let h=bo(l.input);if(!h)return;let y=Ve[l.input](h,l);qe(h),l.inputAutoFocus&&setTimeout(()=>{lc(y)})},pc=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},_o=(l,h)=>{let y=R();if(!y)return;let I=go(y,l);if(I){pc(I);for(let P in h)I.setAttribute(P,h[P])}},Bn=l=>{if(!l.input)return;let h=bo(l.input);h&&Dt(h,l,"input")},Eo=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},ii=(l,h,y)=>{if(y.inputLabel){let I=document.createElement("label"),P=g["input-label"];I.setAttribute("for",l.id),I.className=P,typeof y.customClass=="object"&&pe(I,y.customClass.inputLabel),I.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",I)}},bo=l=>{let h=R();if(h)return Vn(h,g[l]||g.input)},si=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:E(h)||M(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Ve={};Ve.text=Ve.email=Ve.password=Ve.number=Ve.tel=Ve.url=Ve.search=Ve.date=Ve["datetime-local"]=Ve.time=Ve.week=Ve.month=(l,h)=>(si(l,h.inputValue),ii(l,l,h),Eo(l,h),l.type=h.input,l),Ve.file=(l,h)=>(ii(l,l,h),Eo(l,h),l),Ve.range=(l,h)=>{let y=l.querySelector("input"),I=l.querySelector("output");return si(y,h.inputValue),y.type=h.input,si(I,h.inputValue),ii(y,l,h),l},Ve.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");yt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return ii(l,l,h),l},Ve.radio=l=>(l.textContent="",l),Ve.checkbox=(l,h)=>{let y=go(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let I=l.querySelector("span");return yt(I,h.inputPlaceholder||h.inputLabel),y},Ve.textarea=(l,h)=>{si(l,h.inputValue),Eo(l,h),ii(l,l,h);let y=I=>parseInt(window.getComputedStyle(I).marginLeft)+parseInt(window.getComputedStyle(I).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let I=parseInt(window.getComputedStyle(R()).width),P=()=>{if(!document.body.contains(l))return;let $=l.offsetWidth+y(l);$>I?R().style.width=`${$}px`:wn(R(),"width",h.width)};new MutationObserver(P).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let bl=(l,h)=>{let y=ac();y&&(Je(y),Dt(y,h,"htmlContainer"),h.html?(_n(h.html,y),qe(y,"block")):h.text?(y.textContent=h.text,qe(y,"block")):Ze(y),Io(l,h))},Lp=(l,h)=>{let y=fl();y&&(Je(y),jn(y,h.footer,"block"),h.footer&&_n(h.footer,y),Dt(y,h,"footer"))},To=(l,h)=>{let y=Ne.innerParams.get(l),I=T();if(I){if(y&&h.icon===y.icon){Do(I,h),gc(I,h);return}if(!h.icon&&!h.iconHtml){Ze(I);return}if(h.icon&&Object.keys(_).indexOf(h.icon)===-1){F(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Ze(I);return}qe(I),Do(I,h),gc(I,h),pe(I,h.showClass&&h.showClass.icon)}},gc=(l,h)=>{for(let[y,I]of Object.entries(_))h.icon!==y&&Qt(l,I);pe(l,h.icon&&_[h.icon]),Fp(l,h),mc(),Dt(l,h,"icon")},mc=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let I=0;I<y.length;I++)y[I].style.backgroundColor=h},os=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,fr=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Do=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,I="";h.iconHtml?I=yc(h.iconHtml):h.icon==="success"?(I=os,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?I=fr:h.icon&&(I=yc({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==I.trim()&&yt(l,I)},Fp=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ht(l,y,"background-color",h.iconColor);ht(l,".swal2-success-ring","border-color",h.iconColor)}},yc=l=>`<div class="${g["icon-content"]}">${l}</div>`,Tl=(l,h)=>{let y=Qr();if(y){if(!h.imageUrl){Ze(y);return}qe(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),wn(y,"width",h.imageWidth),wn(y,"height",h.imageHeight),y.className=g.image,Dt(y,h,"image")}},Dl=(l,h)=>{let y=b(),I=R();if(!(!y||!I)){if(h.toast){wn(y,"width",h.width),I.style.width="100%";let P=Jr();P&&I.insertBefore(P,T())}else wn(I,"width",h.width);wn(I,"padding",h.padding),h.color&&(I.style.color=h.color),h.background&&(I.style.background=h.background),Ze(Yr()),vc(I,h)}},vc=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${vt(l)?y.popup:""}`,h.toast?(pe([document.documentElement,document.body],g["toast-shown"]),pe(l,g.toast)):pe(l,g.modal),Dt(l,h,"popup"),typeof h.customClass=="string"&&pe(l,h.customClass),h.icon&&pe(l,g[`icon-${h.icon}`])},wc=(l,h)=>{let y=hr();if(!y)return;let{progressSteps:I,currentProgressStep:P}=h;if(!I||I.length===0||P===void 0){Ze(y);return}qe(y),y.textContent="",P>=I.length&&M("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.forEach(($,he)=>{let Ae=Cl($);if(y.appendChild(Ae),he===P&&pe(Ae,g["active-progress-step"]),he!==I.length-1){let ze=Sl(h);y.appendChild(ze)}})},Cl=l=>{let h=document.createElement("li");return pe(h,g["progress-step"]),yt(h,l),h},Sl=l=>{let h=document.createElement("li");return pe(h,g["progress-step-line"]),l.progressStepsDistance&&wn(h,"width",l.progressStepsDistance),h},Vp=(l,h)=>{let y=Kr();y&&(Je(y),jn(y,h.title||h.titleText,"block"),h.title&&_n(h.title,y),h.titleText&&(y.innerText=h.titleText),Dt(y,h,"title"))},Al=(l,h)=>{Dl(l,h),ss(l,h),wc(l,h),To(l,h),Tl(l,h),Vp(l,h),is(l,h),bl(l,h),rs(l,h),Lp(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),o.eventEmitter.emit("didRender",y)},Rl=()=>vt(R()),Ic=()=>{var l;return(l=Wt())===null||l===void 0?void 0:l.click()},jp=()=>{var l;return(l=Tt())===null||l===void 0?void 0:l.click()},pr=()=>{var l;return(l=Zr())===null||l===void 0?void 0:l.click()},Ct=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),as=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Co=(l,h,y)=>{as(l),h.toast||(l.keydownHandler=I=>cs(h,I,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},So=(l,h)=>{var y;let I=Xr();if(I.length){l=l+h,l===I.length?l=0:l===-1&&(l=I.length-1),I[l].focus();return}(y=R())===null||y===void 0||y.focus()},Me=["ArrowRight","ArrowDown"],Ao=["ArrowLeft","ArrowUp"],cs=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?us(h,l):h.key==="Tab"?Up(h):[...Me,...Ao].includes(h.key)?xl(h.key):h.key==="Escape"&&Bp(h,l,y)))},us=(l,h)=>{if(!_e(h.allowEnterKey))return;let y=go(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;Ic(),l.preventDefault()}},Up=l=>{let h=l.target,y=Xr(),I=-1;for(let P=0;P<y.length;P++)if(h===y[P]){I=P;break}l.shiftKey?So(I,-1):So(I,1),l.stopPropagation(),l.preventDefault()},xl=l=>{let h=vn(),y=Wt(),I=Tt(),P=Zr();if(!h||!y||!I||!P)return;let $=[y,I,P];if(document.activeElement instanceof HTMLElement&&!$.includes(document.activeElement))return;let he=Me.includes(l)?"nextElementSibling":"previousElementSibling",Ae=document.activeElement;if(Ae){for(let ze=0;ze<h.children.length;ze++){if(Ae=Ae[he],!Ae)return;if(Ae instanceof HTMLButtonElement&&vt(Ae))break}Ae instanceof HTMLButtonElement&&Ae.focus()}},Bp=(l,h,y)=>{_e(h.allowEscapeKey)&&(l.preventDefault(),y(Ct.esc))};var oi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let $p=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Nl=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},ai=typeof window<"u"&&!!window.GestureEvent,$n=()=>{if(ai&&!Kt(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,pe(document.body,g.iosfix),Ml()}},Ml=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=Pl(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Pl=l=>{let h=l.target,y=b(),I=ac();return!y||!I||kl(l)||ci(l)?!1:h===y||!ml(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(ml(I)&&I.contains(h))},kl=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",ci=l=>l.touches&&l.touches.length>1,zp=()=>{if(Kt(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);Qt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Hp=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},ui=null,zn=l=>{ui===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(ui=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ui+Hp()}px`)},qp=()=>{ui!==null&&(document.body.style.paddingRight=`${ui}px`,ui=null)};function Ol(l,h,y,I){ti()?Vl(l,I):(u(y).then(()=>Vl(l,I)),as(o)),ai?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),ei()&&(qp(),zp(),Nl()),ls()}function ls(){Qt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Yt(l){l=Fl(l);let h=oi.swalPromiseResolve.get(this),y=Ll(this);this.isAwaitingPromise?l.isDismissed||(En(this),h(l)):y&&h(l)}let Ll=l=>{let h=R();if(!h)return!1;let y=Ne.innerParams.get(l);if(!y||Kt(h,y.hideClass.popup))return!1;Qt(h,y.showClass.popup),pe(h,y.hideClass.popup);let I=b();return Qt(I,y.showClass.backdrop),pe(I,y.hideClass.backdrop),_c(l,h,y),!0};function li(l){let h=oi.swalPromiseReject.get(this);En(this),h&&h(l)}let En=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Ne.innerParams.get(l)||l._destroy())},Fl=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),_c=(l,h,y)=>{let I=b(),P=Un&&ni(h);typeof y.willClose=="function"&&y.willClose(h),o.eventEmitter.emit("willClose",h),P?je(l,h,I,y.returnFocus,y.didClose):Ol(l,I,y.returnFocus,y.didClose)},je=(l,h,y,I,P)=>{Un&&(o.swalCloseEventFinishedCallback=Ol.bind(null,l,y,I,P),h.addEventListener(Un,function($){$.target===h&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback)}))},Vl=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),o.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},di=l=>{let h=R();if(h||new Ql,h=R(),!h)return;let y=Jr();ti()?Ze(T()):jl(h,l),qe(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},jl=(l,h)=>{let y=vn(),I=Jr();!y||!I||(!h&&vt(Wt())&&(h=Wt()),qe(y),h&&(Ze(h),I.setAttribute("data-button-to-replace",h.className),y.insertBefore(I,h)),pe([l,y],g.loading))},Ul=(l,h)=>{h.input==="select"||h.input==="radio"?zl(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(Z(h.inputValue)||E(h.inputValue))&&(di(Wt()),Gp(l,h))},Bl=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return Ro(y);case"radio":return $l(y);case"file":return bn(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Ro=l=>l.checked?1:0,$l=l=>l.checked?l.value:null,bn=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,zl=(l,h)=>{let y=R();if(!y)return;let I=P=>{h.input==="select"?ds(y,hi(P),h):h.input==="radio"&&Hl(y,hi(P),h)};Z(h.inputOptions)||E(h.inputOptions)?(di(Wt()),C(h.inputOptions).then(P=>{l.hideLoading(),I(P)})):typeof h.inputOptions=="object"?I(h.inputOptions):F(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Gp=(l,h)=>{let y=l.getInput();y&&(Ze(y),C(h.inputValue).then(I=>{y.value=h.input==="number"?`${parseFloat(I)||0}`:`${I}`,qe(y),y.focus(),l.hideLoading()}).catch(I=>{F(`Error in inputValue promise: ${I}`),y.value="",qe(y),y.focus(),l.hideLoading()}))};function ds(l,h,y){let I=Vn(l,g.select);if(!I)return;let P=($,he,Ae)=>{let ze=document.createElement("option");ze.value=Ae,yt(ze,he),ze.selected=hs(Ae,y.inputValue),$.appendChild(ze)};h.forEach($=>{let he=$[0],Ae=$[1];if(Array.isArray(Ae)){let ze=document.createElement("optgroup");ze.label=he,ze.disabled=!1,I.appendChild(ze),Ae.forEach(Oo=>P(ze,Oo[1],Oo[0]))}else P(I,Ae,he)}),I.focus()}function Hl(l,h,y){let I=Vn(l,g.radio);if(!I)return;h.forEach($=>{let he=$[0],Ae=$[1],ze=document.createElement("input"),Oo=document.createElement("label");ze.type="radio",ze.name=g.radio,ze.value=he,hs(he,y.inputValue)&&(ze.checked=!0);let Qp=document.createElement("span");yt(Qp,Ae),Qp.className=g.label,Oo.appendChild(ze),Oo.appendChild(Qp),I.appendChild(Oo)});let P=I.querySelectorAll("input");P.length&&P[0].focus()}let hi=l=>{let h=[];return l instanceof Map?l.forEach((y,I)=>{let P=y;typeof P=="object"&&(P=hi(P)),h.push([I,P])}):Object.keys(l).forEach(y=>{let I=l[y];typeof I=="object"&&(I=hi(I)),h.push([y,I])}),h},hs=(l,h)=>!!h&&h.toString()===l.toString(),ql=l=>{let h=Ne.innerParams.get(l);l.disableButtons(),h.input?Ec(l,"confirm"):ps(l,!0)},xo=l=>{let h=Ne.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?Ec(l,"deny"):No(l,!1)},Wp=(l,h)=>{l.disableButtons(),h(Ct.cancel)},Ec=(l,h)=>{let y=Ne.innerParams.get(l);if(!y.input){F(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let I=l.getInput(),P=Bl(l,y);y.inputValidator?fs(l,P,h):I&&!I.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||I.validationMessage)):h==="deny"?No(l,P):ps(l,P)},fs=(l,h,y)=>{let I=Ne.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>C(I.inputValidator(h,I.validationMessage))).then($=>{l.enableButtons(),l.enableInput(),$?l.showValidationMessage($):y==="deny"?No(l,h):ps(l,h)})},No=(l,h)=>{let y=Ne.innerParams.get(l||void 0);y.showLoaderOnDeny&&di(Tt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>C(y.preDeny(h,y.validationMessage))).then(P=>{P===!1?(l.hideLoading(),En(l)):l.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(P=>Mo(l||void 0,P))):l.close({isDenied:!0,value:h})},bc=(l,h)=>{l.close({isConfirmed:!0,value:h})},Mo=(l,h)=>{l.rejectPromise(h)},ps=(l,h)=>{let y=Ne.innerParams.get(l||void 0);y.showLoaderOnConfirm&&di(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>C(y.preConfirm(h,y.validationMessage))).then(P=>{vt(Yr())||P===!1?(l.hideLoading(),En(l)):bc(l,typeof P>"u"?h:P)}).catch(P=>Mo(l||void 0,P))):bc(l,h)};function gs(){let l=Ne.innerParams.get(this);if(!l)return;let h=Ne.domCache.get(this);Ze(h.loader),ti()?l.icon&&qe(T()):Po(h),Qt([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Po=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?qe(h[0],"inline-block"):gl()&&Ze(l.actions)};function Tc(){let l=Ne.innerParams.get(this),h=Ne.domCache.get(this);return h?go(h.popup,l.input):null}function Dc(l,h,y){let I=Ne.domCache.get(l);h.forEach(P=>{I[P].disabled=y})}function Hn(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let I=y.querySelectorAll(`[name="${g.radio}"]`);for(let P=0;P<I.length;P++)I[P].disabled=h}else l.disabled=h}function Cc(){Dc(this,["confirmButton","denyButton","cancelButton"],!1)}function Sc(){Dc(this,["confirmButton","denyButton","cancelButton"],!0)}function Ac(){Hn(this.getInput(),!1)}function Rc(){Hn(this.getInput(),!0)}function ms(l){let h=Ne.domCache.get(this),y=Ne.innerParams.get(this);yt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&pe(h.validationMessage,y.customClass.validationMessage),qe(h.validationMessage);let I=this.getInput();I&&(I.setAttribute("aria-invalid","true"),I.setAttribute("aria-describedby",g["validation-message"]),lc(I),pe(I,g.inputerror))}function St(){let l=Ne.domCache.get(this);l.validationMessage&&Ze(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Qt(h,g.inputerror))}let gr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Gl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],fi={allowEnterKey:void 0},c=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],f=l=>Object.prototype.hasOwnProperty.call(gr,l),m=l=>Gl.indexOf(l)!==-1,v=l=>fi[l],x=l=>{f(l)||M(`Unknown parameter "${l}"`)},k=l=>{c.includes(l)&&M(`The parameter "${l}" is incompatible with toasts`)},U=l=>{let h=v(l);h&&Y(l,h)},xe=l=>{l.backdrop===!1&&l.allowOutsideClick&&M('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)x(h),l.toast&&k(h),U(h)};function Xe(l){let h=R(),y=Ne.innerParams.get(this);if(!h||Kt(h,y.hideClass.popup)){M("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let I=ve(l),P=Object.assign({},y,I);Al(this,P),Ne.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let ve=l=>{let h={};return Object.keys(l).forEach(y=>{m(y)?h[y]=l[y]:M(`Invalid parameter to update: ${y}`)}),h};function at(){let l=Ne.domCache.get(this),h=Ne.innerParams.get(this);if(!h){mr(this);return}l.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),o.eventEmitter.emit("didDestroy"),ft(this)}let ft=l=>{mr(l),delete l.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},mr=l=>{l.isAwaitingPromise?(Ft(Ne,l),l.isAwaitingPromise=!0):(Ft(oi,l),Ft(Ne,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Ft=(l,h)=>{for(let y in l)l[y].delete(h)};var ko=Object.freeze({__proto__:null,_destroy:at,close:Yt,closeModal:Yt,closePopup:Yt,closeToast:Yt,disableButtons:Sc,disableInput:Rc,disableLoading:gs,enableButtons:Cc,enableInput:Ac,getInput:Tc,handleAwaitingPromise:En,hideLoading:gs,rejectPromise:li,resetValidationMessage:St,showValidationMessage:ms,update:Xe});let xc=(l,h,y)=>{l.toast?hx(l,h,y):(px(h),gx(h),mx(l,h,y))},hx=(l,h,y)=>{h.popup.onclick=()=>{l&&(fx(l)||l.timer||l.input)||y(Ct.close)}},fx=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Wl=!1,px=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Wl=!0)}}},gx=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Wl=!0)}}},mx=(l,h,y)=>{h.container.onclick=I=>{if(Wl){Wl=!1;return}I.target===h.container&&_e(l.allowOutsideClick)&&y(Ct.backdrop)}},yx=l=>typeof l=="object"&&l.jquery,J_=l=>l instanceof Element||yx(l),vx=l=>{let h={};return typeof l[0]=="object"&&!J_(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,I)=>{let P=l[I];typeof P=="string"||J_(P)?h[y]=P:P!==void 0&&F(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof P}`)}),h};function wx(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function Ix(l){class h extends this{_main(I,P){return super._main(I,Object.assign({},l,P))}}return h}let _x=()=>o.timeout&&o.timeout.getTimerLeft(),X_=()=>{if(o.timeout)return yl(),o.timeout.stop()},eE=()=>{if(o.timeout){let l=o.timeout.start();return mo(l),l}},Ex=()=>{let l=o.timeout;return l&&(l.running?X_():eE())},bx=l=>{if(o.timeout){let h=o.timeout.increase(l);return mo(h,!0),h}},Tx=()=>!!(o.timeout&&o.timeout.isRunning()),tE=!1,Kp={};function Dx(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Kp[l]=this,tE||(document.body.addEventListener("click",Cx),tE=!0)}let Cx=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Kp){let I=h.getAttribute(y);if(I){Kp[y].fire({template:I});return}}};class Sx{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let I=this._getHandlersByEventName(h);I.includes(y)||I.push(y)}once(h,y){var I=this;let P=function(){I.removeListener(h,P);for(var $=arguments.length,he=new Array($),Ae=0;Ae<$;Ae++)he[Ae]=arguments[Ae];y.apply(I,he)};this.on(h,P)}emit(h){for(var y=arguments.length,I=new Array(y>1?y-1:0),P=1;P<y;P++)I[P-1]=arguments[P];this._getHandlersByEventName(h).forEach($=>{try{$.apply(this,I)}catch(he){console.error(he)}})}removeListener(h,y){let I=this._getHandlersByEventName(h),P=I.indexOf(y);P>-1&&I.splice(P,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}o.eventEmitter=new Sx;var Ax=Object.freeze({__proto__:null,argsToParams:vx,bindClickHandler:Dx,clickCancel:pr,clickConfirm:Ic,clickDeny:jp,enableLoading:di,fire:wx,getActions:vn,getCancelButton:Zr,getCloseButton:cc,getConfirmButton:Wt,getContainer:b,getDenyButton:Tt,getFocusableElements:Xr,getFooter:fl,getHtmlContainer:ac,getIcon:T,getIconContent:yn,getImage:Qr,getInputLabel:dt,getLoader:Jr,getPopup:R,getProgressSteps:hr,getTimerLeft:_x,getTimerProgressBar:Fn,getTitle:Kr,getValidationMessage:Yr,increaseTimer:bx,isDeprecatedParameter:v,isLoading:uc,isTimerRunning:Tx,isUpdatableParameter:m,isValidParameter:f,isVisible:Rl,mixin:Ix,off:(l,h)=>{if(!l){o.eventEmitter.reset();return}h?o.eventEmitter.removeListener(l,h):o.eventEmitter.removeAllListeners(l)},on:(l,h)=>{o.eventEmitter.on(l,h)},once:(l,h)=>{o.eventEmitter.once(l,h)},resumeTimer:eE,showLoading:di,stopTimer:X_,toggleTimer:Ex});class Rx{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let nE=["swal-title","swal-html","swal-footer"],xx=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return Vx(y),Object.assign(Nx(y),Mx(y),Px(y),kx(y),Ox(y),Lx(y),Fx(y,nE))},Nx=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(I=>{ys(I,["name","value"]);let P=I.getAttribute("name"),$=I.getAttribute("value");!P||!$||(typeof gr[P]=="boolean"?h[P]=$!=="false":typeof gr[P]=="object"?h[P]=JSON.parse($):h[P]=$)}),h},Mx=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(I=>{let P=I.getAttribute("name"),$=I.getAttribute("value");!P||!$||(h[P]=new Function(`return ${$}`)())}),h},Px=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(I=>{ys(I,["type","color","aria-label"]);let P=I.getAttribute("type");!P||!["confirm","cancel","deny"].includes(P)||(h[`${P}ButtonText`]=I.innerHTML,h[`show${O(P)}Button`]=!0,I.hasAttribute("color")&&(h[`${P}ButtonColor`]=I.getAttribute("color")),I.hasAttribute("aria-label")&&(h[`${P}ButtonAriaLabel`]=I.getAttribute("aria-label")))}),h},kx=l=>{let h={},y=l.querySelector("swal-image");return y&&(ys(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},Ox=l=>{let h={},y=l.querySelector("swal-icon");return y&&(ys(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},Lx=l=>{let h={},y=l.querySelector("swal-input");y&&(ys(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let I=Array.from(l.querySelectorAll("swal-input-option"));return I.length&&(h.inputOptions={},I.forEach(P=>{ys(P,["value"]);let $=P.getAttribute("value");if(!$)return;let he=P.innerHTML;h.inputOptions[$]=he})),h},Fx=(l,h)=>{let y={};for(let I in h){let P=h[I],$=l.querySelector(P);$&&(ys($,[]),y[P.replace(/^swal-/,"")]=$.innerHTML.trim())}return y},Vx=l=>{let h=nE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let I=y.tagName.toLowerCase();h.includes(I)||M(`Unrecognized element <${I}>`)})},ys=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&M([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},rE=10,jx=l=>{let h=b(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),o.eventEmitter.emit("willOpen",y);let P=window.getComputedStyle(document.body).overflowY;$x(h,y,l),setTimeout(()=>{Ux(h,y)},rE),ei()&&(Bx(h,l.scrollbarPadding,P),$p()),!ti()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),o.eventEmitter.emit("didOpen",y),Qt(h,g["no-transition"])},iE=l=>{let h=R();if(l.target!==h||!Un)return;let y=b();h.removeEventListener(Un,iE),y.style.overflowY="auto"},Ux=(l,h)=>{Un&&ni(h)?(l.style.overflowY="hidden",h.addEventListener(Un,iE)):l.style.overflowY="auto"},Bx=(l,h,y)=>{$n(),h&&y!=="hidden"&&zn(y),setTimeout(()=>{l.scrollTop=0})},$x=(l,h,y)=>{pe(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),qe(h,"grid"),setTimeout(()=>{pe(h,y.showClass.popup),h.style.removeProperty("opacity")},rE)):qe(h,"grid"),pe([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&pe([document.documentElement,document.body],g["height-auto"])};var sE={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function zx(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=sE.email),l.input==="url"&&(l.inputValidator=sE.url))}function Hx(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(M('Target parameter is not valid, defaulting to "body"'),l.target="body")}function qx(l){zx(l),l.showLoaderOnConfirm&&!l.preConfirm&&M(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Hx(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),fc(l)}let qn;var Kl=new WeakMap;class Ke{constructor(){if(r(this,Kl,void 0),typeof window>"u")return;qn=this;for(var h=arguments.length,y=new Array(h),I=0;I<h;I++)y[I]=arguments[I];let P=Object.freeze(this.constructor.argsToParams(y));this.params=P,this.isAwaitingPromise=!1,i(Kl,this,this._main(qn.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(xe(Object.assign({},y,h)),o.currentInstance){let $=oi.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:he}=o.currentInstance;o.currentInstance._destroy(),he||$({isDismissed:!0}),ei()&&Nl()}o.currentInstance=qn;let I=Wx(h,y);qx(I),Object.freeze(I),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let P=Kx(qn);return Al(qn,I),Ne.innerParams.set(qn,I),Gx(qn,P,I)}then(h){return n(Kl,this).then(h)}finally(h){return n(Kl,this).finally(h)}}let Gx=(l,h,y)=>new Promise((I,P)=>{let $=he=>{l.close({isDismissed:!0,dismiss:he})};oi.swalPromiseResolve.set(l,I),oi.swalPromiseReject.set(l,P),h.confirmButton.onclick=()=>{ql(l)},h.denyButton.onclick=()=>{xo(l)},h.cancelButton.onclick=()=>{Wp(l,$)},h.closeButton.onclick=()=>{$(Ct.close)},xc(y,h,$),Co(o,y,$),Ul(l,y),jx(y),Qx(o,y,$),Yx(h,y),setTimeout(()=>{h.container.scrollTop=0})}),Wx=(l,h)=>{let y=xx(l),I=Object.assign({},gr,h,y,l);return I.showClass=Object.assign({},gr.showClass,I.showClass),I.hideClass=Object.assign({},gr.hideClass,I.hideClass),I.animation===!1&&(I.showClass={backdrop:"swal2-noanimation"},I.hideClass={}),I},Kx=l=>{let h={popup:R(),container:b(),actions:vn(),confirmButton:Wt(),denyButton:Tt(),cancelButton:Zr(),loader:Jr(),closeButton:cc(),validationMessage:Yr(),progressSteps:hr()};return Ne.domCache.set(l,h),h},Qx=(l,h,y)=>{let I=Fn();Ze(I),h.timer&&(l.timeout=new Rx(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(qe(I),Dt(I,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&mo(h.timer)})))},Yx=(l,h)=>{if(!h.toast){if(!_e(h.allowEnterKey)){Y("allowEnterKey"),Xx();return}Zx(l)||Jx(l,h)||So(-1,1)}},Zx=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&vt(y))return y.focus(),!0;return!1},Jx=(l,h)=>h.focusDeny&&vt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&vt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&vt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,Xx=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Ke.prototype.disableButtons=Sc,Ke.prototype.enableButtons=Cc,Ke.prototype.getInput=Tc,Ke.prototype.disableInput=Rc,Ke.prototype.enableInput=Ac,Ke.prototype.hideLoading=gs,Ke.prototype.disableLoading=gs,Ke.prototype.showValidationMessage=ms,Ke.prototype.resetValidationMessage=St,Ke.prototype.close=Yt,Ke.prototype.closePopup=Yt,Ke.prototype.closeModal=Yt,Ke.prototype.closeToast=Yt,Ke.prototype.rejectPromise=li,Ke.prototype.update=Xe,Ke.prototype._destroy=at,Object.assign(Ke,Ax),Object.keys(ko).forEach(l=>{Ke[l]=function(){return qn&&qn[l]?qn[l](...arguments):null}}),Ke.DismissReason=Ct,Ke.version="11.14.0";let Ql=Ke;return Ql.default=Ql,Ql});typeof nr<"u"&&nr.Sweetalert2&&(nr.swal=nr.sweetAlert=nr.Swal=nr.SweetAlert=nr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function lE(t,e){return Object.is(t,e)}var ct=null,Yl=!1,Zl=1,yr=Symbol("SIGNAL");function Ee(t){let e=ct;return ct=t,e}function dE(){return ct}var Mc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xp(t){if(Yl)throw new Error("");if(ct===null)return;ct.consumerOnSignalRead(t);let e=ct.nextProducerIndex++;if(td(ct),e<ct.producerNode.length&&ct.producerNode[e]!==t&&Nc(ct)){let n=ct.producerNode[e];ed(n,ct.producerIndexOfThis[e])}ct.producerNode[e]!==t&&(ct.producerNode[e]=t,ct.producerIndexOfThis[e]=Nc(ct)?gE(t,ct,e):0),ct.producerLastReadVersion[e]=t.version}function uN(){Zl++}function hE(t){if(!(Nc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zl)){if(!t.producerMustRecompute(t)&&!tg(t)){t.dirty=!1,t.lastCleanEpoch=Zl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zl}}function fE(t){if(t.liveConsumerNode===void 0)return;let e=Yl;Yl=!0;try{for(let n of t.liveConsumerNode)n.dirty||lN(n)}finally{Yl=e}}function pE(){return ct?.consumerAllowSignalWrites!==!1}function lN(t){t.dirty=!0,fE(t),t.consumerMarkedDirty?.(t)}function Xl(t){return t&&(t.nextProducerIndex=0),Ee(t)}function eg(t,e){if(Ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Nc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ed(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tg(t){td(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(hE(n),r!==n.version))return!0}return!1}function ng(t){if(td(t),Nc(t))for(let e=0;e<t.producerNode.length;e++)ed(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gE(t,e,n){if(mE(t),t.liveConsumerNode.length===0&&yE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=gE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ed(t,e){if(mE(t),t.liveConsumerNode.length===1&&yE(t))for(let r=0;r<t.producerNode.length;r++)ed(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];td(i),i.producerIndexOfThis[r]=e}}function Nc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function td(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function mE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function yE(t){return t.producerNode!==void 0}function vE(t){let e=Object.create(dN);e.computation=t;let n=()=>{if(hE(e),Xp(e),e.value===Jl)throw e.error;return e.value};return n[yr]=e,n}var Zp=Symbol("UNSET"),Jp=Symbol("COMPUTING"),Jl=Symbol("ERRORED"),dN=Le(B({},Mc),{value:Zp,dirty:!0,error:null,equal:lE,producerMustRecompute(t){return t.value===Zp||t.value===Jp},producerRecomputeValue(t){if(t.value===Jp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Jp;let n=Xl(t),r;try{r=t.computation()}catch(i){r=Jl,t.error=i}finally{eg(t,n)}if(e!==Zp&&e!==Jl&&r!==Jl&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function hN(){throw new Error}var wE=hN;function IE(){wE()}function _E(t){wE=t}var fN=null;function EE(t){let e=Object.create(TE);e.value=t;let n=()=>(Xp(e),e.value);return n[yr]=e,n}function rg(t,e){pE()||IE(),t.equal(t.value,e)||(t.value=e,pN(t))}function bE(t,e){pE()||IE(),rg(t,e(t.value))}var TE=Le(B({},Mc),{equal:lE,value:void 0});function pN(t){t.version++,uN(),fE(t),fN?.()}function se(t){return typeof t=="function"}function Lo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nd=Lo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof nd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{DE(s)}catch(o){e=e??[],o instanceof nd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)DE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vs(n,e)}remove(e){let{_finalizers:n}=this;n&&vs(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var ig=Ge.EMPTY;function rd(t){return t instanceof Ge||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function DE(t){se(t)?t():t.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(t,e,...n){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function id(t){Fo.setTimeout(()=>{let{onUnhandledError:e}=Tn;if(e)e(t);else throw t})}function Pc(){}var CE=sg("C",void 0,void 0);function SE(t){return sg("E",void 0,t)}function AE(t){return sg("N",t,void 0)}function sg(t,e,n){return{kind:t,value:e,error:n}}var ws=null;function Vo(t){if(Tn.useDeprecatedSynchronousErrorHandling){let e=!ws;if(e&&(ws={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ws;if(ws=null,n)throw r}}else t()}function RE(t){Tn.useDeprecatedSynchronousErrorHandling&&ws&&(ws.errorThrown=!0,ws.error=t)}var Is=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rd(e)&&e.add(this)):this.destination=yN}static create(e,n,r){return new jo(e,n,r)}next(e){this.isStopped?ag(AE(e),this):this._next(e)}error(e){this.isStopped?ag(SE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ag(CE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gN=Function.prototype.bind;function og(t,e){return gN.call(t,e)}var cg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sd(r)}else sd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sd(n)}}},jo=class extends Is{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Tn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&og(e.next,s),error:e.error&&og(e.error,s),complete:e.complete&&og(e.complete,s)}):i=e}this.destination=new cg(i)}};function sd(t){Tn.useDeprecatedSynchronousErrorHandling?RE(t):id(t)}function mN(t){throw t}function ag(t,e){let{onStoppedNotification:n}=Tn;n&&Fo.setTimeout(()=>n(t,e))}var yN={closed:!0,next:Pc,error:mN,complete:Pc};var Uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(t){return t}function ug(...t){return lg(t)}function lg(t){return t.length===0?Zt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=wN(n)?n:new jo(n,r,i);return Vo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=xE(r),new r((i,s)=>{let o=new jo({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Uo](){return this}pipe(...n){return lg(n)(this)}toPromise(n){return n=xE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function xE(t){var e;return(e=t??Tn.Promise)!==null&&e!==void 0?e:Promise}function vN(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function wN(t){return t&&t instanceof Is||vN(t)&&rd(t)}function dg(t){return se(t?.lift)}function we(t){return e=>{if(dg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new hg(t,e,n,r,i)}var hg=class extends Is{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bo(){return we((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var $o=class extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return Bo()(this)}};var NE=Lo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var At=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new od(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new NE}next(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ig:(this.currentObservers=null,s.push(n),new Ge(()=>{this.currentObservers=null,vs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new fe;return n.source=this,n}}return t.create=(e,n)=>new od(e,n),t})(),od=class extends At{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ig}};var Qe=class extends At{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fg={now(){return(fg.delegate||Date).now()},delegate:void 0};var ad=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var kc={setInterval(t,e,...n){let{delegate:r}=kc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=kc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var zo=class extends ad{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return kc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&kc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ho=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ho.now=fg.now;var qo=class extends Ho{constructor(e,n=Ho.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var pg=new qo(zo);var cd=class extends zo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ud=class extends qo{};var gg=new ud(cd);var Jt=new fe(t=>t.complete());function ME(t){return t&&se(t.schedule)}function PE(t){return t[t.length-1]}function ld(t){return se(PE(t))?t.pop():void 0}function gi(t){return ME(PE(t))?t.pop():void 0}function mg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function OE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(g){o(g)}}function u(p){try{d(r.throw(p))}catch(g){o(g)}}function d(p){p.done?s(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function kE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _s(t){return this instanceof _s?(this.v=t,this):new _s(t)}function LE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(_){return function(N){return Promise.resolve(N).then(_,g)}}function a(_,N){r[_]&&(i[_]=function(O){return new Promise(function(M,F){s.push([_,O,M,F])>1||u(_,O)})},N&&(i[_]=N(i[_])))}function u(_,N){try{d(r[_](N))}catch(O){w(s[0][3],O)}}function d(_){_.value instanceof _s?Promise.resolve(_.value.v).then(p,g):w(s[0][2],_)}function p(_){u("next",_)}function g(_){u("throw",_)}function w(_,N){_(N),s.shift(),s.length&&u(s[0][0],s[0][1])}}function FE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kE=="function"?kE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}var dd=t=>t&&typeof t.length=="number"&&typeof t!="function";function hd(t){return se(t?.then)}function fd(t){return se(t[Uo])}function pd(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function gd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var md=IN();function yd(t){return se(t?.[md])}function vd(t){return LE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield _s(n.read());if(i)return yield _s(void 0);yield yield _s(r)}}finally{n.releaseLock()}})}function wd(t){return se(t?.getReader)}function et(t){if(t instanceof fe)return t;if(t!=null){if(fd(t))return _N(t);if(dd(t))return EN(t);if(hd(t))return bN(t);if(pd(t))return VE(t);if(yd(t))return TN(t);if(wd(t))return DN(t)}throw gd(t)}function _N(t){return new fe(e=>{let n=t[Uo]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function EN(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function bN(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,id)})}function TN(t){return new fe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function VE(t){return new fe(e=>{CN(t,e).catch(n=>e.error(n))})}function DN(t){return VE(vd(t))}function CN(t,e){var n,r,i,s;return OE(this,void 0,void 0,function*(){try{for(n=FE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function zt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function mi(t,e=0){return we((n,r)=>{n.subscribe(ge(r,i=>zt(r,t,()=>r.next(i),e),()=>zt(r,t,()=>r.complete(),e),i=>zt(r,t,()=>r.error(i),e)))})}function yi(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function jE(t,e){return et(t).pipe(yi(e),mi(e))}function UE(t,e){return et(t).pipe(yi(e),mi(e))}function BE(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $E(t,e){return new fe(n=>{let r;return zt(n,e,()=>{r=t[md](),zt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function Id(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{zt(n,e,()=>{let r=t[Symbol.asyncIterator]();zt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zE(t,e){return Id(vd(t),e)}function HE(t,e){if(t!=null){if(fd(t))return jE(t,e);if(dd(t))return BE(t,e);if(hd(t))return UE(t,e);if(pd(t))return Id(t,e);if(yd(t))return $E(t,e);if(wd(t))return zE(t,e)}throw gd(t)}function Ue(t,e){return e?HE(t,e):et(t)}function ee(...t){let e=gi(t);return Ue(t,e)}function Go(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function yg(t){return!!t&&(t instanceof fe||se(t.lift)&&se(t.subscribe))}var vr=Lo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ue(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:SN}=Array;function AN(t,e){return SN(e)?t(...e):t(e)}function _d(t){return ue(e=>AN(t,e))}var{isArray:RN}=Array,{getPrototypeOf:xN,prototype:NN,keys:MN}=Object;function Ed(t){if(t.length===1){let e=t[0];if(RN(e))return{args:e,keys:null};if(PN(e)){let n=MN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function PN(t){return t&&typeof t=="object"&&xN(t)===NN}function bd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Oc(...t){let e=gi(t),n=ld(t),{args:r,keys:i}=Ed(t);if(r.length===0)return Ue([],e);let s=new fe(kN(r,e,i?o=>bd(i,o):Zt));return n?s.pipe(_d(n)):s}function kN(t,e,n=Zt){return r=>{qE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)qE(e,()=>{let d=Ue(t[u],e),p=!1;d.subscribe(ge(r,g=>{s[u]=g,p||(p=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function qE(t,e,n){t?zt(n,t,e):e()}function GE(t,e,n,r,i,s,o,a){let u=[],d=0,p=0,g=!1,w=()=>{g&&!u.length&&!d&&e.complete()},_=O=>d<r?N(O):u.push(O),N=O=>{s&&e.next(O),d++;let M=!1;et(n(O,p++)).subscribe(ge(e,F=>{i?.(F),s?_(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(d--;u.length&&d<r;){let F=u.shift();o?zt(e,o,()=>N(F)):N(F)}w()}catch(F){e.error(F)}}))};return t.subscribe(ge(e,_,()=>{g=!0,w()})),()=>{a?.()}}function tt(t,e,n=1/0){return se(e)?tt((r,i)=>ue((s,o)=>e(r,s,i,o))(et(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>GE(r,i,t,n)))}function vi(t=1/0){return tt(Zt,t)}function WE(){return vi(1)}function Wo(...t){return WE()(Ue(t,gi(t)))}function Td(t){return new fe(e=>{et(t()).subscribe(e)})}function ON(...t){let e=ld(t),{args:n,keys:r}=Ed(t),i=new fe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,d=o;for(let p=0;p<o;p++){let g=!1;et(n[p]).subscribe(ge(s,w=>{g||(g=!0,d--),a[p]=w},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?bd(r,a):a),s.complete())}))}});return e?i.pipe(_d(e)):i}function Ht(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,s=>t.call(e,s,i++)&&r.next(s)))})}function wi(t){return we((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ge(n,void 0,void 0,o=>{s=et(t(o,wi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function KE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,d=0;s.subscribe(ge(o,p=>{let g=d++;u=a?t(u,p,g):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function wr(t,e){return se(e)?tt(t,e,1):tt(t,1)}function Ii(t){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ir(t){return t<=0?()=>Jt:we((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function vg(t){return ue(()=>t)}function Dd(t=LN){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function LN(){return new vr}function Es(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Gn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):Zt,Ir(1),n?Ii(e):Dd(()=>new vr))}function Ko(t){return t<=0?()=>Jt:we((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):Zt,Ko(1),n?Ii(e):Dd(()=>new vr))}function Ig(t,e){return we(KE(t,e,arguments.length>=2,!0))}function _g(...t){let e=gi(t);return we((n,r)=>{(e?Wo(t,n,e):Wo(t,n)).subscribe(r)})}function qt(t,e){return we((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ge(r,u=>{i?.unsubscribe();let d=0,p=s++;et(t(u,p)).subscribe(i=ge(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Eg(t){return we((e,n)=>{et(t).subscribe(ge(n,()=>n.complete(),Pc)),!n.closed&&e.subscribe(n)})}function nt(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ge(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Zt}var kb="https://g.co/ng/security#xss",J=class extends Error{constructor(e,n){super(ah(e,n)),this.code=e}};function ah(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Hc(t){return{toString:t}.toString()}var Cd="__parameters__";function FN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ob(t,e,n){return Hc(()=>{let r=FN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,d,p){let g=u.hasOwnProperty(Cd)?u[Cd]:Object.defineProperty(u,Cd,{value:[]})[Cd];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Cs=globalThis;function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function VN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function QE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var jN=Pe({__forward_ref__:Pe});function Lb(t){return t.__forward_ref__=Lb,t.toString=function(){return jt(this())},t}function Vt(t){return Fb(t)?t():t}function Fb(t){return typeof t=="function"&&t.hasOwnProperty(jN)&&t.__forward_ref__===Lb}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function da(t){return{providers:t.providers||[],imports:t.imports||[]}}function ch(t){return YE(t,jb)||YE(t,Ub)}function Vb(t){return ch(t)!==null}function YE(t,e){return t.hasOwnProperty(e)?t[e]:null}function UN(t){let e=t&&(t[jb]||t[Ub]);return e||null}function ZE(t){return t&&(t.hasOwnProperty(JE)||t.hasOwnProperty(BN))?t[JE]:null}var jb=Pe({\u0275prov:Pe}),JE=Pe({\u0275inj:Pe}),Ub=Pe({ngInjectableDef:Pe}),BN=Pe({ngInjectorDef:Pe}),W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Bb(t){return t&&!!t.\u0275providers}var $N=Pe({\u0275cmp:Pe}),zN=Pe({\u0275dir:Pe}),HN=Pe({\u0275pipe:Pe}),qN=Pe({\u0275mod:Pe}),Fd=Pe({\u0275fac:Pe}),Fc=Pe({__NG_ELEMENT_ID__:Pe}),XE=Pe({__NG_ENV_ID__:Pe});function _r(t){return typeof t=="string"?t:t==null?"":String(t)}function GN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_r(t)}function WN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new J(-200,t)}function Pm(t,e){throw new J(-201,!1)}var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),Fg;function $b(){return Fg}function Gt(t){let e=Fg;return Fg=t,e}function zb(t,e,n){let r=ch(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&le.Optional)return null;if(e!==void 0)return e;Pm(t,"Injector")}var KN={},Vc=KN,Vg="__NG_DI_FLAG__",Vd="ngTempTokenPath",QN="ngTokenPath",YN=/\n/gm,ZN="\u0275",eb="__source",Xo;function JN(){return Xo}function _i(t){let e=Xo;return Xo=t,e}function XN(t,e=le.Default){if(Xo===void 0)throw new J(-203,!1);return Xo===null?zb(t,void 0,e):Xo.get(t,e&le.Optional?null:void 0,e)}function K(t,e=le.Default){return($b()||XN)(Vt(t),e)}function V(t,e=le.Default){return K(t,uh(e))}function uh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jg(t){let e=[];for(let n=0;n<t.length;n++){let r=Vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,s=le.Default;for(let o=0;o<r.length;o++){let a=r[o],u=eM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(K(i,s))}else e.push(K(r))}return e}function Hb(t,e){return t[Vg]=e,t.prototype[Vg]=e,t}function eM(t){return t[Vg]}function tM(t,e,n,r){let i=t[Vd];throw e[eb]&&i.unshift(e[eb]),t.message=nM(`
`+t.message,i,n,r),t[QN]=i,t[Vd]=null,t}function nM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ZN?t.slice(2):t;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(YN,`
  `)}`}var Nt=Hb(Ob("Optional"),8);var km=Hb(Ob("SkipSelf"),4);function As(t,e){let n=t.hasOwnProperty(Fd);return n?t[Fd]:null}function rM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function iM(t){return t.flat(Number.POSITIVE_INFINITY)}function Om(t,e){t.forEach(n=>Array.isArray(n)?Om(n,e):e(n))}function qb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function jd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function oM(t,e,n){let r=qc(t,e);return r>=0?t[r|1]=n:(r=~r,sM(t,r,e,n)),r}function bg(t,e){let n=qc(t,e);if(n>=0)return t[n|1]}function qc(t,e){return aM(t,e,1)}function aM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ta={},an=[],na=new W(""),Gb=new W("",-1),Wb=new W(""),Ud=class{get(e,n=Vc){if(n===Vc){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return n}},Kb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Kb||{}),Qn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qn||{}),Ti=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ti||{});function cM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ug(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];uM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Qb(t){return t===3||t===4||t===6}function uM(t){return t.charCodeAt(0)===64}function jc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?tb(t,n,i,null,e[++r]):tb(t,n,i,null,null))}}return t}function tb(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Yb="ng-template";function lM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&cM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Lm(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Lm(t){return t.type===4&&t.value!==Yb}function dM(t,e,n){let r=t.type===4&&!n?Yb:t.value;return e===r}function hM(t,e,n){let r=4,i=t.attrs,s=i!==null?gM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Dn(r)&&!Dn(u))return!1;if(o&&Dn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!dM(t,u,n)||u===""&&e.length===1){if(Dn(r))return!1;o=!0}}else if(r&8){if(i===null||!lM(t,i,u,n)){if(Dn(r))return!1;o=!0}}else{let d=e[++a],p=fM(u,i,Lm(t),n);if(p===-1){if(Dn(r))return!1;o=!0;continue}if(d!==""){let g;if(p>s?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(Dn(r))return!1;o=!0}}}}return Dn(r)||o}function Dn(t){return(t&1)===0}function fM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return mM(e,t)}function pM(t,e,n=!1){for(let r=0;r<e.length;r++)if(hM(t,e[r],n))return!0;return!1}function gM(t){for(let e=0;e<t.length;e++){let n=t[e];if(Qb(n))return e}return t.length}function mM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function nb(t,e){return t?":not("+e.trim()+")":e}function yM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Dn(o)&&(e+=nb(s,i),i=""),r=o,s=s||!Dn(r);n++}return i!==""&&(e+=nb(s,i)),e}function vM(t){return t.map(yM).join(",")}function wM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Dn(i))break;i=s}r++}return{attrs:e,classes:n}}function Zb(t){return Hc(()=>{let e=rT(t),n=Le(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Kb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,styles:t.styles||an,_:null,schemas:t.schemas||null,tView:null,id:""});iT(n);let r=t.dependencies;return n.directiveDefs=ib(r,!1),n.pipeDefs=ib(r,!0),n.id=EM(n),n})}function IM(t){return Di(t)||Xb(t)}function _M(t){return t!==null}function ha(t){return Hc(()=>({type:t.type,bootstrap:t.bootstrap||an,declarations:t.declarations||an,imports:t.imports||an,exports:t.exports||an,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rb(t,e){if(t==null)return ta;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ti.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ti.None?[r,a]:r,e[s]=o):n[s]=r}return n}function js(t){return Hc(()=>{let e=rT(t);return iT(e),e})}function Jb(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Di(t){return t[$N]||null}function Xb(t){return t[zN]||null}function eT(t){return t[HN]||null}function tT(t){let e=Di(t)||Xb(t)||eT(t);return e!==null?e.standalone:!1}function nT(t,e){let n=t[qN]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function rT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ta,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||an,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rb(t.inputs,e),outputs:rb(t.outputs),debugInfo:null}}function iT(t){t.features?.forEach(e=>e(t))}function ib(t,e){if(!t)return null;let n=e?eT:IM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(_M)}function EM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function un(t){return{\u0275providers:t}}function bM(...t){return{\u0275providers:sT(!0,t),\u0275fromNgModule:!0}}function sT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Om(e,o=>{let a=o;Bg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&oT(i,s),n}function oT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Fm(i,s=>{e(s,r)})}}function Bg(t,e,n,r){if(t=Vt(t),!t)return!1;let i=null,s=ZE(t),o=!s&&Di(t);if(!s&&!o){let u=t.ngModule;if(s=ZE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)Bg(d,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{Om(s.imports,p=>{Bg(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&oT(d,e)}if(!a){let d=As(i)||(()=>new i);e({provide:i,useFactory:d,deps:an},i),e({provide:Wb,useValue:i,multi:!0},i),e({provide:na,useValue:()=>K(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let d=t;Fm(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Fm(t,e){for(let n of t)Bb(n)&&(n=n.\u0275providers),Array.isArray(n)?Fm(n,e):e(n)}var TM=Pe({provide:String,useValue:Pe});function aT(t){return t!==null&&typeof t=="object"&&TM in t}function DM(t){return!!(t&&t.useExisting)}function CM(t){return!!(t&&t.useFactory)}function ra(t){return typeof t=="function"}function SM(t){return!!t.useClass}var lh=new W(""),Nd={},AM={},Tg;function Vm(){return Tg===void 0&&(Tg=new Ud),Tg}var Ut=class{},Uc=class extends Ut{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zg(e,o=>this.processProvider(o)),this.records.set(Gb,Qo(void 0,this)),i.has("environment")&&this.records.set(Ut,Qo(void 0,this));let s=this.records.get(lh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Wb,an,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=_i(this),r=Gt(void 0),i;try{return e()}finally{_i(n),Gt(r)}}get(e,n=Vc,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(XE))return e[XE](this);r=uh(r);let i,s=_i(this),o=Gt(void 0);try{if(!(r&le.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=PM(e)&&ch(e);d&&this.injectableDefInScope(d)?u=Qo($g(e),Nd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&le.Self?Vm():this.parent;return n=r&le.Optional&&n===Vc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vd]=a[Vd]||[]).unshift(jt(e)),s)throw a;return tM(a,e,"R3InjectorError",this.source)}else throw a}finally{Gt(o),_i(s)}}resolveInjectorInitializers(){let e=Ee(null),n=_i(this),r=Gt(void 0),i;try{let s=this.get(na,an,le.Self);for(let o of s)o()}finally{_i(n),Gt(r),Ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(e){e=Vt(e);let n=ra(e)?e:Vt(e&&e.provide),r=xM(e);if(!ra(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qo(void 0,Nd,!0),i.factory=()=>jg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ee(null);try{return n.value===Nd&&(n.value=AM,n.value=n.factory()),typeof n.value=="object"&&n.value&&MM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $g(t){let e=ch(t),n=e!==null?e.factory:As(t);if(n!==null)return n;if(t instanceof W)throw new J(204,!1);if(t instanceof Function)return RM(t);throw new J(204,!1)}function RM(t){if(t.length>0)throw new J(204,!1);let n=UN(t);return n!==null?()=>n.factory(t):()=>new t}function xM(t){if(aT(t))return Qo(void 0,t.useValue);{let e=cT(t);return Qo(e,Nd)}}function cT(t,e,n){let r;if(ra(t)){let i=Vt(t);return As(i)||$g(i)}else if(aT(t))r=()=>Vt(t.useValue);else if(CM(t))r=()=>t.useFactory(...jg(t.deps||[]));else if(DM(t))r=()=>K(Vt(t.useExisting));else{let i=Vt(t&&(t.useClass||t.provide));if(NM(t))r=()=>new i(...jg(t.deps));else return As(i)||$g(i)}return r}function Qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NM(t){return!!t.deps}function MM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function PM(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function zg(t,e){for(let n of t)Array.isArray(n)?zg(n,e):n&&Bb(n)?zg(n.\u0275providers,e):e(n)}function ln(t,e){t instanceof Uc&&t.assertNotDestroyed();let n,r=_i(t),i=Gt(void 0);try{return e()}finally{_i(r),Gt(i)}}function uT(){return $b()!==void 0||JN()!=null}function kM(t){if(!uT())throw new J(-203,!1)}function OM(t){return typeof t=="function"}var Dr=0,ae=1,re=2,Rt=3,Cn=4,An=5,Bd=6,$d=7,Sn=8,ia=9,Yn=10,ut=11,Bc=12,sb=13,fa=14,Zn=15,Rs=16,Yo=17,Er=18,dh=19,lT=20,Ei=21,Dg=22,cn=23,Jn=25,dT=1;var xs=7,zd=8,sa=9,Xt=10,Hd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hd||{});function bi(t){return Array.isArray(t)&&typeof t[dT]=="object"}function Cr(t){return Array.isArray(t)&&t[dT]===!0}function hT(t){return(t.flags&4)!==0}function hh(t){return t.componentOffset>-1}function jm(t){return(t.flags&1)===1}function Ci(t){return!!t.template}function Hg(t){return(t[re]&512)!==0}var qg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function fT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function pa(){return pT}function pT(t){return t.type.prototype.ngOnChanges&&(t.setInput=FM),LM}pa.ngInherit=!0;function LM(){let t=mT(this),e=t?.current;if(e){let n=t.previous;if(n===ta)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function FM(t,e,n,r,i){let s=this.declaredInputs[r],o=mT(t)||VM(t,{previous:ta,current:null}),a=o.current||(o.current={}),u=o.previous,d=u[s];a[s]=new qg(d&&d.currentValue,n,u===ta),fT(t,e,i,n)}var gT="__ngSimpleChanges__";function mT(t){return t[gT]||null}function VM(t,e){return t[gT]=e}var ob=null;var Wn=function(t,e,n){ob?.(t,e,n)},jM="svg",UM="math";function Xn(t){for(;Array.isArray(t);)t=t[Dr];return t}function yT(t,e){return Xn(e[t])}function dn(t,e){return Xn(e[t.index])}function vT(t,e){return t.data[e]}function BM(t,e){return t[e]}function xi(t,e){let n=e[t];return bi(n)?n:n[Dr]}function $M(t){return(t[re]&4)===4}function Um(t){return(t[re]&128)===128}function zM(t){return Cr(t[Rt])}function qd(t,e){return e==null?null:t[e]}function wT(t){t[Yo]=0}function IT(t){t[re]&1024||(t[re]|=1024,Um(t)&&ph(t))}function HM(t,e){for(;t>0;)e=e[fa],t--;return e}function fh(t){return!!(t[re]&9216||t[cn]?.dirty)}function Gg(t){t[Yn].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),fh(t)&&ph(t)}function ph(t){t[Yn].changeDetectionScheduler?.notify(0);let e=Ns(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Um(e)));)e=Ns(e)}function _T(t,e){if((t[re]&256)===256)throw new J(911,!1);t[Ei]===null&&(t[Ei]=[]),t[Ei].push(e)}function qM(t,e){if(t[Ei]===null)return;let n=t[Ei].indexOf(e);n!==-1&&t[Ei].splice(n,1)}function Ns(t){let e=t[Rt];return Cr(e)?e[Rt]:e}var de={lFrame:NT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ET=!1;function GM(){return de.lFrame.elementDepthCount}function WM(){de.lFrame.elementDepthCount++}function KM(){de.lFrame.elementDepthCount--}function bT(){return de.bindingsEnabled}function QM(){return de.skipHydrationRootTNode!==null}function YM(t){return de.skipHydrationRootTNode===t}function ZM(){de.skipHydrationRootTNode=null}function Te(){return de.lFrame.lView}function Mt(){return de.lFrame.tView}function aW(t){return de.lFrame.contextLView=t,t[Sn]}function cW(t){return de.lFrame.contextLView=null,t}function Pt(){let t=TT();for(;t!==null&&t.type===64;)t=t.parent;return t}function TT(){return de.lFrame.currentTNode}function JM(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gc(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function DT(){return de.lFrame.isParent}function XM(){de.lFrame.isParent=!1}function CT(){return ET}function ab(t){ET=t}function eP(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ST(){return de.lFrame.bindingIndex}function tP(t){return de.lFrame.bindingIndex=t}function gh(){return de.lFrame.bindingIndex++}function Bm(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nP(){return de.lFrame.inI18n}function rP(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wg(e)}function iP(){return de.lFrame.currentDirectiveIndex}function Wg(t){de.lFrame.currentDirectiveIndex=t}function sP(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function AT(){return de.lFrame.currentQueryIndex}function $m(t){de.lFrame.currentQueryIndex=t}function oP(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[An]:null}function RT(t,e,n){if(n&le.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&le.Host);)if(i=oP(s),i===null||(s=s[fa],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=de.lFrame=xT();return r.currentTNode=e,r.lView=t,!0}function zm(t){let e=xT(),n=t[ae];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xT(){let t=de.lFrame,e=t===null?null:t.child;return e===null?NT(t):e}function NT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function MT(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var PT=MT;function Hm(){let t=MT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aP(t){return(de.lFrame.contextLView=HM(t,de.lFrame.contextLView))[Sn]}function Ni(){return de.lFrame.selectedIndex}function Ms(t){de.lFrame.selectedIndex=t}function qm(){let t=de.lFrame;return vT(t.tView,t.selectedIndex)}function cP(){return de.lFrame.currentNamespace}var kT=!0;function Gm(){return kT}function Wm(t){kT=t}function uP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=pT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Km(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function Md(t,e,n){OT(t,e,3,n)}function Pd(t,e,n,r){(t[re]&3)===n&&OT(t,e,n,r)}function Cg(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function OT(t,e,n,r){let i=r!==void 0?t[Yo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Yo]+=65536),(a<s||s==-1)&&(lP(t,n,e,u),t[Yo]=(t[Yo]&4294901760)+u+2),u++}function cb(t,e){Wn(4,t,e);let n=Ee(null);try{e.call(t)}finally{Ee(n),Wn(5,t,e)}}function lP(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[re]>>14<t[Yo]>>16&&(t[re]&3)===e&&(t[re]+=16384,cb(a,s)):cb(a,s)}var ea=-1,Ps=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function dP(t){return t instanceof Ps}function hP(t){return(t.flags&8)!==0}function fP(t){return(t.flags&16)!==0}var Sg={},Kg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=uh(r);let i=this.injector.get(e,Sg,r);return i!==Sg||n===Sg?i:this.parentInjector.get(e,n,r)}};function LT(t){return t!==ea}function Gd(t){return t&32767}function pP(t){return t>>16}function Wd(t,e){let n=pP(t),r=e;for(;n>0;)r=r[fa],n--;return r}var Qg=!0;function Kd(t){let e=Qg;return Qg=t,e}var gP=256,FT=gP-1,VT=5,mP=0,Kn={};function yP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fc)&&(r=n[Fc]),r==null&&(r=n[Fc]=mP++);let i=r&FT,s=1<<i;e.data[t+(i>>VT)]|=s}function Qd(t,e){let n=jT(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Ag(r.data,t),Ag(e,null),Ag(r.blueprint,null));let i=Qm(t,e),s=t.injectorIndex;if(LT(i)){let o=Gd(i),a=Wd(i,e),u=a[ae].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function Ag(t,e){t.push(0,0,0,0,0,0,0,0,e)}function jT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=HT(i),r===null)return ea;if(n++,i=i[fa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ea}function Yg(t,e,n){yP(t,e,n)}function vP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Qb(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function UT(t,e,n){if(n&le.Optional||t!==void 0)return t;Pm(e,"NodeInjector")}function BT(t,e,n,r){if(n&le.Optional&&r===void 0&&(r=null),!(n&(le.Self|le.Host))){let i=t[ia],s=Gt(void 0);try{return i?i.get(e,r,n&le.Optional):zb(e,r,n&le.Optional)}finally{Gt(s)}}return UT(r,e,n)}function $T(t,e,n,r=le.Default,i){if(t!==null){if(e[re]&2048&&!(r&le.Self)){let o=EP(t,e,n,r,Kn);if(o!==Kn)return o}let s=zT(t,e,n,r,Kn);if(s!==Kn)return s}return BT(e,n,r,i)}function zT(t,e,n,r,i){let s=IP(n);if(typeof s=="function"){if(!RT(e,t,r))return r&le.Host?UT(i,n,r):BT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&le.Optional))Pm(n);else return o}finally{PT()}}else if(typeof s=="number"){let o=null,a=jT(t,e),u=ea,d=r&le.Host?e[Zn][An]:null;for((a===-1||r&le.SkipSelf)&&(u=a===-1?Qm(t,e):e[a+8],u===ea||!lb(r,!1)?a=-1:(o=e[ae],a=Gd(u),e=Wd(u,e)));a!==-1;){let p=e[ae];if(ub(s,a,p.data)){let g=wP(a,e,n,o,r,d);if(g!==Kn)return g}u=e[a+8],u!==ea&&lb(r,e[ae].data[a+8]===d)&&ub(s,a,e)?(o=p,a=Gd(u),e=Wd(u,e)):a=-1}}return i}function wP(t,e,n,r,i,s){let o=e[ae],a=o.data[t+8],u=r==null?hh(a)&&Qg:r!=o&&(a.type&3)!==0,d=i&le.Host&&s===a,p=kd(a,o,n,u,d);return p!==null?ks(e,o,p,a):Kn}function kd(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,d=t.directiveEnd,p=s>>20,g=r?a:a+p,w=i?a+p:d;for(let _=g;_<w;_++){let N=o[_];if(_<u&&n===N||_>=u&&N.type===n)return _}if(i){let _=o[u];if(_&&Ci(_)&&_.type===n)return u}return null}function ks(t,e,n,r){let i=t[n],s=e.data;if(dP(i)){let o=i;o.resolving&&WN(GN(s[n]));let a=Kd(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?Gt(o.injectImpl):null,p=RT(t,r,le.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&uP(n,s[n],e)}finally{d!==null&&Gt(d),Kd(a),o.resolving=!1,PT()}}return i}function IP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fc)?t[Fc]:void 0;return typeof e=="number"?e>=0?e&FT:_P:e}function ub(t,e,n){let r=1<<t;return!!(n[e+(t>>VT)]&r)}function lb(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var Ss=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return $T(this._tNode,this._lView,e,uh(r),n)}};function _P(){return new Ss(Pt(),Te())}function Ym(t){return Hc(()=>{let e=t.prototype.constructor,n=e[Fd]||Zg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Fd]||Zg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Zg(t){return Fb(t)?()=>{let e=Zg(Vt(t));return e&&e()}:As(t)}function EP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[re]&2048&&!(o[re]&512);){let a=zT(s,o,n,r|le.Self,Kn);if(a!==Kn)return a;let u=s.parent;if(!u){let d=o[lT];if(d){let p=d.get(n,Kn,r);if(p!==Kn)return p}u=HT(o),o=o[fa]}s=u}return i}function HT(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[An]:null}function Zm(t){return vP(Pt(),t)}function db(t,e=null,n=null,r){let i=qT(t,e,n,r);return i.resolveInjectorInitializers(),i}function qT(t,e=null,n=null,r,i=new Set){let s=[n||an,bM(t)];return r=r||(typeof t=="object"?void 0:jt(t)),new Uc(s,e||Vm(),r||null,i)}var Ts=class Ts{static create(e,n){if(Array.isArray(e))return db({name:""},n,e,"");{let r=e.name??"";return db({name:r},e.parent,e.providers,r)}}};Ts.THROW_IF_NOT_FOUND=Vc,Ts.NULL=new Ud,Ts.\u0275prov=q({token:Ts,providedIn:"any",factory:()=>K(Gb)}),Ts.__NG_ELEMENT_ID__=-1;var xt=Ts;var bP=new W("");bP.__NG_ELEMENT_ID__=t=>{let e=Pt();if(e===null)throw new J(204,!1);if(e.type&2)return e.value;if(t&le.Optional)return null;throw new J(204,!1)};var TP="ngOriginalError";function Rg(t){return t[TP]}var GT=!0,Jm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Jg=class extends Jm{constructor(e){super(),this._lView=e}onDestroy(e){return _T(this._lView,e),()=>qM(this._lView,e)}};function DP(){return new Jg(Te())}var Mi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Xg=class extends At{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,uT()&&(this.destroyRef=V(Jm,{optional:!0})??void 0,this.pendingTasks=V(Mi,{optional:!0})??void 0)}emit(e){let n=Ee(null);try{super.next(e)}finally{Ee(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},It=Xg;function Yd(...t){}function WT(t){let e,n;function r(){t=Yd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function hb(t){return queueMicrotask(()=>t()),()=>{t=Yd}}var Xm="isAngularZone",Zd=Xm+"_ID",CP=0,be=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=GT}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,RP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Xm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,SP,Yd,Yd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SP={};function ey(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){WT(()=>{t.callbackScheduled=!1,em(t),t.isCheckStableRunning=!0,ey(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),em(t)}function RP(t){let e=()=>{AP(t)},n=CP++;t._inner=t._inner.fork({name:"angular",properties:{[Xm]:!0,[Zd]:n,[Zd+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(xP(u))return r.invokeTask(s,o,a,u);try{return fb(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pb(t)}},onInvoke:(r,i,s,o,a,u,d)=>{try{return fb(t),r.invoke(s,o,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!NP(u)&&e(),pb(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,em(t),ey(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function em(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pb(t){t._nesting--,ey(t)}var tm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function xP(t){return KT(t,"__ignore_ng_zone__")}function NP(t){return KT(t,"__scheduler_tick__")}function KT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var br=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Rg(e);for(;n&&Rg(n);)n=Rg(n);return n||null}},MP=new W("",{providedIn:"root",factory:()=>{let t=V(be),e=V(br);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function PP(){return ga(Pt(),Te())}function ga(t,e){return new Sr(dn(t,e))}var Sr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=PP;let t=e;return t})();function kP(t){return t instanceof Sr?t.nativeElement:t}function OP(){return this._results[Symbol.iterator]()}var nm=class t{get changes(){return this._changes??=new It}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=OP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=iM(e);(this._changesDetected=!rM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function QT(t){return(t.flags&128)===128}var YT=new Map,LP=0;function FP(){return LP++}function VP(t){YT.set(t[dh],t)}function rm(t){YT.delete(t[dh])}var gb="__ngContext__";function Os(t,e){bi(e)?(t[gb]=e[dh],VP(e)):t[gb]=e}function ZT(t){return XT(t[Bc])}function JT(t){return XT(t[Cn])}function XT(t){for(;t!==null&&!Cr(t);)t=t[Cn];return t}var im;function eD(t){im=t}function jP(){if(im!==void 0)return im;if(typeof document<"u")return document;throw new J(210,!1)}var ty=new W("",{providedIn:"root",factory:()=>UP}),UP="ng",ny=new W(""),hn=new W("",{providedIn:"platform",factory:()=>"unknown"});var ry=new W("",{providedIn:"root",factory:()=>jP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BP="h",$P="b";var zP=()=>null;function iy(t,e,n=!1){return zP(t,e,n)}var tD=!1,HP=new W("",{providedIn:"root",factory:()=>tD});var Sd;function qP(){if(Sd===void 0&&(Sd=null,Cs.trustedTypes))try{Sd=Cs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sd}function mb(t){return qP()?.createScriptURL(t)||t}var Jd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kb})`}};function Wc(t){return t instanceof Jd?t.changingThisBreaksApplicationSecurity:t}function sy(t,e){let n=GP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${kb})`)}return n===e}function GP(t){return t instanceof Jd&&t.getTypeName()||null}var WP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nD(t){return t=String(t),t.match(WP)?t:"unsafe:"+t}var mh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mh||{});function KP(t){let e=iD();return e?e.sanitize(mh.URL,t)||"":sy(t,"URL")?Wc(t):nD(_r(t))}function QP(t){let e=iD();if(e)return mb(e.sanitize(mh.RESOURCE_URL,t)||"");if(sy(t,"ResourceURL"))return mb(Wc(t));throw new J(904,!1)}function YP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?QP:KP}function rD(t,e,n){return YP(e,n)(t)}function iD(){let t=Te();return t&&t[Yn].sanitizer}function sD(t){return t instanceof Function?t():t}function ZP(t){return(t??V(xt)).get(hn)==="browser"}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tr||{}),JP;function oy(t,e){return JP(t,e)}function Zo(t,e,n,r,i){if(r!=null){let s,o=!1;Cr(r)?s=r:bi(r)&&(o=!0,r=r[Dr]);let a=Xn(r);t===0&&n!==null?i==null?lD(e,n,a):Xd(e,n,a,i||null,!0):t===1&&n!==null?Xd(e,n,a,i||null,!0):t===2?fk(e,a,o):t===3&&e.destroyNode(a),s!=null&&gk(e,t,s,n,i)}}function XP(t,e){return t.createText(e)}function ek(t,e,n){t.setValue(e,n)}function oD(t,e,n){return t.createElement(e,n)}function tk(t,e){aD(t,e),e[Dr]=null,e[An]=null}function nk(t,e,n,r,i,s){r[Dr]=i,r[An]=e,yh(t,r,n,1,i,s)}function aD(t,e){e[Yn].changeDetectionScheduler?.notify(9),yh(t,e,e[ut],2,null,null)}function rk(t){let e=t[Bc];if(!e)return xg(t[ae],t);for(;e;){let n=null;if(bi(e))n=e[Bc];else{let r=e[Xt];r&&(n=r)}if(!n){for(;e&&!e[Cn]&&e!==t;)bi(e)&&xg(e[ae],e),e=e[Rt];e===null&&(e=t),bi(e)&&xg(e[ae],e),n=e&&e[Cn]}e=n}}function ik(t,e,n,r){let i=Xt+r,s=n.length;r>0&&(n[i-1][Cn]=e),r<s-Xt?(e[Cn]=n[i],qb(n,Xt+r,e)):(n.push(e),e[Cn]=null),e[Rt]=n;let o=e[Rs];o!==null&&n!==o&&cD(o,e);let a=e[Er];a!==null&&a.insertView(t),Gg(e),e[re]|=128}function cD(t,e){let n=t[sa],r=e[Rt];if(bi(r))t[re]|=Hd.HasTransplantedViews;else{let i=r[Rt][Zn];e[Zn]!==i&&(t[re]|=Hd.HasTransplantedViews)}n===null?t[sa]=[e]:n.push(e)}function ay(t,e){let n=t[sa],r=n.indexOf(e);n.splice(r,1)}function sm(t,e){if(t.length<=Xt)return;let n=Xt+e,r=t[n];if(r){let i=r[Rs];i!==null&&i!==t&&ay(i,r),e>0&&(t[n-1][Cn]=r[Cn]);let s=jd(t,Xt+e);tk(r[ae],r);let o=s[Er];o!==null&&o.detachView(s[ae]),r[Rt]=null,r[Cn]=null,r[re]&=-129}return r}function uD(t,e){if(!(e[re]&256)){let n=e[ut];n.destroyNode&&yh(t,e,n,3,null,null),rk(e)}}function xg(t,e){if(e[re]&256)return;let n=Ee(null);try{e[re]&=-129,e[re]|=256,e[cn]&&ng(e[cn]),ok(t,e),sk(t,e),e[ae].type===1&&e[ut].destroy();let r=e[Rs];if(r!==null&&Cr(e[Rt])){r!==e[Rt]&&ay(r,e);let i=e[Er];i!==null&&i.detachView(t)}rm(e)}finally{Ee(n)}}function sk(t,e){let n=t.cleanup,r=e[$d];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[$d]=null);let i=e[Ei];if(i!==null){e[Ei]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function ok(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ps)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Wn(4,a,u);try{u.call(a)}finally{Wn(5,a,u)}}else{Wn(4,i,s);try{s.call(i)}finally{Wn(5,i,s)}}}}}function ak(t,e,n){return ck(t,e.parent,n)}function ck(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Dr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qn.None||s===Qn.Emulated)return null}return dn(r,n)}}function Xd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lD(t,e,n){t.appendChild(e,n)}function yb(t,e,n,r,i){r!==null?Xd(t,e,n,r,i):lD(t,e,n)}function dD(t,e){return t.parentNode(e)}function uk(t,e){return t.nextSibling(e)}function lk(t,e,n){return hk(t,e,n)}function dk(t,e,n){return t.type&40?dn(t,n):null}var hk=dk,vb;function cy(t,e,n,r){let i=ak(t,r,e),s=e[ut],o=r.parent||e[An],a=lk(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)yb(s,i,n[u],a,!1);else yb(s,i,n,a,!1);vb!==void 0&&vb(s,r,e,n,i)}function Lc(t,e){if(e!==null){let n=e.type;if(n&3)return dn(e,t);if(n&4)return om(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Lc(t,r);{let i=t[e.index];return Cr(i)?om(-1,i):Xn(i)}}else{if(n&128)return Lc(t,e.next);if(n&32)return oy(e,t)()||Xn(t[e.index]);{let r=hD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ns(t[Zn]);return Lc(i,r)}else return Lc(t,e.next)}}}return null}function hD(t,e){if(e!==null){let r=t[Zn][An],i=e.projection;return r.projection[i]}return null}function om(t,e){let n=Xt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Lc(r,i)}return e[xs]}function fk(t,e,n){t.removeChild(null,e,n)}function uy(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Os(Xn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)uy(t,e,n.child,r,i,s,!1),Zo(e,t,i,a,s);else if(u&32){let d=oy(n,r),p;for(;p=d();)Zo(e,t,i,p,s);Zo(e,t,i,a,s)}else u&16?pk(t,e,r,n,i,s):Zo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function yh(t,e,n,r,i,s){uy(n,r,t.firstChild,e,i,s,!1)}function pk(t,e,n,r,i,s){let o=n[Zn],u=o[An].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Zo(e,t,i,p,s)}else{let d=u,p=o[Rt];QT(r)&&(d.flags|=128),uy(t,e,d,p,i,s,!0)}}function gk(t,e,n,r,i){let s=n[xs],o=Xn(n);s!==o&&Zo(e,t,r,s,i);for(let a=Xt;a<n.length;a++){let u=n[a];yh(u[ae],u,t,e,r,s)}}function mk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Tr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tr.Important),t.setStyle(n,r,i,s))}}function yk(t,e,n){t.setAttribute(e,"style",n)}function fD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ug(t,e,r),i!==null&&fD(t,e,i),s!==null&&yk(t,e,s)}var Rn={};function uW(t=1){gD(Mt(),Te(),Ni()+t,!1)}function gD(t,e,n,r){if(!r)if((e[re]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Md(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Pd(e,s,0,n)}Ms(n)}function Be(t,e=le.Default){let n=Te();if(n===null)return K(t,e);let r=Pt();return $T(r,n,Vt(t),e)}function mD(){let t="invalid";throw new Error(t)}function yD(t,e,n,r,i,s){let o=Ee(null);try{let a=null;i&Ti.SignalBased&&(a=e[r][yr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ti.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):fT(e,a,r,s)}finally{Ee(o)}}function vk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ms(~i);else{let s=i,o=n[++r],a=n[++r];rP(o,s);let u=e[s];a(2,u)}}}finally{Ms(-1)}}function vh(t,e,n,r,i,s,o,a,u,d,p){let g=e.blueprint.slice();return g[Dr]=i,g[re]=r|4|128|8|64,(d!==null||t&&t[re]&2048)&&(g[re]|=2048),wT(g),g[Rt]=g[fa]=t,g[Sn]=n,g[Yn]=o||t&&t[Yn],g[ut]=a||t&&t[ut],g[ia]=u||t&&t[ia]||null,g[An]=s,g[dh]=FP(),g[Bd]=p,g[lT]=d,g[Zn]=e.type==2?t[Zn]:g,g}function wh(t,e,n,r,i){let s=t.data[e];if(s===null)s=wk(t,e,n,r,i),nP()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=JM();s.injectorIndex=o===null?-1:o.injectorIndex}return Gc(s,!0),s}function wk(t,e,n,r,i){let s=TT(),o=DT(),a=o?s:s&&s.parent,u=t.data[e]=Dk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function vD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wD(t,e,n,r,i){let s=Ni(),o=r&2;try{Ms(-1),o&&e.length>Jn&&gD(t,e,Jn,!1),Wn(o?2:0,i),n(r,i)}finally{Ms(s),Wn(o?3:1,i)}}function ID(t,e,n){if(hT(e)){let r=Ee(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{Ee(r)}}}function _D(t,e,n){bT()&&(Nk(t,e,n,dn(n,e)),(n.flags&64)===64&&SD(t,e,n))}function ED(t,e,n=dn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function bD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ly(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ly(t,e,n,r,i,s,o,a,u,d,p){let g=Jn+r,w=g+i,_=Ik(g,w),N=typeof d=="function"?d():d;return _[ae]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:N,incompleteFirstPass:!1,ssrId:p}}function Ik(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Rn);return n}function _k(t,e,n,r){let s=r.get(HP,tD)||n===Qn.ShadowDom,o=t.selectRootElement(e,s);return Ek(o),o}function Ek(t){bk(t)}var bk=()=>null;function Tk(t,e,n,r){let i=xD(e);i.push(n),t.firstCreatePass&&ND(t).push(r,i.length-1)}function Dk(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return QM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function wb(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ti.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?Ib(r,n,d,a,u):Ib(r,n,d,a)}return r}function Ib(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Ck(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=s[p],w=n?n.get(g):null,_=w?w.inputs:null,N=w?w.outputs:null;u=wb(0,g.inputs,p,u,_),d=wb(1,g.outputs,p,d,N);let O=u!==null&&o!==null&&!Lm(e)?$k(u,p,o):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function Sk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function TD(t,e,n,r,i,s,o,a){let u=dn(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(dy(t,n,p,r,i),hh(e)&&Ak(n,e.index)):e.type&3?(r=Sk(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function Ak(t,e){let n=xi(e,t);n[re]&16||(n[re]|=64)}function DD(t,e,n,r){if(bT()){let i=r===null?null:{"":-1},s=Pk(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&CD(t,e,n,o,i,a),i&&kk(n,r,i)}n.mergedAttrs=jc(n.mergedAttrs,n.attrs)}function CD(t,e,n,r,i,s){for(let d=0;d<r.length;d++)Yg(Qd(n,e),t,r[d].type);Lk(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=vD(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=jc(n.mergedAttrs,p.hostAttrs),Fk(t,n,e,u,p),Ok(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Ck(t,n,s)}function Rk(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;xk(o)!=a&&o.push(a),o.push(n,r,s)}}function xk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Nk(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;hh(n)&&Vk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Qd(n,e),Os(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],d=ks(e,t,a,n);if(Os(d,e),o!==null&&Bk(e,a-i,d,u,n,o),Ci(u)){let p=xi(n.index,e);p[Sn]=ks(e,t,a,n)}}}function SD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=iP();try{Ms(s);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];Wg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Mk(u,d)}}finally{Ms(-1),Wg(o)}}function Mk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Pk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(pM(e,o.selectors,!1))if(r||(r=[]),Ci(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;am(t,e,u)}else r.unshift(o),am(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function am(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new J(-301,!1);r.push(e[i],s)}}}function Ok(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ci(e)&&(n[""]=t)}}function Lk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fk(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=As(i.type,!0)),o=new Ps(s,Ci(i),Be);t.blueprint[r]=o,n[r]=o,Rk(t,e,r,vD(t,n,i.hostVars,Rn),i)}function Vk(t,e,n){let r=dn(e,t),i=bD(n),s=t[Yn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ih(t,vh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function jk(t,e,n,r,i,s){let o=dn(t,e);Uk(e[ut],o,s,t.value,n,r,i)}function Uk(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?_r(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Bk(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],d=o[a++],p=o[a++],g=o[a++];yD(r,n,u,d,p,g)}}function $k(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function AD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function RD(t,e){let n=t.contentQueries;if(n!==null){let r=Ee(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];$m(s),a.contentQueries(2,e[o],o)}}}finally{Ee(r)}}}function Ih(t,e){return t[Bc]?t[sb][Cn]=e:t[Bc]=e,t[sb]=e,e}function cm(t,e,n){$m(0);let r=Ee(null);try{e(t,n)}finally{Ee(r)}}function xD(t){return t[$d]??=[]}function ND(t){return t.cleanup??=[]}function MD(t,e){let n=t[ia],r=n?n.get(br,null):null;r&&r.handleError(e)}function dy(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],d=e[o],p=t.data[o];yD(p,d,r,a,u,i)}}function hy(t,e,n){let r=yT(e,t);ek(t[ut],r,n)}function zk(t,e){let n=xi(e,t),r=n[ae];Hk(r,n);let i=n[Dr];i!==null&&n[Bd]===null&&(n[Bd]=iy(i,n[ia])),fy(r,n,n[Sn])}function Hk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function fy(t,e,n){zm(e);try{let r=t.viewQuery;r!==null&&cm(1,r,n);let i=t.template;i!==null&&wD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Er]?.finishViewCreation(t),t.staticContentQueries&&RD(t,e),t.staticViewQueries&&cm(2,t.viewQuery,n);let s=t.components;s!==null&&qk(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,Hm()}}function qk(t,e){for(let n=0;n<e.length;n++)zk(t,e[n])}function Gk(t,e,n,r){let i=Ee(null);try{let s=e.tView,a=t[re]&4096?4096:16,u=vh(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[Rs]=d;let p=t[Er];return p!==null&&(u[Er]=p.createEmbeddedView(s)),fy(s,u,n),u}finally{Ee(i)}}function _b(t,e){return!e||e.firstChild===null||QT(t)}function Wk(t,e,n,r=!0){let i=e[ae];if(ik(i,e,t,n),r){let o=om(n,t),a=e[ut],u=dD(a,t[xs]);u!==null&&nk(i,t[An],a,e,u,o)}let s=e[Bd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function eh(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Xn(s)),Cr(s)&&Kk(s,r);let o=n.type;if(o&8)eh(t,e,n.child,r);else if(o&32){let a=oy(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=hD(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ns(e[Zn]);eh(u[ae],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Kk(t,e){for(let n=Xt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&eh(r[ae],r,i,e)}t[xs]!==t[Dr]&&e.push(t[xs])}var PD=[];function Qk(t){return t[cn]??Yk(t)}function Yk(t){let e=PD.pop()??Object.create(Jk);return e.lView=t,e}function Zk(t){t.lView[cn]!==t&&(t.lView=null,PD.push(t))}var Jk=Le(B({},Mc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ph(t.lView)},consumerOnSignalRead(){this.lView[cn]=this}});function Xk(t){let e=t[cn]??Object.create(eO);return e.lView=t,e}var eO=Le(B({},Mc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ns(t.lView);for(;e&&!kD(e[ae]);)e=Ns(e);e&&IT(e)},consumerOnSignalRead(){this.lView[cn]=this}});function kD(t){return t.type!==2}var tO=100;function OD(t,e=!0,n=0){let r=t[Yn],i=r.rendererFactory,s=!1;s||i.begin?.();try{nO(t,n)}catch(o){throw e&&MD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function nO(t,e){let n=CT();try{ab(!0),um(t,e);let r=0;for(;fh(t);){if(r===tO)throw new J(103,!1);r++,um(t,1)}}finally{ab(n)}}function rO(t,e,n,r){let i=e[re];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Yn].inlineEffectRunner?.flush(),zm(e);let a=!0,u=null,d=null;s||(kD(t)?(d=Qk(e),u=Xl(d)):dE()===null?(a=!1,d=Xk(e),u=Xl(d)):e[cn]&&(ng(e[cn]),e[cn]=null));try{wT(e),tP(t.bindingStartIndex),n!==null&&wD(t,e,n,2,r);let p=(i&3)===3;if(!s)if(p){let _=t.preOrderCheckHooks;_!==null&&Md(e,_,null)}else{let _=t.preOrderHooks;_!==null&&Pd(e,_,0,null),Cg(e,0)}if(o||iO(e),LD(e,0),t.contentQueries!==null&&RD(t,e),!s)if(p){let _=t.contentCheckHooks;_!==null&&Md(e,_)}else{let _=t.contentHooks;_!==null&&Pd(e,_,1),Cg(e,1)}vk(t,e);let g=t.components;g!==null&&VD(e,g,0);let w=t.viewQuery;if(w!==null&&cm(2,w,r),!s)if(p){let _=t.viewCheckHooks;_!==null&&Md(e,_)}else{let _=t.viewHooks;_!==null&&Pd(e,_,2),Cg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dg]){for(let _ of e[Dg])_();e[Dg]=null}s||(e[re]&=-73)}catch(p){throw s||ph(e),p}finally{d!==null&&(eg(d,u),a&&Zk(d)),Hm()}}function LD(t,e){for(let n=ZT(t);n!==null;n=JT(n))for(let r=Xt;r<n.length;r++){let i=n[r];FD(i,e)}}function iO(t){for(let e=ZT(t);e!==null;e=JT(e)){if(!(e[re]&Hd.HasTransplantedViews))continue;let n=e[sa];for(let r=0;r<n.length;r++){let i=n[r];IT(i)}}}function sO(t,e,n){let r=xi(e,t);FD(r,n)}function FD(t,e){Um(t)&&um(t,e)}function um(t,e){let r=t[ae],i=t[re],s=t[cn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&tg(s)),o||=!1,s&&(s.dirty=!1),t[re]&=-9217,o)rO(r,t,r.template,t[Sn]);else if(i&8192){LD(t,1);let a=r.components;a!==null&&VD(t,a,1)}}function VD(t,e,n){for(let r=0;r<e.length;r++)sO(t,e[r],n)}function py(t,e){let n=CT()?64:1088;for(t[Yn].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=Ns(t);if(Hg(t)&&!r)return t;t=r}return null}var Ls=class{get rootNodes(){let e=this._lView,n=e[ae];return eh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rt];if(Cr(e)){let n=e[zd],r=n?n.indexOf(this):-1;r>-1&&(sm(e,r),jd(n,r))}this._attachedToViewContainer=!1}uD(this._lView[ae],this._lView)}onDestroy(e){_T(this._lView,e)}markForCheck(){py(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Gg(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,OD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Hg(this._lView),n=this._lView[Rs];n!==null&&!e&&ay(n,this._lView),aD(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;let n=Hg(this._lView),r=this._lView[Rs];r!==null&&!n&&cD(r,this._lView),Gg(this._lView)}},Fs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cO;let t=e;return t})(),oO=Fs,aO=class extends oO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Gk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ls(i)}};function cO(){return gy(Pt(),Te())}function gy(t,e){return t.type&4?new aO(e,t,ga(t,e)):null}var dW=new RegExp(`^(\\d+)*(${$P}|${BP})*(.*)`);var uO=()=>null;function Eb(t,e){return uO(t,e)}var oa=class{},my=new W("",{providedIn:"root",factory:()=>!1});var jD=new W(""),UD=new W(""),lm=class{},th=class{};function lO(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[dO]=t,e}var dO="ngComponent";var dm=class{resolveComponentFactory(e){throw lO(e)}},Dy=class Dy{};Dy.NULL=new dm;var aa=Dy,ca=class{},Kc=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>hO();let t=e;return t})();function hO(){let t=Te(),e=Pt(),n=xi(e.index,t);return(bi(n)?n:t)[ut]}var fO=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function hm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=QE(i,a);else if(s==2){let u=a,d=e[++o];r=QE(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var nh=class extends aa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Di(e);return new ua(n,this.ngModule)}};function bb(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ti.None;e?n.push({propName:o,templateName:r,isSignal:(a&Ti.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function pO(t){let e=t.toLowerCase();return e==="svg"?jM:e==="math"?UM:null}var ua=class extends th{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=bb(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return bb(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=vM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Ee(null);try{i=i||this.ngModule;let o=i instanceof Ut?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Kg(e,o):e,u=a.get(ca,null);if(u===null)throw new J(407,!1);let d=a.get(fO,null),p=a.get(oa,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",N=r?_k(w,r,this.componentDef.encapsulation,a):oD(w,_,pO(_)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let M=null;N!==null&&(M=iy(N,a,!0));let F=ly(0,null,null,1,0,null,null,null,null,null,null),H=vh(null,F,null,O,null,null,g,w,a,null,M);zm(H);let Q,Y,_e=null;try{let Z=this.componentDef,C,E=null;Z.findHostDirectiveDefs?(C=[],E=new Map,Z.findHostDirectiveDefs(Z,C,E),C.push(Z)):C=[Z];let b=gO(H,N);_e=mO(b,N,Z,C,H,g,w),Y=vT(F,Jn),N&&wO(w,Z,N,r),n!==void 0&&IO(Y,this.ngContentSelectors,n),Q=vO(_e,Z,C,E,H,[_O]),fy(F,H,null)}catch(Z){throw _e!==null&&rm(_e),rm(H),Z}finally{Hm()}return new fm(this.componentType,Q,ga(Y,H),H,Y)}finally{Ee(s)}}},fm=class extends lm{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ls(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;dy(s[ae],s,i,e,n),this.previousInputValues.set(e,n);let o=xi(this._tNode.index,s);py(o,1)}}get injector(){return new Ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gO(t,e){let n=t[ae],r=Jn;return t[r]=e,wh(n,r,2,"#host",null)}function mO(t,e,n,r,i,s,o){let a=i[ae];yO(r,t,e,o);let u=null;e!==null&&(u=iy(e,i[ia]));let d=s.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let g=vh(i,bD(n),null,p,i[t.index],t,s,d,null,null,u);return a.firstCreatePass&&am(a,t,r.length-1),Ih(i,g),i[t.index]=g}function yO(t,e,n,r){for(let i of t)e.mergedAttrs=jc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(hm(e,e.mergedAttrs,!0),n!==null&&pD(r,n,e))}function vO(t,e,n,r,i,s){let o=Pt(),a=i[ae],u=dn(o,i);CD(a,i,o,n,null,r);for(let p=0;p<n.length;p++){let g=o.directiveStart+p,w=ks(i,a,g,o);Os(w,i)}SD(a,i,o),u&&Os(u,i);let d=ks(i,a,o.directiveStart+o.componentOffset,o);if(t[Sn]=i[Sn]=d,s!==null)for(let p of s)p(d,e);return ID(a,o,i),d}function wO(t,e,n,r){if(r)Ug(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:s}=wM(e.selectors[0]);i&&Ug(t,n,i),s&&s.length>0&&fD(t,n,s.join(" "))}}function IO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function _O(){let t=Pt();Km(Te()[ae],t)}var Pi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EO;let t=e;return t})();function EO(){let t=Pt();return $D(t,Te())}var bO=Pi,BD=class extends bO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ga(this._hostTNode,this._hostLView)}get injector(){return new Ss(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qm(this._hostTNode,this._hostLView);if(LT(e)){let n=Wd(e,this._hostLView),r=Gd(e),i=n[ae].data[r+8];return new Ss(i,n)}else return new Ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Tb(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Eb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,_b(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!OM(e),a;if(o)a=n;else{let N=n||{};a=N.index,r=N.injector,i=N.projectableNodes,s=N.environmentInjector||N.ngModuleRef}let u=o?e:new ua(Di(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let O=(o?d:this.parentInjector).get(Ut,null);O&&(s=O)}let p=Di(u.componentType??{}),g=Eb(this._lContainer,p?.id??null),w=g?.firstChild??null,_=u.create(d,i,w,s);return this.insertImpl(_.hostView,a,_b(this._hostTNode,g)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Rt],d=new BD(u,u[An],u[Rt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Wk(o,i,s,r),e.attachToViewContainerRef(),qb(Ng(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Tb(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sm(this._lContainer,n);r&&(jd(Ng(this._lContainer),n),uD(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=sm(this._lContainer,n);return r&&jd(Ng(this._lContainer),n)!=null?new Ls(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Tb(t){return t[zd]}function Ng(t){return t[zd]||(t[zd]=[])}function $D(t,e){let n,r=e[t.index];return Cr(r)?n=r:(n=AD(r,e,null,t),e[t.index]=n,Ih(e,n)),DO(n,e,t,r),new BD(n,t,e)}function TO(t,e){let n=t[ut],r=n.createComment(""),i=dn(e,t),s=dD(n,i);return Xd(n,s,r,uk(n,i),!1),r}var DO=AO,CO=()=>!1;function SO(t,e,n){return CO(t,e,n)}function AO(t,e,n,r){if(t[xs])return;let i;n.type&8?i=Xn(r):i=TO(e,n),t[xs]=i}var pm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},gm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)yy(e,n).matches!==null&&this.queries[n].setDirty()}},mm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=LO(e):this.predicate=e}},ym=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},vm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,RO(n,s)),this.matchTNodeWithReadOption(e,n,kd(n,e,s,!1,!1))}else r===Fs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,kd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Sr||i===Pi||i===Fs&&n.type&4)this.addMatch(n.index,-2);else{let s=kd(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function RO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function xO(t,e){return t.type&11?ga(t,e):t.type&4?gy(t,e):null}function NO(t,e,n,r){return n===-1?xO(e,t):n===-2?MO(t,e,r):ks(t,t[ae],n,e)}function MO(t,e,n){if(n===Sr)return ga(e,t);if(n===Fs)return gy(e,t);if(n===Pi)return $D(e,t)}function zD(t,e,n,r){let i=e[Er].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let d=o[u];if(d<0)a.push(null);else{let p=s[d];a.push(NO(e,p,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function wm(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=zD(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let d=s[a+1],p=e[-u];for(let g=Xt;g<p.length;g++){let w=p[g];w[Rs]===w[Rt]&&wm(w[ae],w,d,r)}if(p[sa]!==null){let g=p[sa];for(let w=0;w<g.length;w++){let _=g[w];wm(_[ae],_,d,r)}}}}}return r}function PO(t,e){return t[Er].queries[e].queryList}function kO(t,e,n){let r=new nm((n&4)===4);return Tk(t,e,r,r.destroy),(e[Er]??=new gm).queries.push(new pm(r))-1}function OO(t,e,n,r){let i=Mt();if(i.firstCreatePass){let s=Pt();FO(i,new mm(e,n,r),s.index),VO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return kO(i,Te(),n)}function LO(t){return t.split(",").map(e=>e.trim())}function FO(t,e,n){t.queries===null&&(t.queries=new ym),t.queries.track(new vm(e,n))}function VO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function yy(t,e){return t.queries.getByIndex(e)}function jO(t,e){let n=t[ae],r=yy(n,e);return r.crossesNgTemplate?wm(n,t,e,[]):zD(n,t,r,e)}var Db=new Set;function Us(t){Db.has(t)||(Db.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function UO(t){return typeof t=="function"&&t[yr]!==void 0}function fW(t,e){Us("NgSignals");let n=EE(t),r=n[yr];return e?.equal&&(r.equal=e.equal),n.set=i=>rg(r,i),n.update=i=>bE(r,i),n.asReadonly=BO.bind(n),n}function BO(){let t=this[yr];if(t.readonlyFn===void 0){let e=()=>this();e[yr]=t,t.readonlyFn=e}return t.readonlyFn}function HD(t){return UO(t)&&typeof t.set=="function"}function $O(t){return Object.getPrototypeOf(t.prototype).constructor}function zO(t){let e=$O(t.type),n=!0,r=[t];for(;e;){let i;if(Ci(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Ad(t.inputs),o.inputTransforms=Ad(t.inputTransforms),o.declaredInputs=Ad(t.declaredInputs),o.outputs=Ad(t.outputs);let a=i.hostBindings;a&&KO(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&GO(t,u),d&&WO(t,d),HO(t,i),VN(t.outputs,i.outputs),Ci(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===zO&&(n=!1)}}e=Object.getPrototypeOf(e)}qO(r)}function HO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function qO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jc(i.hostAttrs,n=jc(n,i.hostAttrs))}}function Ad(t){return t===ta?{}:t===an?[]:t}function GO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function WO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function KO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function vy(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Si=class{},$c=class{};var Im=class extends Si{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nh(this);let s=nT(e);this._bootstrapComponents=sD(s.bootstrap),this._r3Injector=qT(e,n,[{provide:Si,useValue:this},{provide:aa,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_m=class extends $c{constructor(e){super(),this.moduleType=e}create(e){return new Im(this.moduleType,e,[])}};var rh=class extends Si{constructor(e){super(),this.componentFactoryResolver=new nh(this),this.instance=null;let n=new Uc([...e.providers,{provide:Si,useValue:this},{provide:aa,useValue:this.componentFactoryResolver}],e.parent||Vm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _h(t,e,n=null){return new rh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function qD(t){return YO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function QO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function YO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ZO(t,e,n){return t[e]=n}function Ai(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function wy(t,e,n,r){let i=Ai(t,e,n);return Ai(t,e+1,r)||i}function JO(t,e,n,r,i){let s=wy(t,e,n,r);return Ai(t,e+2,i)||s}function XO(t){return(t.flags&32)===32}function e1(t,e,n,r,i,s,o,a,u){let d=e.consts,p=wh(e,t,4,o||null,a||null);DD(e,n,p,qd(d,u)),Km(e,p);let g=p.tView=ly(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function t1(t,e,n,r,i,s,o,a,u,d){let p=n+Jn,g=e.firstCreatePass?e1(p,e,t,r,i,s,o,a,u):e.data[p];Gc(g,!1);let w=r1(e,t,g,n);Gm()&&cy(e,t,w,g),Os(w,t);let _=AD(w,t,w,g);return t[p]=_,Ih(t,_),SO(_,g,t),jm(g)&&_D(e,t,g),u!=null&&ED(t,g,d),g}function n1(t,e,n,r,i,s,o,a){let u=Te(),d=Mt(),p=qd(d.consts,s);return t1(u,d,t,e,n,r,i,p,o,a),n1}var r1=i1;function i1(t,e,n,r){return Wm(!0),e[ut].createComment("")}var Jo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Jo||{}),GD=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Ds=class Ds{constructor(){this.ngZone=V(be),this.scheduler=V(oa),this.errorHandler=V(br,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Ds.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Ds.PHASES=[Jo.EarlyRead,Jo.Write,Jo.MixedReadWrite,Jo.Read],Ds.\u0275prov=q({token:Ds,providedIn:"root",factory:()=>new Ds});var Em=Ds,bm=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Iy(t,e){!e?.injector&&kM(Iy);let n=e?.injector??V(xt);return ZP(n)?(Us("NgAfterNextRender"),o1(t,n,e,!0)):a1}function s1(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function o1(t,e,n,r){let i=e.get(GD);i.impl??=e.get(Em);let s=n?.phase??Jo.MixedReadWrite,o=new bm(i.impl,s1(t,s),r,e.get(Jm));return i.impl.register(o),o}var a1={destroy(){}};function _y(t,e,n,r){let i=Te(),s=gh();if(Ai(i,s,e)){let o=Mt(),a=qm();jk(a,i,t,e,n,r)}return _y}function c1(t,e,n,r){return Ai(t,gh(),n)?e+_r(n)+r:Rn}function u1(t,e,n,r,i,s){let o=ST(),a=wy(t,o,n,i);return Bm(2),a?e+_r(n)+r+_r(i)+s:Rn}function l1(t,e,n,r,i,s,o,a){let u=ST(),d=JO(t,u,n,i,o);return Bm(3),d?e+_r(n)+r+_r(i)+s+_r(o)+a:Rn}function Rd(t,e){return t<<17|e<<2}function Vs(t){return t>>17&32767}function d1(t){return(t&2)==2}function h1(t,e){return t&131071|e<<17}function Tm(t){return t|2}function la(t){return(t&131068)>>2}function Mg(t,e){return t&-131069|e<<2}function f1(t){return(t&1)===1}function Dm(t){return t|1}function p1(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Vs(o),u=la(o);t[r]=n;let d=!1,p;if(Array.isArray(n)){let g=n;p=g[1],(p===null||qc(g,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let w=Vs(t[a+1]);t[r+1]=Rd(w,a),w!==0&&(t[w+1]=Mg(t[w+1],r)),t[a+1]=h1(t[a+1],r)}else t[r+1]=Rd(a,0),a!==0&&(t[a+1]=Mg(t[a+1],r)),a=r;else t[r+1]=Rd(u,0),a===0?a=r:t[u+1]=Mg(t[u+1],r),u=r;d&&(t[r+1]=Tm(t[r+1])),Cb(t,p,r,!0),Cb(t,p,r,!1),g1(e,p,t,r,s),o=Rd(a,u),s?e.classBindings=o:e.styleBindings=o}function g1(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&qc(s,e)>=0&&(n[r+1]=Dm(n[r+1]))}function Cb(t,e,n,r){let i=t[n+1],s=e===null,o=r?Vs(i):la(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],d=t[o+1];m1(u,e)&&(a=!0,t[o+1]=r?Dm(d):Tm(d)),o=r?Vs(d):la(d)}a&&(t[n+1]=r?Tm(i):Dm(i))}function m1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?qc(t,e)>=0:!1}function y1(t,e,n){let r=Te(),i=gh();if(Ai(r,i,e)){let s=Mt(),o=qm();TD(s,o,r,t,e,r[ut],n,!1)}return y1}function Sb(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";dy(t,n,s[o],o,r)}function v1(t,e){return w1(t,e,null,!0),v1}function w1(t,e,n,r){let i=Te(),s=Mt(),o=Bm(2);if(s.firstUpdatePass&&_1(s,t,o,r),e!==Rn&&Ai(i,o,e)){let a=s.data[Ni()];C1(s,a,i,i[ut],t,i[o+1]=S1(e,n),r,o)}}function I1(t,e){return e>=t.expandoStartIndex}function _1(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ni()],o=I1(t,n);A1(s,r)&&e===null&&!o&&(e=!1),e=E1(i,s,e,r),p1(i,s,e,n,o,r)}}function E1(t,e,n,r){let i=sP(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Pg(null,t,e,n,r),n=zc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Pg(i,t,e,n,r),s===null){let u=b1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Pg(null,t,e,u[1],r),u=zc(u,e.attrs,r),T1(t,e,r,u))}else s=D1(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function b1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(la(r)!==0)return t[Vs(r)]}function T1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Vs(i)]=r}function D1(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=zc(r,o,n)}return zc(r,e.attrs,n)}function Pg(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=zc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function zc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),oM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function C1(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=f1(d)?Ab(u,e,n,i,la(d),o):void 0;if(!ih(p)){ih(s)||d1(d)&&(s=Ab(u,null,n,i,a,o));let g=yT(Ni(),n);mk(r,o,g,i,s)}}function Ab(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,w=n[i+1];w===Rn&&(w=g?an:void 0);let _=g?bg(w,r):p===r?w:void 0;if(d&&!ih(_)&&(_=bg(u,r)),ih(_)&&(a=_,o))return a;let N=t[i+1];i=o?Vs(N):la(N)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=bg(u,r))}return a}function ih(t){return t!==void 0}function S1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(Wc(t)))),t}function A1(t,e){return(t.flags&(e?8:16))!==0}function R1(t,e,n,r,i,s){let o=e.consts,a=qd(o,i),u=wh(e,t,2,r,a);return DD(e,n,u,qd(o,s)),u.attrs!==null&&hm(u,u.attrs,!1),u.mergedAttrs!==null&&hm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function WD(t,e,n,r){let i=Te(),s=Mt(),o=Jn+t,a=i[ut],u=s.firstCreatePass?R1(o,s,i,e,n,r):s.data[o],d=x1(s,i,u,a,e,t);i[o]=d;let p=jm(u);return Gc(u,!0),pD(a,d,u),!XO(u)&&Gm()&&cy(s,i,d,u),GM()===0&&Os(d,i),WM(),p&&(_D(s,i,u),ID(s,u,i)),r!==null&&ED(i,u),WD}function KD(){let t=Pt();DT()?XM():(t=t.parent,Gc(t,!1));let e=t;YM(e)&&ZM(),KM();let n=Mt();return n.firstCreatePass&&(Km(n,t),hT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&hP(e)&&Sb(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&fP(e)&&Sb(n,e,Te(),e.stylesWithoutHost,!1),KD}function Ey(t,e,n,r){return WD(t,e,n,r),KD(),Ey}var x1=(t,e,n,r,i,s)=>(Wm(!0),oD(r,i,cP()));function pW(){return Te()}var bs=void 0;function N1(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var M1=["en",[["a","p"],["AM","PM"],bs],[["AM","PM"],bs,bs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bs,"{1} 'at' {0}",bs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",N1],kg={};function fn(t){let e=P1(t),n=Rb(e);if(n)return n;let r=e.split("-")[0];if(n=Rb(r),n)return n;if(r==="en")return M1;throw new J(701,!1)}function Rb(t){return t in kg||(kg[t]=Cs.ng&&Cs.ng.common&&Cs.ng.common.locales&&Cs.ng.common.locales[t]),kg[t]}var Ye=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ye||{});function P1(t){return t.toLowerCase().replace(/_/g,"-")}var sh="en-US";var k1=sh;function O1(t){typeof t=="string"&&(k1=t.toLowerCase().replace(/_/g,"-"))}var L1=(t,e,n)=>{};function by(t,e,n,r){let i=Te(),s=Mt(),o=Pt();return QD(s,i,i[ut],o,t,e,r),by}function F1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[$d],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function QD(t,e,n,r,i,s,o){let a=jm(r),d=t.firstCreatePass&&ND(t),p=e[Sn],g=xD(e),w=!0;if(r.type&3||o){let O=dn(r,e),M=o?o(O):O,F=g.length,H=o?Y=>o(Xn(Y[r.index])):r.index,Q=null;if(!o&&a&&(Q=F1(t,e,i,r.index)),Q!==null){let Y=Q.__ngLastListenerFn__||Q;Y.__ngNextListenerFn__=s,Q.__ngLastListenerFn__=s,w=!1}else{s=Nb(r,e,p,s),L1(O,i,s);let Y=n.listen(M,i,s);g.push(s,Y),d&&d.push(i,H,F,F+1)}}else s=Nb(r,e,p,s);let _=r.outputs,N;if(w&&_!==null&&(N=_[i])){let O=N.length;if(O)for(let M=0;M<O;M+=2){let F=N[M],H=N[M+1],_e=e[F][H].subscribe(s),Z=g.length;g.push(s,_e),d&&d.push(i,r.index,Z,-(Z+1))}}}function xb(t,e,n,r){let i=Ee(null);try{return Wn(6,e,n),n(r)!==!1}catch(s){return MD(t,s),!1}finally{Wn(7,e,n),Ee(i)}}function Nb(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?xi(t.index,e):e;py(o,5);let a=xb(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=xb(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function gW(t=1){return aP(t)}function YD(t,e,n,r){OO(t,e,n,r)}function ZD(t){let e=Te(),n=Mt(),r=AT();$m(r+1);let i=yy(n,r);if(t.dirty&&$M(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=jO(e,r);t.reset(s,kP),t.notifyOnChanges()}return!0}return!1}function JD(){return PO(Te(),AT())}function V1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function mW(t,e=""){let n=Te(),r=Mt(),i=t+Jn,s=r.firstCreatePass?wh(r,i,1,e,null):r.data[i],o=j1(r,n,s,e,t);n[i]=o,Gm()&&cy(r,n,o,s),Gc(s,!1)}var j1=(t,e,n,r,i)=>(Wm(!0),XP(e[ut],r));function U1(t){return XD("",t,""),U1}function XD(t,e,n){let r=Te(),i=c1(r,t,e,n);return i!==Rn&&hy(r,Ni(),i),XD}function B1(t,e,n,r,i){let s=Te(),o=u1(s,t,e,n,r,i);return o!==Rn&&hy(s,Ni(),o),B1}function $1(t,e,n,r,i,s,o){let a=Te(),u=l1(a,t,e,n,r,i,s,o);return u!==Rn&&hy(a,Ni(),u),$1}function z1(t,e,n){HD(e)&&(e=e());let r=Te(),i=gh();if(Ai(r,i,e)){let s=Mt(),o=qm();TD(s,o,r,t,e,r[ut],n,!1)}return z1}function yW(t,e){let n=HD(t);return n&&t.set(e),n}function H1(t,e){let n=Te(),r=Mt(),i=Pt();return QD(r,n,n[ut],i,t,e),H1}function q1(t,e,n){let r=Mt();if(r.firstCreatePass){let i=Ci(t);Cm(n,r.data,r.blueprint,i,!0),Cm(e,r.data,r.blueprint,i,!1)}}function Cm(t,e,n,r,i){if(t=Vt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Cm(t[s],e,n,r,i);else{let s=Mt(),o=Te(),a=Pt(),u=ra(t)?t:Vt(t.provide),d=cT(t),p=a.providerIndexes&1048575,g=a.directiveStart,w=a.providerIndexes>>20;if(ra(t)||!t.multi){let _=new Ps(d,i,Be),N=Lg(u,e,i?p:p+w,g);N===-1?(Yg(Qd(a,o),s,u),Og(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)):(n[N]=_,o[N]=_)}else{let _=Lg(u,e,p+w,g),N=Lg(u,e,p,p+w),O=_>=0&&n[_],M=N>=0&&n[N];if(i&&!M||!i&&!O){Yg(Qd(a,o),s,u);let F=K1(i?W1:G1,n.length,i,r,d);!i&&M&&(n[N].providerFactory=F),Og(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=e0(n[i?N:_],d,!i&&r);Og(s,t,_>-1?_:N,F)}!i&&r&&M&&n[N].componentProviders++}}}function Og(t,e,n,r){let i=ra(e),s=SM(e);if(i||s){let u=(s?Vt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function e0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function G1(t,e,n,r){return Sm(this.multi,[])}function W1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ks(n,n[ae],this.providerFactory.index,r);s=a.slice(0,o),Sm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Sm(i,s);return s}function Sm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function K1(t,e,n,r,i){let s=new Ps(t,n,Be);return s.multi=[],s.index=e,s.componentProviders=0,e0(s,i,r&&!n),s}function vW(t,e=[]){return n=>{n.providersResolver=(r,i)=>q1(r,i?i(t):t,e)}}var Q1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=sT(!1,r.type),s=i.length>0?_h([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(K(Ut))});let t=e;return t})();function t0(t){Us("NgStandalone"),t.getStandaloneInjector=e=>e.get(Q1).getOrCreateStandaloneInjector(t)}function Y1(t,e){let n=t[e];return n===Rn?void 0:n}function Z1(t,e,n,r,i,s,o){let a=e+n;return wy(t,a,i,s)?ZO(t,a+2,o?r.call(o,i,s):r(i,s)):Y1(t,a+2)}function wW(t,e){let n=Mt(),r,i=t+Jn;n.firstCreatePass?(r=J1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=As(r.type,!0)),o,a=Gt(Be);try{let u=Kd(!1),d=s();return Kd(u),V1(n,Te(),i,d),d}finally{Gt(a)}}function J1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function IW(t,e,n,r){let i=t+Jn,s=Te(),o=BM(s,i);return X1(s,i)?Z1(s,eP(),e,o.transform,n,r,o):o.transform(n,r)}function X1(t,e){return t[ae].data[e].pure}var Ri=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},n0=new Ri("18.2.4");var Eh=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var r0=new W("");function Qc(t){return!!t&&typeof t.then=="function"}function i0(t){return!!t&&typeof t.subscribe=="function"}var bh=new W(""),s0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=V(bh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Qc(o))r.push(o);else if(i0(o)){let a=new Promise((u,d)=>{o.subscribe({complete:u,error:d})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yc=new W("");function eL(){_E(()=>{throw new J(600,!1)})}function tL(t){return t.isBoundToModule}var nL=10;function rL(t,e,n){try{let r=n();return Qc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ki=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(MP),this.afterRenderManager=V(GD),this.zonelessEnabled=V(my),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new At,this.afterTick=new At,this.componentTypes=[],this.components=[],this.isStable=V(Mi).hasPendingTasks.pipe(ue(r=>!r)),this._injector=V(Ut)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof th;if(!this._injector.get(s0).done){let _=!s&&tT(r),N=!1;throw new J(405,N)}let a;s?a=r:a=this._injector.get(aa).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=tL(a)?void 0:this._injector.get(Si),d=i||a.selector,p=a.create(xt.NULL,[],d,u),g=p.location.nativeElement,w=p.injector.get(r0,null);return w?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Od(this.components,p),w?.unregisterApplication(g)}),this._loadComponent(p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new J(101,!1);let r=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ee(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(ca,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<nL;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)iL(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>fh(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Od(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Yc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Od(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new J(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Od(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iL(t,e,n,r){if(!n&&!fh(t))return;OD(t,e,n&&!r?0:1)}var Am=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Th=(()=>{let e=class e{compileModuleSync(r){return new _m(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=nT(r),o=sD(s.declarations).reduce((a,u)=>{let d=Di(u);return d&&a.push(new ua(d)),a},[]);return new Am(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sL=(()=>{let e=class e{constructor(){this.zone=V(be),this.changeDetectionScheduler=V(oa),this.applicationRef=V(ki)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oL=new W("",{factory:()=>!1});function o0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new be(Le(B({},a0()),{scheduleInRootZone:n})),[{provide:be,useFactory:t},{provide:na,multi:!0,useFactory:()=>{let r=V(sL,{optional:!0});return()=>r.initialize()}},{provide:na,multi:!0,useFactory:()=>{let r=V(aL);return()=>{r.initialize()}}},e===!0?{provide:jD,useValue:!0}:[],{provide:UD,useValue:n??GT}]}function _W(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=o0({ngZoneFactory:()=>{let i=a0(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Us("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return un([{provide:oL,useValue:!0},{provide:my,useValue:!1},r])}function a0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var aL=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=V(be),this.pendingTasks=V(Mi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cL=(()=>{let e=class e{constructor(){this.appRef=V(ki),this.taskService=V(Mi),this.ngZone=V(be),this.zonelessEnabled=V(my),this.disableScheduling=V(jD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(UD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tm||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?hb:WT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uL(){return typeof $localize<"u"&&$localize.locale||sh}var Dh=new W("",{providedIn:"root",factory:()=>V(Dh,le.Optional|le.SkipSelf)||uL()});var c0=new W("");function xd(t){return!!t.platformInjector}function lL(t){let e=xd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(be);return n.run(()=>{xd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(br,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),xd(t)){let s=()=>e.destroy(),o=t.platformInjector.get(c0);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Od(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return rL(r,n,()=>{let s=e.get(s0);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Dh,sh);if(O1(o||sh),xd(t)){let a=e.get(ki);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return dL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function dL(t,e){let n=t.injector.get(ki);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new J(-403,!1);e.push(t)}var Ld=null;function hL(t=[],e){return xt.create({name:e,providers:[{provide:lh,useValue:"platform"},{provide:c0,useValue:new Set([()=>Ld=null])},...t]})}function fL(t=[]){if(Ld)return Ld;let e=hL(t);return Ld=e,eL(),pL(e),e}function pL(t){t.get(ny,null)?.forEach(n=>n())}var ma=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gL;let t=e;return t})();function gL(t){return mL(Pt(),Te(),(t&16)===16)}function mL(t,e,n){if(hh(t)&&!n){let r=xi(t.index,e);return new Ls(r,r)}else if(t.type&175){let r=e[Zn];return new Ls(r,e)}return null}var Rm=class{constructor(){}supports(e){return qD(e)}create(e){return new xm(e)}},yL=(t,e)=>e,xm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Mb(r,i,s)?n:r,a=Mb(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,p=u-i;if(d!=p){for(let w=0;w<d;w++){let _=w<s.length?s[w]:s[w]=0,N=_+w;p<=N&&N<d&&(s[w]=_+1)}let g=o.previousIndex;s[g]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!qD(e))throw new J(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,QO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Nm(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new oh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new oh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Nm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Mm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},oh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Mm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Mb(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Pb(){return new Ty([new Rm])}var Ty=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Pb()),deps:[[e,new km,new Nt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new J(901,!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:Pb});let t=e;return t})();function u0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=fL(r),s=[o0({}),{provide:oa,useExisting:cL},...n||[]],o=new rh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return lL({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var l0=new W("");function Zc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function EW(t,e){Us("NgSignals");let n=vE(t);return e?.equal&&(n[yr].equal=e.equal),n}function vL(t){let e=Ee(null);try{return t()}finally{Ee(e)}}function d0(t){let e=Di(t);if(!e)return null;let n=new ua(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var y0=null;function ya(){return y0}function v0(t){y0??=t}var kh=class{};var _t=new W(""),Py=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>V(IL),providedIn:"platform"});let t=e;return t})(),w0=new W(""),IL=(()=>{let e=class e extends Py{constructor(){super(),this._doc=V(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ya().getBaseHref(this._doc)}onPopState(r){let i=ya().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ya().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ky(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function h0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Rr(t){return t&&t[0]!=="?"?"?"+t:t}var Nr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>V(Oy),providedIn:"root"});let t=e;return t})(),I0=new W(""),Oy=(()=>{let e=class e extends Nr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??V(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ky(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Rr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Rr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Rr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(K(Py),K(I0,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_0=(()=>{let e=class e extends Nr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=ky(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Rr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Rr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(K(Py),K(I0,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),wa=(()=>{let e=class e{constructor(r){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=bL(h0(f0(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Rr(i))}normalize(r){return e.stripTrailingSlash(EL(this._basePath,f0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Rr,e.joinWithSlash=ky,e.stripTrailingSlash=h0,e.\u0275fac=function(i){return new(i||e)(K(Nr))},e.\u0275prov=q({token:e,factory:()=>_L(),providedIn:"root"});let t=e;return t})();function _L(){return new wa(K(Nr))}function EL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function f0(t){return t.replace(/\/index.html$/,"")}function bL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Bt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Bt||{}),ke=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ke||{}),en=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(en||{}),Oi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function TL(t){return fn(t)[Ye.LocaleId]}function DL(t,e,n){let r=fn(t),i=[r[Ye.DayPeriodsFormat],r[Ye.DayPeriodsStandalone]],s=pn(i,e);return pn(s,n)}function CL(t,e,n){let r=fn(t),i=[r[Ye.DaysFormat],r[Ye.DaysStandalone]],s=pn(i,e);return pn(s,n)}function SL(t,e,n){let r=fn(t),i=[r[Ye.MonthsFormat],r[Ye.MonthsStandalone]],s=pn(i,e);return pn(s,n)}function AL(t,e){let r=fn(t)[Ye.Eras];return pn(r,e)}function Ch(t,e){let n=fn(t);return pn(n[Ye.DateFormat],e)}function Sh(t,e){let n=fn(t);return pn(n[Ye.TimeFormat],e)}function Ah(t,e){let r=fn(t)[Ye.DateTimeFormat];return pn(r,e)}function Lh(t,e){let n=fn(t),r=n[Ye.NumberSymbols][e];if(typeof r>"u"){if(e===Oi.CurrencyDecimal)return n[Ye.NumberSymbols][Oi.Decimal];if(e===Oi.CurrencyGroup)return n[Ye.NumberSymbols][Oi.Group]}return r}function E0(t){if(!t[Ye.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ye.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function RL(t){let e=fn(t);return E0(e),(e[Ye.ExtraData][2]||[]).map(r=>typeof r=="string"?Cy(r):[Cy(r[0]),Cy(r[1])])}function xL(t,e,n){let r=fn(t);E0(r);let i=[r[Ye.ExtraData][0],r[Ye.ExtraData][1]],s=pn(i,e)||[];return pn(s,n)||[]}function pn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Cy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var NL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rh={},ML=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(xr||{}),Se=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Se||{}),Ce=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ce||{});function PL(t,e,n,r){let i=$L(t);e=Ar(n,e)||e;let o=[],a;for(;e;)if(a=ML.exec(e),a){o=o.concat(a.slice(1));let p=o.pop();if(!p)break;e=p}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=T0(r,u),i=BL(i,r,!0));let d="";return o.forEach(p=>{let g=jL(p);d+=g?g(i,n,u):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Oh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Ar(t,e){let n=TL(t);if(Rh[n]??={},Rh[n][e])return Rh[n][e];let r="";switch(e){case"shortDate":r=Ch(t,en.Short);break;case"mediumDate":r=Ch(t,en.Medium);break;case"longDate":r=Ch(t,en.Long);break;case"fullDate":r=Ch(t,en.Full);break;case"shortTime":r=Sh(t,en.Short);break;case"mediumTime":r=Sh(t,en.Medium);break;case"longTime":r=Sh(t,en.Long);break;case"fullTime":r=Sh(t,en.Full);break;case"short":let i=Ar(t,"shortTime"),s=Ar(t,"shortDate");r=xh(Ah(t,en.Short),[i,s]);break;case"medium":let o=Ar(t,"mediumTime"),a=Ar(t,"mediumDate");r=xh(Ah(t,en.Medium),[o,a]);break;case"long":let u=Ar(t,"longTime"),d=Ar(t,"longDate");r=xh(Ah(t,en.Long),[u,d]);break;case"full":let p=Ar(t,"fullTime"),g=Ar(t,"fullDate");r=xh(Ah(t,en.Full),[p,g]);break}return r&&(Rh[n][e]=r),r}function xh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function xn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function kL(t,e){return xn(t,3).substring(0,e)}function rt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=OL(t,s);if((n>0||a>-n)&&(a+=n),t===Se.Hours)a===0&&n===-12&&(a=12);else if(t===Se.FractionalSeconds)return kL(a,e);let u=Lh(o,Oi.MinusSign);return xn(a,e,u,r,i)}}function OL(t,e){switch(t){case Se.FullYear:return e.getFullYear();case Se.Month:return e.getMonth();case Se.Date:return e.getDate();case Se.Hours:return e.getHours();case Se.Minutes:return e.getMinutes();case Se.Seconds:return e.getSeconds();case Se.FractionalSeconds:return e.getMilliseconds();case Se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Fe(t,e,n=Bt.Format,r=!1){return function(i,s){return LL(i,s,t,e,n,r)}}function LL(t,e,n,r,i,s){switch(n){case Ce.Months:return SL(e,i,r)[t.getMonth()];case Ce.Days:return CL(e,i,r)[t.getDay()];case Ce.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let d=RL(e),p=xL(e,i,r),g=d.findIndex(w=>{if(Array.isArray(w)){let[_,N]=w,O=o>=_.hours&&a>=_.minutes,M=o<N.hours||o===N.hours&&a<N.minutes;if(_.hours<N.hours){if(O&&M)return!0}else if(O||M)return!0}else if(w.hours===o&&w.minutes===a)return!0;return!1});if(g!==-1)return p[g]}return DL(e,i,r)[o<12?0:1];case Ce.Eras:return AL(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Nh(t){return function(e,n,r){let i=-1*r,s=Lh(n,Oi.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case xr.Short:return(i>=0?"+":"")+xn(o,2,s)+xn(Math.abs(i%60),2,s);case xr.ShortGMT:return"GMT"+(i>=0?"+":"")+xn(o,1,s);case xr.Long:return"GMT"+(i>=0?"+":"")+xn(o,2,s)+":"+xn(Math.abs(i%60),2,s);case xr.Extended:return r===0?"Z":(i>=0?"+":"")+xn(o,2,s)+":"+xn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var FL=0,Ph=4;function VL(t){let e=Oh(t,FL,1).getDay();return Oh(t,0,1+(e<=Ph?Ph:Ph+7)-e)}function b0(t){let e=t.getDay(),n=e===0?-3:Ph-e;return Oh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Sy(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=b0(n),o=VL(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return xn(i,t,Lh(r,Oi.MinusSign))}}function Mh(t,e=!1){return function(n,r){let s=b0(n).getFullYear();return xn(s,t,Lh(r,Oi.MinusSign),e)}}var Ay={};function jL(t){if(Ay[t])return Ay[t];let e;switch(t){case"G":case"GG":case"GGG":e=Fe(Ce.Eras,ke.Abbreviated);break;case"GGGG":e=Fe(Ce.Eras,ke.Wide);break;case"GGGGG":e=Fe(Ce.Eras,ke.Narrow);break;case"y":e=rt(Se.FullYear,1,0,!1,!0);break;case"yy":e=rt(Se.FullYear,2,0,!0,!0);break;case"yyy":e=rt(Se.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(Se.FullYear,4,0,!1,!0);break;case"Y":e=Mh(1);break;case"YY":e=Mh(2,!0);break;case"YYY":e=Mh(3);break;case"YYYY":e=Mh(4);break;case"M":case"L":e=rt(Se.Month,1,1);break;case"MM":case"LL":e=rt(Se.Month,2,1);break;case"MMM":e=Fe(Ce.Months,ke.Abbreviated);break;case"MMMM":e=Fe(Ce.Months,ke.Wide);break;case"MMMMM":e=Fe(Ce.Months,ke.Narrow);break;case"LLL":e=Fe(Ce.Months,ke.Abbreviated,Bt.Standalone);break;case"LLLL":e=Fe(Ce.Months,ke.Wide,Bt.Standalone);break;case"LLLLL":e=Fe(Ce.Months,ke.Narrow,Bt.Standalone);break;case"w":e=Sy(1);break;case"ww":e=Sy(2);break;case"W":e=Sy(1,!0);break;case"d":e=rt(Se.Date,1);break;case"dd":e=rt(Se.Date,2);break;case"c":case"cc":e=rt(Se.Day,1);break;case"ccc":e=Fe(Ce.Days,ke.Abbreviated,Bt.Standalone);break;case"cccc":e=Fe(Ce.Days,ke.Wide,Bt.Standalone);break;case"ccccc":e=Fe(Ce.Days,ke.Narrow,Bt.Standalone);break;case"cccccc":e=Fe(Ce.Days,ke.Short,Bt.Standalone);break;case"E":case"EE":case"EEE":e=Fe(Ce.Days,ke.Abbreviated);break;case"EEEE":e=Fe(Ce.Days,ke.Wide);break;case"EEEEE":e=Fe(Ce.Days,ke.Narrow);break;case"EEEEEE":e=Fe(Ce.Days,ke.Short);break;case"a":case"aa":case"aaa":e=Fe(Ce.DayPeriods,ke.Abbreviated);break;case"aaaa":e=Fe(Ce.DayPeriods,ke.Wide);break;case"aaaaa":e=Fe(Ce.DayPeriods,ke.Narrow);break;case"b":case"bb":case"bbb":e=Fe(Ce.DayPeriods,ke.Abbreviated,Bt.Standalone,!0);break;case"bbbb":e=Fe(Ce.DayPeriods,ke.Wide,Bt.Standalone,!0);break;case"bbbbb":e=Fe(Ce.DayPeriods,ke.Narrow,Bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(Ce.DayPeriods,ke.Abbreviated,Bt.Format,!0);break;case"BBBB":e=Fe(Ce.DayPeriods,ke.Wide,Bt.Format,!0);break;case"BBBBB":e=Fe(Ce.DayPeriods,ke.Narrow,Bt.Format,!0);break;case"h":e=rt(Se.Hours,1,-12);break;case"hh":e=rt(Se.Hours,2,-12);break;case"H":e=rt(Se.Hours,1);break;case"HH":e=rt(Se.Hours,2);break;case"m":e=rt(Se.Minutes,1);break;case"mm":e=rt(Se.Minutes,2);break;case"s":e=rt(Se.Seconds,1);break;case"ss":e=rt(Se.Seconds,2);break;case"S":e=rt(Se.FractionalSeconds,1);break;case"SS":e=rt(Se.FractionalSeconds,2);break;case"SSS":e=rt(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Nh(xr.Short);break;case"ZZZZZ":e=Nh(xr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nh(xr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nh(xr.Long);break;default:return null}return Ay[t]=e,e}function T0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function UL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function BL(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=T0(e,i);return UL(t,r*(s-i))}function $L(t){if(p0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Oh(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(NL))return zL(r)}let e=new Date(t);if(!p0(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function zL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,d),e}function p0(t){return t instanceof Date&&!isNaN(t.valueOf())}function Fh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ry=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qW=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Ry(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),g0(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);g0(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Be(Pi),Be(Fs),Be(Ty))},e.\u0275dir=js({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function g0(t,e){t.context.$implicit=e.item}var GW=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new xy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){m0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){m0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Be(Pi),Be(Fs))},e.\u0275dir=js({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),xy=class{constructor(){this.$implicit=null,this.ngIf=null}};function m0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${jt(e)}'.`)}function HL(t,e){return new J(2100,!1)}var qL="mediumDate",GL=new W(""),WL=new W(""),WW=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??qL,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return PL(r,a,o||this.locale,u)}catch(a){throw HL(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(Be(Dh,16),Be(GL,24),Be(WL,24))},e.\u0275pipe=Jb({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var KL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ha({type:e}),e.\u0275inj=da({});let t=e;return t})(),Ly="browser",QL="server";function YL(t){return t===Ly}function Vh(t){return t===QL}var D0=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>YL(V(hn))?new Ny(V(_t),window):new My});let t=e;return t})(),Ny=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=ZL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function ZL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var My=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},va=class{};var Xc=class{},Uh=class{},Mr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Vy=class{encodeKey(e){return S0(e)}encodeValue(e){return S0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function JL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var XL=/%(\d[a-f0-9])/gi,eF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function S0(t){return encodeURIComponent(t).replace(XL,(e,n)=>eF[n]??e)}function jh(t){return`${t}`}var Fi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Vy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=JL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(jh):[jh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(jh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(jh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var jy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function tF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function A0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function R0(t){return typeof Blob<"u"&&t instanceof Blob}function x0(t){return typeof FormData<"u"&&t instanceof FormData}function nF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Jc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(tF(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Mr,this.context??=new jy,!this.params)this.params=new Fi,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||A0(this.body)||R0(this.body)||x0(this.body)||nF(this.body)?this.body:this.body instanceof Fi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||x0(this.body)?null:R0(this.body)?this.body.type||null:A0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Fi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((w,_)=>w.set(_,e.setHeaders[_]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((w,_)=>w.set(_,e.setParams[_]),p)),new t(n,r,o,{params:p,headers:d,context:g,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Vi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Vi||{}),eu=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Mr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Bh=class t extends eu{constructor(e={}){super(e),this.type=Vi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},tu=class t extends eu{constructor(e={}){super(e),this.type=Vi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Li=class extends eu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},k0=200,rF=204;function Fy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var iF=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Jc)o=r;else{let d;s.headers instanceof Mr?d=s.headers:d=new Mr(s.headers);let p;s.params&&(s.params instanceof Fi?p=s.params:p=new Fi({fromObject:s.params})),o=new Jc(r,i,s.body!==void 0?s.body:null,{headers:d,context:s.context,params:p,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=ee(o).pipe(wr(d=>this.handler.handle(d)));if(r instanceof Jc||s.observe==="events")return a;let u=a.pipe(Ht(d=>d instanceof tu));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(ue(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe(ue(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe(ue(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return u.pipe(ue(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Fi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Fy(s,i))}post(r,i,s={}){return this.request("POST",r,Fy(s,i))}put(r,i,s={}){return this.request("PUT",r,Fy(s,i))}};e.\u0275fac=function(i){return new(i||e)(K(Xc))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),sF=/^\)\]\}',?\n/,oF="X-Request-URL";function N0(t){if(t.url)return t.url;let e=oF.toLocaleLowerCase();return t.headers.get(e)}var aF=(()=>{let e=class e{constructor(){this.fetchImpl=V(Uy,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=V(be)}handle(r){return new fe(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(By,o=>i.error(new Li({error:o}))),()=>s.abort()})}doRequest(r,i,s){return D(this,null,function*(){let o=this.createRequestInit(r),a;try{let N=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,B({signal:i},o)));cF(N),s.next({type:Vi.Sent}),a=yield N}catch(N){s.error(new Li({error:N,status:N.status??0,statusText:N.statusText,url:r.urlWithParams,headers:N.headers}));return}let u=new Mr(a.headers),d=a.statusText,p=N0(a)??r.urlWithParams,g=a.status,w=null;if(r.reportProgress&&s.next(new Bh({headers:u,status:g,statusText:d,url:p})),a.body){let N=a.headers.get("content-length"),O=[],M=a.body.getReader(),F=0,H,Q,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>D(this,null,function*(){for(;;){let{done:Z,value:C}=yield M.read();if(Z)break;if(O.push(C),F+=C.length,r.reportProgress){Q=r.responseType==="text"?(Q??"")+(H??=new TextDecoder).decode(C,{stream:!0}):void 0;let E=()=>s.next({type:Vi.DownloadProgress,total:N?+N:void 0,loaded:F,partialText:Q});Y?Y.run(E):E()}}}));let _e=this.concatChunks(O,F);try{let Z=a.headers.get("Content-Type")??"";w=this.parseBody(r,_e,Z)}catch(Z){s.error(new Li({error:Z,headers:new Mr(a.headers),status:a.status,statusText:a.statusText,url:N0(a)??r.urlWithParams}));return}}g===0&&(g=w?k0:0),g>=200&&g<300?(s.next(new tu({body:w,headers:u,status:g,statusText:d,url:p})),s.complete()):s.error(new Li({error:w,headers:u,status:g,statusText:d,url:p}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(sF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Uy=class{};function By(){}function cF(t){t.then(By,By)}function uF(t,e){return e(t)}function lF(t,e,n){return(r,i)=>ln(n,()=>e(r,s=>t(s,i)))}var O0=new W(""),dF=new W(""),hF=new W("",{providedIn:"root",factory:()=>!0});var M0=(()=>{let e=class e extends Xc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=V(Mi),this.contributeToStability=V(hF)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(O0),...this.injector.get(dF,[])]));this.chain=i.reduceRight((s,o)=>lF(s,o,this.injector),uF)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Es(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(K(Uh),K(Ut))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();var fF=/^\)\]\}',?\n/;function pF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var P0=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new J(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ue(i.\u0275loadImpl()):ee(null)).pipe(qt(()=>new fe(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((M,F)=>a.setRequestHeader(M,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let M=r.detectContentTypeHeader();M!==null&&a.setRequestHeader("Content-Type",M)}if(r.responseType){let M=r.responseType.toLowerCase();a.responseType=M!=="json"?M:"text"}let u=r.serializeBody(),d=null,p=()=>{if(d!==null)return d;let M=a.statusText||"OK",F=new Mr(a.getAllResponseHeaders()),H=pF(a)||r.url;return d=new Bh({headers:F,status:a.status,statusText:M,url:H}),d},g=()=>{let{headers:M,status:F,statusText:H,url:Q}=p(),Y=null;F!==rF&&(Y=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=Y?k0:0);let _e=F>=200&&F<300;if(r.responseType==="json"&&typeof Y=="string"){let Z=Y;Y=Y.replace(fF,"");try{Y=Y!==""?JSON.parse(Y):null}catch(C){Y=Z,_e&&(_e=!1,Y={error:C,text:Y})}}_e?(o.next(new tu({body:Y,headers:M,status:F,statusText:H,url:Q||void 0})),o.complete()):o.error(new Li({error:Y,headers:M,status:F,statusText:H,url:Q||void 0}))},w=M=>{let{url:F}=p(),H=new Li({error:M,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});o.error(H)},_=!1,N=M=>{_||(o.next(p()),_=!0);let F={type:Vi.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),o.next(F)},O=M=>{let F={type:Vi.UploadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),o.next(F)};return a.addEventListener("load",g),a.addEventListener("error",w),a.addEventListener("timeout",w),a.addEventListener("abort",w),r.reportProgress&&(a.addEventListener("progress",N),u!==null&&a.upload&&a.upload.addEventListener("progress",O)),a.send(u),o.next({type:Vi.Sent}),()=>{a.removeEventListener("error",w),a.removeEventListener("abort",w),a.removeEventListener("load",g),a.removeEventListener("timeout",w),r.reportProgress&&(a.removeEventListener("progress",N),u!==null&&a.upload&&a.upload.removeEventListener("progress",O)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(K(va))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),L0=new W(""),gF="XSRF-TOKEN",mF=new W("",{providedIn:"root",factory:()=>gF}),yF="X-XSRF-TOKEN",vF=new W("",{providedIn:"root",factory:()=>yF}),$h=class{},wF=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fh(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(K(_t),K(hn),K(mF))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function IF(t,e){let n=t.url.toLowerCase();if(!V(L0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=V($h).getToken(),i=V(vF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function a6(...t){let e=[iF,P0,M0,{provide:Xc,useExisting:M0},{provide:Uh,useFactory:()=>V(aF,{optional:!0})??V(P0)},{provide:O0,useValue:IF,multi:!0},{provide:L0,useValue:!0},{provide:$h,useClass:wF}];for(let n of t)e.push(...n.\u0275providers);return un(e)}var Hy=class extends kh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qy=class t extends Hy{static makeCurrent(){v0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=_F();return n==null?null:EF(n)}resetBaseElement(){nu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fh(document.cookie,e)}},nu=null;function _F(){return nu=nu||document.querySelector("base"),nu?nu.getAttribute("href"):null}function EF(t){return new URL(t,document.baseURI).pathname}var bF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),zh=new W(""),U0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new J(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(K(zh),K(be))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),ru=class{constructor(e){this._doc=e}},$y="ng-app-id",B0=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${$y}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute($y),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute($y,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(K(_t),K(ty),K(ry,8),K(hn))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),zy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wy=/%COMP%/g,$0="%COMP%",TF=`_nghost-${$0}`,DF=`_ngcontent-${$0}`,CF=!0,SF=new W("",{providedIn:"root",factory:()=>CF});function AF(t){return DF.replace(Wy,t)}function RF(t){return TF.replace(Wy,t)}function z0(t,e){return e.map(n=>n.replace(Wy,t))}var F0=(()=>{let e=class e{constructor(r,i,s,o,a,u,d,p=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=d,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=Vh(u),this.defaultRenderer=new iu(r,a,d,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qn.ShadowDom&&(i=Le(B({},i),{encapsulation:Qn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Hh?s.applyToHost(r):s instanceof su&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(i.encapsulation){case Qn.Emulated:o=new Hh(d,p,i,this.appId,g,a,u,w);break;case Qn.ShadowDom:return new Gy(d,p,r,i,a,u,this.nonce,w);default:o=new su(d,p,i,g,a,u,w);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(K(U0),K(B0),K(ty),K(SF),K(_t),K(hn),K(be),K(ry))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),iu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(V0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(V0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=zy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=zy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tr.DashCase|Tr.Important)?e.style.setProperty(n,r,i&Tr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ya().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function V0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gy=class extends iu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=z0(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},su=class extends iu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?z0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hh=class extends su{constructor(e,n,r,i,s,o,a,u){let d=i+"-"+r.id;super(e,n,r,s,o,a,u,d),this.contentAttr=AF(d),this.hostAttr=RF(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xF=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(K(_t))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),NF=(()=>{let e=class e extends ru{constructor(r){super(r),this.delegate=V(l0,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(K(_t))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),j0=["alt","control","meta","shift"],MF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},kF=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ya().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),j0.forEach(p=>{let g=i.indexOf(p);g>-1&&(i.splice(g,1),a+=p+".")}),a+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=s,d.fullKey=a,d}static matchEventFullKeyCode(r,i){let s=MF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),j0.forEach(a=>{if(a!==s){let u=PF[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(K(_t))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function P6(t,e){return u0(B({rootComponent:t},OF(e)))}function OF(t){return{appProviders:[...UF,...t?.providers??[]],platformProviders:jF}}function LF(){qy.makeCurrent()}function FF(){return new br}function VF(){return eD(document),document}var jF=[{provide:hn,useValue:Ly},{provide:ny,useValue:LF,multi:!0},{provide:_t,useFactory:VF,deps:[]}];var UF=[{provide:lh,useValue:"root"},{provide:br,useFactory:FF,deps:[]},{provide:zh,useClass:xF,multi:!0,deps:[_t,be,hn]},{provide:zh,useClass:kF,multi:!0,deps:[_t]},{provide:zh,useClass:NF,multi:!0},F0,B0,U0,{provide:ca,useExisting:F0},{provide:va,useClass:bF,deps:[]},[]];var H0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(K(_t))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ce="primary",Iu=Symbol("RouteTitle"),Jy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Da(t){return new Jy(t)}function $F(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!er(t[n],e[n]))return!1;return!0}function er(t,e){let n=t?Xy(t):void 0,r=e?Xy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!nC(t[i],e[i]))return!1;return!0}function Xy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function rC(t){return t.length>0?t[t.length-1]:null}function Bi(t){return yg(t)?t:Qc(t)?Ue(Promise.resolve(t)):ee(t)}var HF={exact:sC,subset:oC},iC={exact:qF,subset:GF,ignored:()=>!0};function q0(t,e,n){return HF[n.paths](t.root,e.root,n.matrixParams)&&iC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function qF(t,e){return er(t,e)}function sC(t,e,n){if(!zs(t.segments,e.segments)||!Wh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!sC(t.children[r],e.children[r],n))return!1;return!0}function GF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nC(t[n],e[n]))}function oC(t,e,n){return aC(t,e,e.segments,n)}function aC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!zs(i,n)||e.hasChildren()||!Wh(i,n,r))}else if(t.segments.length===n.length){if(!zs(t.segments,n)||!Wh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!oC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!zs(t.segments,i)||!Wh(t.segments,i,r)||!t.children[ce]?!1:aC(t.children[ce],e,s,r)}}function Wh(t,e,n){return e.every((r,i)=>iC[n](t[i].parameters,r.parameters))}var kr=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Da(this.queryParams),this._queryParamMap}toString(){return QF.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kh(this)}},$s=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Da(this.parameters),this._parameterMap}toString(){return uC(this)}};function WF(t,e){return zs(t,e)&&t.every((n,r)=>er(n.parameters,e[r].parameters))}function zs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function KF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var _u=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new Ca,providedIn:"root"});let t=e;return t})(),Ca=class{parse(e){let n=new tv(e);return new kr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ou(e.root,!0)}`,r=JF(e.queryParams),i=typeof e.fragment=="string"?`#${YF(e.fragment)}`:"";return`${n}${r}${i}`}},QF=new Ca;function Kh(t){return t.segments.map(e=>uC(e)).join("/")}function ou(t,e){if(!t.hasChildren())return Kh(t);if(e){let n=t.children[ce]?ou(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${ou(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=KF(t,(r,i)=>i===ce?[ou(t.children[ce],!1)]:[`${i}:${ou(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${Kh(t)}/${n[0]}`:`${Kh(t)}/(${n.join("//")})`}}function cC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qh(t){return cC(t).replace(/%3B/gi,";")}function YF(t){return encodeURI(t)}function ev(t){return cC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qh(t){return decodeURIComponent(t)}function G0(t){return Qh(t.replace(/\+/g,"%20"))}function uC(t){return`${ev(t.path)}${ZF(t.parameters)}`}function ZF(t){return Object.entries(t).map(([e,n])=>`;${ev(e)}=${ev(n)}`).join("")}function JF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qh(n)}=${qh(i)}`).join("&"):`${qh(n)}=${qh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var XF=/^[^\/()?;#]+/;function Ky(t){let e=t.match(XF);return e?e[0]:""}var e2=/^[^\/()?;=#]+/;function t2(t){let e=t.match(e2);return e?e[0]:""}var n2=/^[^=?&#]+/;function r2(t){let e=t.match(n2);return e?e[0]:""}var i2=/^[^&#]+/;function s2(t){let e=t.match(i2);return e?e[0]:""}var tv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Re(e,n)),r}parseSegment(){let e=Ky(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(e),new $s(Qh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=t2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ky(this.remaining);i&&(r=i,this.capture(r))}e[Qh(n)]=Qh(r)}parseQueryParam(e){let n=r2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=s2(this.remaining);o&&(r=o,this.capture(r))}let i=G0(n),s=G0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ky(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new J(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ce]:new Re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new J(4011,!1)}};function lC(t){return t.segments.length>0?new Re([],{[ce]:t}):t}function dC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=dC(i);if(r===ce&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Re(t.segments,e);return o2(n)}function o2(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Re(t.segments.concat(e.segments),e.children)}return t}function Hs(t){return t instanceof kr}function a2(t,e,n=null,r=null){let i=hC(t);return fC(i,e,n,r)}function hC(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let a=new Re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=lC(r);return e??i}function fC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qy(i,i,i,n,r);let s=c2(e);if(s.toRoot())return Qy(i,i,new Re([],{}),n,r);let o=u2(s,i,t),a=o.processChildren?uu(o.segmentGroup,o.index,s.commands):gC(o.segmentGroup,o.index,s.commands);return Qy(i,o.segmentGroup,a,n,r)}function Yh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function hu(t){return typeof t=="object"&&t!=null&&t.outlets}function Qy(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let o;t===e?o=n:o=pC(t,e,n);let a=lC(dC(o));return new kr(a,s,i)}function pC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=pC(s,e,n)}),new Re(t.segments,r)}var Zh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Yh(r[0]))throw new J(4003,!1);let i=r.find(hu);if(i&&i!==rC(r))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function c2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Zh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Zh(n,e,r)}var Ea=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function u2(t,e,n){if(t.isAbsolute)return new Ea(e,!0,0);if(!n)return new Ea(e,!1,NaN);if(n.parent===null)return new Ea(n,!0,0);let r=Yh(t.commands[0])?0:1,i=n.segments.length-1+r;return l2(n,i,t.numberOfDoubleDots)}function l2(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new J(4005,!1);i=r.segments.length}return new Ea(r,!1,i-s)}function d2(t){return hu(t[0])?t[0].outlets:{[ce]:t}}function gC(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return uu(t,e,n);let r=h2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Re(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Re(t.segments.slice(r.pathIndex),t.children),uu(s,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?nv(t,e,n):r.match?uu(t,0,i):nv(t,e,n)}function uu(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=d2(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let s=uu(t.children[ce],e,n);return new Re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=gC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Re(t.segments,i)}}function h2(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(hu(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!K0(u,d,o))return s;r+=2}else{if(!K0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(hu(s)){let u=f2(s.outlets);return new Re(r,u)}if(i===0&&Yh(n[0])){let u=t.segments[e];r.push(new $s(u.path,W0(n[0]))),i++;continue}let o=hu(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Yh(a)?(r.push(new $s(o,W0(a))),i+=2):(r.push(new $s(o,{})),i++)}return new Re(r,{})}function f2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=nv(new Re([],{}),0,r))}),e}function W0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function K0(t,e,n){return t==n.path&&er(e,n.parameters)}var lu="imperative",pt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(pt||{}),gn=class{constructor(e,n){this.id=e,this.url=n}},Sa=class extends gn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=pt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mn=class extends gn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(nn||{}),Jh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Jh||{}),Pr=class extends gn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ji=class extends gn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=pt.NavigationSkipped}},fu=class extends gn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xh=class extends gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rv=class extends gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iv=class extends gn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sv=class extends gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ov=class extends gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},av=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cv=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},uv=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lv=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dv=class{constructor(e){this.snapshot=e,this.type=pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hv=class{constructor(e){this.snapshot=e,this.type=pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=pt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},pu=class{},Aa=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function p2(t,e){return t.providers&&!t._injector&&(t._injector=_h(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Nn(t){return t.outlet||ce}function g2(t,e){let n=t.filter(r=>Nn(r)===e);return n.push(...t.filter(r=>Nn(r)!==e)),n}function Eu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var fv=class{get injector(){return Eu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new bu(this.rootInjector),this.attachRef=null}},bu=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new fv(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(K(Ut))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=pv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=pv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=gv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gv(e,this._root).map(n=>n.value)}};function pv(t,e){if(t===e.value)return e;for(let n of e.children){let r=pv(t,n);if(r)return r}return null}function gv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=gv(t,n);if(r.length)return r.unshift(e),r}return[]}var tn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _a(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var nf=class extends tf{constructor(e,n){super(e),this.snapshot=n,Tv(this,e)}toString(){return this.snapshot.toString()}};function mC(t){let e=m2(t),n=new Qe([new $s("",{})]),r=new Qe({}),i=new Qe({}),s=new Qe({}),o=new Qe(""),a=new Ui(n,r,s,o,i,ce,t,e.root);return a.snapshot=e.root,new nf(new tn(a,[]),e)}function m2(t){let e={},n={},r={},i="",s=new ba([],e,r,i,n,ce,t,null,{});return new sf("",new tn(s,[]))}var Ui=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ue(d=>d[Iu]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(e=>Da(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(e=>Da(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&vC(i)&&(r.resolve[Iu]=i.title),r}var ba=class{get title(){return this.data?.[Iu]}constructor(e,n,r,i,s,o,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Da(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Da(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},sf=class extends tf{constructor(e,n){super(n),this.url=e,Tv(this,n)}toString(){return yC(this._root)}};function Tv(t,e){e.value._routerState=t,e.children.forEach(n=>Tv(t,n))}function yC(t){let e=t.children.length>0?` { ${t.children.map(yC).join(", ")} } `:"";return`${t.value}${e}`}function Yy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,er(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),er(e.params,n.params)||t.paramsSubject.next(n.params),zF(e.url,n.url)||t.urlSubject.next(n.url),er(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function mv(t,e){let n=er(t.params,e.params)&&WF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||mv(t.parent,e.parent))}function vC(t){return typeof t.title=="string"||t.title===null}var y2=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.parentContexts=V(bu),this.location=V(Pi),this.changeDetector=V(ma),this.inputBinder=V(uf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new yv(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=js({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pa]});let t=e;return t})(),yv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ui?this.route:e===bu?this.childContexts:this.parent.get(e,n)}},uf=new W(""),Q0=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Oc([i.queryParams,i.params,i.data]).pipe(qt(([o,a,u],d)=>(u=B(B(B({},o),a),u),d===0?ee(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=d0(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function v2(t,e,n){let r=gu(t,e._root,n?n._root:void 0);return new nf(r,e)}function gu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=w2(t,e,n);return new tn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>gu(t,a)),o}}let r=I2(e.value),i=e.children.map(s=>gu(t,s));return new tn(r,i)}}function w2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return gu(t,r,i);return gu(t,r)})}function I2(t){return new Ui(new Qe(t.url),new Qe(t.params),new Qe(t.queryParams),new Qe(t.fragment),new Qe(t.data),t.outlet,t.component,t)}var mu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},wC="ngNavigationCancelingError";function of(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Hs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IC(!1,nn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function IC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[wC]=!0,n.cancellationCode=e,n}function _2(t){return _C(t)&&Hs(t.url)}function _C(t){return!!t&&t[wC]}var E2=(t,e,n,r)=>ue(i=>(new vv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),vv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_a(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_a(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_a(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_a(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new hv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new lv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Yy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yy(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},af=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ta=class{constructor(e,n){this.component=e,this.route=n}};function b2(t,e,n){let r=t._root,i=e?e._root:null;return au(r,i,n,[r.value])}function T2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Vb(t)?t:e.get(t):r}function au(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=_a(e);return t.children.forEach(o=>{D2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>du(a,n.getContext(o),i)),i}function D2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=C2(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new af(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?au(t,e,a?a.children:null,r,i):au(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ta(a.outlet.component,o))}else o&&du(e,a,i),i.canActivateChecks.push(new af(r)),s.component?au(t,null,a?a.children:null,r,i):au(t,null,n,r,i);return i}function C2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!zs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!zs(t.url,e.url)||!er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mv(t,e)||!er(t.queryParams,e.queryParams);case"paramsChange":default:return!mv(t,e)}}function du(t,e,n){let r=_a(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?du(o,e.children.getContext(s),n):du(o,null,n):du(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ta(e.outlet.component,i)):n.canDeactivateChecks.push(new Ta(null,i)):n.canDeactivateChecks.push(new Ta(null,i))}function Tu(t){return typeof t=="function"}function S2(t){return typeof t=="boolean"}function A2(t){return t&&Tu(t.canLoad)}function R2(t){return t&&Tu(t.canActivate)}function x2(t){return t&&Tu(t.canActivateChild)}function N2(t){return t&&Tu(t.canDeactivate)}function M2(t){return t&&Tu(t.canMatch)}function EC(t){return t instanceof vr||t?.name==="EmptyError"}var Gh=Symbol("INITIAL_VALUE");function Ra(){return qt(t=>Oc(t.map(e=>e.pipe(Ir(1),_g(Gh)))).pipe(ue(e=>{for(let n of e)if(n!==!0){if(n===Gh)return Gh;if(n===!1||P2(n))return n}return!0}),Ht(e=>e!==Gh),Ir(1)))}function P2(t){return Hs(t)||t instanceof mu}function k2(t,e){return tt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ee(Le(B({},n),{guardsResult:!0})):O2(o,r,i,t).pipe(tt(a=>a&&S2(a)?L2(r,s,t,e):ee(a)),ue(a=>Le(B({},n),{guardsResult:a})))})}function O2(t,e,n,r){return Ue(t).pipe(tt(i=>B2(i.component,i.route,n,e,r)),Gn(i=>i!==!0,!0))}function L2(t,e,n,r){return Ue(e).pipe(wr(i=>Wo(V2(i.route.parent,r),F2(i.route,r),U2(t,i.path,n),j2(t,i.route,n))),Gn(i=>i!==!0,!0))}function F2(t,e){return t!==null&&e&&e(new dv(t)),ee(!0)}function V2(t,e){return t!==null&&e&&e(new uv(t)),ee(!0)}function j2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(s=>Td(()=>{let o=Eu(e)??n,a=xa(s,o),u=R2(a)?a.canActivate(e,t):ln(o,()=>a(e,t));return Bi(u).pipe(Gn())}));return ee(i).pipe(Ra())}function U2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>T2(o)).filter(o=>o!==null).map(o=>Td(()=>{let a=o.guards.map(u=>{let d=Eu(o.node)??n,p=xa(u,d),g=x2(p)?p.canActivateChild(r,t):ln(d,()=>p(r,t));return Bi(g).pipe(Gn())});return ee(a).pipe(Ra())}));return ee(s).pipe(Ra())}function B2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ee(!0);let o=s.map(a=>{let u=Eu(e)??i,d=xa(a,u),p=N2(d)?d.canDeactivate(t,e,n,r):ln(u,()=>d(t,e,n,r));return Bi(p).pipe(Gn())});return ee(o).pipe(Ra())}function $2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let s=i.map(o=>{let a=xa(o,t),u=A2(a)?a.canLoad(e,n):ln(t,()=>a(e,n));return Bi(u)});return ee(s).pipe(Ra(),bC(r))}function bC(t){return ug(nt(e=>{if(typeof e!="boolean")throw of(t,e)}),ue(e=>e===!0))}function z2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let s=i.map(o=>{let a=xa(o,t),u=M2(a)?a.canMatch(e,n):ln(t,()=>a(e,n));return Bi(u)});return ee(s).pipe(Ra(),bC(r))}var yu=class{constructor(e){this.segmentGroup=e||null}},vu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ia(t){return Go(new yu(t))}function H2(t){return Go(new J(4e3,!1))}function q2(t){return Go(IC(!1,nn.GuardRejected))}var wv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[ce])return H2(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:w,params:_,data:N,title:O}=i,M=ln(s,()=>a({params:_,data:N,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:w,title:O}));if(M instanceof kr)throw new vu(M);n=M}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new vu(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new kr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new J(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Iv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G2(t,e,n,r,i){let s=TC(t,e,n);return s.matched?(r=p2(e,r),z2(r,e,n,i).pipe(ue(o=>o===!0?s:B({},Iv)))):ee(s)}function TC(t,e,n){if(e.path==="**")return W2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},Iv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$F)(n,t,e);if(!i)return B({},Iv);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?B(B({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function W2(t){return{matched:!0,parameters:t.length>0?rC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Y0(t,e,n,r){return n.length>0&&Y2(t,n,r)?{segmentGroup:new Re(e,Q2(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&Z2(t,n,r)?{segmentGroup:new Re(t.segments,K2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function K2(t,e,n,r){let i={};for(let s of n)if(lf(t,e,s)&&!r[Nn(s)]){let o=new Re([],{});i[Nn(s)]=o}return B(B({},r),i)}function Q2(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&Nn(r)!==ce){let i=new Re([],{});n[Nn(r)]=i}return n}function Y2(t,e,n){return n.some(r=>lf(t,e,r)&&Nn(r)!==ce)}function Z2(t,e,n){return n.some(r=>lf(t,e,r))}function lf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function J2(t,e,n){return e.length===0&&!t.children[n]}var _v=class{};function X2(t,e,n,r,i,s,o="emptyOnly"){return new Ev(t,e,n,r,i,o,s).recognize()}var eV=31,Ev=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new wv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new J(4002,`'${e.segmentGroup}'`)}recognize(){let e=Y0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ue(({children:n,rootSnapshot:r})=>{let i=new tn(r,n),s=new sf("",i),o=a2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ba([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(ue(r=>({children:r,rootSnapshot:n})),wi(r=>{if(r instanceof vu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof yu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ue(o=>o instanceof tn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ue(s).pipe(wr(o=>{let a=r.children[o],u=g2(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Ig((o,a)=>(o.push(...a),o)),Ii(null),wg(),tt(o=>{if(o===null)return Ia(r);let a=DC(o);return tV(a),ee(a)}))}processSegment(e,n,r,i,s,o,a){return Ue(n).pipe(wr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(wi(d=>{if(d instanceof yu)return ee(null);throw d}))),Gn(u=>!!u),wi(u=>{if(EC(u))return J2(r,i,s)?ee(new _v):Ia(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Nn(r)!==o&&(o===ce||!lf(i,s,r))?Ia(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ia(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:w}=TC(n,i,s);if(!u)return Ia(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eV&&(this.allowRedirects=!1));let _=new ba(s,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Z0(i),Nn(i),i.component??i._loadedComponent??null,i,J0(i)),N=rf(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(N.params),_.data=Object.freeze(N.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,_,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(tt(M=>this.processSegment(e,r,n,M.concat(w),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=G2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(qt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qt(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:w,remainingSegments:_}=u,N=new ba(w,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Z0(r),Nn(r),r.component??r._loadedComponent??null,r,J0(r)),O=rf(N,o,this.paramsInheritanceStrategy);N.params=Object.freeze(O.params),N.data=Object.freeze(O.data);let{segmentGroup:M,slicedSegments:F}=Y0(n,w,_,d);if(F.length===0&&M.hasChildren())return this.processChildren(p,d,M,N).pipe(ue(Q=>new tn(N,Q)));if(d.length===0&&F.length===0)return ee(new tn(N,[]));let H=Nn(r)===s;return this.processSegment(p,d,M,F,H?ce:s,!0,N).pipe(ue(Q=>new tn(N,Q instanceof tn?[Q]:[])))}))):Ia(n)))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):$2(e,n,r,this.urlSerializer).pipe(tt(i=>i?this.configLoader.loadChildren(e,n).pipe(nt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):q2(n))):ee({routes:[],injector:e})}};function tV(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function nV(t){let e=t.value.routeConfig;return e&&e.path===""}function DC(t){let e=[],n=new Set;for(let r of t){if(!nV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=DC(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!n.has(r))}function Z0(t){return t.data||{}}function J0(t){return t.resolve||{}}function rV(t,e,n,r,i,s){return tt(o=>X2(t,e,n,r,o.extractedUrl,i,s).pipe(ue(({state:a,tree:u})=>Le(B({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function iV(t,e){return tt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of CC(u))o.add(d);let a=0;return Ue(o).pipe(wr(u=>s.has(u)?sV(u,r,t,e):(u.data=rf(u,u.parent,t).resolve,ee(void 0))),nt(()=>a++),Ko(1),tt(u=>a===o.size?ee(n):Jt))})}function CC(t){let e=t.children.map(n=>CC(n)).flat();return[t,...e]}function sV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!vC(i)&&(s[Iu]=i.title),oV(s,t,e,r).pipe(ue(o=>(t._resolvedData=o,t.data=rf(t,t.parent,n).resolve,null)))}function oV(t,e,n,r){let i=Xy(t);if(i.length===0)return ee({});let s={};return Ue(i).pipe(tt(o=>aV(t[o],e,n,r).pipe(Gn(),nt(a=>{if(a instanceof mu)throw of(new Ca,a);s[o]=a}))),Ko(1),vg(s),wi(o=>EC(o)?Jt:Go(o)))}function aV(t,e,n,r){let i=Eu(e)??r,s=xa(t,i),o=s.resolve?s.resolve(e,n):ln(i,()=>s(e,n));return Bi(o)}function Zy(t){return qt(e=>{let n=t(e);return n?Ue(n).pipe(ue(()=>e)):ee(e)})}var SC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[Iu]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>V(cV),providedIn:"root"});let t=e;return t})(),cV=(()=>{let e=class e extends SC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(K(H0))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Du=new W("",{providedIn:"root",factory:()=>({})}),uV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Zb({type:e,selectors:[["ng-component"]],standalone:!0,features:[t0],decls:1,vars:0,template:function(i,s){i&1&&Ey(0,"router-outlet")},dependencies:[y2],encapsulation:2});let t=e;return t})();function Dv(t){let e=t.children&&t.children.map(Dv),n=e?Le(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=uV),n}var wu=new W(""),Cv=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Th)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Bi(r.loadComponent()).pipe(ue(AC),nt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Es(()=>{this.componentLoaders.delete(r)})),s=new $o(i,()=>new At).pipe(Bo());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=lV(i,this.compiler,r,this.onLoadEndListener).pipe(Es(()=>{this.childrenLoaders.delete(i)})),a=new $o(o,()=>new At).pipe(Bo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lV(t,e,n,r){return Bi(t.loadChildren()).pipe(ue(AC),tt(i=>i instanceof $c||Array.isArray(i)?ee(i):Ue(e.compileModuleAsync(i))),ue(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(wu,[],{optional:!0,self:!0}).flat()),{routes:o.map(Dv),injector:s}}))}function dV(t){return t&&typeof t=="object"&&"default"in t}function AC(t){return dV(t)?t.default:t}var Sv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>V(hV),providedIn:"root"});let t=e;return t})(),hV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RC=new W(""),xC=new W("");function fV(t,e,n){let r=t.get(xC),i=t.get(_t);return t.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),pV(t))),{onViewTransitionCreated:u}=r;return u&&ln(t,()=>u({transition:a,from:e,to:n})),o})}function pV(t){return new Promise(e=>{Iy({read:()=>setTimeout(e)},{injector:t})})}var gV=new W(""),Av=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new At,this.transitionAbortSubject=new At,this.configLoader=V(Cv),this.environmentInjector=V(Ut),this.urlSerializer=V(_u),this.rootContexts=V(bu),this.location=V(wa),this.inputBindingEnabled=V(uf,{optional:!0})!==null,this.titleStrategy=V(SC),this.options=V(Du,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(Sv),this.createViewTransition=V(RC,{optional:!0}),this.navigationErrorHandler=V(gV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let r=s=>this.events.next(new av(s)),i=s=>this.events.next(new cv(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Le(B(B({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Qe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:lu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(o=>o.id!==0),ue(o=>Le(B({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qt(o=>{let a=!1,u=!1;return ee(o).pipe(qt(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),Jt;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Le(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!p&&g!=="reload"){let w="";return this.events.next(new ji(d.id,this.urlSerializer.serialize(d.rawUrl),w,Jh.IgnoredSameUrlNavigation)),d.resolve(!1),Jt}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return ee(d).pipe(qt(w=>{let _=this.transitions?.getValue();return this.events.next(new Sa(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),_!==this.transitions?.getValue()?Jt:Promise.resolve(w)}),rV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(w=>{o.targetSnapshot=w.targetSnapshot,o.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=Le(B({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let _=new Xh(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(_)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:w,extractedUrl:_,source:N,restoredState:O,extras:M}=d,F=new Sa(w,this.urlSerializer.serialize(_),N,O);this.events.next(F);let H=mC(this.rootComponentType).snapshot;return this.currentTransition=o=Le(B({},d),{targetSnapshot:H,urlAfterRedirects:_,extras:Le(B({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ee(o)}else{let w="";return this.events.next(new ji(d.id,this.urlSerializer.serialize(d.extractedUrl),w,Jh.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Jt}}),nt(d=>{let p=new rv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),ue(d=>(this.currentTransition=o=Le(B({},d),{guards:b2(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),k2(this.environmentInjector,d=>this.events.next(d)),nt(d=>{if(o.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw of(this.urlSerializer,d.guardsResult);let p=new iv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),Ht(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",nn.GuardRejected),!1)),Zy(d=>{if(d.guards.canActivateChecks.length)return ee(d).pipe(nt(p=>{let g=new sv(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),qt(p=>{let g=!1;return ee(p).pipe(iV(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(p,"",nn.NoDataFromResolver)}}))}),nt(p=>{let g=new ov(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}))}),Zy(d=>{let p=g=>{let w=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(g.routeConfig).pipe(nt(_=>{g.component=_}),ue(()=>{})));for(let _ of g.children)w.push(...p(_));return w};return Oc(p(d.targetSnapshot.root)).pipe(Ii(null),Ir(1))}),Zy(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:d,targetSnapshot:p}=o,g=this.createViewTransition?.(this.environmentInjector,d.root,p.root);return g?Ue(g).pipe(ue(()=>o)):ee(o)}),ue(d=>{let p=v2(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=Le(B({},d),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,o}),nt(()=>{this.events.next(new pu)}),E2(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Ir(1),nt({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),Eg(this.transitionAbortSubject.pipe(nt(d=>{throw d}))),Es(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wi(d=>{if(u=!0,_C(d))this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),_2(d)?this.events.next(new Aa(d.url,d.navigationBehaviorOptions)):o.resolve(!1);else{let p=new fu(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0);try{let g=ln(this.environmentInjector,()=>this.navigationErrorHandler?.(p));if(g instanceof mu){let{message:w,cancellationCode:_}=of(this.urlSerializer,g);this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),w,_)),this.events.next(new Aa(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(p);let w=r.errorHandler(d);o.resolve(!!w)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return Jt}))}))}cancelNavigationTransition(r,i,s){let o=new Pr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mV(t){return t!==lu}var yV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>V(vV),providedIn:"root"});let t=e;return t})(),bv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},vV=(()=>{let e=class e extends bv{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ym(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>V(wV),providedIn:"root"});let t=e;return t})(),wV=(()=>{let e=class e extends NC{constructor(){super(...arguments),this.location=V(wa),this.urlSerializer=V(_u),this.options=V(Du,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(Sv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Sa)this.stateMemento=this.createStateMemento();else if(r instanceof ji)this.rawUrlTree=i.initialUrl;else if(r instanceof Xh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof pu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Pr&&(r.code===nn.GuardRejected||r.code===nn.NoDataFromResolver)?this.restoreHistory(i):r instanceof fu?this.restoreHistory(i,!0):r instanceof Mn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof kr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=B(B({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=B(B({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ym(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(cu||{});function MC(t,e){t.events.pipe(Ht(n=>n instanceof Mn||n instanceof Pr||n instanceof fu||n instanceof ji),ue(n=>n instanceof Mn||n instanceof ji?cu.COMPLETE:(n instanceof Pr?n.code===nn.Redirect||n.code===nn.SupersededByNewNavigation:!1)?cu.REDIRECTING:cu.FAILED),Ht(n=>n!==cu.REDIRECTING),Ir(1)).subscribe(()=>{e()})}function IV(t){throw t}var _V={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},tr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=V(Eh),this.stateManager=V(NC),this.options=V(Du,{optional:!0})||{},this.pendingTasks=V(Mi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(Av),this.urlSerializer=V(_u),this.location=V(wa),this.urlHandlingStrategy=V(Sv),this._events=new At,this.errorHandler=this.options.errorHandler||IV,this.navigated=!1,this.routeReuseStrategy=V(yV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(wu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(uf,{optional:!0}),this.eventsSubscription=new Ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Pr&&i.code!==nn.Redirect&&i.code!==nn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Mn)this.navigated=!0;else if(i instanceof Aa){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),d=B({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mV(s.source)},a);this.scheduleNavigation(u,lu,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}TV(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let d=B({},s);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Dv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:a,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let w;try{let _=s?s.snapshot:this.routerState.snapshot.root;w=hC(_)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),w=this.currentUrlTree.root}return fC(w,r,g,p??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Hs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,lu,null,i)}navigate(r,i={skipLocationChange:!1}){return bV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=B({},_V):i===!1?s=B({},EV):s=i,Hs(r))return q0(this.currentUrlTree,r,s);let o=this.parseUrl(r);return q0(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,d,p;a?(u=a.resolve,d=a.reject,p=a.promise):p=new Promise((w,_)=>{u=w,d=_});let g=this.pendingTasks.add();return MC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new J(4008,!1)}function TV(t){return!(t instanceof pu)&&!(t instanceof Aa)}var X0=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new At,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof Mn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Hs(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:rD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:Hs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Be(tr),Be(Ui),Zm("tabindex"),Be(Kc),Be(Sr),Be(Nr))},e.\u0275dir=js({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&by("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&_y("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Zc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Zc],replaceUrl:[2,"replaceUrl","replaceUrl",Zc],routerLink:"routerLink"},standalone:!0,features:[vy,pa]});let t=e;return t})(),Z6=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new It,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Mn&&this.update()})}ngAfterContentInit(){ee(this.links.changes,ee(null)).pipe(vi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ue(r).pipe(vi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=DV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(Be(tr),Be(Sr),Be(Kc),Be(ma),Be(X0,8))},e.\u0275dir=js({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&YD(o,X0,5),i&2){let a;ZD(a=JD())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[pa]});let t=e;return t})();function DV(t){return!!t.paths}var cf=class{};var CV=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(r=>r instanceof Mn),wr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=_h(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Ue(s).pipe(vi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=ee(null);let o=s.pipe(tt(a=>a===null?ee(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ue([o,a]).pipe(vi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(K(tr),K(Th),K(Ut),K(cf),K(Cv))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PC=new W(""),SV=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Sa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Mn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ji&&r.code===Jh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ef&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ef(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){mD()},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function J6(t,...e){return un([{provide:wu,multi:!0,useValue:t},[],{provide:Ui,useFactory:kC,deps:[tr]},{provide:Yc,multi:!0,useFactory:OC},e.map(n=>n.\u0275providers)])}function kC(t){return t.routerState.root}function Cu(t,e){return{\u0275kind:t,\u0275providers:e}}function OC(){let t=V(xt);return e=>{let n=t.get(ki);if(e!==n.components[0])return;let r=t.get(tr),i=t.get(LC);t.get(Rv)===1&&r.initialNavigation(),t.get(FC,null,le.Optional)?.setUpPreloading(),t.get(PC,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LC=new W("",{factory:()=>new At}),Rv=new W("",{providedIn:"root",factory:()=>1});function AV(){return Cu(2,[{provide:Rv,useValue:0},{provide:bh,multi:!0,deps:[xt],useFactory:e=>{let n=e.get(w0,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(tr),s=e.get(LC);MC(i,()=>{r(!0)}),e.get(Av).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}])}function RV(){return Cu(3,[{provide:bh,multi:!0,useFactory:()=>{let e=V(tr);return()=>{e.setUpLocationChangeListener()}}},{provide:Rv,useValue:2}])}var FC=new W("");function xV(t){return Cu(0,[{provide:FC,useExisting:CV},{provide:cf,useExisting:t}])}function NV(){return Cu(8,[Q0,{provide:uf,useExisting:Q0}])}function MV(t){let e=[{provide:RC,useValue:fV},{provide:xC,useValue:B({skipNextTransition:!!t?.skipInitialTransition},t)}];return Cu(9,e)}var eC=new W("ROUTER_FORROOT_GUARD"),PV=[wa,{provide:_u,useClass:Ca},tr,bu,{provide:Ui,useFactory:kC,deps:[tr]},Cv,[]],X6=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[PV,[],{provide:wu,multi:!0,useValue:r},{provide:eC,useFactory:FV,deps:[[tr,new Nt,new km]]},{provide:Du,useValue:i||{}},i?.useHash?OV():LV(),kV(),i?.preloadingStrategy?xV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?VV(i):[],i?.bindToComponentInputs?NV().\u0275providers:[],i?.enableViewTransitions?MV().\u0275providers:[],jV()]}}static forChild(r){return{ngModule:e,providers:[{provide:wu,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(K(eC,8))},e.\u0275mod=ha({type:e}),e.\u0275inj=da({});let t=e;return t})();function kV(){return{provide:PC,useFactory:()=>{let t=V(D0),e=V(be),n=V(Du),r=V(Av),i=V(_u);return n.scrollOffset&&t.setOffset(n.scrollOffset),new SV(i,r,t,e,n)}}}function OV(){return{provide:Nr,useClass:_0}}function LV(){return{provide:Nr,useClass:Oy}}function FV(t){return"guarded"}function VV(t){return[t.initialNavigation==="disabled"?RV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?AV().\u0275providers:[]]}var tC=new W("");function jV(){return[{provide:tC,useFactory:OC},{provide:Yc,multi:!0,useExisting:tC}]}var jC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},UC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4,w=(a&15)<<2|d>>6,_=d&63;u||(_=64,o||(w=64)),r.push(n[p],n[g],n[w],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||g==null)throw new Mv;let w=s<<2|a>>4;if(r.push(w),d!==64){let _=a<<4&240|d>>2;if(r.push(_),g!==64){let N=d<<6&192|g;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Mv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$V=function(t){let e=jC(t);return UC.encodeByteArray(e,!0)},Su=function(t){return $V(t).replace(/\./g,"")},kv=function(t){try{return UC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var HV=()=>zV().__FIREBASE_DEFAULTS__,qV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&kv(t[1]);return e&&JSON.parse(e)},hf=()=>{try{return HV()||qV()||GV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ov=t=>{var e,n;return(n=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BC=t=>{let e=Ov(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lv=()=>{var t;return(t=hf())===null||t===void 0?void 0:t.config},Fv=t=>{var e;return(e=hf())===null||e===void 0?void 0:e[`_${t}`]};var df=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function $C(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Su(JSON.stringify(n)),Su(JSON.stringify(o)),""].join(".")}function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function WV(){var t;let e=(t=hf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GC(){let t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WC(){return!WV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vv(){try{return typeof indexedDB=="object"}catch{return!1}}function KC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var KV="FirebaseError",rn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}},Or=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rn(i,a,r)}};function QV(t,e){return t.replace(YV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var YV=/\{\$([^}]+)}/g;function QC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(VC(s)&&VC(o)){if(!qs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function VC(t){return t!==null&&typeof t=="object"}function Au(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Na(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ma(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YC(t,e){let n=new Pv(t,e);return n.subscribe.bind(n)}var Pv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nv),i.error===void 0&&(i.error=Nv),i.complete===void 0&&(i.complete=Nv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ZV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nv(){}var n8=4*60*60*1e3;function Et(t){return t&&t._delegate?t._delegate:t}var mn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Gs="[DEFAULT]";var jv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new df;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XV(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JV(t){return t===Gs?void 0:t}function XV(t){return t.instantiationMode==="EAGER"}var ff=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new jv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ej=[],me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(me||{}),tj={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},nj=me.INFO,rj={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},ij=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$i=class{constructor(e){this.name=e,this._logLevel=nj,this._logHandler=ij,this._userLogHandler=null,ej.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var sj=(t,e)=>e.some(n=>t instanceof n),ZC,JC;function oj(){return ZC||(ZC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aj(){return JC||(JC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XC=new WeakMap,Bv=new WeakMap,eS=new WeakMap,Uv=new WeakMap,zv=new WeakMap;function cj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XC.set(n,t)}).catch(()=>{}),zv.set(e,t),e}function uj(t){if(Bv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Bv.set(t,e)}var $v={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tS(t){$v=t($v)}function lj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(pf(this),e,...n);return eS.set(r,e.sort?e.sort():[e]),rr(r)}:aj().includes(t)?function(...e){return t.apply(pf(this),e),rr(XC.get(this))}:function(...e){return rr(t.apply(pf(this),e))}}function dj(t){return typeof t=="function"?lj(t):(t instanceof IDBTransaction&&uj(t),sj(t,oj())?new Proxy(t,$v):t)}function rr(t){if(t instanceof IDBRequest)return cj(t);if(Uv.has(t))return Uv.get(t);let e=dj(t);return e!==t&&(Uv.set(t,e),zv.set(e,t)),e}var pf=t=>zv.get(t);function rS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=rr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(rr(o.result),u.oldVersion,u.newVersion,rr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var hj=["get","getKey","getAll","getAllKeys","count"],fj=["put","add","delete","clear"],Hv=new Map;function nS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hv.get(e))return Hv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hj.includes(n)))return;let s=function(o,...a){return D(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return Hv.set(e,s),s}tS(t=>Le(B({},t),{get:(e,n,r)=>nS(e,n)||t.get(e,n,r),has:(e,n)=>!!nS(e,n)||t.has(e,n)}));var Gv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pj(t){let e=t.getComponent();return e?.type==="VERSION"}var Wv="@firebase/app",iS="0.10.10";var Lr=new $i("@firebase/app"),gj="@firebase/app-compat",mj="@firebase/analytics-compat",yj="@firebase/analytics",vj="@firebase/app-check-compat",wj="@firebase/app-check",Ij="@firebase/auth",_j="@firebase/auth-compat",Ej="@firebase/database",bj="@firebase/database-compat",Tj="@firebase/functions",Dj="@firebase/functions-compat",Cj="@firebase/installations",Sj="@firebase/installations-compat",Aj="@firebase/messaging",Rj="@firebase/messaging-compat",xj="@firebase/performance",Nj="@firebase/performance-compat",Mj="@firebase/remote-config",Pj="@firebase/remote-config-compat",kj="@firebase/storage",Oj="@firebase/storage-compat",Lj="@firebase/firestore",Fj="@firebase/vertexai-preview",Vj="@firebase/firestore-compat",jj="firebase",Uj="10.13.1";var Kv="[DEFAULT]",Bj={[Wv]:"fire-core",[gj]:"fire-core-compat",[yj]:"fire-analytics",[mj]:"fire-analytics-compat",[wj]:"fire-app-check",[vj]:"fire-app-check-compat",[Ij]:"fire-auth",[_j]:"fire-auth-compat",[Ej]:"fire-rtdb",[bj]:"fire-rtdb-compat",[Tj]:"fire-fn",[Dj]:"fire-fn-compat",[Cj]:"fire-iid",[Sj]:"fire-iid-compat",[Aj]:"fire-fcm",[Rj]:"fire-fcm-compat",[xj]:"fire-perf",[Nj]:"fire-perf-compat",[Mj]:"fire-rc",[Pj]:"fire-rc-compat",[kj]:"fire-gcs",[Oj]:"fire-gcs-compat",[Lj]:"fire-fst",[Vj]:"fire-fst-compat",[Fj]:"fire-vertex","fire-js":"fire-js",[jj]:"fire-js-all"};var Ru=new Map,$j=new Map,Qv=new Map;function sS(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hi(t){let e=t.name;if(Qv.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;Qv.set(e,t);for(let n of Ru.values())sS(n,t);for(let n of $j.values())sS(n,t);return!0}function Nu(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t.settings!==void 0}var zj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Or("app","Firebase",zj);var Yv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}};var qi=Uj;function Xv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Kv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zi.create("bad-app-name",{appName:String(i)});if(n||(n=Lv()),!n)throw zi.create("no-options");let s=Ru.get(i);if(s){if(qs(n,s.options)&&qs(r,s.config))return s;throw zi.create("duplicate-app",{appName:i})}let o=new ff(i);for(let u of Qv.values())o.addComponent(u);let a=new Yv(n,r,o);return Ru.set(i,a),a}function Pa(t=Kv){let e=Ru.get(t);if(!e&&t===Kv&&Lv())return Xv();if(!e)throw zi.create("no-app",{appName:t});return e}function gf(){return Array.from(Ru.values())}function lt(t,e,n){var r;let i=(r=Bj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(a.join(" "));return}Hi(new mn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Hj="firebase-heartbeat-database",qj=1,xu="firebase-heartbeat-store",qv=null;function uS(){return qv||(qv=rS(Hj,qj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw zi.create("idb-open",{originalErrorMessage:t.message})})),qv}function Gj(t){return D(this,null,function*(){try{let n=(yield uS()).transaction(xu),r=yield n.objectStore(xu).get(lS(t));return yield n.done,r}catch(e){if(e instanceof rn)Lr.warn(e.message);else{let n=zi.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(n.message)}}})}function oS(t,e){return D(this,null,function*(){try{let r=(yield uS()).transaction(xu,"readwrite");yield r.objectStore(xu).put(e,lS(t)),yield r.done}catch(n){if(n instanceof rn)Lr.warn(n.message);else{let r=zi.create("idb-set",{originalErrorMessage:n?.message});Lr.warn(r.message)}}})}function lS(t){return`${t.name}!${t.options.appId}`}var Wj=1024,Kj=30*24*60*60*1e3,Zv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Jv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Kj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Lr.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=aS(),{heartbeatsToSend:r,unsentEntries:i}=Qj(this._heartbeatsCache.heartbeats),s=Su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Lr.warn(n),""}})}};function aS(){return new Date().toISOString().substring(0,10)}function Qj(t,e=Wj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Jv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Vv()?KC().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Gj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cS(t){return Su(JSON.stringify({version:2,heartbeats:t})).length}function Yj(t){Hi(new mn("platform-logger",e=>new Gv(e),"PRIVATE")),Hi(new mn("heartbeat",e=>new Zv(e),"PRIVATE")),lt(Wv,iS,t),lt(Wv,iS,"esm2017"),lt("fire-js","")}Yj("");var Zj="firebase",Jj="10.13.1";lt(Zj,Jj,"app");var Ks=new Ri("ANGULARFIRE2_VERSION");function yf(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Mu=(t,e)=>{let n=e?[e]:gf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Oa=class{constructor(){return Mu(Xj)}},Xj="app-check";function ka(){}var mf=class{zone;delegate;constructor(e,n=gg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},ew=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ka,{},ka,ka)),n.pipe(nt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},La=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new mf(Zone.current)),this.insideAngular=n.run(()=>new mf(Zone.current,pg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(K(be))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function eU(t){return vf().ngZone.runOutsideAngular(()=>t())}function Ws(t){return vf().ngZone.run(()=>t())}function tU(t){return nU(vf())(t)}function nU(t){return function(n){return n=n.lift(new ew(t.ngZone)),n.pipe(yi(t.outsideAngular),mi(t.insideAngular))}}var rU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ws(()=>t.apply(void 0,r))},$t=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ws(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ka,{},ka,ka))),r[s]=rU(r[s],n));let i=eU(()=>t.apply(this,r));if(!e)if(i instanceof fe){let s=vf();return i.pipe(yi(s.outsideAngular),mi(s.insideAngular))}else return Ws(()=>i);return i instanceof fe?i.pipe(tU):i instanceof Promise?Ws(()=>new Promise((s,o)=>i.then(a=>Ws(()=>s(a)),a=>Ws(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ws(()=>i)};var Fr=class{constructor(e){return e}},Qs=class{constructor(){return gf()}};function iU(t){return t&&t.length===1?t[0]:new Fr(Pa())}var tw=new W("angularfire2._apps"),sU={provide:Fr,useFactory:iU,deps:[[new Nt,tw]]},oU={provide:Qs,deps:[[new Nt,tw]]};function aU(t){return(e,n)=>{let r=n.get(hn);lt("angularfire",Ks.full,"core"),lt("angularfire",Ks.full,"app"),lt("angular",n0.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Fr(i)}}function $8(t,...e){return un([sU,oU,{provide:tw,useFactory:aU(t),multi:!0,deps:[be,xt,La,...e]}])}var z8=$t(Xv,!0);function SS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var AS=SS,RS=new Or("auth","Firebase",SS());var Tf=new $i("@firebase/auth");function cU(t,...e){Tf.logLevel<=me.WARN&&Tf.warn(`Auth (${qi}): ${t}`,...e)}function If(t,...e){Tf.logLevel<=me.ERROR&&Tf.error(`Auth (${qi}): ${t}`,...e)}function sr(t,...e){throw Tw(t,...e)}function Ys(t,...e){return Tw(t,...e)}function xS(t,e,n){let r=Object.assign(Object.assign({},AS()),{[e]:n});return new Or("auth","Firebase",r).create(e,{appName:t.name})}function Ur(t){return xS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RS.create(t,...e)}function te(t,e,...n){if(!t)throw Tw(e,...n)}function Vr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function Wi(t,e){t||Vr(e)}function sw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uU(){return dS()==="http:"||dS()==="https:"}function dS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function lU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uU()||HC()||"connection"in navigator)?navigator.onLine:!0}function dU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Zs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=zC()||qC()}get(){return lU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Dw(t,e){Wi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Df=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fU=new Zs(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qi(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){return NS(t,i,()=>D(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=Au(Object.assign({key:t.config.apiKey},p)).slice(1),w=yield t._getAdditionalHeaders();return w["Content-Type"]="application/json",t.languageCode&&(w["X-Firebase-Locale"]=t.languageCode),Df.fetch()(MS(t,t.config.apiHost,n,g),Object.assign({method:e,headers:w,referrerPolicy:"no-referrer"},d))}))})}function NS(t,e,n){return D(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},hU),e);try{let i=new ow(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw wf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw wf(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw wf(t,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xS(t,p,d);sr(t,p)}}catch(i){if(i instanceof rn)throw i;sr(t,"network-request-failed",{message:String(i)})}})}function Uu(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){let d=yield Qi(t,e,n,r,i);return"mfaPendingCredential"in d&&sr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function MS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Dw(t.config,i):`${t.config.apiScheme}://${i}`}function pU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ow=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ys(this.auth,"network-request-failed")),fU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function wf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ys(t,e,r);return i.customData._tokenResponse=n,i}function hS(t){return t!==void 0&&t.enterprise!==void 0}var aw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function gU(t,e){return D(this,null,function*(){return Qi(t,"GET","/v2/recaptchaConfig",Ki(t,e))})}function mU(t,e){return D(this,null,function*(){return Qi(t,"POST","/v1/accounts:delete",e)})}function PS(t,e){return D(this,null,function*(){return Qi(t,"POST","/v1/accounts:lookup",e)})}function Pu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Cw(t,e=!1){return D(this,null,function*(){let n=Et(t),r=yield n.getIdToken(e),i=Sw(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Pu(nw(i.auth_time)),issuedAtTime:Pu(nw(i.iat)),expirationTime:Pu(nw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function nw(t){return Number(t)*1e3}function Sw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{let i=kv(n);return i?JSON.parse(i):(If("Failed to decode base64 JWT payload"),null)}catch(i){return If("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fS(t){let e=Sw(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ou(t,e,n=!1){return D(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof rn&&yU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function yU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var cw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Lu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Cf(t){return D(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ou(t,PS(n,{idToken:r}));te(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kS(s.providerUserInfo):[],a=vU(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!a?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lu(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)})}function Aw(t){return D(this,null,function*(){let e=Et(t);yield Cf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kS(t){return t.map(e=>{var{providerId:n}=e,r=mg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wU(t,e){return D(this,null,function*(){let n=yield NS(t,{},()=>D(this,null,function*(){let r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Df.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function IU(t,e){return D(this,null,function*(){return Qi(t,"POST","/v2/accounts:revokeToken",Ki(t,e))})}var ku=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=fS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield wU(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Vr("not implemented")}};function Gi(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=mg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let n=yield Ou(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Cw(this,e)}reload(){return Aw(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Cf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(Pn(this.auth.app))return Promise.reject(Ur(this.auth));let e=yield this.getIdToken();return yield Ou(this,mU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,d,p;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,N=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=n.createdAt)!==null&&d!==void 0?d:void 0,H=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:Q,emailVerified:Y,isAnonymous:_e,providerData:Z,stsTokenManager:C}=n;te(Q&&C,e,"internal-error");let E=ku.fromJSON(this.name,C);te(typeof Q=="string",e,"internal-error"),Gi(g,e.name),Gi(w,e.name),te(typeof Y=="boolean",e,"internal-error"),te(typeof _e=="boolean",e,"internal-error"),Gi(_,e.name),Gi(N,e.name),Gi(O,e.name),Gi(M,e.name),Gi(F,e.name),Gi(H,e.name);let b=new t({uid:Q,auth:e,email:w,emailVerified:Y,displayName:g,isAnonymous:_e,photoURL:N,phoneNumber:_,tenantId:O,stsTokenManager:E,createdAt:F,lastLoginAt:H});return Z&&Array.isArray(Z)&&(b.providerData=Z.map(S=>Object.assign({},S))),M&&(b._redirectEventId=M),b}static _fromIdTokenResponse(e,n,r=!1){return D(this,null,function*(){let i=new ku;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cf(s),s})}static _fromGetAccountInfoResponse(e,n,r){return D(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?kS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ku;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Lu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var pS=new Map;function jr(t){Wi(t instanceof Function,"Expected a class definition");let e=pS.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pS.set(t,e),e)}var _U=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),uw=_U;function _f(t,e,n){return`firebase:${t}:${e}:${n}`}var Sf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=_f(this.userKey,i.apiKey,s),this.fullPersistenceKey=_f("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new t(jr(uw),e,r);let i=(yield Promise.all(n.map(d=>D(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||jr(uw),o=_f(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(o);if(p){let g=Fa._fromJSON(e,p);d!==s&&(a=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(d=>D(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function gS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(US(e))return"Blackberry";if(BS(e))return"Webos";if(LS(e))return"Safari";if((e.includes("chrome/")||FS(e))&&!e.includes("edge/"))return"Chrome";if(jS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function OS(t=gt()){return/firefox\//i.test(t)}function LS(t=gt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FS(t=gt()){return/crios\//i.test(t)}function VS(t=gt()){return/iemobile/i.test(t)}function jS(t=gt()){return/android/i.test(t)}function US(t=gt()){return/blackberry/i.test(t)}function BS(t=gt()){return/webos/i.test(t)}function Rw(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EU(t=gt()){var e;return Rw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bU(){return GC()&&document.documentMode===10}function $S(t=gt()){return Rw(t)||jS(t)||BS(t)||US(t)||/windows phone/i.test(t)||VS(t)}function zS(t,e=[]){let n;switch(t){case"Browser":n=gS(gt());break;case"Worker":n=`${gS(gt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}var lw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function TU(n){return D(this,arguments,function*(t,e={}){return Qi(t,"GET","/v2/passwordPolicy",Ki(t,e))})}var DU=6,dw=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var hw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Af(this),this.idTokenSubscription=new Af(this),this.beforeStateQueue=new lw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Sf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let n=yield PS(this,{idToken:e}),r=yield Fa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var n;if(Pn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield Cf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=dU()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(Pn(this.app))return Promise.reject(Ur(this));let n=e?Et(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return D(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return Pn(this.app)?Promise.reject(Ur(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Pn(this.app)?Promise.reject(Ur(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(jr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield TU(this),n=new dw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield IU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&jr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield Sf.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&cU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Xs(t){return Et(t)}var Af=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YC(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Of={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CU(t){Of=t}function HS(t){return Of.loadJS(t)}function SU(){return Of.recaptchaEnterpriseScript}function AU(){return Of.gapiScript}function qS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var RU="recaptcha-enterprise",xU="NO_RECAPTCHA",fw=class{constructor(e){this.type=RU,this.auth=Xs(e)}verify(e="verify",n=!1){return D(this,null,function*(){function r(s){return D(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>D(this,null,function*(){gU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new aw(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;hS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(xU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&hS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=SU();u.length!==0&&(u+=a),HS(u).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})})}};function mS(t,e,n,r=!1){return D(this,null,function*(){let i=new fw(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function pw(t,e,n,r){return D(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield mS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>D(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield mS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function xw(t,e){let n=Nu(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(qs(s,e??{}))return i;sr(i,"already-initialized")}return n.initialize({options:e})}function NU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(jr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Nw(t,e,n){let r=Xs(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=GS(e),{host:o,port:a}=MU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PU()}function GS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MU(t){let e=GS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:yS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:yS(o)}}}function yS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function PU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Fu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}};function kU(t,e){return D(this,null,function*(){return Qi(t,"POST","/v1/accounts:signUp",e)})}function OU(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))})}function LU(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))})}function FU(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))})}var Vu=class t extends Fu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pw(e,n,"signInWithPassword",OU);case"emailLink":return LU(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}})}_linkToIdToken(e,n){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pw(e,r,"signUpPassword",kU);case"emailLink":return FU(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function rw(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))})}function VU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jU(t){let e=Na(Ma(t)).link,n=e?Na(Ma(e)).deep_link_id:null,r=Na(Ma(t)).deep_link_id;return(r?Na(Ma(r)).link:null)||r||n||e||t}var Rf=class t{constructor(e){var n,r,i,s,o,a;let u=Na(Ma(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=VU((i=u.mode)!==null&&i!==void 0?i:null);te(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=jU(e);try{return new t(n)}catch{return null}}};var WS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Vu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Rf.parseLink(r);return te(i,"argument-error"),Vu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),xf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var gw=class extends xf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function UU(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signUp",Ki(t,e))})}var Va=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return D(this,null,function*(){let s=yield Fa._fromIdTokenResponse(e,r,i),o=vS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=vS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function vS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var mw=class t extends rn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function KS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mw._fromErrorAndOperation(t,s,e,r):s})}function BU(t,e,n=!1){return D(this,null,function*(){let r=yield Ou(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Va._forOperation(t,"link",r)})}function $U(t,e,n=!1){return D(this,null,function*(){let{auth:r}=t;if(Pn(r.app))return Promise.reject(Ur(r));let i="reauthenticate";try{let s=yield Ou(t,KS(r,i,e,t),n);te(s.idToken,r,"internal-error");let o=Sw(s.idToken);te(o,r,"internal-error");let{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),Va._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&sr(r,"user-mismatch"),s}})}function QS(t,e,n=!1){return D(this,null,function*(){if(Pn(t.app))return Promise.reject(Ur(t));let r="signIn",i=yield KS(t,r,e),s=yield Va._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Mw(t,e){return D(this,null,function*(){return QS(Xs(t),e)})}function YS(t){return D(this,null,function*(){let e=Xs(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Pw(t,e,n){return D(this,null,function*(){if(Pn(t.app))return Promise.reject(Ur(t));let r=Xs(t),o=yield pw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&YS(t),u}),a=yield Va._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function kw(t,e,n){return Pn(t.app)?Promise.reject(Ur(t)):Mw(Et(t),WS.credential(e,n)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&YS(t),r}))}function Ow(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function Lw(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function Fw(t){return Et(t).signOut()}var Nf="__sak";var Mf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var zU=1e3,HU=10,qU=(()=>{class t extends Mf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);bU()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,HU):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},zU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return D(this,null,function*(){yield pi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return D(this,null,function*(){let r=yield pi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return D(this,null,function*(){yield pi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ZS=qU;var GU=(()=>{class t extends Mf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Vw=GU;function WU(t){return Promise.all(t.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var KU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return D(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>D(this,null,function*(){return p(r.origin,o)})),d=yield WU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function JS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var yw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let d=JS("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let w=g;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(w.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ir(){return window}function QU(t){ir().location.href=t}function XS(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}function YU(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ZU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JU(){return XS()?self:null}var eA="firebaseLocalStorageDb",XU=1,Pf="firebaseLocalStorage",tA="fbase_key",Js=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Lf(t,e){return t.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function eB(){let t=indexedDB.deleteDatabase(eA);return new Js(t).toPromise()}function vw(){let t=indexedDB.open(eA,XU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Pf,{keyPath:tA})}catch(i){n(i)}}),t.addEventListener("success",()=>D(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Pf)?e(r):(r.close(),yield eB(),e(yield vw()))}))})}function wS(t,e,n){return D(this,null,function*(){let r=Lf(t,!0).put({[tA]:e,value:n});return new Js(r).toPromise()})}function tB(t,e){return D(this,null,function*(){let n=Lf(t,!1).get(e),r=yield new Js(n).toPromise();return r===void 0?null:r.value})}function IS(t,e){let n=Lf(t,!0).delete(e);return new Js(n).toPromise()}var nB=800,rB=3,iB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield vw(),this.db)})}_withRetries(n){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>rB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return XS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=KU._getInstance(JU()),this.receiver._subscribe("keyChanged",(n,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var n,r;if(this.activeServiceWorker=yield YU(),!this.activeServiceWorker)return;this.sender=new yw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ZU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let n=yield vw();return yield wS(n,Nf,"1"),yield IS(n,Nf),!0}catch{}return!1})}_withPendingWrite(n){return D(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>wS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return D(this,null,function*(){let r=yield this._withRetries(i=>tB(i,n));return this.localCache[n]=r,r})}_remove(n){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>IS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return D(this,null,function*(){let n=yield this._withRetries(s=>{let o=Lf(s,!1).getAll();return new Js(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),nB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),nA=iB;var Z8=qS("rcb"),J8=new Zs(3e4,6e4);function sB(t,e){return e?jr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ju=class extends Fu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function oB(t){return QS(t.auth,new ju(t),t.bypassAuthState)}function aB(t){let{auth:e,user:n}=t;return te(n,e,"internal-error"),$U(n,new ju(t),t.bypassAuthState)}function cB(t){return D(this,null,function*(){let{auth:e,user:n}=t;return te(n,e,"internal-error"),BU(n,new ju(t),t.bypassAuthState)})}var ww=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oB;case"linkViaPopup":case"linkViaRedirect":return cB;case"reauthViaPopup":case"reauthViaRedirect":return aB;default:sr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var X8=new Zs(2e3,1e4);var uB="pendingRedirect",Ef=new Map,Iw=class t extends ww{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=Ef.get(this.auth._key());if(!e){try{let r=(yield lB(this.resolver,this.auth))?yield pi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return pi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,pi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function lB(t,e){return D(this,null,function*(){let n=fB(e),r=hB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function dB(t,e){Ef.set(t._key(),e)}function hB(t){return jr(t._redirectPersistence)}function fB(t){return _f(uB,t.config.apiKey,t.name)}function pB(t,e,n=!1){return D(this,null,function*(){if(Pn(t.app))return Promise.reject(Ur(t));let r=Xs(t),i=sB(r,e),o=yield new Iw(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var gB=10*60*1e3,_w=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ys(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gB&&this.cachedEventUids.clear(),this.cachedEventUids.has(_S(e))}saveEventToCache(e){this.cachedEventUids.add(_S(e)),this.lastProcessedEventTime=Date.now()}};function _S(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rA(t);default:return!1}}function yB(n){return D(this,arguments,function*(t,e={}){return Qi(t,"GET","/v1/projects",e)})}var vB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wB=/^https?/;function IB(t){return D(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield yB(t);for(let n of e)try{if(_B(n))return}catch{}sr(t,"unauthorized-domain")})}function _B(t){let e=sw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wB.test(n))return!1;if(vB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var EB=new Zs(3e4,6e4);function ES(){let t=ir().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bB(t){return new Promise((e,n)=>{var r,i,s;function o(){ES(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ES(),n(Ys(t,"network-request-failed"))},timeout:EB.get()})}if(!((i=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ir().gapi)===null||s===void 0)&&s.load)o();else{let a=qS("iframefcb");return ir()[a]=()=>{gapi.load?o():n(Ys(t,"network-request-failed"))},HS(`${AU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw bf=null,e})}var bf=null;function TB(t){return bf=bf||bB(t),bf}var DB=new Zs(5e3,15e3),CB="__/auth/iframe",SB="emulator/auth/iframe",AB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xB(t){let e=t.config;te(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Dw(e,SB):`https://${t.config.authDomain}/${CB}`,r={apiKey:e.apiKey,appName:t.name,v:qi},i=RB.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Au(r).slice(1)}`}function NB(t){return D(this,null,function*(){let e=yield TB(t),n=ir().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:xB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AB,dontclear:!0},r=>new Promise((i,s)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ys(t,"network-request-failed"),a=ir().setTimeout(()=>{s(o)},DB.get());function u(){ir().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var MB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PB=500,kB=600,OB="_blank",LB="http://localhost",kf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FB(t,e,n,r=PB,i=kB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},MB),{width:r.toString(),height:i.toString(),top:s,left:o}),d=gt().toLowerCase();n&&(a=FS(d)?OB:n),OS(d)&&(e=e||LB,u.scrollbars="yes");let p=Object.entries(u).reduce((w,[_,N])=>`${w}${_}=${N},`,"");if(EU(d)&&a!=="_self")return VB(e||"",a),new kf(null);let g=window.open(e||"",a,p);te(g,t,"popup-blocked");try{g.focus()}catch{}return new kf(g)}function VB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var jB="__/auth/handler",UB="emulator/auth/handler",BB=encodeURIComponent("fac");function bS(t,e,n,r,i,s){return D(this,null,function*(){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(e instanceof xf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(s||{}))o[p]=g}if(e instanceof gw){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${BB}=${encodeURIComponent(u)}`:"";return`${$B(t)}?${Au(a).slice(1)}${d}`})}function $B({config:t}){return t.emulator?Dw(t,UB):`https://${t.authDomain}/${jB}`}var iw="webStorageSupport",Ew=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vw,this._completeRedirectFn=pB,this._overrideRedirectResult=dB}_openPopup(e,n,r,i){return D(this,null,function*(){var s;Wi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield bS(e,n,r,sw(),i);return FB(e,o,JS())})}_openRedirect(e,n,r,i){return D(this,null,function*(){yield this._originValidation(e);let s=yield bS(e,n,r,sw(),i);return QU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wi(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return D(this,null,function*(){let n=yield NB(e),r=new _w(e);return n.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iw,{type:iw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[iw];o!==void 0&&n(!!o),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $S()||LS()||Rw()}},iA=Ew;var TS="@firebase/auth",DS="1.7.8";var bw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HB(t){Hi(new mn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zS(t)},d=new hw(r,i,s,u);return NU(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hi(new mn("auth-internal",e=>{let n=Xs(e.getProvider("auth").getImmediate());return(r=>new bw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lt(TS,DS,zB(t)),lt(TS,DS,"esm2017")}var qB=5*60,GB=Fv("authIdTokenMaxAge")||qB,CS=null,WB=t=>e=>D(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GB)return;let i=n?.token;CS!==i&&(CS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function jw(t=Pa()){let e=Nu(t,"auth");if(e.isInitialized())return e.getImmediate();let n=xw(t,{popupRedirectResolver:iA,persistence:[nA,ZS,Vw]}),r=Fv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=WB(s.toString());Lw(n,o,()=>o(n.currentUser)),Ow(n,a=>o(a))}}let i=Ov("auth");return i&&Nw(n,`http://${i}`),n}function KB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ys("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",KB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HB("Browser");var sA="auth",eo=class{constructor(e){return e}},Bu=class{constructor(){return Mu(sA)}};var Uw=new W("angularfire2.auth-instances");function V$(t,e){let n=yf(sA,t,e);return n&&new eo(n)}function j$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new eo(r)}}var U$={provide:Bu,deps:[[new Nt,Uw]]},B$={provide:eo,useFactory:V$,deps:[[new Nt,Uw],Fr]};function LK(t,...e){return lt("angularfire",Ks.full,"auth"),un([B$,U$,{provide:Uw,useFactory:j$(t),multi:!0,deps:[be,xt,La,Qs,[new Nt,Oa],...e]}])}var oA=$t(Pw,!0);var FK=$t(jw,!0);var aA=$t(kw,!0);var cA=$t(Fw,!0);var uA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lA={};var Yi,Bw;(function(){var t;function e(C,E){function b(){}b.prototype=E.prototype,C.D=E.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(S,A,R){for(var T=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)T[yn-2]=arguments[yn];return E.prototype[A].apply(S,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,E,b){b||(b=0);var S=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)S[A]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(A=0;16>A;++A)S[A]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=C.g[0],b=C.g[1],A=C.g[2];var R=C.g[3],T=E+(R^b&(A^R))+S[0]+3614090360&4294967295;E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[1]+3905402710&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[2]+606105819&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[3]+3250441966&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(R^b&(A^R))+S[4]+4118548399&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[5]+1200080426&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[6]+2821735955&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[7]+4249261313&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(R^b&(A^R))+S[8]+1770035416&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[9]+2336552879&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[10]+4294925233&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[11]+2304563134&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(R^b&(A^R))+S[12]+1804603682&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[13]+4254626195&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[14]+2792965006&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[15]+1236535329&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(A^R&(b^A))+S[1]+4129170786&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[6]+3225465664&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[11]+643717713&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[0]+3921069994&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(A^R&(b^A))+S[5]+3593408605&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[10]+38016083&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[15]+3634488961&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[4]+3889429448&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(A^R&(b^A))+S[9]+568446438&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[14]+3275163606&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[3]+4107603335&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[8]+1163531501&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(A^R&(b^A))+S[13]+2850285829&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[2]+4243563512&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[7]+1735328473&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[12]+2368359562&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(b^A^R)+S[5]+4294588738&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[8]+2272392833&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[11]+1839030562&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[14]+4259657740&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(b^A^R)+S[1]+2763975236&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[4]+1272893353&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[7]+4139469664&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[10]+3200236656&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(b^A^R)+S[13]+681279174&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[0]+3936430074&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[3]+3572445317&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[6]+76029189&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(b^A^R)+S[9]+3654602809&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[12]+3873151461&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[15]+530742520&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[2]+3299628645&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(A^(b|~R))+S[0]+4096336452&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[7]+1126891415&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[14]+2878612391&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[5]+4237533241&4294967295,b=A+(T<<21&4294967295|T>>>11),T=E+(A^(b|~R))+S[12]+1700485571&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[3]+2399980690&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[10]+4293915773&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[1]+2240044497&4294967295,b=A+(T<<21&4294967295|T>>>11),T=E+(A^(b|~R))+S[8]+1873313359&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[15]+4264355552&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[6]+2734768916&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[13]+1309151649&4294967295,b=A+(T<<21&4294967295|T>>>11),T=E+(A^(b|~R))+S[4]+4149444226&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[11]+3174756917&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[2]+718787259&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var b=E-this.blockSize,S=this.B,A=this.h,R=0;R<E;){if(A==0)for(;R<=b;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<E;)if(S[A++]=C.charCodeAt(R++),A==this.blockSize){i(this,S),A=0;break}}else for(;R<E;)if(S[A++]=C[R++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var b=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=b&255,b/=256;for(this.u(C),C=Array(16),E=b=0;4>E;++E)for(var S=0;32>S;S+=8)C[b++]=this.g[E]>>>S&255;return C};function s(C,E){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=E(C)}function o(C,E){this.h=E;for(var b=[],S=!0,A=C.length-1;0<=A;A--){var R=C[A]|0;S&&R==E||(b[A]=R,S=!1)}this.g=b}var a={};function u(C){return-128<=C&&128>C?s(C,function(E){return new o([E|0],0>E?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return M(d(-C));for(var E=[],b=1,S=0;C>=b;S++)E[S]=C/b|0,b*=4294967296;return new o(E,0)}function p(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return M(p(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(E,8)),S=g,A=0;A<C.length;A+=8){var R=Math.min(8,C.length-A),T=parseInt(C.substring(A,A+R),E);8>R?(R=d(Math.pow(E,R)),S=S.j(R).add(d(T))):(S=S.j(b),S=S.add(d(T)))}return S}var g=u(0),w=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(O(this))return-M(this).m();for(var C=0,E=1,b=0;b<this.g.length;b++){var S=this.i(b);C+=(0<=S?S:4294967296+S)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(O(this))return"-"+M(this).toString(C);for(var E=d(Math.pow(C,6)),b=this,S="";;){var A=Y(b,E).g;b=F(b,A.j(E));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=A,N(b))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function O(C){return C.h==-1}t.l=function(C){return C=F(this,C),O(C)?-1:N(C)?0:1};function M(C){for(var E=C.g.length,b=[],S=0;S<E;S++)b[S]=~C.g[S];return new o(b,~C.h).add(w)}t.abs=function(){return O(this)?M(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],S=0,A=0;A<=E;A++){var R=S+(this.i(A)&65535)+(C.i(A)&65535),T=(R>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);S=T>>>16,R&=65535,T&=65535,b[A]=T<<16|R}return new o(b,b[b.length-1]&-2147483648?-1:0)};function F(C,E){return C.add(M(E))}t.j=function(C){if(N(this)||N(C))return g;if(O(this))return O(C)?M(this).j(M(C)):M(M(this).j(C));if(O(C))return M(this.j(M(C)));if(0>this.l(_)&&0>C.l(_))return d(this.m()*C.m());for(var E=this.g.length+C.g.length,b=[],S=0;S<2*E;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<C.g.length;A++){var R=this.i(S)>>>16,T=this.i(S)&65535,yn=C.i(A)>>>16,Kr=C.i(A)&65535;b[2*S+2*A]+=T*Kr,H(b,2*S+2*A),b[2*S+2*A+1]+=R*Kr,H(b,2*S+2*A+1),b[2*S+2*A+1]+=T*yn,H(b,2*S+2*A+1),b[2*S+2*A+2]+=R*yn,H(b,2*S+2*A+2)}for(S=0;S<E;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=E;S<2*E;S++)b[S]=0;return new o(b,0)};function H(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function Q(C,E){this.g=C,this.h=E}function Y(C,E){if(N(E))throw Error("division by zero");if(N(C))return new Q(g,g);if(O(C))return E=Y(M(C),E),new Q(M(E.g),M(E.h));if(O(E))return E=Y(C,M(E)),new Q(M(E.g),E.h);if(30<C.g.length){if(O(C)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var b=w,S=E;0>=S.l(C);)b=_e(b),S=_e(S);var A=Z(b,1),R=Z(S,1);for(S=Z(S,2),b=Z(b,2);!N(S);){var T=R.add(S);0>=T.l(C)&&(A=A.add(b),R=T),S=Z(S,1),b=Z(b,1)}return E=F(C,A.j(E)),new Q(A,E)}for(A=g;0<=C.l(E);){for(b=Math.max(1,Math.floor(C.m()/E.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=d(b),T=R.j(E);O(T)||0<T.l(C);)b-=S,R=d(b),T=R.j(E);N(R)&&(R=w),A=A.add(R),C=F(C,T)}return new Q(A,C)}t.A=function(C){return Y(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],S=0;S<E;S++)b[S]=this.i(S)&C.i(S);return new o(b,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],S=0;S<E;S++)b[S]=this.i(S)|C.i(S);return new o(b,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],S=0;S<E;S++)b[S]=this.i(S)^C.i(S);return new o(b,this.h^C.h)};function _e(C){for(var E=C.g.length+1,b=[],S=0;S<E;S++)b[S]=C.i(S)<<1|C.i(S-1)>>>31;return new o(b,C.h)}function Z(C,E){var b=E>>5;E%=32;for(var S=C.g.length-b,A=[],R=0;R<S;R++)A[R]=0<E?C.i(R+b)>>>E|C.i(R+b+1)<<32-E:C.i(R+b);return new o(A,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bw=lA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,Yi=lA.Integer=o}).apply(typeof uA<"u"?uA:typeof self<"u"?self:typeof window<"u"?window:{});var Ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Br={};var $w,zw,ja,Hw,$u,Vf,qw,Gw,Ww;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ff=="object"&&Ff];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,v=!1,x={next:function(){if(!v&&m<c.length){var k=m++;return{value:f(k,c[k]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});var o=o||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function w(c,f,m){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,w.apply(null,arguments)}function _(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function N(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,x,k){for(var U=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)U[xe-2]=arguments[xe];return f.prototype[x].apply(v,U)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function M(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let x=c.length||0,k=v.length||0;c.length=x+k;for(let U=0;U<k;U++)c[x+U]=v[U]}else c.push(v)}}class F{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function H(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var _e=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function Z(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function C(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function E(c){let f={};for(let m in c)f[m]=c[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let k=0;k<b.length;k++)m=b[k],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function A(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function T(){var c=Yr;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class yn{constructor(){this.h=this.g=null}add(f,m){let v=Kr.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Kr=new F(()=>new ac,c=>c.reset());class ac{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Qr,hr=!1,Yr=new yn,Wt=()=>{let c=a.Promise.resolve(void 0);Qr=()=>{c.then(Zr)}};var Zr=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(m){R(m)}var f=Kr;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}hr=!1};function Tt(){this.s=this.s,this.C=this.C}Tt.prototype.s=!1,Tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var Jr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function vn(c,f){if(dt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(_e){e:{try{Y(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vn.aa.h.call(this)}}N(vn,dt);var fl={2:"touch",3:"pen",4:"mouse"};vn.prototype.h=function(){vn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fn="closure_listenable_"+(1e6*Math.random()|0),cc=0;function xp(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++cc,this.da=this.fa=!1}function Xr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ei(c){this.src=c,this.g={},this.h=0}ei.prototype.add=function(c,f,m,v,x){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var U=uc(c,f,v,x);return-1<U?(f=c[U],m||(f.fa=!1)):(f=new xp(f,this.src,k,!!v,x),f.fa=m,c.push(f)),f};function ti(c,f){var m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),k;(k=0<=x)&&Array.prototype.splice.call(v,x,1),k&&(Xr(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function uc(c,f,m,v){for(var x=0;x<c.length;++x){var k=c[x];if(!k.da&&k.listener==f&&k.capture==!!m&&k.ha==v)return x}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),Kt={};function pl(c,f,m,v,x){if(v&&v.once)return lc(c,f,m,v,x);if(Array.isArray(f)){for(var k=0;k<f.length;k++)pl(c,f[k],m,v,x);return null}return m=Ze(m),c&&c[Fn]?c.K(f,m,d(v)?!!v.capture:!!v,x):Dt(c,f,m,!1,v,x)}function Dt(c,f,m,v,x,k){if(!f)throw Error("Invalid event type");var U=d(x)?!!x.capture:!!x,xe=wn(c);if(xe||(c[yt]=xe=new ei(c)),m=xe.add(f,m,v,U,k),m.proxy)return m;if(v=go(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)Jr||(x=U),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(Qt(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function go(){function c(m){return f.call(c.src,c.listener,m)}let f=Vn;return c}function lc(c,f,m,v,x){if(Array.isArray(f)){for(var k=0;k<f.length;k++)lc(c,f[k],m,v,x);return null}return m=Ze(m),c&&c[Fn]?c.L(f,m,d(v)?!!v.capture:!!v,x):Dt(c,f,m,!0,v,x)}function dc(c,f,m,v,x){if(Array.isArray(f))for(var k=0;k<f.length;k++)dc(c,f[k],m,v,x);else v=d(v)?!!v.capture:!!v,m=Ze(m),c&&c[Fn]?(c=c.i,f=String(f).toString(),f in c.g&&(k=c.g[f],m=uc(k,m,v,x),-1<m&&(Xr(k[m]),Array.prototype.splice.call(k,m,1),k.length==0&&(delete c.g[f],c.h--)))):c&&(c=wn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=uc(f,m,v,x)),(m=-1<c?f[c]:null)&&pe(m))}function pe(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Fn])ti(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(Qt(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=wn(f))?(ti(m,c),m.h==0&&(m.src=null,f[yt]=null)):Xr(c)}}}function Qt(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function Vn(c,f){if(c.da)c=!0;else{f=new vn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&pe(c),c=m.call(v,f)}return c}function wn(c){return c=c[yt],c instanceof ei?c:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ze(c){return typeof c=="function"?c:(c[qe]||(c[qe]=function(f){return c.handleEvent(f)}),c[qe])}function Je(){Tt.call(this),this.i=new ei(this),this.M=this,this.F=null}N(Je,Tt),Je.prototype[Fn]=!0,Je.prototype.removeEventListener=function(c,f,m,v){dc(this,c,f,m,v)};function ht(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new dt(f,c);else if(f instanceof dt)f.target=f.target||c;else{var x=f;f=new dt(v,c),S(f,x)}if(x=!0,m)for(var k=m.length-1;0<=k;k--){var U=f.g=m[k];x=jn(U,v,!0,f)&&x}if(U=f.g=c,x=jn(U,v,!0,f)&&x,x=jn(U,v,!1,f)&&x,m)for(k=0;k<m.length;k++)U=f.g=m[k],x=jn(U,v,!1,f)&&x}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)Xr(m[v]);delete c.g[f],c.h--}}this.F=null},Je.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},Je.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function jn(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,k=0;k<f.length;++k){var U=f[k];if(U&&!U.da&&U.capture==m){var xe=U.listener,Xe=U.ha||U.src;U.fa&&ti(c.i,U),x=xe.call(Xe,v)!==!1&&x}}return x&&!v.defaultPrevented}function vt(c,f,m){if(typeof c=="function")m&&(c=w(c,m));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function gl(c){c.g=vt(()=>{c.g=null,c.i&&(c.i=!1,gl(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class ml extends Tt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(c){Tt.call(this),this.h=c,this.g={}}N(ni,Tt);var mo=[];function yl(c){Z(c.g,function(f,m){this.g.hasOwnProperty(m)&&pe(f)},c),c.g={}}ni.prototype.N=function(){ni.aa.N.call(this),yl(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yo=a.JSON.stringify,Np=a.JSON.parse,Mp=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function In(){}In.prototype.h=null;function vl(c){return c.h||(c.h=c.i())}function wl(){}var ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hc(){dt.call(this,"d")}N(hc,dt);function fc(){dt.call(this,"c")}N(fc,dt);var _n={},Il=null;function vo(){return Il=Il||new Je}_n.La="serverreachability";function Un(c){dt.call(this,_n.La,c)}N(Un,dt);function rs(c){let f=vo();ht(f,new Un(f))}_n.STAT_EVENT="statevent";function _l(c,f){dt.call(this,_n.STAT_EVENT,c),this.stat=f}N(_l,dt);function wt(c){let f=vo();ht(f,new _l(f,c))}_n.Ma="timingevent";function wo(c,f){dt.call(this,_n.Ma,c),this.size=f}N(wo,dt);function is(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function Pp(c,f,m,v,x,k){c.info(function(){if(c.g)if(k)for(var U="",xe=k.split("&"),Xe=0;Xe<xe.length;Xe++){var ve=xe[Xe].split("=");if(1<ve.length){var at=ve[0];ve=ve[1];var ft=at.split("_");U=2<=ft.length&&ft[1]=="type"?U+(at+"="+ve+"&"):U+(at+"=redacted&")}}else U=null;else U=k;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+U})}function kp(c,f,m,v,x,k,U){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+k+" "+U})}function ri(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Op(c,m)+(v?" "+v:"")})}function Ne(c,f){c.info(function(){return"TIMEOUT: "+f})}ss.prototype.info=function(){};function Op(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var U=1;U<x.length;U++)x[U]=""}}}}return yo(m)}catch{return f}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},El={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pc;function _o(){}N(_o,In),_o.prototype.g=function(){return new XMLHttpRequest},_o.prototype.i=function(){return{}},pc=new _o;function Bn(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eo}function Eo(){this.i=null,this.g="",this.h=!1}var ii={},bo={};function si(c,f,m){c.L=1,c.v=Ao(Ct(f)),c.m=m,c.P=!0,Ve(c,null)}function Ve(c,f){c.F=Date.now(),To(c),c.A=Ct(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),kl(m.i,"t",v),c.C=0,m=c.j.J,c.h=new Eo,c.g=Ac(c.j,m?f:null,!c.m),0<c.O&&(c.M=new ml(w(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(mo[0]=x.toString()),x=mo);for(var k=0;k<x.length;k++){var U=pl(m,x[k],v||f.handleEvent,!1,f.h||f);if(!U)break;f.g[U.key]=U}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),rs(),Pp(c.i,c.u,c.A,c.l,c.R,c.m)}Bn.prototype.ca=function(c){c=c.target;let f=this.M;f&&bn(c)==3?f.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{let ft=bn(this.g);var f=this.g.Ba();let mr=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||zl(this.g)))){this.J||ft!=4||f==7||(f==8||0>=mr?rs(3):rs(2)),mc(this);var m=this.g.Z();this.X=m;t:if(bl(this)){var v=zl(this.g);c="";var x=v.length,k=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fr(this),os(this);var U="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(k&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=m==200,kp(this.i,this.u,this.A,this.l,this.R,ft,m),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,Xe=this.g;if((xe=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(xe)){var ve=xe;break t}}ve=null}if(m=ve)ri(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Do(this,m);else{this.o=!1,this.s=3,wt(12),fr(this),os(this);break e}}if(this.P){m=!0;let Ft;for(;!this.J&&this.C<U.length;)if(Ft=Lp(this,U),Ft==bo){ft==4&&(this.s=4,wt(14),m=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==ii){this.s=4,wt(15),ri(this.i,this.l,U,"[Invalid Chunk]"),m=!1;break}else ri(this.i,this.l,Ft,null),Do(this,Ft);if(bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||U.length!=0||this.h.h||(this.s=1,wt(16),m=!1),this.o=this.o&&m,!m)ri(this.i,this.l,U,"[Invalid Chunked Response]"),fr(this),os(this);else if(0<U.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ps(at),at.M=!0,wt(11))}}else ri(this.i,this.l,U,null),Do(this,U);ft==4&&fr(this),this.o&&!this.J&&(ft==4?Tc(this.j,this):(this.o=!1,To(this)))}else Gp(this.g),m==400&&0<U.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),fr(this),os(this)}}}catch{}finally{}};function bl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lp(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?bo:(m=Number(f.substring(m,v)),isNaN(m)?ii:(v+=1,v+m>f.length?bo:(f=f.slice(v,v+m),c.C=v+m,f)))}Bn.prototype.cancel=function(){this.J=!0,fr(this)};function To(c){c.S=Date.now()+c.I,gc(c,c.I)}function gc(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=is(w(c.ba,c),f)}function mc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Bn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Ne(this.i,this.A),this.L!=2&&(rs(),wt(17)),fr(this),this.s=2,os(this)):gc(this,this.S-c)};function os(c){c.j.G==0||c.J||Tc(c.j,c)}function fr(c){mc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,yl(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Do(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||vc(m.h,c))){if(!c.K&&vc(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Po(m),hs(m);else break e;Mo(m),wt(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=is(w(m.Za,m),6e3));if(1>=Dl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Hn(m,11)}else if((c.K||m.g==c)&&Po(m),!H(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let ve=x[f];if(m.T=ve[0],ve=ve[1],m.G==2)if(ve[0]=="c"){m.K=ve[1],m.ia=ve[2];let at=ve[3];at!=null&&(m.la=at,m.j.info("VER="+m.la));let ft=ve[4];ft!=null&&(m.Aa=ft,m.j.info("SVER="+m.Aa));let mr=ve[5];mr!=null&&typeof mr=="number"&&0<mr&&(v=1.5*mr,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let Ft=c.g;if(Ft){let ko=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var k=v.h;k.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(wc(k,k.h),k.h=null))}if(v.D){let xc=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;xc&&(v.ya=xc,Me(v.I,v.D,xc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var U=c;if(v.qa=Sc(v,v.J?v.ia:null,v.W),U.K){Cl(v.h,U);var xe=U,Xe=v.L;Xe&&(xe.I=Xe),xe.B&&(mc(xe),To(xe)),v.g=U}else bc(v);0<m.i.length&&xo(m)}else ve[0]!="stop"&&ve[0]!="close"||Hn(m,7);else m.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Hn(m,7):hi(m):ve[0]!="noop"&&m.l&&m.l.ta(ve),m.v=0)}}rs(4)}catch{}}var Fp=class{constructor(c,f){this.g=c,this.map=f}};function yc(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Dl(c){return c.h?1:c.g?c.g.size:0}function vc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function wc(c,f){c.g?c.g.add(f):c.h=f}function Cl(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}yc.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Sl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function Vp(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function Al(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function Rl(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=Al(c),v=Vp(c),x=v.length,k=0;k<x;k++)f.call(void 0,v[k],m&&m[k],c)}var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jp(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),x=null;if(0<=v){var k=c[m].substring(0,v);x=c[m].substring(v+1)}else k=c[m];f(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function pr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pr){this.h=c.h,as(this,c.j),this.o=c.o,this.g=c.g,Co(this,c.s),this.l=c.l;var f=c.i,m=new ai;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),So(this,m),this.m=c.m}else c&&(f=String(c).match(Ic))?(this.h=!1,as(this,f[1]||"",!0),this.o=cs(f[2]||""),this.g=cs(f[3]||"",!0),Co(this,f[4]),this.l=cs(f[5]||"",!0),So(this,f[6]||"",!0),this.m=cs(f[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}pr.prototype.toString=function(){var c=[],f=this.j;f&&c.push(us(f,xl,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(us(f,xl,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(us(m,m.charAt(0)=="/"?oi:Bp,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",us(m,Nl)),c.join("")};function Ct(c){return new pr(c)}function as(c,f,m){c.j=m?cs(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Co(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function So(c,f,m){f instanceof ai?(c.i=f,zp(c.i,c.h)):(m||(f=us(f,$p)),c.i=new ai(f,c.h))}function Me(c,f,m){c.i.set(f,m)}function Ao(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function cs(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function us(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,Up),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Up(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xl=/[#\/\?@]/g,Bp=/[#\?:]/g,oi=/[#\?]/g,$p=/[#\?@]/g,Nl=/#/g;function ai(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function $n(c){c.g||(c.g=new Map,c.h=0,c.i&&jp(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=ai.prototype,t.add=function(c,f){$n(this),this.i=null,c=ci(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Ml(c,f){$n(c),f=ci(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Pl(c,f){return $n(c),f=ci(c,f),c.g.has(f)}t.forEach=function(c,f){$n(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)},t.na=function(){$n(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let x=c[v];for(let k=0;k<x.length;k++)m.push(f[v])}return m},t.V=function(c){$n(this);let f=[];if(typeof c=="string")Pl(this,c)&&(f=f.concat(this.g.get(ci(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return $n(this),this.i=null,c=ci(this,c),Pl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function kl(c,f,m){Ml(c,f),0<m.length&&(c.i=null,c.g.set(ci(c,f),O(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let k=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var x=k;U[v]!==""&&(x+="="+encodeURIComponent(String(U[v]))),c.push(x)}}return this.i=c.join("&")};function ci(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function zp(c,f){f&&!c.j&&($n(c),c.i=null,c.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(Ml(this,v),kl(this,x,m))},c)),c.j=f}function Hp(c,f){let m=new ss;if(a.Image){let v=new Image;v.onload=_(zn,m,"TestLoadImage: loaded",!0,f,v),v.onerror=_(zn,m,"TestLoadImage: error",!1,f,v),v.onabort=_(zn,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=_(zn,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function ui(c,f){let m=new ss,v=new AbortController,x=setTimeout(()=>{v.abort(),zn(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(k=>{clearTimeout(x),k.ok?zn(m,"TestPingServer: ok",!0,f):zn(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),zn(m,"TestPingServer: error",!1,f)})}function zn(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function qp(){this.g=new Mp}function Ol(c,f,m){let v=m||"";try{Rl(c,function(x,k){let U=x;d(x)&&(U=yo(x)),f.push(v+k+"="+encodeURIComponent(U))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function ls(c){this.l=c.Ub||null,this.j=c.eb||!1}N(ls,In),ls.prototype.g=function(){return new Yt(this.l,this.j)},ls.prototype.i=function(c){return function(){return c}}({});function Yt(c,f){Je.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Yt,Je),t=Yt.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,En(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?li(this):En(this),this.readyState==3&&Ll(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,li(this))},t.Qa=function(c){this.g&&(this.response=c,li(this))},t.ga=function(){this.g&&li(this)};function li(c){c.readyState=4,c.l=null,c.j=null,c.v=null,En(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function En(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fl(c){let f="";return Z(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function _c(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Fl(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Me(c,f,m))}function je(c){Je.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(je,Je);var Vl=/^https?$/i,di=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pc.g(),this.v=this.o?vl(this.o):vl(pc),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(k){jl(this,k);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let k of v.keys())m.set(k,v.get(k));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(di,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,U]of m)this.g.setRequestHeader(k,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$l(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){jl(this,k)}};function jl(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,Ul(c),Ro(c)}function Ul(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ht(this,"complete"),ht(this,"abort"),Ro(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ro(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bl(this):this.bb())},t.bb=function(){Bl(this)};function Bl(c){if(c.h&&typeof o<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)vt(c.Ea,0,c);else if(ht(c,"readystatechange"),bn(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=U===0){var x=String(c.D).match(Ic)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!Vl.test(x?x.toLowerCase():"")}m=v}if(m)ht(c,"complete"),ht(c,"success");else{c.m=6;try{var k=2<bn(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",Ul(c)}}finally{Ro(c)}}}}function Ro(c,f){if(c.g){$l(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||ht(c,"ready");try{m.onreadystatechange=v}catch{}}}function $l(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Np(f)}};function zl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gp(c){let f={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(H(c[v]))continue;var m=A(c[v]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let k=f[x]||[];f[x]=k,k.push(m)}C(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Hl(c){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,c),this.cb=ds("retryDelaySeedMs",1e4,c),this.Wa=ds("forwardChannelMaxRetries",2,c),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yc(c&&c.concurrentRequestLimit),this.Da=new qp,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hl.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,v){wt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Sc(this,null,this.W),xo(this)};function hi(c){if(ql(c),c.G==3){var f=c.U++,m=Ct(c.I);if(Me(m,"SID",c.K),Me(m,"RID",f),Me(m,"TYPE","terminate"),fs(c,m),f=new Bn(c,c.j,f),f.L=2,f.v=Ao(Ct(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Ac(f.j,null),f.g.ea(f.v)),f.F=Date.now(),To(f)}Cc(c)}function hs(c){c.g&&(ps(c),c.g.cancel(),c.g=null)}function ql(c){hs(c),c.u&&(a.clearTimeout(c.u),c.u=null),Po(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function xo(c){if(!Tl(c.h)&&!c.s){c.s=!0;var f=c.Ga;Qr||Wt(),hr||(Qr(),hr=!0),Yr.add(f,c),c.B=0}}function Wp(c,f){return Dl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=is(w(c.Ga,c,f),Dc(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new Bn(this,this.j,c),k=this.o;if(this.S&&(k?(k=E(k),S(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=No(this,x,f),m=Ct(this.I),Me(m,"RID",c),Me(m,"CVER",22),this.D&&Me(m,"X-HTTP-Session-Id",this.D),fs(this,m),k&&(this.O?f="headers="+encodeURIComponent(String(Fl(k)))+"&"+f:this.m&&_c(m,this.m,k)),wc(this.h,x),this.Ua&&Me(m,"TYPE","init"),this.P?(Me(m,"$req",f),Me(m,"SID","null"),x.T=!0,si(x,m,null)):si(x,m,f),this.G=2}}else this.G==3&&(c?Ec(this,c):this.i.length==0||Tl(this.h)||Ec(this))};function Ec(c,f){var m;f?m=f.l:m=c.U++;let v=Ct(c.I);Me(v,"SID",c.K),Me(v,"RID",m),Me(v,"AID",c.T),fs(c,v),c.m&&c.o&&_c(v,c.m,c.o),m=new Bn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=No(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wc(c.h,m),si(m,v,f)}function fs(c,f){c.H&&Z(c.H,function(m,v){Me(f,v,m)}),c.l&&Rl({},function(m,v){Me(f,v,m)})}function No(c,f,m){m=Math.min(c.i.length,m);var v=c.l?w(c.l.Na,c.l,c):null;e:{var x=c.i;let k=-1;for(;;){let U=["count="+m];k==-1?0<m?(k=x[0].g,U.push("ofs="+k)):k=0:U.push("ofs="+k);let xe=!0;for(let Xe=0;Xe<m;Xe++){let ve=x[Xe].g,at=x[Xe].map;if(ve-=k,0>ve)k=Math.max(0,x[Xe].g-100),xe=!1;else try{Ol(at,U,"req"+ve+"_")}catch{v&&v(at)}}if(xe){v=U.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function bc(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Qr||Wt(),hr||(Qr(),hr=!0),Yr.add(f,c),c.v=0}}function Mo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=is(w(c.Fa,c),Dc(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,gs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=is(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),hs(this),gs(this))};function ps(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function gs(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Ct(c.qa);Me(f,"RID","rpc"),Me(f,"SID",c.K),Me(f,"AID",c.T),Me(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(f,"TO",c.ja),Me(f,"TYPE","xmlhttp"),fs(c,f),c.m&&c.o&&_c(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Ao(Ct(f)),m.m=null,m.P=!0,Ve(m,c)}t.Za=function(){this.C!=null&&(this.C=null,hs(this),Mo(this),wt(19))};function Po(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Tc(c,f){var m=null;if(c.g==f){Po(c),ps(c),c.g=null;var v=2}else if(vc(c.h,f))m=f.D,Cl(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=vo(),ht(v,new wo(v,m)),xo(c)}else bc(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&Wp(c,f)||v==2&&Mo(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),x){case 1:Hn(c,5);break;case 4:Hn(c,10);break;case 3:Hn(c,6);break;default:Hn(c,2)}}}function Dc(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function Hn(c,f){if(c.j.info("Error code "+f),f==2){var m=w(c.fb,c),v=c.Xa;let x=!v;v=new pr(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||as(v,"https"),Ao(v),x?Hp(v.toString(),m):ui(v.toString(),m)}else wt(2);c.G=0,c.l&&c.l.sa(f),Cc(c),ql(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Cc(c){if(c.G=0,c.ka=[],c.l){let f=Sl(c.h);(f.length!=0||c.i.length!=0)&&(M(c.ka,f),M(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Sc(c,f,m){var v=m instanceof pr?Ct(m):new pr(m);if(v.g!="")f&&(v.g=f+"."+v.g),Co(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var k=new pr(null);v&&as(k,v),f&&(k.g=f),x&&Co(k,x),m&&(k.l=m),v=k}return m=c.D,f=c.ya,m&&f&&Me(v,m,f),Me(v,"VER",c.la),fs(c,v),v}function Ac(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new je(new ls({eb:m})):new je(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}t=Rc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ms(){}ms.prototype.g=function(c,f){return new St(c,f)};function St(c,f){Je.call(this),this.g=new Hl(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!H(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!H(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new fi(this)}N(St,Je),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){hi(this.g)},St.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=yo(c),c=m);f.i.push(new Fp(f.Ya++,c)),f.G==3&&xo(f)},St.prototype.N=function(){this.g.l=null,delete this.j,hi(this.g),delete this.g,St.aa.N.call(this)};function gr(c){hc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}N(gr,hc);function Gl(){fc.call(this),this.status=1}N(Gl,fc);function fi(c){this.g=c}N(fi,Rc),fi.prototype.ua=function(){ht(this.g,"a")},fi.prototype.ta=function(c){ht(this.g,new gr(c))},fi.prototype.sa=function(c){ht(this.g,new Gl)},fi.prototype.ra=function(){ht(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,Ww=Br.createWebChannelTransport=function(){return new ms},Gw=Br.getStatEventTarget=function(){return vo()},qw=Br.Event=_n,Vf=Br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,$u=Br.ErrorCode=Io,El.COMPLETE="complete",Hw=Br.EventType=El,wl.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",Je.prototype.listen=Je.prototype.K,ja=Br.WebChannel=wl,zw=Br.FetchXmlHttpFactory=ls,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,$w=Br.XhrIo=je}).apply(typeof Ff<"u"?Ff:typeof self<"u"?self:typeof window<"u"?window:{});var dA="@firebase/firestore";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var ic="10.13.1";var so=new $i("@firebase/firestore");function zu(){return so.logLevel}function G(t,...e){if(so.logLevel<=me.DEBUG){let n=e.map(P_);so.debug(`Firestore (${ic}): ${t}`,...n)}}function zr(t,...e){if(so.logLevel<=me.ERROR){let n=e.map(P_);so.error(`Firestore (${ic}): ${t}`,...n)}}function Ga(t,...e){if(so.logLevel<=me.WARN){let n=e.map(P_);so.warn(`Firestore (${ic}): ${t}`,...n)}}function P_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function Oe(t,e){t||ne()}function ie(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var $r=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var zf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}},Xw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},eI=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $r,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $r)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new zf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new mt(e)}},tI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},nI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new tI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},iI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new rI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function z$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Hf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=z$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function Wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var bt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new bt(0,0))}static max(){return new t(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var qf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},He=class t extends qf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},H$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=class t extends qf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return H$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new z(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var X=class t{constructor(e){this.path=e}static fromPath(e){return new t(He.fromString(e))}static fromName(e){return new t(He.fromString(e).popFirst(5))}static empty(){return new t(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new He(e.slice()))}};var sI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};sI.UNKNOWN_ID=-1;function q$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new oo(i,X.empty(),e)}function G$(t){return new oo(t.readTime,t.key,-1)}var oo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(oe.min(),X.empty(),-1)}static max(){return new t(oe.max(),X.empty(),-1)}};function W$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var K$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",oI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function cl(t){return D(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==K$)throw t;G("LocalStore","Unexpectedly lost primary lease")})}var j=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Q$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(t){return t.name==="IndexedDbTransactionError"}var GA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function _p(t){return t==null}function Yu(t){return t===0&&1/t==-1/0}function Y$(t){return typeof t=="number"&&Number.isInteger(t)&&!Yu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Z$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YK=[...Z$,"documentOverlays"],J$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],X$=J$,ez=[...X$,"indexConfiguration","indexState","indexEntries"];var ZK=[...ez,"globals"];function hA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var We=class t{constructor(e,n){this.comparator=e,this.root=n||cr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new za(this.root,e,this.comparator,!1)}getReverseIterator(){return new za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new za(this.root,e,this.comparator,!0)}},za=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},cr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1;cr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,s){return this}insert(e,n,r){return new cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ot=class t{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gf(this.data.getIterator())}getIteratorFrom(e){return new Gf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Gf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ar=class t{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ot(sn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Wf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Wf("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var tz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(Oe(!!t),typeof t=="string"){let e=0,n=tz.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function k_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function O_(t){let e=t.mapValue.fields.__previous_value__;return k_(e)?O_(e):e}function Zu(t){let e=Hr(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}var aI=class{constructor(e,n,r,i,s,o,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Kf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var jf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?k_(t)?4:QA(t)?9007199254740991:KA(t)?10:11:ne()}function dr(t,e){if(t===e)return!0;let n=ao(t);if(n!==ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Hr(i.timestampValue),a=Hr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ji(i.bytesValue).isEqual(Ji(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $e(i.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $e(i.integerValue)===$e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=$e(i.doubleValue),a=$e(s.doubleValue);return o===a?Yu(o)===Yu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hA(o)!==hA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!dr(o[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function Ju(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Ka(t,e){if(t===e)return 0;let n=ao(t),r=ao(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=$e(s.integerValue||s.doubleValue),u=$e(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return fA(t.timestampValue,e.timestampValue);case 4:return fA(Zu(t),Zu(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ji(s),u=Ji(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=De(a[d],u[d]);if(p!==0)return p}return De(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=De($e(s.latitude),$e(o.latitude));return a!==0?a:De($e(s.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,d,p;let g=s.fields||{},w=o.fields||{},_=(a=g.value)===null||a===void 0?void 0:a.arrayValue,N=(u=w.value)===null||u===void 0?void 0:u.arrayValue,O=De(((d=_?.values)===null||d===void 0?void 0:d.length)||0,((p=N?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:pA(_,N)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===jf.mapValue&&o===jf.mapValue)return 0;if(s===jf.mapValue)return 1;if(o===jf.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let w=De(u[g],p[g]);if(w!==0)return w;let _=Ka(a[u[g]],d[p[g]]);if(_!==0)return _}return De(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ne()}}function fA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=Hr(t),r=Hr(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function pA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ka(n[i],r[i]);if(s)return s}return De(n.length,r.length)}function Qa(t){return cI(t)}function cI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=cI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${cI(n.fields[o])}`;return i+"}"}(t.mapValue):ne()}function gA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uI(t){return!!t&&"integerValue"in t}function L_(t){return!!t&&"arrayValue"in t}function mA(t){return!!t&&"nullValue"in t}function yA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bf(t){return!!t&&"mapValue"in t}function KA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return sc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var kn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(qu(this.value))}};function YA(t){let e=[];return sc(t.fields,(n,r)=>{let i=new sn([n]);if(Bf(r)){let s=YA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new ar(e)}var On=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,oe.min(),oe.min(),oe.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,oe.min(),oe.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,oe.min(),oe.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ya=class{constructor(e,n){this.position=e,this.inclusive=n}};function vA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Ka(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}var co=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function nz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Qf=class{},ot=class t extends Qf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dI(e,n,r):n==="array-contains"?new pI(e,r):n==="in"?new gI(e,r):n==="not-in"?new mI(e,r):n==="array-contains-any"?new yI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hI(e,r):new fI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ka(n,this.value)):n!==null&&ao(this.value)===ao(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ln=class t extends Qf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ZA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ZA(t){return t.op==="and"}function JA(t){return rz(t)&&ZA(t)}function rz(t){for(let e of t.filters)if(e instanceof Ln)return!1;return!0}function lI(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(JA(t))return t.filters.map(e=>lI(e)).join(",");{let e=t.filters.map(n=>lI(n)).join(",");return`${t.op}(${e})`}}function XA(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&dr(r.value,i.value)}(t,e):t instanceof Ln?function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&XA(o,i.filters[a]),!0):!1}(t,e):void ne()}function eR(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(eR).join(" ,")+"}"}(t):"Filter"}var dI=class extends ot{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){let n=X.comparator(e.key,this.key);return this.matchesComparison(n)}},hI=class extends ot{constructor(e,n){super(e,"in",n),this.keys=tR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},fI=class extends ot{constructor(e,n){super(e,"not-in",n),this.keys=tR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function tR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}var pI=class extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return L_(n)&&Ju(n.arrayValue,this.value)}},gI=class extends ot{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}},mI=class extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ju(this.value.arrayValue,n)}},yI=class extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!L_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ju(this.value.arrayValue,r))}};var vI=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function IA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vI(t,e,n,r,i,s,o)}function F_(t){let e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_p(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),e.ue=n}return e.ue}function V_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wA(t.startAt,e.startAt)&&wA(t.endAt,e.endAt)}function wI(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Xi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function iz(t,e,n,r,i,s,o,a){return new Xi(t,e,n,r,i,s,o,a)}function j_(t){return new Xi(t)}function _A(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nR(t){return t.collectionGroup!==null}function Gu(t){let e=ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(sn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new co(s,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new co(sn.keyField(),r))}return e.ce}function ur(t){let e=ie(t);return e.le||(e.le=sz(e,Gu(t))),e.le}function sz(t,e){if(t.limitType==="F")return IA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new co(i.field,s)});let n=t.endAt?new Ya(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ya(t.startAt.position,t.startAt.inclusive):null;return IA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function II(t,e){let n=t.filters.concat([e]);return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _I(t,e,n){return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ep(t,e){return V_(ur(t),ur(e))&&t.limitType===e.limitType}function rR(t){return`${F_(ur(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eR(i)).join(", ")}]`),_p(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qa(i)).join(",")),`Target(${r})`}(ur(t))}; limitType=${t.limitType})`}function bp(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Gu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let d=vA(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,Gu(r),i)||r.endAt&&!function(o,a,u){let d=vA(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,Gu(r),i))}(t,e)}function oz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iR(t){return(e,n)=>{let r=!1;for(let i of Gu(t)){let s=az(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function az(t,e,n){let r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),d=a.data.field(s);return u!==null&&d!==null?Ka(u,d):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var es=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return WA(this.inner)}size(){return this.innerSize}};var cz=new We(X.comparator);function qr(){return cz}var sR=new We(X.comparator);function Hu(...t){let e=sR;for(let n of t)e=e.insert(n.key,n);return e}function oR(t){let e=sR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function to(){return Wu()}function aR(){return Wu()}function Wu(){return new es(t=>t.toString(),(t,e)=>t.isEqual(e))}var uz=new We(X.comparator),lz=new Ot(X.comparator);function ye(...t){let e=lz;for(let n of t)e=e.add(n);return e}var dz=new Ot(De);function hz(){return dz}function U_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function cR(t){return{integerValue:""+t}}function fz(t,e){return Y$(e)?cR(e):U_(t,e)}var Za=class{constructor(){this._=void 0}};function pz(t,e,n){return t instanceof Ja?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&k_(s)&&(s=O_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof uo?lR(t,e):t instanceof lo?dR(t,e):function(i,s){let o=uR(i,s),a=EA(o)+EA(i.Pe);return uI(o)&&uI(i.Pe)?cR(a):U_(i.serializer,a)}(t,e)}function gz(t,e,n){return t instanceof uo?lR(t,e):t instanceof lo?dR(t,e):n}function uR(t,e){return t instanceof Xa?function(r){return uI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ja=class extends Za{},uo=class extends Za{constructor(e){super(),this.elements=e}};function lR(t,e){let n=hR(e);for(let r of t.elements)n.some(i=>dr(i,r))||n.push(r);return{arrayValue:{values:n}}}var lo=class extends Za{constructor(e){super(),this.elements=e}};function dR(t,e){let n=hR(e);for(let r of t.elements)n=n.filter(i=>!dr(i,r));return{arrayValue:{values:n}}}var Xa=class extends Za{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function EA(t){return $e(t.integerValue||t.doubleValue)}function hR(t){return L_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uo&&i instanceof uo||r instanceof lo&&i instanceof lo?Wa(r.elements,i.elements,dr):r instanceof Xa&&i instanceof Xa?dr(r.Pe,i.Pe):r instanceof Ja&&i instanceof Ja}(t.transform,e.transform)}var EI=class{constructor(e,n){this.version=e,this.transformResults=n}},io=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ec=class{};function fR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yf(t.key,io.none()):new ho(t.key,t.data,io.none());{let n=t.data,r=kn.empty(),i=new Ot(sn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gr(t.key,r,new ar(i.toArray()),io.none())}}function yz(t,e,n){t instanceof ho?function(i,s,o){let a=i.value.clone(),u=TA(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(i,s,o){if(!$f(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=TA(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(pR(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ku(t,e,n,r){return t instanceof ho?function(s,o,a,u){if(!$f(s.precondition,o))return a;let d=s.value.clone(),p=DA(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gr?function(s,o,a,u){if(!$f(s.precondition,o))return a;let d=DA(s.fieldTransforms,u,o),p=o.data;return p.setAll(pR(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return $f(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vz(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=uR(r.transform,i||null);s!=null&&(n===null&&(n=kn.empty()),n.set(r.field,s))}return n||null}function bA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wa(r,i,(s,o)=>mz(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ho=class extends ec{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gr=class extends ec{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function pR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function TA(t,e,n){let r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,gz(o,a,n[i]))}return r}function DA(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,pz(s,o,e))}return r}var Yf=class extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bI=class extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var TI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&yz(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=aR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=fR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>bA(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>bA(n,r))}},DI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=function(){return uz}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var CI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var SI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var it,Ie;function wz(t){switch(t){default:return ne();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function gR(t){if(t===void 0)return zr("GRPC error has no .code"),L.UNKNOWN;switch(t){case it.OK:return L.OK;case it.CANCELLED:return L.CANCELLED;case it.UNKNOWN:return L.UNKNOWN;case it.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case it.INTERNAL:return L.INTERNAL;case it.UNAVAILABLE:return L.UNAVAILABLE;case it.UNAUTHENTICATED:return L.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case it.NOT_FOUND:return L.NOT_FOUND;case it.ALREADY_EXISTS:return L.ALREADY_EXISTS;case it.PERMISSION_DENIED:return L.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case it.ABORTED:return L.ABORTED;case it.OUT_OF_RANGE:return L.OUT_OF_RANGE;case it.UNIMPLEMENTED:return L.UNIMPLEMENTED;case it.DATA_LOSS:return L.DATA_LOSS;default:return ne()}}(Ie=it||(it={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var CA=null;function Iz(){return new TextEncoder}var _z=new Yi([4294967295,4294967295],0);function SA(t){let e=Iz().encode(t),n=new Bw;return n.update(e),new Uint8Array(n.digest())}function AA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yi([n,r],0),new Yi([i,s],0)]}var AI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new no(`Invalid padding: ${n}`);if(r<0)throw new no(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new no(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yi.fromNumber(r)));return i.compare(_z)===1&&(i=new Yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=SA(e),[r,i]=AA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=SA(e),[r,i]=AA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},no=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Zf=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(oe.min(),i,new We(De),qr(),ye())}},Xu=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ye(),ye(),ye())}};var Ha=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Jf=class{constructor(e,n){this.targetId=e,this.me=n}},Xf=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ep=class{constructor(){this.fe=0,this.ge=xA(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Xu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},RI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=qr(),this.qe=RA(),this.Qe=new We(De)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(wI(s))if(r===0){let o=new X(s.path);this.Ue(n,o,On.newNoDocument(o,oe.min()))}else Oe(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}CA?.et(function(p,g,w,_,N){var O,M,F,H,Q,Y;let _e={localCacheCount:p,existenceFilterCount:g.count,databaseId:w.database,projectId:w.projectId},Z=g.unchangedNames;return Z&&(_e.bloomFilter={applied:N===0,hashCount:(O=Z?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(H=(F=(M=Z?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(Y=(Q=Z?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&Y!==void 0?Y:0,mightContain:C=>{var E;return(E=_?.mightContain(C))!==null&&E!==void 0&&E}}),_e}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Ji(r).toUint8Array()}catch(u){if(u instanceof Wf)return Ga("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new AI(o,i,s)}catch(u){return Ga(u instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&wI(a.target)){let u=new X(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,On.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ye();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Zf(e,n,this.Qe,this.ke,r);return this.ke=qr(),this.qe=RA(),this.Qe=new We(De),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ep,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(De),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ep),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function RA(){return new We(X.comparator)}function xA(){return new We(X.comparator)}var Ez={asc:"ASCENDING",desc:"DESCENDING"},bz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tz={and:"AND",or:"OR"},xI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function NI(t,e){return t.useProto3Json||_p(e)?e:{value:e}}function tp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dz(t,e){return tp(t,e.toTimestamp())}function lr(t){return Oe(!!t),oe.fromTimestamp(function(n){let r=Hr(n);return new bt(r.seconds,r.nanos)}(t))}function B_(t,e){return MI(t,e).canonicalString()}function MI(t,e){let n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yR(t){let e=He.fromString(t);return Oe(ER(e)),e}function PI(t,e){return B_(t.databaseId,e.path)}function Kw(t,e){let n=yR(e);if(n.get(1)!==t.databaseId.projectId)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(wR(n))}function vR(t,e){return B_(t.databaseId,e)}function Cz(t){let e=yR(t);return e.length===4?He.emptyPath():wR(e)}function kI(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wR(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NA(t,e,n){return{name:PI(t,e),fields:n.value.mapValue.fields}}function Sz(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Oe(p===void 0||typeof p=="string"),Lt.fromBase64String(p||"")):(Oe(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Lt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){let p=d.code===void 0?L.UNKNOWN:gR(d.code);return new z(p,d.message||"")}(o);n=new Xf(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Kw(t,r.document.name),s=lr(r.document.updateTime),o=r.document.createTime?lr(r.document.createTime):oe.min(),a=new kn({mapValue:{fields:r.document.fields}}),u=On.newFoundDocument(i,s,o,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Ha(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Kw(t,r.document),s=r.readTime?lr(r.readTime):oe.min(),o=On.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ha([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Kw(t,r.document),s=r.removedTargetIds||[];n=new Ha([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new SI(i,s),a=r.targetId;n=new Jf(a,o)}}return n}function Az(t,e){let n;if(e instanceof ho)n={update:NA(t,e.key,e.value)};else if(e instanceof Yf)n={delete:PI(t,e.key)};else if(e instanceof Gr)n={update:NA(t,e.key,e.data),updateMask:Fz(e.fieldMask)};else{if(!(e instanceof bI))return ne();n={verify:PI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ja)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Dz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function Rz(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?lr(i.updateTime):lr(s);return o.isEqual(oe.min())&&(o=lr(s)),new EI(o,i.transformResults||[])}(n,e))):[]}function xz(t,e){return{documents:[vR(t,e.path)]}}function Nz(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vR(t,i);let s=function(d){if(d.length!==0)return _R(Ln.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:Ba(w.field),direction:kz(w.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=NI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function Mz(t){let e=Cz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Oe(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){let w=IR(g);return w instanceof Ln&&JA(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(w=>function(N){return new co($a(N.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(w))}(n.orderBy));let a=null;n.limit&&(a=function(g){let w;return w=typeof g=="object"?g.value:g,_p(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(g){let w=!!g.before,_=g.values||[];return new Ya(_,w)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let w=!g.before,_=g.values||[];return new Ya(_,w)}(n.endAt)),iz(e,i,o,s,a,"F",u,d)}function Pz(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=$a(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=$a(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=$a(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=$a(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return ot.create($a(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>IR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function kz(t){return Ez[t]}function Oz(t){return bz[t]}function Lz(t){return Tz[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function $a(t){return sn.fromServerFormat(t.fieldPath)}function _R(t){return t instanceof ot?function(n){if(n.op==="=="){if(yA(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(mA(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yA(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(mA(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:Oz(n.op),value:n.value}}}(t):t instanceof Ln?function(n){let r=n.getFilters().map(i=>_R(i));return r.length===1?r[0]:{compositeFilter:{op:Lz(n.op),filters:r}}}(t):ne()}function Fz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ER(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var el=class t{constructor(e,n,r,i,s=oe.min(),o=oe.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var OI=class{constructor(e){this.ct=e}};function Vz(t){let e=Mz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_I(e,e.limit,"L"):e}var np=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At($e(e.integerValue));else if("doubleValue"in e){let r=$e(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Yu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Hr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ji(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?QA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):KA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At($e(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),X.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};np.vt=new np;var LI=class{constructor(){this.un=new FI}addToCollectionParentIndex(e,n){return this.un.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(oo.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}},FI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(He.comparator)).toArray()}};var XK=new Uint8Array(0);var or=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(41943040,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);var tl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var VI=class{constructor(){this.changes=new es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var UI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ku(r.mutation,i,ar.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){let i=to();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Hu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=to();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=qr(),o=Wu(),a=function(){return Wu()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Gr)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),Ku(p.mutation,d,p.mutation.getFieldMask(),bt.now())):o.set(d.key,ar.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var g;return a.set(d,new jI(p,(g=o.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Wu(),i=new We((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||ar.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=aR();p.forEach(w=>{if(!s.has(w)){let _=fR(n.get(w),r.get(w));_!==null&&g.set(w,_),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(to()),a=-1,u=s;return o.next(d=>j.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?j.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,ye())).next(p=>({batchId:a,changes:oR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Hu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Hu();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,u=>{let d=function(g,w){return new Xi(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,w)=>{o=o.insert(g,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let p=d.getKey();o.get(p)===null&&(o=o.insert(p,On.newInvalidDocument(p)))});let a=Hu();return o.forEach((u,d)=>{let p=s.get(u);p!==void 0&&Ku(p.mutation,d,ar.empty(),bt.now()),bp(n,d)&&(a=a.insert(u,d))}),a})}};var BI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:lr(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Vz(i.bundledQuery),readTime:lr(i.readTime)}}(n)),j.resolve()}};var $I=class{constructor(){this.overlays=new We(X.comparator),this.Ir=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){let r=to();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){let i=to(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((d,p)=>d-p),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=to(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=to(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return j.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CI(n,r));let s=this.Ir.get(n);s===void 0&&(s=ye(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var zI=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}};var nl=class{constructor(){this.Tr=new Ot(st.Er),this.dr=new Ot(st.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new st(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new st(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new X(new He([])),r=new st(n,e),i=new st(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new X(new He([])),r=new st(n,e),i=new st(n,e+1),s=ye();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new st(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},st=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||X.comparator(e.key,n.key)}};var HI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ot(st.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new TI(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(De);return n.forEach(i=>{let s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;X.isDocumentKey(s)||(s=s.child(""));let o=new st(new X(s),0),a=new Ot(De);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},o),j.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(n.mutations,i=>{let s=new st(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new st(n,0),i=this.br.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var qI=class{constructor(e){this.Mr=e,this.docs=function(){return new We(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():On.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qr(),o=n.path,a=new X(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||W$(G$(p),r)<=0||(i.has(p.key)||bp(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GI(this)}getSize(e){return j.resolve(this.size)}},GI=class extends VI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var WI=class{constructor(e){this.persistence=e,this.Nr=new es(n=>F_(n),V_),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new nl,this.targetCount=0,this.kr=tl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Kn(n),j.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}};var KI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new GA(0),this.Kr=!1,this.Kr=!0,this.$r=new zI,this.referenceDelegate=e(this),this.Ur=new WI(this),this.indexManager=new LI,this.remoteDocumentCache=function(i){return new qI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new OI(n),this.Gr=new BI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $I,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new HI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);let i=new QI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},QI=class extends oI{constructor(e){super(),this.currentSequenceNumber=e}},YI=class t{constructor(e){this.persistence=e,this.Jr=new nl,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var ZI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ye(),i=ye();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var JI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var XI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WC()?8:Q$(gt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new JI;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(zu()<=me.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(zu()<=me.DEBUG&&G("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(zu()<=me.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):j.resolve())}Yi(e,n){if(_A(n))return j.resolve(null);let r=ur(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_I(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ye(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,a);return this.ns(n,d,o,u.readTime)?this.Yi(e,_I(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return _A(n)||i.isEqual(oe.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?j.resolve(null):(zu()<=me.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.rs(e,o,n,q$(i,-1)).next(a=>a))})}ts(e,n){let r=new Ot(iR(e));return n.forEach((i,s)=>{bp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return zu()<=me.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.Ji.getDocumentsMatchingQuery(e,n,oo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var e_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new We(De),this._s=new es(s=>F_(s),V_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function jz(t,e,n,r){return new e_(t,e,n,r)}function bR(t,e){return D(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ye();for(let d of i){o.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of s){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})})}function Uz(t,e){let n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,w=g.keys(),_=j.resolve();return w.forEach(N=>{_=_.next(()=>p.getEntry(u,N)).next(O=>{let M=d.docVersions.get(N);Oe(M!==null),O.version.compareTo(M)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function TR(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Bz(t,e){let n=ie(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,g)=>{let w=i.get(g);if(!w)return;a.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let _=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Lt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),function(O,M,F){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(w,_,p)&&a.push(n.Ur.updateTargetData(s,_))});let u=qr(),d=ye();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push($z(s,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(oe.min())){let p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.os=i,s))}function $z(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qr();return n.forEach((a,u)=>{let d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function zz(t,e){let n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hz(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new el(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function t_(t,e,n){return D(this,null,function*(){let r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ul(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function MA(t,e,n){let r=ie(t),i=oe.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){let g=ie(u),w=g._s.get(p);return w!==void 0?j.resolve(g.os.get(w)):g.Ur.getTargetData(d,p)}(r,o,ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:oe.min(),n?s:ye())).next(a=>(qz(r,oz(e),a),{documents:a,Ts:s})))}function qz(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var rp=class{constructor(){this.activeTargetIds=hz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var n_=class{constructor(){this.so=new rp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var r_=class{_o(e){}shutdown(){}};var ip=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Uf=null;function Qw(){return Uf===null?Uf=function(){return 268435456+Math.round(2147483648*Math.random())}():Uf++,"0x"+Uf.toString(16)}var Gz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var i_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var kt="WebChannelConnection",s_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Qw(),u=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(p=>(G("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Ga("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ic}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Gz[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Qw();return new Promise((o,a)=>{let u=new $w;u.setWithCredentials(!0),u.listenOnce(Hw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case $u.NO_ERROR:let p=u.getResponseJson();G(kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case $u.TIMEOUT:G(kt,`RPC '${e}' ${s} timed out`),a(new z(L.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:let g=u.getStatus();if(G(kt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);let _=w?.error;if(_&&_.status&&_.message){let N=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(F)>=0?F:L.UNKNOWN}(_.status);a(new z(N,_.message))}else a(new z(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new z(L.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{G(kt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);G(kt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=Qw(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ww(),a=Gw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new zw({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=s.join("");G(kt,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=o.createWebChannel(p,u),w=!1,_=!1,N=new i_({Io:M=>{_?G(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(w||(G(kt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),G(kt,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},To:()=>g.close()}),O=(M,F,H)=>{M.listen(F,Q=>{try{H(Q)}catch(Y){setTimeout(()=>{throw Y},0)}})};return O(g,ja.EventType.OPEN,()=>{_||(G(kt,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),O(g,ja.EventType.CLOSE,()=>{_||(_=!0,G(kt,`RPC '${e}' stream ${i} transport closed`),N.So())}),O(g,ja.EventType.ERROR,M=>{_||(_=!0,Ga(kt,`RPC '${e}' stream ${i} transport errored:`,M),N.So(new z(L.UNAVAILABLE,"The operation could not be completed")))}),O(g,ja.EventType.MESSAGE,M=>{var F;if(!_){let H=M.data[0];Oe(!!H);let Q=H,Y=Q.error||((F=Q[0])===null||F===void 0?void 0:F.error);if(Y){G(kt,`RPC '${e}' stream ${i} received error:`,Y);let _e=Y.status,Z=function(b){let S=it[b];if(S!==void 0)return gR(S)}(_e),C=Y.message;Z===void 0&&(Z=L.INTERNAL,C="Unknown error status: "+_e+" with message "+Y.message),_=!0,N.So(new z(Z,C)),g.close()}else G(kt,`RPC '${e}' stream ${i} received:`,H),N.bo(H)}}),O(a,qw.STAT_EVENT,M=>{M.stat===Vf.PROXY?G(kt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Vf.NOPROXY&&G(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}};function Yw(){return typeof document<"u"?document:null}function Tp(t){return new xI(t,!0)}var sp=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var op=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sp(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new z(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},o_=class extends op{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=Sz(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?lr(o.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=kI(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=wI(u)?{documents:xz(s,u)}:{query:Nz(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mR(s,o.resumeToken);let d=NI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=tp(s,o.snapshotVersion.toTimestamp());let d=NI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=Pz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=kI(this.serializer),n.removeTarget=e,this.a_(n)}},a_=class extends op{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=Rz(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=kI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Az(this.serializer,r))};this.a_(n)}};var c_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,MI(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(L.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,MI(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(L.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},u_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var l_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>D(this,null,function*(){po(this)&&(G("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let d=ie(u);d.L_.add(4),yield ll(d),d.q_.set("Unknown"),d.L_.delete(4),yield Dp(d)})}(this))}))}),this.q_=new u_(r,i)}};function Dp(t){return D(this,null,function*(){if(po(t))for(let e of t.B_)yield e(!0)})}function ll(t){return D(this,null,function*(){for(let e of t.B_)yield e(!1)})}function DR(t,e){let n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),q_(n)?H_(n):oc(n).r_()&&z_(n,e))}function $_(t,e){let n=ie(t),r=oc(n);n.N_.delete(e),r.r_()&&CR(n,e),n.N_.size===0&&(r.r_()?r.o_():po(n)&&n.q_.set("Unknown"))}function z_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).A_(e)}function CR(t,e){t.Q_.xe(e),oc(t).R_(e)}function H_(t){t.Q_=new RI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.q_.v_()}function q_(t){return po(t)&&!oc(t).n_()&&t.N_.size>0}function po(t){return ie(t).L_.size===0}function SR(t){t.Q_=void 0}function Wz(t){return D(this,null,function*(){t.q_.set("Online")})}function Kz(t){return D(this,null,function*(){t.N_.forEach((e,n)=>{z_(t,e)})})}function Qz(t,e){return D(this,null,function*(){SR(t),q_(t)?(t.q_.M_(e),H_(t)):t.q_.set("Unknown")})}function Yz(t,e,n){return D(this,null,function*(){if(t.q_.set("Online"),e instanceof Xf&&e.state===2&&e.cause)try{yield function(i,s){return D(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ap(t,r)}else if(e instanceof Ha?t.Q_.Ke(e):e instanceof Jf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{let r=yield TR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{let p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Lt.EMPTY_BYTE_STRING,p.snapshotVersion)),CR(s,u);let g=new el(p.target,u,d,p.sequenceNumber);z_(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){G("RemoteStore","Failed to raise snapshot:",r),yield ap(t,r)}})}function ap(t,e,n){return D(this,null,function*(){if(!ul(e))throw e;t.L_.add(1),yield ll(t),t.q_.set("Offline"),n||(n=()=>TR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){G("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Dp(t)}))})}function AR(t,e){return e().catch(n=>ap(t,n,e))}function Cp(t){return D(this,null,function*(){let e=ie(t),n=ts(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Zz(e);)try{let i=yield zz(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Jz(e,i)}catch(i){yield ap(e,i)}RR(e)&&xR(e)})}function Zz(t){return po(t)&&t.O_.length<10}function Jz(t,e){t.O_.push(e);let n=ts(t);n.r_()&&n.V_&&n.m_(e.mutations)}function RR(t){return po(t)&&!ts(t).n_()&&t.O_.length>0}function xR(t){ts(t).start()}function Xz(t){return D(this,null,function*(){ts(t).p_()})}function eH(t){return D(this,null,function*(){let e=ts(t);for(let n of t.O_)e.m_(n.mutations)})}function tH(t,e,n){return D(this,null,function*(){let r=t.O_.shift(),i=DI.from(r,e,n);yield AR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Cp(t)})}function nH(t,e){return D(this,null,function*(){e&&ts(t).V_&&(yield function(r,i){return D(this,null,function*(){if(function(o){return wz(o)&&o!==L.ABORTED}(i.code)){let s=r.O_.shift();ts(r).s_(),yield AR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Cp(r)}})}(t,e)),RR(t)&&xR(t)})}function PA(t,e){return D(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");let r=po(n);n.L_.add(3),yield ll(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Dp(n)})}function rH(t,e){return D(this,null,function*(){let n=ie(t);e?(n.L_.delete(2),yield Dp(n)):e||(n.L_.add(2),yield ll(n),n.q_.set("Unknown"))})}function oc(t){return t.K_||(t.K_=function(n,r,i){let s=ie(n);return s.w_(),new o_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Wz.bind(null,t),Ro:Kz.bind(null,t),mo:Qz.bind(null,t),d_:Yz.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.K_.s_(),q_(t)?H_(t):t.q_.set("Unknown")):(yield t.K_.stop(),SR(t))}))),t.K_}function ts(t){return t.U_||(t.U_=function(n,r,i){let s=ie(n);return s.w_(),new a_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Xz.bind(null,t),mo:nH.bind(null,t),f_:eH.bind(null,t),g_:tH.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.U_.s_(),yield Cp(t)):(yield t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var d_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function G_(t,e){if(zr("AsyncQueue",`${e}: ${t}`),ul(t))return new z(L.UNAVAILABLE,`${e}: ${t}`);throw t}var cp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Hu(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var up=class{constructor(){this.W_=new We(X.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},tc=class t{constructor(e,n,r,i,s,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,cp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var h_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},f_=class{constructor(){this.queries=kA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ie(n),s=i.queries;i.queries=kA(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new z(L.ABORTED,"Firestore shutting down"))}};function kA(){return new es(t=>rR(t),Ep)}function iH(t,e){return D(this,null,function*(){let n=ie(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new h_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=G_(o,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&W_(n)})}function sH(t,e){return D(this,null,function*(){let n=ie(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function oH(t,e){let n=ie(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&W_(n)}function aH(t,e,n){let r=ie(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function W_(t){t.Y_.forEach(e=>{e.next()})}var p_,OA;(OA=p_||(p_={})).ea="default",OA.Cache="cache";var g_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==p_.Cache}};var lp=class{constructor(e){this.key=e}},dp=class{constructor(e){this.key=e}},m_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=iR(e),this.Ra=new cp(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new up,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let w=i.get(p),_=bp(this.query,g)?g:null,N=!!w&&this.mutatedKeys.has(w.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),M=!1;w&&_?w.data.isEqual(_.data)?N!==O&&(r.track({type:3,doc:_}),M=!0):this.ga(w,_)||(r.track({type:2,doc:_}),M=!0,(u&&this.Aa(_,u)>0||d&&this.Aa(_,d)<0)&&(a=!0)):!w&&_?(r.track({type:0,doc:_}),M=!0):w&&!_&&(r.track({type:1,doc:w}),M=!0,(u||d)&&(a=!0)),M&&(_?(o=o.add(_),s=O?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,g)=>function(_,N){let O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return O(_)-O(N)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new tc(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new up,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new dp(r))}),this.da.forEach(r=>{e.has(r)||n.push(new lp(r))}),n}ba(e){this.Ta=e.Ts,this.da=ye();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return tc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},y_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},v_=class{constructor(e){this.key=e,this.va=!1}},w_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new es(a=>rR(a),Ep),this.Ma=new Map,this.xa=new Set,this.Oa=new We(X.comparator),this.Na=new Map,this.La=new nl,this.Ba={},this.ka=new Map,this.qa=tl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function cH(t,e,n=!0){return D(this,null,function*(){let r=LR(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield NR(r,e,n,!0),i})}function uH(t,e){return D(this,null,function*(){let n=LR(t);yield NR(n,e,!0,!1)})}function NR(t,e,n,r){return D(this,null,function*(){let i=yield Hz(t.localStore,ur(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield lH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&DR(t.remoteStore,i),a})}function lH(t,e,n,r,i){return D(this,null,function*(){t.Ka=(g,w,_)=>function(O,M,F,H){return D(this,null,function*(){let Q=M.view.ma(F);Q.ns&&(Q=yield MA(O.localStore,M.query,!1).then(({documents:C})=>M.view.ma(C,Q)));let Y=H&&H.targetChanges.get(M.targetId),_e=H&&H.targetMismatches.get(M.targetId)!=null,Z=M.view.applyChanges(Q,O.isPrimaryClient,Y,_e);return FA(O,M.targetId,Z.wa),Z.snapshot})}(t,g,w,_);let s=yield MA(t.localStore,e,!0),o=new m_(e,s.Ts),a=o.ma(s.documents),u=Xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,u);FA(t,n,d.wa);let p=new y_(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function dH(t,e,n){return D(this,null,function*(){let r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ep(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield t_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$_(r.remoteStore,i.targetId),I_(r,i.targetId)}).catch(cl))):(I_(r,i.targetId),yield t_(r.localStore,i.targetId,!0))})}function hH(t,e){return D(this,null,function*(){let n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$_(n.remoteStore,r.targetId))})}function fH(t,e,n){return D(this,null,function*(){let r=IH(t);try{let i=yield function(o,a){let u=ie(o),d=bt.now(),p=a.reduce((_,N)=>_.add(N.key),ye()),g,w;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let N=qr(),O=ye();return u.cs.getEntries(_,p).next(M=>{N=M,N.forEach((F,H)=>{H.isValidDocument()||(O=O.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,N)).next(M=>{g=M;let F=[];for(let H of a){let Q=vz(H,g.get(H.key).overlayedDocument);Q!=null&&F.push(new Gr(H.key,Q,YA(Q.value.mapValue),io.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,F,a)}).next(M=>{w=M;let F=M.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(_,M.batchId,F)})}).then(()=>({batchId:w.batchId,changes:oR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new We(De)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield dl(r,i.changes),yield Cp(r.remoteStore)}catch(i){let s=G_(i,"Failed to persist write");n.reject(s)}})}function MR(t,e){return D(this,null,function*(){let n=ie(t);try{let r=yield Bz(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Oe(o.va):i.removedDocuments.size>0&&(Oe(o.va),o.va=!1))}),yield dl(n,r,e)}catch(r){yield cl(r)}})}function LA(t,e,n){let r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=ie(o);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let w of g.j_)w.Z_(a)&&(d=!0)}),d&&W_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pH(t,e,n){return D(this,null,function*(){let r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new We(X.comparator);o=o.insert(s,On.newNoDocument(s,oe.min()));let a=ye().add(s),u=new Zf(oe.min(),new Map,new We(De),o,a);yield MR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),K_(r)}else yield t_(r.localStore,e,!1).then(()=>I_(r,e,n)).catch(cl)})}function gH(t,e){return D(this,null,function*(){let n=ie(t),r=e.batch.batchId;try{let i=yield Uz(n.localStore,e);kR(n,r,null),PR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield dl(n,i)}catch(i){yield cl(i)}})}function mH(t,e,n){return D(this,null,function*(){let r=ie(t);try{let i=yield function(o,a){let u=ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Oe(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);kR(r,e,n),PR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield dl(r,i)}catch(i){yield cl(i)}})}function PR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function kR(t,e,n){let r=ie(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function I_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||OR(t,r)})}function OR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&($_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),K_(t))}function FA(t,e,n){for(let r of n)r instanceof lp?(t.La.addReference(r.key,e),yH(t,r)):r instanceof dp?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||OR(t,r.key)):ne()}function yH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),K_(t))}function K_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new X(He.fromString(e)),r=t.qa.next();t.Na.set(r,new v_(n)),t.Oa=t.Oa.insert(n,r),DR(t.remoteStore,new el(ur(j_(n.path)),r,"TargetPurposeLimboResolution",GA.oe))}}function dl(t,e,n){return D(this,null,function*(){let r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=ZI.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return D(this,null,function*(){let p=ie(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>j.forEach(d,w=>j.forEach(w.$i,_=>p.persistence.referenceDelegate.addReference(g,w.targetId,_)).next(()=>j.forEach(w.Ui,_=>p.persistence.referenceDelegate.removeReference(g,w.targetId,_)))))}catch(g){if(!ul(g))throw g;G("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let w=g.targetId;if(!g.fromCache){let _=p.os.get(w),N=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(N);p.os=p.os.insert(w,O)}}})}(r.localStore,s))})}function vH(t,e){return D(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());let r=yield bR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new z(L.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dl(n,r.hs)}})}function wH(t,e){let n=ie(t),r=n.Na.get(e);if(r&&r.va)return ye().add(r.key);{let i=ye(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function LR(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pH.bind(null,e),e.Ca.d_=oH.bind(null,e.eventManager),e.Ca.$a=aH.bind(null,e.eventManager),e}function IH(t){let e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mH.bind(null,e),e}var hp=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=Tp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jz(this.persistence,new XI,e.initialUser,this.serializer)}createPersistence(e){return new KI(YI.Zr,this.serializer)}createSharedClientState(e){return new n_}terminate(){return D(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var __=class{initialize(e,n){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vH.bind(null,this.syncEngine),yield rH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new f_}()}createDatastore(e){let n=Tp(e.databaseInfo.databaseId),r=function(s){return new s_(s)}(e.databaseInfo);return function(s,o,a,u){return new c_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new l_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>LA(this.syncEngine,n,0),function(){return ip.D()?new ip:new r_}())}createSyncEngine(e,n){return function(i,s,o,a,u,d,p){let g=new w_(i,s,o,a,u,d);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return D(this,null,function*(){var e,n;yield function(i){return D(this,null,function*(){let s=ie(i);G("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield ll(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var E_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var b_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=Hf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>D(this,null,function*(){G("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=G_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Zw(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield bR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function VA(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield EH(t);G("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PA(e.remoteStore,i)),t._onlineComponents=e})}function _H(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function EH(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zw(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!_H(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),yield Zw(t,new hp)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield Zw(t,new hp);return t._offlineComponents})}function FR(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield VA(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield VA(t,new __))),t._onlineComponents})}function bH(t){return FR(t).then(e=>e.syncEngine)}function jA(t){return D(this,null,function*(){let e=yield FR(t),n=e.eventManager;return n.onListen=cH.bind(null,e.syncEngine),n.onUnlisten=dH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hH.bind(null,e.syncEngine),n})}function VR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var UA=new Map;function jR(t,e,n){if(!n)throw new z(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TH(t,e,n,r){if(e===!0&&r===!0)throw new z(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BA(t){if(!X.isDocumentKey(t))throw new z(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $A(t){if(X.isDocumentKey(t))throw new z(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Qu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Sp(t);throw new z(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var fp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},nc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jw;switch(r.type){case"firstParty":return new nI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=UA.get(n);r&&(G("ComponentProvider","Removing Datastore"),UA.delete(n),r.terminate())}(this),Promise.resolve()}};function UR(t,e,n,r={}){var i;let s=(t=Qu(t,nc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=mt.MOCK_USER;else{a=$C(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new z(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mt(d)}t._authCredentials=new Xw(new zf(a,u))}}var fo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},on=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Zi=class t extends fo{constructor(e,n,r){super(e,n,j_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new X(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function BR(t,e,...n){if(t=Et(t),jR("collection","path",e),t instanceof nc){let r=He.fromString(e,...n);return $A(r),new Zi(t,null,r)}{if(!(t instanceof on||t instanceof Zi))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return $A(r),new Zi(t.firestore,null,r)}}function $R(t,e,...n){if(t=Et(t),arguments.length===1&&(e=Hf.newId()),jR("doc","path",e),t instanceof nc){let r=He.fromString(e,...n);return BA(r),new on(t,null,new X(r))}{if(!(t instanceof on||t instanceof Zi))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return BA(r),new on(t.firestore,t instanceof Zi?t.converter:null,new X(r))}}var T_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new sp(this,"async_queue_retry"),this.Eu=()=>{let n=Yw();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Yw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Yw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new $r;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return D(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ul(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=d_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ne()}verifyOperationInProgress(){}mu(){return D(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function zA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var rc=class extends nc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new T_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qR(this),this._firestoreClient.terminate()}};function zR(t,e){let n=typeof t=="object"?t:Pa(),r=typeof t=="string"?t:e||"(default)",i=Nu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=BC("firestore");s&&UR(i,...s)}return i}function HR(t){return t._firestoreClient||qR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,d,p){return new aI(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VR(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new b_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var rl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new z(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var il=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pp=class{constructor(e){this._methodName=e}};var sl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var ol=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var DH=/^__.*__$/,D_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ho(e,this.data,n,this.fieldTransforms)}};function GR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var C_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return gp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(GR(this.wu)&&DH.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},S_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tp(e)}Nu(e,n,r,i=!1){return new C_({wu:e,methodName:n,Ou:r,path:sn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function WR(t){let e=t._freezeSettings(),n=Tp(t._databaseId);return new S_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CH(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);YR("Data must be an object, but it was:",o,r);let a=KR(r,o),u,d;if(s.merge)u=new ar(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let g of s.mergeFields){let w=AH(e,g,n);if(!o.contains(w))throw new z(L.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);xH(p,w)||p.push(w)}u=new ar(p),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new D_(new kn(a),u,d)}function SH(t,e,n,r=!1){return Q_(n,t.Nu(r?4:3,e))}function Q_(t,e){if(QR(t=Et(t)))return YR("Unsupported field value:",e,t),KR(t,e);if(t instanceof pp)return function(r,i){if(!GR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Q_(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=bt.fromDate(r);return{timestampValue:tp(i.serializer,s)}}if(r instanceof bt){let s=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tp(i.serializer,s)}}if(r instanceof sl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rl)return{bytesValue:mR(i.serializer,r._byteString)};if(r instanceof on){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:B_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ol)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return U_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Sp(r)}`)}(t,e)}function KR(t,e){let n={};return WA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(t,(r,i)=>{let s=Q_(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof sl||t instanceof rl||t instanceof on||t instanceof pp||t instanceof ol)}function YR(t,e,n){if(!QR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Sp(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function AH(t,e,n){if((e=Et(e))instanceof il)return e._internalPath;if(typeof e=="string")return ZR(t,e);throw gp("Field path arguments must be of type string or ",t,!1,void 0,n)}var RH=new RegExp("[~\\*/\\[\\]]");function ZR(t,e,n){if(e.search(RH)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new il(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gp(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new z(L.INVALID_ARGUMENT,a+t+u)}function xH(t,e){return t.some(n=>n.isEqual(e))}var mp=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new A_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Ap("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},A_=class extends mp{data(){return super.data()}};function Ap(t,e){return typeof e=="string"?ZR(t,e):e instanceof il?e._internalPath:e._delegate._internalPath}function NH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var al=class{},yp=class extends al{};function JR(t,e,...n){let r=[];e instanceof al&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof R_).length,a=s.filter(u=>u instanceof vp).length;if(o>1||o>0&&a>0)throw new z(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var vp=class t extends yp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return tx(e._query,n),new fo(e.firestore,e.converter,II(e._query,n))}_parse(e){let n=WR(e.firestore);return function(s,o,a,u,d,p,g){let w;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new z(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){qA(g,p);let _=[];for(let N of g)_.push(HA(u,s,N));w={arrayValue:{values:_}}}else w=HA(u,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||qA(g,p),w=SH(a,o,g,p==="in"||p==="not-in");return ot.create(d,p,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function XR(t,e,n){let r=e,i=Ap("where",t);return vp._create(i,r,n)}var R_=class t extends al{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)tx(o,u),o=II(o,u)}(e._query,n),new fo(e.firestore,e.converter,II(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var x_=class t extends yp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new co(s,o)}(e._query,this._field,this._direction);return new fo(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Xi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function ex(t,e="asc"){let n=e,r=Ap("orderBy",t);return x_._create(r,n)}function HA(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nR(e)&&n.indexOf("/")!==-1)throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(He.fromString(n));if(!X.isDocumentKey(r))throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gA(t,new X(r))}if(n instanceof on)return gA(t,n._key);throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sp(n)}.`)}function qA(t,e){if(!Array.isArray(t)||t.length===0)throw new z(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tx(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var N_=class{convertValue(e,n="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return sc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>$e(o.doubleValue));return new ol(s)}convertGeoPoint(e){return new sl($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=O_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){let n=Hr(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=He.fromString(e);Oe(ER(r));let i=new Kf(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function MH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ro=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wp=class extends mp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new qa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Ap("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},qa=class extends wp{data(e={}){return super.data(e)}},M_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qa(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:PH(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function PH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var Ip=class extends N_{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}};function nx(t,e){let n=Qu(t.firestore,rc),r=$R(t),i=MH(t.converter,e);return kH(n,[CH(WR(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,io.exists(!1))]).then(()=>r)}function rx(t,...e){var n,r,i;t=Et(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||zA(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(zA(e[o])){let g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,p;if(t instanceof on)d=Qu(t.firestore,rc),p=j_(t._key.path),u={next:g=>{e[o]&&e[o](OH(d,t,g))},error:e[o+1],complete:e[o+2]};else{let g=Qu(t,fo);d=Qu(g.firestore,rc),p=g._query;let w=new Ip(d);u={next:_=>{e[o]&&e[o](new M_(d,w,g,_))},error:e[o+1],complete:e[o+2]},NH(t._query)}return function(w,_,N,O){let M=new E_(O),F=new g_(_,M,N);return w.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return iH(yield jA(w),F)})),()=>{M.za(),w.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return sH(yield jA(w),F)}))}}(HR(d),p,a,u)}function kH(t,e){return function(r,i){let s=new $r;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return fH(yield bH(r),i,s)})),s.promise}(HR(t),e)}function OH(t,e,n){let r=n.docs.get(e._key),i=new Ip(t);return new wp(t,i,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ic=i})(qi),Hi(new mn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new rc(new eI(r.getProvider("auth-internal")),new iI(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new z(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kf(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),lt(dA,"4.7.1",e),lt(dA,"4.7.1","esm2017")})();var Wr=class{constructor(e){return e}},ix="firestore",Y_=class{constructor(){return Mu(ix)}};var Z_=new W("angularfire2.firestore-instances");function LH(t,e){let n=yf(ix,t,e);return n&&new Wr(n)}function FH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wr(r)}}var VH={provide:Y_,deps:[[new Nt,Z_]]},jH={provide:Wr,useFactory:LH,deps:[[new Nt,Z_],Fr]};function vQ(t,...e){return lt("angularfire",Ks.full,"fst"),un([jH,VH,{provide:Z_,useFactory:FH(t),multi:!0,deps:[be,xt,La,Qs,[new Nt,Bu],[new Nt,Oa],...e]}])}var Rp=$t(nx,!0);var hl=$t(BR,!0);var wQ=$t(zR,!0);var sx=$t(rx,!0);var ox=$t(ex,!0);var ax=$t(JR,!0);var cx=$t(XR,!0);var lx=class t{constructor(e,n){this.auth=e;this.firestore=n}userSubject=new Qe(null);login(e,n){return aA(this.auth,e,n).then(r=>(this.userSubject.next(r.user),this.logLogin(e),r.user))}logout(){return cA(this.auth).then(()=>{this.userSubject.next(null)})}register(e,n){return oA(this.auth,e,n).then(r=>(this.userSubject.next(r.user),r.user))}getUser(){return this.userSubject.asObservable()}logLogin(e){let n=hl(this.firestore,"logins");Rp(n,{fecha:new Date,user:e}).then(()=>console.log("Login registrado correctamente")).catch(r=>console.log("Error al registrar el login: ",r))}static \u0275fac=function(n){return new(n||t)(K(eo),K(Wr))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var dx=class t{constructor(e){this.firestore=e}puntajesSubject=new Qe([]);getPuntajes(){return this.puntajesSubject.asObservable()}loadPuntajesByGame(e){let n=hl(this.firestore,"puntajes"),r=ax(n,cx("game","==",e),ox("timestamp","desc"));sx(r,i=>{let s=i.docs.map(o=>B({id:o.id},o.data()));this.puntajesSubject.next(s)})}savePuntaje(e,n,r){let i=hl(this.firestore,"puntajes");Rp(i,{puntaje:e,user:n,game:r,timestamp:new Date})}static \u0275fac=function(n){return new(n||t)(K(Wr))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};export{B as a,Le as b,zH as c,D as d,At as e,Qe as f,Ue as g,ee as h,ue as i,ON as j,J as k,Lb as l,q as m,da as n,W as o,K as p,Zb as q,ha as r,js as s,pa as t,aW as u,cW as v,Ym as w,It as x,Sr as y,KP as z,uW as A,Be as B,Kc as C,fW as D,zO as E,n1 as F,_y as G,y1 as H,v1 as I,WD as J,KD as K,Ey as L,pW as M,by as N,gW as O,mW as P,U1 as Q,XD as R,B1 as S,$1 as T,z1 as U,yW as V,H1 as W,vW as X,t0 as Y,wW as Z,IW as _,Qc as $,_W as aa,ma as ba,Zc as ca,EW as da,vL as ea,ya as fa,qW as ga,GW as ha,WW as ia,KL as ja,Mr as ka,iF as la,a6 as ma,P6 as na,Ui as oa,y2 as pa,tr as qa,X0 as ra,Z6 as sa,J6 as ta,X6 as ua,UV as va,$8 as wa,z8 as xa,LK as ya,FK as za,Wr as Aa,vQ as Ba,Rp as Ca,hl as Da,wQ as Ea,sx as Fa,ox as Ga,ax as Ha,lx as Ia,dx as Ja};
