import{A as r,B as p,F as m,H as c,J as a,K as o,L as j,M as v,Ma as x,N as h,Na as P,O as u,S as s,T as M,U as f,V as ee,a as K,b as Y,c as T,d as R,h as Z,ka as y,la as C,m as W,n as E,na as te,oa as ie,p as X,pa as ne,q as _,r as J,u as d,v as g,ya as D,z as b,za as k}from"./chunk-56LGDDML.js";var I=T(k());function oe(i,e){if(i&1&&(a(0,"span"),s(1),o()),i&2){let t=e.$implicit;r(),f("",t," ")}}function re(i,e){if(i&1){let t=v();a(0,"button",10),h("click",function(){let l=d(t).$implicit,w=u();return g(w.manejarClickLetra(l))}),s(1),o()}if(i&2){let t=e.$implicit,n=u();c("disabled",n.letrasUsadas.includes(t)||n.juegoTerminado),r(),f(" ",t," ")}}function se(i,e){i&1&&(a(0,"p"),s(1,"\xA1Felicidades, ganaste!"),o())}function ce(i,e){if(i&1&&(a(0,"p"),s(1),o()),i&2){let t=u(2);r(),f("Lo siento, perdiste. La palabra era: ",t.palabraSeleccionada,"")}}function ue(i,e){if(i&1&&(a(0,"div",11),m(1,se,2,0,"p",12)(2,ce,2,1,"p",12),o()),i&2){let t=u();r(),c("ngIf",t.ganaste),r(),c("ngIf",!t.ganaste)}}function le(i,e){if(i&1){let t=v();a(0,"button",13),h("click",function(){d(t);let l=u();return g(l.reiniciarJuego())}),s(1,"Reiniciar juego"),o()}}var V=class i{constructor(e,t){this.puntajesService=e;this.authService=t}abecedario="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");palabras=["ANGULAR","REACT","VUE","JAVASCRIPT","TYPESCRIPT"];palabrasUsadas=new Set;palabraSeleccionada="";palabraMostrada=[];puntaje=0;letrasUsadas=[];intentosFallidos=0;maxIntentos=6;juegoTerminado=!1;ganaste=!1;imagenesAhorcado=["ahorcado0.png","ahorcado1.png","ahorcado2.png","ahorcado3.png","ahorcado4.png","ahorcado5.png","ahorcado6.png"];imagenActual=this.imagenesAhorcado[0];usuario=null;ngOnInit(){this.inicializarJuego(),this.puntaje=0,this.authService.getUser().subscribe(e=>{e&&(this.usuario=e.email)})}inicializarJuego(){if(this.palabrasUsadas.size===this.palabras.length){I.default.fire({icon:"success",title:"\xA1Juego Completado!",text:"Usaste todas las palabras, sos muy bueno",timer:2e3,showConfirmButton:!1});return}this.palabraSeleccionada=this.obtenerPalabraAleatoria(),this.palabraMostrada=Array(this.palabraSeleccionada.length).fill("_"),this.letrasUsadas=[],this.intentosFallidos=0,this.imagenActual=this.imagenesAhorcado[0],this.juegoTerminado=!1,this.ganaste=!1}obtenerPalabraAleatoria(){let e=this.palabras[Math.floor(Math.random()*this.palabras.length)];for(;this.palabrasUsadas.has(e);)e=this.palabras[Math.floor(Math.random()*this.palabras.length)];return this.palabrasUsadas.add(e),e}manejarClickLetra(e){if(!(this.letrasUsadas.includes(e)||this.juegoTerminado))if(this.letrasUsadas.push(e),this.palabraSeleccionada.includes(e)){for(let t=0;t<this.palabraSeleccionada.length;t++)this.palabraSeleccionada[t]===e&&(this.palabraMostrada[t]=e);this.palabraMostrada.includes("_")||(this.ganaste=!0,this.puntaje++,this.juegoTerminado=!0,I.default.fire({icon:"success",title:"\xA1Ganaste!",text:`Tu puntaje es: ${this.puntaje}`,timer:2e3,showConfirmButton:!1}),this.guardarPuntaje())}else this.intentosFallidos++,this.imagenActual=this.imagenesAhorcado[this.intentosFallidos],this.intentosFallidos>=this.maxIntentos&&(this.juegoTerminado=!0,I.default.fire({icon:"error",title:"Perdiste",text:`La palabra era: ${this.palabraSeleccionada}. Tu puntaje final es: ${this.puntaje}`,timer:2e3,showConfirmButton:!1}),this.guardarPuntaje())}guardarPuntaje(){this.usuario?this.puntajesService.savePuntaje(this.puntaje,this.usuario,"Ahorcado"):I.default.fire({icon:"error",title:"Error",text:"No se pudo guardar el puntaje. Debes estar logueado."})}reiniciarJuego(){this.juegoTerminado&&this.guardarPuntaje(),this.inicializarJuego()}static \u0275fac=function(t){return new(t||i)(p(P),p(x))};static \u0275cmp=_({type:i,selectors:[["app-ahorcado"]],decls:14,vars:8,consts:[[1,"juego-ahorcado"],[1,"puntaje-actual"],[1,"figura-ahorcado"],["alt","Ahorcado",3,"src"],[1,"contenedor-palabra"],[4,"ngFor","ngForOf"],[1,"teclado"],[3,"disabled","click",4,"ngFor","ngForOf"],["class","juego-terminado",4,"ngIf"],[3,"click",4,"ngIf"],[3,"click","disabled"],[1,"juego-terminado"],[4,"ngIf"],[3,"click"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"p"),s(3),o()(),a(4,"div",2),j(5,"img",3),a(6,"p"),s(7),o()(),a(8,"div",4),m(9,oe,2,1,"span",5),o(),a(10,"div",6),m(11,re,2,2,"button",7),o(),m(12,ue,3,2,"div",8)(13,le,2,0,"button",9),o()),t&2&&(r(3),f("Puntaje: ",n.puntaje,""),r(2),c("src",n.imagenActual,b),r(2),ee("Intentos fallidos: ",n.intentosFallidos,"/",n.maxIntentos,""),r(2),c("ngForOf",n.palabraMostrada),r(2),c("ngForOf",n.abecedario),r(),c("ngIf",n.juegoTerminado),r(),c("ngIf",n.juegoTerminado))},dependencies:[y,C],styles:['@charset "UTF-8";.juego-ahorcado[_ngcontent-%COMP%]{text-align:center;font-family:Arial,sans-serif}.juego-ahorcado[_ngcontent-%COMP%]   .figura-ahorcado[_ngcontent-%COMP%]{margin-bottom:20px}.juego-ahorcado[_ngcontent-%COMP%]   .figura-ahorcado[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.juego-ahorcado[_ngcontent-%COMP%]   .contenedor-palabra[_ngcontent-%COMP%]{margin-bottom:20px}.juego-ahorcado[_ngcontent-%COMP%]   .contenedor-palabra[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;margin:0 5px}.juego-ahorcado[_ngcontent-%COMP%]   .teclado[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,40px);gap:40px;justify-content:center;margin-top:20px}.juego-ahorcado[_ngcontent-%COMP%]   .juego-terminado[_ngcontent-%COMP%]{margin-top:20px;padding:10px 20px;font-size:18px;background-color:#4caf50;color:#fff;border:none;cursor:pointer}button[_ngcontent-%COMP%]{font-size:25px;text-align:center;padding:10px 30px;background-color:#09c709c7;border:1px solid #020000;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.puntaje[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#4caf50;margin-bottom:10px}']})};var H=T(k());var S=class i{constructor(e){this.http=e}imagenesApiUrl="https://api.pexels.com/v1/search?query=";apiKey="6ojPZ1Vpb0TxNCMimdqvCdGibmFuD9J0xCiS9wNtfyVLPqtfooBcqJ34";deckApiUrl="https://deckofcardsapi.com/api/deck/new/draw/?count=52";preguntas=[{pregunta:"\xBFQu\xE9 animal es conocido como el rey de la selva?",correct_answer:"Le\xF3n",incorrect_answers:["Tigre","Elefante","Jirafa"],imagen_clave:"lion"},{pregunta:"\xBFCu\xE1l es el mam\xEDfero terrestre m\xE1s grande?",correct_answer:"Elefante",incorrect_answers:["Rinoceronte","Hipop\xF3tamo","Jirafa"],imagen_clave:"elephant"},{pregunta:"\xBFQu\xE9 animal tiene una trompa?",correct_answer:"Elefante",incorrect_answers:["Jirafa","Tigre","Le\xF3n"],imagen_clave:"elephant"},{pregunta:"\xBFQu\xE9 ave es conocida por su capacidad de imitar sonidos?",correct_answer:"Loro",incorrect_answers:["Gaviota","Ping\xFCino","Avestruz"],imagen_clave:"parrot"},{pregunta:"\xBFQu\xE9 animal es famoso por su colorido plumaje?",correct_answer:"Pavo real",incorrect_answers:["Gallo","Gaviota","P\xE1jaro carpintero"],imagen_clave:"peacock"},{pregunta:"\xBFQu\xE9 animal vive en una colmena?",correct_answer:"Abeja",incorrect_answers:["Mariposa","Escarabajo","Mosquito"],imagen_clave:"bee"},{pregunta:"\xBFCu\xE1l es el pez m\xE1s grande del oc\xE9ano?",correct_answer:"Tibur\xF3n ballena",incorrect_answers:["Tibur\xF3n tigre","Delf\xEDn","Mero"],imagen_clave:"whale_shark"},{pregunta:"\xBFQu\xE9 animal es conocido por su caparaz\xF3n duro?",correct_answer:"Tortuga",incorrect_answers:["Rana","Lagarto","Cocodrilo"],imagen_clave:"turtle"}];obtenerImagenes(e){let t=new ie({Authorization:this.apiKey});return this.http.get(`${this.imagenesApiUrl}${e}`,{headers:t})}obtenerPreguntas(){return Z(this.preguntas)}obtenerCartas(){return this.http.get(this.deckApiUrl)}static \u0275fac=function(t){return new(t||i)(X(ne))};static \u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})};function pe(i,e){if(i&1&&j(0,"img",6),i&2){let t=u(2);c("src",t.cartaActual.image,b)}}function me(i,e){if(i&1){let t=v();a(0,"div")(1,"p"),s(2,"Carta actual:"),o(),m(3,pe,1,1,"img",4),a(4,"div",5)(5,"button",3),h("click",function(){d(t);let l=u();return g(l.adivinarMayor())}),s(6,"Mayor"),o(),a(7,"button",3),h("click",function(){d(t);let l=u();return g(l.adivinarMenor())}),s(8,"Menor"),o()()()}if(i&2){let t=u();r(3),c("ngIf",t.cartaActual)}}var z=class i{constructor(e,t,n){this.apiService=e;this.scoreService=t;this.authService=n}cartas=[];cartaActual=null;puntaje=0;juegoTerminado=!1;mensaje="";cargando=!1;usuario=null;ngOnInit(){this.iniciarJuego(),this.authService.getUser().subscribe(e=>{e&&(this.usuario=e.email)})}iniciarJuego(){this.puntaje=0,this.juegoTerminado=!1,this.mensaje="",this.cargando=!0,this.obtenerCartas()}obtenerCartas(){this.apiService.obtenerCartas().subscribe(e=>{this.cartas=e.cards,this.cartaActual=this.cartas.shift(),this.cargando=!1},e=>{console.error("Error al obtener las cartas:",e),this.mensaje="Error al obtener las cartas",this.cargando=!1})}adivinarMayor(){this.cargando=!0;let e=this.cartas.shift();this.convertirValor(this.cartaActual.value)<this.convertirValor(e.value)?(this.puntaje++,this.mensaje=`Correcto, ${e.value} es mayor que ${this.cartaActual.value}`):this.convertirValor(this.cartaActual.value)===this.convertirValor(e.value)?this.mensaje=`EMPATE, ${e.value} tiene el mismo valor que ${this.cartaActual.value}`:(this.mensaje=`Incorrecto, ${e.value} no es mayor que ${this.cartaActual.value}`,this.terminarJuego()),this.actualizarJuego(e),this.cargando=!1}adivinarMenor(){this.cargando=!0;let e=this.cartas.shift();this.convertirValor(this.cartaActual.value)>this.convertirValor(e.value)?(this.puntaje++,this.mensaje=`Correcto, ${e.value} es menor que ${this.cartaActual.value}`):this.convertirValor(this.cartaActual.value)===this.convertirValor(e.value)?this.mensaje=`EMPATE, ${e.value} tiene el mismo valor que ${this.cartaActual.value}`:(this.mensaje=`Incorrecto, ${e.value} no es menor que ${this.cartaActual.value}`,this.terminarJuego()),this.actualizarJuego(e),this.cargando=!1}convertirValor(e){return e==="ACE"?1:e==="JACK"?11:e==="QUEEN"?12:e==="KING"?13:parseInt(e,10)}actualizarJuego(e){this.juegoTerminado||(this.cartaActual=e,this.cartas.length===0&&this.terminarJuego())}terminarJuego(){this.juegoTerminado=!0,this.mensaje+=` El juego ha terminado. Puntuaci\xF3n final: ${this.puntaje}`,this.usuario?(this.scoreService.savePuntaje(this.puntaje,this.usuario,"Mayor o Menor"),H.default.fire({title:"Juego terminado",text:`Tu puntaje final es: ${this.puntaje}`,icon:"success"})):H.default.fire({title:"Error",text:"No se pudo guardar el puntaje. Debes estar logueado.",icon:"error"})}static \u0275fac=function(t){return new(t||i)(p(S),p(P),p(x))};static \u0275cmp=_({type:i,selectors:[["app-mayor-menor"]],decls:11,vars:3,consts:[[1,"juego-contenedor"],[4,"ngIf"],[1,"puntaje"],[3,"click"],["alt","Carta actual",3,"src",4,"ngIf"],[1,"boton-contenedor"],["alt","Carta actual",3,"src"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"h1"),s(2,"Juego de Mayor o Menor"),o(),m(3,me,9,1,"div",1),a(4,"p"),s(5),o(),a(6,"div",2)(7,"p"),s(8),o(),a(9,"button",3),h("click",function(){return n.iniciarJuego()}),s(10,"Reiniciar juego"),o()()()),t&2&&(r(3),c("ngIf",!n.juegoTerminado),r(2),M(n.mensaje),r(3),f("Puntuaci\xF3n: ",n.puntaje,""))},dependencies:[C],styles:[".juego-contenedor[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.juego-contenedor[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block}.juego-contenedor[_ngcontent-%COMP%]   .boton-contenedor[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}.juego-contenedor[_ngcontent-%COMP%]   .puntaje[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{margin:0 10px;padding:15px;font-size:18px;background-color:#29af0873;color:#fff;border-radius:5px;border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#245707}p[_ngcontent-%COMP%]{font-size:1.25em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-weight:700;margin-top:40px}"]})};var O=T(k());function de(i,e){if(i&1&&(a(0,"div"),j(1,"img",5),o()),i&2){let t=u(2);r(),c("src",t.imagenActual,b)}}function ge(i,e){if(i&1){let t=v();a(0,"li")(1,"button",6),h("click",function(){let l=d(t).$implicit,w=u(2);return g(w.seleccionarRespuesta(l))}),s(2),o()()}if(i&2){let t=e.$implicit;r(2),M(t)}}function he(i,e){if(i&1&&(a(0,"div",2)(1,"h2"),s(2),o(),m(3,de,2,1,"div",3),a(4,"ul"),m(5,ge,3,1,"li",4),o(),a(6,"p"),s(7),o()()),i&2){let t=u();r(2),M(t.preguntaActual==null?null:t.preguntaActual.pregunta),r(),c("ngIf",t.imagenActual),r(2),c("ngForOf",t.opciones),r(2),f("Puntaje: ",t.puntaje,"")}}function fe(i,e){if(i&1&&(a(0,"div",7)(1,"p"),s(2,"\xA1El juego ha terminado!"),o(),a(3,"p"),s(4),o()()),i&2){let t=u();r(4),f("Puntaje final: ",t.puntaje,"")}}var U=class i{constructor(e,t,n){this.apiService=e;this.puntajesService=t;this.authService=n}preguntas=[];copiaPreguntas=[];preguntaActual=null;opciones=[];imagenActual="";puntaje=0;juegoIniciado=!1;preguntasSubscription;usuario=null;ngOnInit(){this.inicializarJuego(),this.authService.getUser().subscribe(e=>{e&&(this.usuario=e.email)})}inicializarJuego(){this.puntaje=0,this.juegoIniciado=!1,this.cargarPreguntas()}cargarPreguntas(){this.preguntasSubscription=this.apiService.obtenerPreguntas().subscribe(e=>{console.log("Preguntas cargadas:",e),this.preguntas=e,this.copiaPreguntas=[...e],this.juegoIniciado=!0,this.imagenActual="",this.preguntas.length>0&&this.siguientePregunta()})}siguientePregunta(){this.preguntas.length>0?(this.preguntaActual=this.preguntas.shift(),this.opciones=[...this.preguntaActual.incorrect_answers,this.preguntaActual.correct_answer],this.opciones=this.shuffleArray(this.opciones),this.cargarImagen(this.preguntaActual.imagen_clave)):this.terminarJuego()}cargarImagen(e){console.log("Buscando imagen para el tema:",e),this.apiService.obtenerImagenes(e).subscribe(t=>{t.photos&&t.photos.length>0?this.imagenActual=t.photos[0].src.medium:this.imagenActual=""},t=>{console.error("Error al cargar imagen:",t),this.imagenActual=""})}seleccionarRespuesta(e){e===this.preguntaActual.correct_answer?(this.puntaje++,O.default.fire({icon:"success",title:"\xA1Respuesta correcta!",timer:1500,showConfirmButton:!1})):O.default.fire({icon:"error",title:"\xA1Respuesta incorrecta!",timer:1500,showConfirmButton:!1}),this.siguientePregunta()}terminarJuego(){this.guardarPuntaje(),O.default.fire({icon:"info",title:"Fin del juego",text:`Tu puntaje final es: ${this.puntaje}`,confirmButtonText:"Reiniciar"}).then(e=>{e.isConfirmed&&this.restartGame()})}restartGame(){this.puntaje=0,this.preguntaActual=null,this.opciones=[],this.imagenActual="",this.juegoIniciado=!1,this.preguntas=[...this.copiaPreguntas],this.preguntas.length>0&&(this.siguientePregunta(),this.juegoIniciado=!0)}shuffleArray(e){return e.sort(()=>Math.random()-.5)}guardarPuntaje(){this.usuario?this.puntajesService.savePuntaje(this.puntaje,this.usuario,"preguntados"):O.default.fire({icon:"error",title:"Error",text:"No se pudo guardar el puntaje. Debes estar logueado."})}ngOnDestroy(){this.preguntasSubscription&&this.preguntasSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(p(S),p(P),p(x))};static \u0275cmp=_({type:i,selectors:[["app-preguntados"]],decls:2,vars:2,consts:[["class","pregunta-contenedor",4,"ngIf"],["class","fin-juego-contenedor",4,"ngIf"],[1,"pregunta-contenedor"],[4,"ngIf"],[4,"ngFor","ngForOf"],["alt","Imagen relacionada",1,"imagen-pregunta",3,"src"],[3,"click"],[1,"fin-juego-contenedor"]],template:function(t,n){t&1&&m(0,he,8,4,"div",0)(1,fe,5,1,"div",1),t&2&&(c("ngIf",n.juegoIniciado),r(),c("ngIf",!n.juegoIniciado))},dependencies:[y,C],styles:['@charset "UTF-8";.pregunta-contenedor[_ngcontent-%COMP%], .fin-juego-contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;background-color:#f8f9fa;padding:40px;border-radius:10px;box-shadow:0 4px 10px #0000001a;max-height:50%;max-width:90%;margin:100px auto;overflow:hidden}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333;margin-bottom:20px}.imagen-pregunta[_ngcontent-%COMP%]{max-width:100%;height:60%;border-radius:8px;margin-bottom:20px}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;width:100%}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}button[_ngcontent-%COMP%]{background-color:#2ecc71cc;color:#fff;border:none;padding:12px 24px;font-size:18px;cursor:pointer;border-radius:5px;transition:background-color .3s ease,transform .2s ease;width:100%;max-width:400px}button[_ngcontent-%COMP%]:hover{background-color:#27ae60;transform:translateY(-2px)}.puntaje[_ngcontent-%COMP%]{margin-top:20px;font-size:22px;font-weight:700;color:#2c3e50}.fin-juego-contenedor[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}@media (max-width: 768px){.pregunta-contenedor[_ngcontent-%COMP%], .fin-juego-contenedor[_ngcontent-%COMP%]{padding:20px;margin:50px auto}h2[_ngcontent-%COMP%]{font-size:20px}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px}}@media (max-width: 480px){h2[_ngcontent-%COMP%]{font-size:18px}button[_ngcontent-%COMP%]{font-size:14px}}']})};var F=T(k());function ve(i,e){if(i&1){let t=v();a(0,"div",5),h("click",function(){let l=d(t).index,w=u();return g(w.seleccionarCarta(l))}),j(1,"img",6),o()}if(i&2){let t=e.$implicit;r(),c("src",t.volteada?t.image:"cartaVolteada.png",b)}}function _e(i,e){if(i&1){let t=v();a(0,"button",7),h("click",function(){d(t);let l=u();return g(l.empezarRonda())}),s(1," Empezar el juego "),o()}}function be(i,e){if(i&1){let t=v();a(0,"button",7),h("click",function(){d(t);let l=u();return g(l.guardarPuntaje())})("click",function(){d(t);let l=u();return g(l.resetearJuego())}),s(1," Reiniciar juego "),o()}}var N=class i{constructor(e,t,n){this.apiService=e;this.puntajesService=t;this.authService=n}cartas=[];secuencia=[];seleccionUsuario=[];rondaActual=1;mostrandoSecuencia=!1;mensaje="";juegoIniciado=!1;puntaje=0;vidas=3;usuario=null;ngOnInit(){this.iniciarJuego(),this.authService.getUser().subscribe(e=>{e&&(this.usuario=e.email)})}iniciarJuego(){this.apiService.obtenerCartas().subscribe(e=>{this.cartas=e.cards.slice(0,20).map(t=>Y(K({},t),{volteada:!1})),this.rondaActual=1,this.secuencia=[],this.seleccionUsuario=[],this.mensaje="",this.vidas=3,this.juegoIniciado=!0})}empezarRonda(){if(this.cartas.length===0||this.vidas<=0){this.terminarJuego();return}this.mostrandoSecuencia=!0,this.seleccionUsuario=[];let e;if(this.rondaActual===1)e=Math.floor(Math.random()*this.cartas.length);else do e=Math.floor(Math.random()*this.cartas.length);while(this.secuencia.includes(e));this.secuencia.push(e),this.mostrarSecuencia()}mostrarSecuencia(){return R(this,null,function*(){this.mostrandoSecuencia=!0;for(let e=0;e<this.secuencia.length;e++)this.voltearCarta(this.secuencia[e],!0),yield this.delay(1500),this.voltearCarta(this.secuencia[e],!1),yield this.delay(500);this.mostrandoSecuencia=!1})}delay(e){return new Promise(t=>setTimeout(t,e))}voltearCarta(e,t){e>=0&&e<this.cartas.length&&(this.cartas[e].volteada=t)}seleccionarCarta(e){this.mostrandoSecuencia||(this.seleccionUsuario.push(e),this.seleccionUsuario.length===this.secuencia.length&&this.verificarSeleccion())}verificarSeleccion(){return R(this,null,function*(){for(let e=0;e<this.seleccionUsuario.length;e++)if(this.seleccionUsuario[e]!==this.secuencia[e]){this.vidas--,this.mensaje=`\xA1Te has equivocado! Te quedan ${this.vidas} vidas.`,yield F.default.fire({icon:"error",title:"Error",text:this.mensaje}),this.vidas<=0?(this.guardarPuntaje(),this.resetearJuego()):this.resetearRonda();return}this.rondaActual++,this.puntaje++,this.mensaje=`\xA1Correcto! Iniciando ronda ${this.rondaActual}`,yield this.delay(1500),this.empezarRonda()})}resetearRonda(){this.seleccionUsuario=[],this.mensaje="",this.empezarRonda()}resetearJuego(){this.rondaActual=1,this.secuencia=[],this.seleccionUsuario=[],this.puntaje=0,this.vidas=3,this.cartas.forEach(e=>e.volteada=!1),setTimeout(()=>{this.iniciarJuego()},2e3)}guardarPuntaje(){this.usuario?this.puntajesService.savePuntaje(this.puntaje,this.usuario,"juego de cartas"):F.default.fire({icon:"error",title:"Error",text:"No se pudo guardar el puntaje. Debes estar logueado."})}terminarJuego(){this.mensaje="Fin del juego. Te quedaste sin vidas o se acabaron las cartas.",F.default.fire({icon:"info",title:"Juego terminado",text:this.mensaje}).then(()=>{this.resetearJuego()})}static \u0275fac=function(t){return new(t||i)(p(S),p(P),p(x))};static \u0275cmp=_({type:i,selectors:[["app-juego-cartas"]],decls:10,vars:5,consts:[[1,"cartas-grid"],["class","carta",3,"click",4,"ngFor","ngForOf"],[1,"botones-juego"],[3,"click",4,"ngIf"],[1,"mensaje-juego"],[1,"carta",3,"click"],["alt","Carta",3,"src"],[3,"click"]],template:function(t,n){t&1&&(a(0,"div",0),m(1,ve,2,1,"div",1),o(),a(2,"div",2),m(3,_e,2,0,"button",3)(4,be,2,0,"button",3),o(),a(5,"div",4)(6,"p"),s(7),o(),a(8,"p"),s(9),o()()),t&2&&(r(),c("ngForOf",n.cartas),r(2),c("ngIf",!n.juegoIniciado),r(),c("ngIf",n.juegoIniciado),r(3),M(n.mensaje),r(2),f("su puntaje es de: ",n.puntaje,""))},dependencies:[y,C],styles:[".cartas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;justify-items:center}.carta[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:150px;cursor:pointer}.botones-juego[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.botones-juego[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:15px 30px;font-size:1.2rem;background-color:#4caf50;color:#fff;border:none;border-radius:5px;transition:background-color .3s,color .3s;cursor:pointer}.botones-juego[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#388e3c;color:#e0e0e0}.mensaje-juego[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;color:red;text-align:center}"]})};var je=[{path:"ahorcado",component:V},{path:"mayor-menor",component:z},{path:"preguntados",component:U},{path:"juego-cartas",component:N}],$=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=J({type:i});static \u0275inj=E({imports:[D.forChild(je),D]})};var ae=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=J({type:i});static \u0275inj=E({imports:[te,$]})};export{ae as JuegosModule};
