var nR=Object.defineProperty,rR=Object.defineProperties;var iR=Object.getOwnPropertyDescriptors;var kI=Object.getOwnPropertySymbols,sR=Object.getPrototypeOf,oR=Object.prototype.hasOwnProperty,aR=Object.prototype.propertyIsEnumerable,cR=Reflect.get;var FI=(t,e,n)=>e in t?nR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})oR.call(e,n)&&FI(t,n,e[n]);if(kI)for(var n of kI(e))aR.call(e,n)&&FI(t,n,e[n]);return t},ue=(t,e)=>rR(t,iR(e));var ir=(t,e,n)=>cR(sR(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function LI(t,e){return Object.is(t,e)}var Ve=null,zc=!1,Gc=1,Cn=Symbol("SIGNAL");function pe(t){let e=Ve;return Ve=t,e}function VI(){return Ve}var jo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Zh(t){if(zc)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(t);let e=Ve.nextProducerIndex++;if(Yc(Ve),e<Ve.producerNode.length&&Ve.producerNode[e]!==t&&Vo(Ve)){let n=Ve.producerNode[e];Qc(n,Ve.producerIndexOfThis[e])}Ve.producerNode[e]!==t&&(Ve.producerNode[e]=t,Ve.producerIndexOfThis[e]=Vo(Ve)?$I(t,Ve,e):0),Ve.producerLastReadVersion[e]=t.version}function uR(){Gc++}function jI(t){if(!(Vo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gc)){if(!t.producerMustRecompute(t)&&!Xh(t)){t.dirty=!1,t.lastCleanEpoch=Gc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Gc}}function UI(t){if(t.liveConsumerNode===void 0)return;let e=zc;zc=!0;try{for(let n of t.liveConsumerNode)n.dirty||lR(n)}finally{zc=e}}function BI(){return Ve?.consumerAllowSignalWrites!==!1}function lR(t){t.dirty=!0,UI(t),t.consumerMarkedDirty?.(t)}function Kc(t){return t&&(t.nextProducerIndex=0),pe(t)}function Jh(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Vo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Qc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Xh(t){Yc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(jI(n),r!==n.version))return!0}return!1}function ef(t){if(Yc(t),Vo(t))for(let e=0;e<t.producerNode.length;e++)Qc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $I(t,e,n){if(HI(t),t.liveConsumerNode.length===0&&qI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=$I(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Qc(t,e){if(HI(t),t.liveConsumerNode.length===1&&qI(t))for(let r=0;r<t.producerNode.length;r++)Qc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Yc(i),i.producerIndexOfThis[r]=e}}function Vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Yc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function HI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function qI(t){return t.producerNode!==void 0}function zI(t){let e=Object.create(dR);e.computation=t;let n=()=>{if(jI(e),Zh(e),e.value===Wc)throw e.error;return e.value};return n[Cn]=e,n}var Qh=Symbol("UNSET"),Yh=Symbol("COMPUTING"),Wc=Symbol("ERRORED"),dR=ue(O({},jo),{value:Qh,dirty:!0,error:null,equal:LI,producerMustRecompute(t){return t.value===Qh||t.value===Yh},producerRecomputeValue(t){if(t.value===Yh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Yh;let n=Kc(t),r;try{r=t.computation()}catch(i){r=Wc,t.error=i}finally{Jh(t,n)}if(e!==Qh&&e!==Wc&&r!==Wc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function hR(){throw new Error}var GI=hR;function WI(){GI()}function KI(t){GI=t}var fR=null;function QI(t){let e=Object.create(ZI);e.value=t;let n=()=>(Zh(e),e.value);return n[Cn]=e,n}function tf(t,e){BI()||WI(),t.equal(t.value,e)||(t.value=e,pR(t))}function YI(t,e){BI()||WI(),tf(t,e(t.value))}var ZI=ue(O({},jo),{equal:LI,value:void 0});function pR(t){t.version++,uR(),UI(t),fR?.()}function X(t){return typeof t=="function"}function Bi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zc=Bi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function jr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof Zc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{JI(s)}catch(o){e=e??[],o instanceof Zc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Zc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)JI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&jr(n,e)}remove(e){let{_finalizers:n}=this;n&&jr(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var nf=Ne.EMPTY;function Jc(t){return t instanceof Ne||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function JI(t){X(t)?t():t.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $i={setTimeout(t,e,...n){let{delegate:r}=$i;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=$i;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xc(t){$i.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(t);else throw t})}function Uo(){}var XI=rf("C",void 0,void 0);function ew(t){return rf("E",void 0,t)}function tw(t){return rf("N",t,void 0)}function rf(t,e,n){return{kind:t,value:e,error:n}}var Ur=null;function Hi(t){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!Ur;if(e&&(Ur={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ur;if(Ur=null,n)throw r}}else t()}function nw(t){Ut.useDeprecatedSynchronousErrorHandling&&Ur&&(Ur.errorThrown=!0,Ur.error=t)}var Br=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jc(e)&&e.add(this)):this.destination=yR}static create(e,n,r){return new qi(e,n,r)}next(e){this.isStopped?of(tw(e),this):this._next(e)}error(e){this.isStopped?of(ew(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?of(XI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gR=Function.prototype.bind;function sf(t,e){return gR.call(t,e)}var af=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){eu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){eu(r)}else eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){eu(n)}}},qi=class extends Br{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ut.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sf(e.next,s),error:e.error&&sf(e.error,s),complete:e.complete&&sf(e.complete,s)}):i=e}this.destination=new af(i)}};function eu(t){Ut.useDeprecatedSynchronousErrorHandling?nw(t):Xc(t)}function mR(t){throw t}function of(t,e){let{onStoppedNotification:n}=Ut;n&&$i.setTimeout(()=>n(t,e))}var yR={closed:!0,next:Uo,error:mR,complete:Uo};var zi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function tu(...t){return cf(t)}function cf(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=_R(n)?n:new qi(n,r,i);return Hi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=rw(r),new r((i,s)=>{let o=new qi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[zi](){return this}pipe(...n){return cf(n)(this)}toPromise(n){return n=rw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function rw(t){var e;return(e=t??Ut.Promise)!==null&&e!==void 0?e:Promise}function vR(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function _R(t){return t&&t instanceof Br||vR(t)&&Jc(t)}function uf(t){return X(t?.lift)}function me(t){return e=>{if(uf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new lf(t,e,n,r,i)}var lf=class extends Br{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Gi(){return me((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Wi=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,uf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Gi()(this)}};var iw=Bi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new nu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new iw}next(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?nf:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,jr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new nu(e,n),t})(),nu=class extends He{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:nf}};var Ke=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var df={now(){return(df.delegate||Date).now()},delegate:void 0};var ru=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var Bo={setInterval(t,e,...n){let{delegate:r}=Bo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Bo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ki=class extends ru{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Bo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Bo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,jr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Qi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Qi.now=df.now;var Yi=class extends Qi{constructor(e,n=Qi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var hf=new Yi(Ki);var iu=class extends Ki{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var su=class extends Yi{};var ff=new su(iu);var Dt=new le(t=>t.complete());function sw(t){return t&&X(t.schedule)}function ow(t){return t[t.length-1]}function ou(t){return X(ow(t))?t.pop():void 0}function sr(t){return sw(ow(t))?t.pop():void 0}function pf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function aw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $r(t){return this instanceof $r?(this.v=t,this):new $r(t)}function uw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(M){return new Promise(function(R,F){s.push([v,M,R,F])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof $r?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function lw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof aw=="function"?aw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var au=t=>t&&typeof t.length=="number"&&typeof t!="function";function cu(t){return X(t?.then)}function uu(t){return X(t[zi])}function lu(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function du(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hu=IR();function fu(t){return X(t?.[hu])}function pu(t){return uw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield $r(n.read());if(i)return yield $r(void 0);yield yield $r(r)}}finally{n.releaseLock()}})}function gu(t){return X(t?.getReader)}function ke(t){if(t instanceof le)return t;if(t!=null){if(uu(t))return wR(t);if(au(t))return ER(t);if(cu(t))return DR(t);if(lu(t))return dw(t);if(fu(t))return CR(t);if(gu(t))return bR(t)}throw du(t)}function wR(t){return new le(e=>{let n=t[zi]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ER(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function DR(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xc)})}function CR(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function dw(t){return new le(e=>{TR(t,e).catch(n=>e.error(n))})}function bR(t){return dw(pu(t))}function TR(t,e){var n,r,i,s;return cw(this,void 0,void 0,function*(){try{for(n=lw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ht(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function or(t,e=0){return me((n,r)=>{n.subscribe(de(r,i=>ht(r,t,()=>r.next(i),e),()=>ht(r,t,()=>r.complete(),e),i=>ht(r,t,()=>r.error(i),e)))})}function ar(t,e=0){return me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hw(t,e){return ke(t).pipe(ar(e),or(e))}function fw(t,e){return ke(t).pipe(ar(e),or(e))}function pw(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function gw(t,e){return new le(n=>{let r;return ht(n,e,()=>{r=t[hu](),ht(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function mu(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{ht(n,e,()=>{let r=t[Symbol.asyncIterator]();ht(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mw(t,e){return mu(pu(t),e)}function yw(t,e){if(t!=null){if(uu(t))return hw(t,e);if(au(t))return pw(t,e);if(cu(t))return fw(t,e);if(lu(t))return mu(t,e);if(fu(t))return gw(t,e);if(gu(t))return mw(t,e)}throw du(t)}function Ae(t,e){return e?yw(t,e):ke(t)}function Y(...t){let e=sr(t);return Ae(t,e)}function Zi(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function gf(t){return!!t&&(t instanceof le||X(t.lift)&&X(t.subscribe))}var bn=Bi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return me((n,r)=>{let i=0;n.subscribe(de(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:SR}=Array;function AR(t,e){return SR(e)?t(...e):t(e)}function yu(t){return se(e=>AR(t,e))}var{isArray:RR}=Array,{getPrototypeOf:MR,prototype:NR,keys:xR}=Object;function vu(t){if(t.length===1){let e=t[0];if(RR(e))return{args:e,keys:null};if(PR(e)){let n=xR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function PR(t){return t&&typeof t=="object"&&MR(t)===NR}function _u(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Iu(...t){let e=sr(t),n=ou(t),{args:r,keys:i}=vu(t);if(r.length===0)return Ae([],e);let s=new le(OR(r,e,i?o=>_u(i,o):Et));return n?s.pipe(yu(n)):s}function OR(t,e,n=Et){return r=>{vw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)vw(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(de(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function vw(t,e,n){t?ht(n,t,e):e()}function _w(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let R=!1;ke(n(M,h++)).subscribe(de(e,F=>{i?.(F),s?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?ht(e,o,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(de(e,v,()=>{p=!0,m()})),()=>{a?.()}}function je(t,e,n=1/0){return X(e)?je((r,i)=>se((s,o)=>e(r,s,i,o))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),me((r,i)=>_w(r,i,t,n)))}function Ji(t=1/0){return je(Et,t)}function Iw(){return Ji(1)}function Xi(...t){return Iw()(Ae(t,sr(t)))}function wu(t){return new le(e=>{ke(t()).subscribe(e)})}function mf(...t){let e=ou(t),{args:n,keys:r}=vu(t),i=new le(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;ke(n[h]).subscribe(de(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?_u(r,a):a),s.complete())}))}});return e?i.pipe(yu(e)):i}function Rt(t,e){return me((n,r)=>{let i=0;n.subscribe(de(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cr(t){return me((e,n)=>{let r=null,i=!1,s;r=e.subscribe(de(n,void 0,void 0,o=>{s=ke(t(o,cr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ww(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(de(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function es(t,e){return X(e)?je(t,e,1):je(t,1)}function ur(t){return me((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tn(t){return t<=0?()=>Dt:me((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yf(t){return se(()=>t)}function Eu(t=kR){return me((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kR(){return new bn}function $o(t){return me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,s)=>t(i,s,r)):Et,Tn(1),n?ur(e):Eu(()=>new bn))}function ts(t){return t<=0?()=>Dt:me((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,s)=>t(i,s,r)):Et,ts(1),n?ur(e):Eu(()=>new bn))}function Du(t,e){return me(ww(t,e,arguments.length>=2,!0))}function Cu(...t){let e=sr(t);return me((n,r)=>{(e?Xi(t,n,e):Xi(t,n)).subscribe(r)})}function Bt(t,e){return me((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=s++;ke(t(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function _f(t){return me((e,n)=>{ke(t).subscribe(de(n,()=>n.complete(),Uo)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?me((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(de(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}var sE="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(bp(e,n)),this.code=e}};function bp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ea(t){return{toString:t}.toString()}var bu="__parameters__";function FR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function LR(t,e,n){return ea(()=>{let r=FR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(bu)?u[bu]:Object.defineProperty(u,bu,{value:[]})[bu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Pf=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function VR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ew(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var jR=De({__forward_ref__:De});function ni(t){return t.__forward_ref__=ni,t.toString=function(){return ft(this())},t}function dt(t){return oE(t)?t():t}function oE(t){return typeof t=="function"&&t.hasOwnProperty(jR)&&t.__forward_ref__===ni}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ri(t){return{providers:t.providers||[],imports:t.imports||[]}}function sl(t){return Dw(t,cE)||Dw(t,uE)}function aE(t){return sl(t)!==null}function Dw(t,e){return t.hasOwnProperty(e)?t[e]:null}function UR(t){let e=t&&(t[cE]||t[uE]);return e||null}function Cw(t){return t&&(t.hasOwnProperty(bw)||t.hasOwnProperty(BR))?t[bw]:null}var cE=De({\u0275prov:De}),bw=De({\u0275inj:De}),uE=De({ngInjectableDef:De}),BR=De({ngInjectorDef:De}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lE(t){return t&&!!t.\u0275providers}var $R=De({\u0275cmp:De}),HR=De({\u0275dir:De}),qR=De({\u0275pipe:De}),zR=De({\u0275mod:De}),Fu=De({\u0275fac:De}),zo=De({__NG_ELEMENT_ID__:De}),Tw=De({__NG_ENV_ID__:De});function ol(t){return typeof t=="string"?t:t==null?"":String(t)}function GR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ol(t)}function WR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Tp(t,e){throw new B(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),Of;function dE(){return Of}function Mt(t){let e=Of;return Of=t,e}function hE(t,e,n){let r=sl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;Tp(t,"Injector")}var KR={},Go=KR,kf="__NG_DI_FLAG__",Lu="ngTempTokenPath",QR="ngTokenPath",YR=/\n/gm,ZR="\u0275",Sw="__source",ss;function JR(){return ss}function lr(t){let e=ss;return ss=t,e}function XR(t,e=oe.Default){if(ss===void 0)throw new B(-203,!1);return ss===null?hE(t,void 0,e):ss.get(t,e&oe.Optional?null:void 0,e)}function ae(t,e=oe.Default){return(dE()||XR)(dt(t),e)}function k(t,e=oe.Default){return ae(t,al(e))}function al(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ff(t){let e=[];for(let n=0;n<t.length;n++){let r=dt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=tM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ae(i,s))}else e.push(ae(r))}return e}function eM(t,e){return t[kf]=e,t.prototype[kf]=e,t}function tM(t){return t[kf]}function nM(t,e,n,r){let i=t[Lu];throw e[Sw]&&i.unshift(e[Sw]),t.message=rM(`
`+t.message,i,n,r),t[QR]=i,t[Lu]=null,t}function rM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ZR?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ft(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(YR,`
  `)}`}var mt=eM(LR("Optional"),8);function as(t,e){let n=t.hasOwnProperty(Fu);return n?t[Fu]:null}function iM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function sM(t){return t.flat(Number.POSITIVE_INFINITY)}function Sp(t,e){t.forEach(n=>Array.isArray(n)?Sp(n,e):e(n))}function fE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function aM(t,e,n){let r=ta(t,e);return r>=0?t[r|1]=n:(r=~r,oM(t,r,e,n)),r}function If(t,e){let n=ta(t,e);if(n>=0)return t[n|1]}function ta(t,e){return cM(t,e,1)}function cM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var cs={},Nt=[],us=new j(""),pE=new j("",-1),gE=new j(""),ju=class{get(e,n=Go){if(n===Go){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}},mE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(mE||{}),tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(tn||{}),fr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(fr||{});function uM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Lf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];lM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function yE(t){return t===3||t===4||t===6}function lM(t){return t.charCodeAt(0)===64}function Wo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Aw(t,n,i,null,e[++r]):Aw(t,n,i,null,null))}}return t}function Aw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var vE="ng-template";function dM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ap(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ap(t){return t.type===4&&t.value!==vE}function hM(t,e,n){let r=t.type===4&&!n?vE:t.value;return e===r}function fM(t,e,n){let r=4,i=t.attrs,s=i!==null?mM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!$t(r)&&!$t(u))return!1;if(o&&$t(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!hM(t,u,n)||u===""&&e.length===1){if($t(r))return!1;o=!0}}else if(r&8){if(i===null||!dM(t,i,u,n)){if($t(r))return!1;o=!0}}else{let l=e[++a],h=pM(u,i,Ap(t),n);if(h===-1){if($t(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if($t(r))return!1;o=!0}}}}return $t(r)||o}function $t(t){return(t&1)===0}function pM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return yM(e,t)}function gM(t,e,n=!1){for(let r=0;r<e.length;r++)if(fM(t,e[r],n))return!0;return!1}function mM(t){for(let e=0;e<t.length;e++){let n=t[e];if(yE(n))return e}return t.length}function yM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Rw(t,e){return t?":not("+e.trim()+")":e}function vM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!$t(o)&&(e+=Rw(s,i),i=""),r=o,s=s||!$t(r);n++}return i!==""&&(e+=Rw(s,i)),e}function _M(t){return t.map(vM).join(",")}function IM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!$t(i))break;i=s}r++}return{attrs:e,classes:n}}function yt(t){return ea(()=>{let e=DE(t),n=ue(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||tn.Emulated,styles:t.styles||Nt,_:null,schemas:t.schemas||null,tView:null,id:""});CE(n);let r=t.dependencies;return n.directiveDefs=Nw(r,!1),n.pipeDefs=Nw(r,!0),n.id=DM(n),n})}function wM(t){return Gr(t)||_E(t)}function EM(t){return t!==null}function ii(t){return ea(()=>({type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Mw(t,e){if(t==null)return cs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=fr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==fr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function rt(t){return ea(()=>{let e=DE(t);return CE(e),e})}function Gr(t){return t[$R]||null}function _E(t){return t[HR]||null}function IE(t){return t[qR]||null}function wE(t){let e=Gr(t)||_E(t)||IE(t);return e!==null?e.standalone:!1}function EE(t,e){let n=t[zR]||null;if(!n&&e===!0)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function DE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||cs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mw(t.inputs,e),outputs:Mw(t.outputs),debugInfo:null}}function CE(t){t.features?.forEach(e=>e(t))}function Nw(t,e){if(!t)return null;let n=e?IE:wM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(EM)}function DM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function an(t){return{\u0275providers:t}}function CM(...t){return{\u0275providers:bE(!0,t),\u0275fromNgModule:!0}}function bE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Sp(e,o=>{let a=o;Vf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&TE(i,s),n}function TE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Rp(i,s=>{e(s,r)})}}function Vf(t,e,n,r){if(t=dt(t),!t)return!1;let i=null,s=Cw(t),o=!s&&Gr(t);if(!s&&!o){let u=t.ngModule;if(s=Cw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Vf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Sp(s.imports,h=>{Vf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&TE(l,e)}if(!a){let l=as(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nt},i),e({provide:gE,useValue:i,multi:!0},i),e({provide:us,useValue:()=>ae(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Rp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Rp(t,e){for(let n of t)lE(n)&&(n=n.\u0275providers),Array.isArray(n)?Rp(n,e):e(n)}var bM=De({provide:String,useValue:De});function SE(t){return t!==null&&typeof t=="object"&&bM in t}function TM(t){return!!(t&&t.useExisting)}function SM(t){return!!(t&&t.useFactory)}function ls(t){return typeof t=="function"}function AM(t){return!!t.useClass}var cl=new j(""),Mu={},RM={},wf;function Mp(){return wf===void 0&&(wf=new ju),wf}var Pt=class{},Ko=class extends Pt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uf(e,o=>this.processProvider(o)),this.records.set(pE,ns(void 0,this)),i.has("environment")&&this.records.set(Pt,ns(void 0,this));let s=this.records.get(cl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(gE,Nt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=lr(this),r=Mt(void 0),i;try{return e()}finally{lr(n),Mt(r)}}get(e,n=Go,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Tw))return e[Tw](this);r=al(r);let i,s=lr(this),o=Mt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=OM(e)&&sl(e);l&&this.injectableDefInScope(l)?u=ns(jf(e),Mu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?Mp():this.parent;return n=r&oe.Optional&&n===Go?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Lu]=a[Lu]||[]).unshift(ft(e)),s)throw a;return nM(a,e,"R3InjectorError",this.source)}else throw a}finally{Mt(o),lr(s)}}resolveInjectorInitializers(){let e=pe(null),n=lr(this),r=Mt(void 0),i;try{let s=this.get(us,Nt,oe.Self);for(let o of s)o()}finally{lr(n),Mt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=dt(e);let n=ls(e)?e:dt(e&&e.provide),r=NM(e);if(!ls(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ns(void 0,Mu,!0),i.factory=()=>Ff(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Mu&&(n.value=RM,n.value=n.factory()),typeof n.value=="object"&&n.value&&PM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=dt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jf(t){let e=sl(t),n=e!==null?e.factory:as(t);if(n!==null)return n;if(t instanceof j)throw new B(204,!1);if(t instanceof Function)return MM(t);throw new B(204,!1)}function MM(t){if(t.length>0)throw new B(204,!1);let n=UR(t);return n!==null?()=>n.factory(t):()=>new t}function NM(t){if(SE(t))return ns(void 0,t.useValue);{let e=AE(t);return ns(e,Mu)}}function AE(t,e,n){let r;if(ls(t)){let i=dt(t);return as(i)||jf(i)}else if(SE(t))r=()=>dt(t.useValue);else if(SM(t))r=()=>t.useFactory(...Ff(t.deps||[]));else if(TM(t))r=()=>ae(dt(t.useExisting));else{let i=dt(t&&(t.useClass||t.provide));if(xM(t))r=()=>new i(...Ff(t.deps));else return as(i)||jf(i)}return r}function ns(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xM(t){return!!t.deps}function PM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function OM(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Uf(t,e){for(let n of t)Array.isArray(n)?Uf(n,e):n&&lE(n)?Uf(n.\u0275providers,e):e(n)}function Nn(t,e){t instanceof Ko&&t.assertNotDestroyed();let n,r=lr(t),i=Mt(void 0);try{return e()}finally{lr(r),Mt(i)}}function kM(){return dE()!==void 0||JR()!=null}function FM(t){return typeof t=="function"}var xn=0,te=1,Q=2,nt=3,Ht=4,zt=5,Uu=6,Bu=7,qt=8,ds=9,nn=10,qe=11,Qo=12,xw=13,ys=14,rn=15,Wr=16,rs=17,Sn=18,ul=19,RE=20,dr=21,Ef=22,xt=23,sn=25,ME=1;var Kr=7,$u=8,hs=9,pt=10,Hu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hu||{});function hr(t){return Array.isArray(t)&&typeof t[ME]=="object"}function Pn(t){return Array.isArray(t)&&t[ME]===!0}function NE(t){return(t.flags&4)!==0}function ll(t){return t.componentOffset>-1}function Np(t){return(t.flags&1)===1}function pr(t){return!!t.template}function Bf(t){return(t[Q]&512)!==0}var $f=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function xE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function On(){return PE}function PE(t){return t.type.prototype.ngOnChanges&&(t.setInput=VM),LM}On.ngInherit=!0;function LM(){let t=kE(this),e=t?.current;if(e){let n=t.previous;if(n===cs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function VM(t,e,n,r,i){let s=this.declaredInputs[r],o=kE(t)||jM(t,{previous:cs,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new $f(l&&l.currentValue,n,u===cs),xE(t,e,i,n)}var OE="__ngSimpleChanges__";function kE(t){return t[OE]||null}function jM(t,e){return t[OE]=e}var Pw=null;var Xt=function(t,e,n){Pw?.(t,e,n)},UM="svg",BM="math";function on(t){for(;Array.isArray(t);)t=t[xn];return t}function FE(t,e){return on(e[t])}function Ot(t,e){return on(e[t.index])}function xp(t,e){return t.data[e]}function mr(t,e){let n=e[t];return hr(n)?n:n[xn]}function $M(t){return(t[Q]&4)===4}function Pp(t){return(t[Q]&128)===128}function HM(t){return Pn(t[nt])}function qu(t,e){return e==null?null:t[e]}function LE(t){t[rs]=0}function VE(t){t[Q]&1024||(t[Q]|=1024,Pp(t)&&hl(t))}function qM(t,e){for(;t>0;)e=e[ys],t--;return e}function dl(t){return!!(t[Q]&9216||t[xt]?.dirty)}function Hf(t){t[nn].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),dl(t)&&hl(t)}function hl(t){t[nn].changeDetectionScheduler?.notify(0);let e=Qr(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Pp(e)));)e=Qr(e)}function jE(t,e){if((t[Q]&256)===256)throw new B(911,!1);t[dr]===null&&(t[dr]=[]),t[dr].push(e)}function zM(t,e){if(t[dr]===null)return;let n=t[dr].indexOf(e);n!==-1&&t[dr].splice(n,1)}function Qr(t){let e=t[nt];return Pn(e)?e[nt]:e}var ge={lFrame:KE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var UE=!1;function GM(){return ge.lFrame.elementDepthCount}function WM(){ge.lFrame.elementDepthCount++}function KM(){ge.lFrame.elementDepthCount--}function BE(){return ge.bindingsEnabled}function QM(){return ge.skipHydrationRootTNode!==null}function YM(t){return ge.skipHydrationRootTNode===t}function ZM(){ge.skipHydrationRootTNode=null}function Ce(){return ge.lFrame.lView}function vt(){return ge.lFrame.tView}function it(){let t=$E();for(;t!==null&&t.type===64;)t=t.parent;return t}function $E(){return ge.lFrame.currentTNode}function JM(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function na(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function HE(){return ge.lFrame.isParent}function XM(){ge.lFrame.isParent=!1}function qE(){return UE}function Ow(t){UE=t}function eN(t){return ge.lFrame.bindingIndex=t}function fl(){return ge.lFrame.bindingIndex++}function tN(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nN(){return ge.lFrame.inI18n}function rN(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,qf(e)}function iN(){return ge.lFrame.currentDirectiveIndex}function qf(t){ge.lFrame.currentDirectiveIndex=t}function sN(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function zE(){return ge.lFrame.currentQueryIndex}function Op(t){ge.lFrame.currentQueryIndex=t}function oN(t){let e=t[te];return e.type===2?e.declTNode:e.type===1?t[zt]:null}function GE(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=oN(s),i===null||(s=s[ys],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ge.lFrame=WE();return r.currentTNode=e,r.lView=t,!0}function kp(t){let e=WE(),n=t[te];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function WE(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?KE(t):e}function KE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function QE(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var YE=QE;function Fp(){let t=QE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aN(t){return(ge.lFrame.contextLView=qM(t,ge.lFrame.contextLView))[qt]}function vs(){return ge.lFrame.selectedIndex}function Yr(t){ge.lFrame.selectedIndex=t}function ZE(){let t=ge.lFrame;return xp(t.tView,t.selectedIndex)}function cN(){return ge.lFrame.currentNamespace}var JE=!0;function Lp(){return JE}function Vp(t){JE=t}function uN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=PE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function jp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Nu(t,e,n){XE(t,e,3,n)}function xu(t,e,n,r){(t[Q]&3)===n&&XE(t,e,n,r)}function Df(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function XE(t,e,n,r){let i=r!==void 0?t[rs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[rs]+=65536),(a<s||s==-1)&&(lN(t,n,e,u),t[rs]=(t[rs]&4294901760)+u+2),u++}function kw(t,e){Xt(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Xt(5,t,e)}}function lN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[rs]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,kw(a,s)):kw(a,s)}var os=-1,Zr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function dN(t){return t instanceof Zr}function hN(t){return(t.flags&8)!==0}function fN(t){return(t.flags&16)!==0}var Cf={},zf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=al(r);let i=this.injector.get(e,Cf,r);return i!==Cf||n===Cf?i:this.parentInjector.get(e,n,r)}};function eD(t){return t!==os}function zu(t){return t&32767}function pN(t){return t>>16}function Gu(t,e){let n=pN(t),r=e;for(;n>0;)r=r[ys],n--;return r}var Gf=!0;function Fw(t){let e=Gf;return Gf=t,e}var gN=256,tD=gN-1,nD=5,mN=0,en={};function yN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(zo)&&(r=n[zo]),r==null&&(r=n[zo]=mN++);let i=r&tD,s=1<<i;e.data[t+(i>>nD)]|=s}function Wu(t,e){let n=rD(t,e);if(n!==-1)return n;let r=e[te];r.firstCreatePass&&(t.injectorIndex=e.length,bf(r.data,t),bf(e,null),bf(r.blueprint,null));let i=Up(t,e),s=t.injectorIndex;if(eD(i)){let o=zu(i),a=Gu(i,e),u=a[te].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function bf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Up(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=cD(i),r===null)return os;if(n++,i=i[ys],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return os}function Wf(t,e,n){yN(t,e,n)}function vN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(yE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function iD(t,e,n){if(n&oe.Optional||t!==void 0)return t;Tp(e,"NodeInjector")}function sD(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[ds],s=Mt(void 0);try{return i?i.get(e,r,n&oe.Optional):hE(e,r,n&oe.Optional)}finally{Mt(s)}}return iD(r,e,n)}function oD(t,e,n,r=oe.Default,i){if(t!==null){if(e[Q]&2048&&!(r&oe.Self)){let o=EN(t,e,n,r,en);if(o!==en)return o}let s=aD(t,e,n,r,en);if(s!==en)return s}return sD(e,n,r,i)}function aD(t,e,n,r,i){let s=IN(n);if(typeof s=="function"){if(!GE(e,t,r))return r&oe.Host?iD(i,n,r):sD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))Tp(n);else return o}finally{YE()}}else if(typeof s=="number"){let o=null,a=rD(t,e),u=os,l=r&oe.Host?e[rn][zt]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?Up(t,e):e[a+8],u===os||!Vw(r,!1)?a=-1:(o=e[te],a=zu(u),e=Gu(u,e)));a!==-1;){let h=e[te];if(Lw(s,a,h.data)){let p=_N(a,e,n,o,r,l);if(p!==en)return p}u=e[a+8],u!==os&&Vw(r,e[te].data[a+8]===l)&&Lw(s,a,e)?(o=h,a=zu(u),e=Gu(u,e)):a=-1}}return i}function _N(t,e,n,r,i,s){let o=e[te],a=o.data[t+8],u=r==null?ll(a)&&Gf:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,h=Pu(a,o,n,u,l);return h!==null?Jr(e,o,h,a):en}function Pu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&pr(v)&&v.type===n)return u}return null}function Jr(t,e,n,r){let i=t[n],s=e.data;if(dN(i)){let o=i;o.resolving&&WR(GR(s[n]));let a=Fw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Mt(o.injectImpl):null,h=GE(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&uN(n,s[n],e)}finally{l!==null&&Mt(l),Fw(a),o.resolving=!1,YE()}}return i}function IN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zo)?t[zo]:void 0;return typeof e=="number"?e>=0?e&tD:wN:e}function Lw(t,e,n){let r=1<<t;return!!(n[e+(t>>nD)]&r)}function Vw(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var zr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return oD(this._tNode,this._lView,e,al(r),n)}};function wN(){return new zr(it(),Ce())}function _s(t){return ea(()=>{let e=t.prototype.constructor,n=e[Fu]||Kf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Fu]||Kf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Kf(t){return oE(t)?()=>{let e=Kf(dt(t));return e&&e()}:as(t)}function EN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=aD(s,o,n,r|oe.Self,en);if(a!==en)return a;let u=s.parent;if(!u){let l=o[RE];if(l){let h=l.get(n,en,r);if(h!==en)return h}u=cD(o),o=o[ys]}s=u}return i}function cD(t){let e=t[te],n=e.type;return n===2?e.declTNode:n===1?t[zt]:null}function Bp(t){return vN(it(),t)}function jw(t,e=null,n=null,r){let i=uD(t,e,n,r);return i.resolveInjectorInitializers(),i}function uD(t,e=null,n=null,r,i=new Set){let s=[n||Nt,CM(t)];return r=r||(typeof t=="object"?void 0:ft(t)),new Ko(s,e||Mp(),r||null,i)}var Hr=class Hr{static create(e,n){if(Array.isArray(e))return jw({name:""},n,e,"");{let r=e.name??"";return jw({name:r},e.parent,e.providers,r)}}};Hr.THROW_IF_NOT_FOUND=Go,Hr.NULL=new ju,Hr.\u0275prov=G({token:Hr,providedIn:"any",factory:()=>ae(pE)}),Hr.__NG_ELEMENT_ID__=-1;var gt=Hr;var DN=new j("");DN.__NG_ELEMENT_ID__=t=>{let e=it();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new B(204,!1)};var CN="ngOriginalError";function Tf(t){return t[CN]}var lD=!0,dD=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Qf=class extends dD{constructor(e){super(),this._lView=e}onDestroy(e){return jE(this._lView,e),()=>zM(this._lView,e)}};function bN(){return new Qf(Ce())}var Is=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Yf=class extends He{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,kM()&&(this.destroyRef=k(dD,{optional:!0})??void 0,this.pendingTasks=k(Is,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=Yf;function Ku(...t){}function hD(t){let e,n;function r(){t=Ku;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Uw(t){return queueMicrotask(()=>t()),()=>{t=Ku}}var $p="isAngularZone",Qu=$p+"_ID",TN=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=lD}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,RN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($p)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,SN,Ku,Ku);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SN={};function Hp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){hD(()=>{t.callbackScheduled=!1,Zf(t),t.isCheckStableRunning=!0,Hp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Zf(t)}function RN(t){let e=()=>{AN(t)},n=TN++;t._inner=t._inner.fork({name:"angular",properties:{[$p]:!0,[Qu]:n,[Qu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(MN(u))return r.invokeTask(s,o,a,u);try{return Bw(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),$w(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return Bw(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!NN(u)&&e(),$w(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Zf(t),Hp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Zf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Bw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $w(t){t._nesting--,Hp(t)}var Jf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function MN(t){return fD(t,"__ignore_ng_zone__")}function NN(t){return fD(t,"__scheduler_tick__")}function fD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var An=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Tf(e);for(;n&&Tf(n);)n=Tf(n);return n||null}},xN=new j("",{providedIn:"root",factory:()=>{let t=k(we),e=k(An);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function PN(){return ws(it(),Ce())}function ws(t,e){return new kt(Ot(t,e))}var kt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=PN;let t=e;return t})();function ON(t){return t instanceof kt?t.nativeElement:t}function kN(){return this._results[Symbol.iterator]()}var Xf=class t{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=kN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=sM(e);(this._changesDetected=!iM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function pD(t){return(t.flags&128)===128}var gD=new Map,FN=0;function LN(){return FN++}function VN(t){gD.set(t[ul],t)}function ep(t){gD.delete(t[ul])}var Hw="__ngContext__";function Xr(t,e){hr(e)?(t[Hw]=e[ul],VN(e)):t[Hw]=e}function mD(t){return vD(t[Qo])}function yD(t){return vD(t[Ht])}function vD(t){for(;t!==null&&!Pn(t);)t=t[Ht];return t}var tp;function _D(t){tp=t}function jN(){if(tp!==void 0)return tp;if(typeof document<"u")return document;throw new B(210,!1)}var qp=new j("",{providedIn:"root",factory:()=>UN}),UN="ng",zp=new j(""),yr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Gp=new j("",{providedIn:"root",factory:()=>jN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BN="h",$N="b";var HN=()=>null;function Wp(t,e,n=!1){return HN(t,e,n)}var ID=!1,qN=new j("",{providedIn:"root",factory:()=>ID});var Tu;function zN(){if(Tu===void 0&&(Tu=null,Pf.trustedTypes))try{Tu=Pf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tu}function qw(t){return zN()?.createScriptURL(t)||t}var Yu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sE})`}};function ra(t){return t instanceof Yu?t.changingThisBreaksApplicationSecurity:t}function Kp(t,e){let n=GN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${sE})`)}return n===e}function GN(t){return t instanceof Yu&&t.getTypeName()||null}var WN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wD(t){return t=String(t),t.match(WN)?t:"unsafe:"+t}var pl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pl||{});function KN(t){let e=DD();return e?e.sanitize(pl.URL,t)||"":Kp(t,"URL")?ra(t):wD(ol(t))}function QN(t){let e=DD();if(e)return qw(e.sanitize(pl.RESOURCE_URL,t)||"");if(Kp(t,"ResourceURL"))return qw(ra(t));throw new B(904,!1)}function YN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?QN:KN}function ED(t,e,n){return YN(e,n)(t)}function DD(){let t=Ce();return t&&t[nn].sanitizer}function CD(t){return t instanceof Function?t():t}var Rn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Rn||{}),ZN;function Qp(t,e){return ZN(t,e)}function is(t,e,n,r,i){if(r!=null){let s,o=!1;Pn(r)?s=r:hr(r)&&(o=!0,r=r[xn]);let a=on(r);t===0&&n!==null?i==null?AD(e,n,a):Ju(e,n,a,i||null,!0):t===1&&n!==null?Ju(e,n,a,i||null,!0):t===2?hx(e,a,o):t===3&&e.destroyNode(a),s!=null&&px(e,t,s,n,i)}}function JN(t,e){return t.createText(e)}function XN(t,e,n){t.setValue(e,n)}function bD(t,e,n){return t.createElement(e,n)}function ex(t,e){TD(t,e),e[xn]=null,e[zt]=null}function tx(t,e,n,r,i,s){r[xn]=i,r[zt]=e,gl(t,r,n,1,i,s)}function TD(t,e){e[nn].changeDetectionScheduler?.notify(9),gl(t,e,e[qe],2,null,null)}function nx(t){let e=t[Qo];if(!e)return Sf(t[te],t);for(;e;){let n=null;if(hr(e))n=e[Qo];else{let r=e[pt];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)hr(e)&&Sf(e[te],e),e=e[nt];e===null&&(e=t),hr(e)&&Sf(e[te],e),n=e&&e[Ht]}e=n}}function rx(t,e,n,r){let i=pt+r,s=n.length;r>0&&(n[i-1][Ht]=e),r<s-pt?(e[Ht]=n[i],fE(n,pt+r,e)):(n.push(e),e[Ht]=null),e[nt]=n;let o=e[Wr];o!==null&&n!==o&&SD(o,e);let a=e[Sn];a!==null&&a.insertView(t),Hf(e),e[Q]|=128}function SD(t,e){let n=t[hs],r=e[nt];if(hr(r))t[Q]|=Hu.HasTransplantedViews;else{let i=r[nt][rn];e[rn]!==i&&(t[Q]|=Hu.HasTransplantedViews)}n===null?t[hs]=[e]:n.push(e)}function Yp(t,e){let n=t[hs],r=n.indexOf(e);n.splice(r,1)}function Zu(t,e){if(t.length<=pt)return;let n=pt+e,r=t[n];if(r){let i=r[Wr];i!==null&&i!==t&&Yp(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let s=Vu(t,pt+e);ex(r[te],r);let o=s[Sn];o!==null&&o.detachView(s[te]),r[nt]=null,r[Ht]=null,r[Q]&=-129}return r}function Zp(t,e){if(!(e[Q]&256)){let n=e[qe];n.destroyNode&&gl(t,e,n,3,null,null),nx(e)}}function Sf(t,e){if(e[Q]&256)return;let n=pe(null);try{e[Q]&=-129,e[Q]|=256,e[xt]&&ef(e[xt]),sx(t,e),ix(t,e),e[te].type===1&&e[qe].destroy();let r=e[Wr];if(r!==null&&Pn(e[nt])){r!==e[nt]&&Yp(r,e);let i=e[Sn];i!==null&&i.detachView(t)}ep(e)}finally{pe(n)}}function ix(t,e){let n=t.cleanup,r=e[Bu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Bu]=null);let i=e[dr];if(i!==null){e[dr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function sx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Zr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Xt(4,a,u);try{u.call(a)}finally{Xt(5,a,u)}}else{Xt(4,i,s);try{s.call(i)}finally{Xt(5,i,s)}}}}}function ox(t,e,n){return ax(t,e.parent,n)}function ax(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===tn.None||s===tn.Emulated)return null}return Ot(r,n)}}function Ju(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AD(t,e,n){t.appendChild(e,n)}function zw(t,e,n,r,i){r!==null?Ju(t,e,n,r,i):AD(t,e,n)}function RD(t,e){return t.parentNode(e)}function cx(t,e){return t.nextSibling(e)}function ux(t,e,n){return dx(t,e,n)}function lx(t,e,n){return t.type&40?Ot(t,n):null}var dx=lx,Gw;function Jp(t,e,n,r){let i=ox(t,r,e),s=e[qe],o=r.parent||e[zt],a=ux(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)zw(s,i,n[u],a,!1);else zw(s,i,n,a,!1);Gw!==void 0&&Gw(s,r,e,n,i)}function Ho(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return np(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ho(t,r);{let i=t[e.index];return Pn(i)?np(-1,i):on(i)}}else{if(n&128)return Ho(t,e.next);if(n&32)return Qp(e,t)()||on(t[e.index]);{let r=MD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qr(t[rn]);return Ho(i,r)}else return Ho(t,e.next)}}}return null}function MD(t,e){if(e!==null){let r=t[rn][zt],i=e.projection;return r.projection[i]}return null}function np(t,e){let n=pt+t+1;if(n<e.length){let r=e[n],i=r[te].firstChild;if(i!==null)return Ho(r,i)}return e[Kr]}function hx(t,e,n){t.removeChild(null,e,n)}function Xp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Xr(on(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Xp(t,e,n.child,r,i,s,!1),is(e,t,i,a,s);else if(u&32){let l=Qp(n,r),h;for(;h=l();)is(e,t,i,h,s);is(e,t,i,a,s)}else u&16?fx(t,e,r,n,i,s):is(e,t,i,a,s);n=o?n.projectionNext:n.next}}function gl(t,e,n,r,i,s){Xp(n,r,t.firstChild,e,i,s,!1)}function fx(t,e,n,r,i,s){let o=n[rn],u=o[zt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];is(e,t,i,h,s)}else{let l=u,h=o[nt];pD(r)&&(l.flags|=128),Xp(t,e,l,h,i,s,!0)}}function px(t,e,n,r,i){let s=n[Kr],o=on(n);s!==o&&is(e,t,r,s,i);for(let a=pt;a<n.length;a++){let u=n[a];gl(u[te],u,t,e,r,s)}}function gx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Rn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Rn.Important),t.setStyle(n,r,i,s))}}function mx(t,e,n){t.setAttribute(e,"style",n)}function ND(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Lf(t,e,r),i!==null&&ND(t,e,i),s!==null&&mx(t,e,s)}var si={};function cn(t=1){PD(vt(),Ce(),vs()+t,!1)}function PD(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Nu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&xu(e,s,0,n)}Yr(n)}function re(t,e=oe.Default){let n=Ce();if(n===null)return ae(t,e);let r=it();return oD(r,n,dt(t),e)}function OD(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&fr.SignalBased&&(a=e[r][Cn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&fr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):xE(e,a,r,s)}finally{pe(o)}}function yx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yr(~i);else{let s=i,o=n[++r],a=n[++r];rN(o,s);let u=e[s];a(2,u)}}}finally{Yr(-1)}}function ml(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[xn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),LE(p),p[nt]=p[ys]=t,p[qt]=n,p[nn]=o||t&&t[nn],p[qe]=a||t&&t[qe],p[ds]=u||t&&t[ds]||null,p[zt]=s,p[ul]=LN(),p[Uu]=h,p[RE]=l,p[rn]=e.type==2?t[rn]:p,p}function yl(t,e,n,r,i){let s=t.data[e];if(s===null)s=vx(t,e,n,r,i),nN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=JM();s.injectorIndex=o===null?-1:o.injectorIndex}return na(s,!0),s}function vx(t,e,n,r,i){let s=$E(),o=HE(),a=o?s:s&&s.parent,u=t.data[e]=Cx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function kD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function FD(t,e,n,r,i){let s=vs(),o=r&2;try{Yr(-1),o&&e.length>sn&&PD(t,e,sn,!1),Xt(o?2:0,i),n(r,i)}finally{Yr(s),Xt(o?3:1,i)}}function LD(t,e,n){if(NE(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function VD(t,e,n){BE()&&(Nx(t,e,n,Ot(n,e)),(n.flags&64)===64&&HD(t,e,n))}function jD(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function UD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=eg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function eg(t,e,n,r,i,s,o,a,u,l,h){let p=sn+r,m=p+i,v=_x(p,m),S=typeof l=="function"?l():l;return v[te]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function _x(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:si);return n}function Ix(t,e,n,r){let s=r.get(qN,ID)||n===tn.ShadowDom,o=t.selectRootElement(e,s);return wx(o),o}function wx(t){Ex(t)}var Ex=()=>null;function Dx(t,e,n,r){let i=GD(e);i.push(n),t.firstCreatePass&&WD(t).push(r,i.length-1)}function Cx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return QM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ww(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=fr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Kw(r,n,l,a,u):Kw(r,n,l,a)}return r}function Kw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function bx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=Ww(0,p.inputs,h,u,v),l=Ww(1,p.outputs,h,l,S);let M=u!==null&&o!==null&&!Ap(e)?$x(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Tx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Sx(t,e,n,r,i,s,o,a){let u=Ot(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(tg(t,n,h,r,i),ll(e)&&Ax(n,e.index)):e.type&3?(r=Tx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function Ax(t,e){let n=mr(e,t);n[Q]&16||(n[Q]|=64)}function BD(t,e,n,r){if(BE()){let i=r===null?null:{"":-1},s=Px(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&$D(t,e,n,o,i,a),i&&Ox(n,r,i)}n.mergedAttrs=Wo(n.mergedAttrs,n.attrs)}function $D(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Wf(Wu(n,e),t,r[l].type);Fx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=kD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Wo(n.mergedAttrs,h.hostAttrs),Lx(t,n,e,u,h),kx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}bx(t,n,s)}function Rx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Mx(o)!=a&&o.push(a),o.push(n,r,s)}}function Mx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Nx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ll(n)&&Vx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wu(n,e),Xr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Jr(e,t,a,n);if(Xr(l,e),o!==null&&Bx(e,a-i,l,u,n,o),pr(u)){let h=mr(n.index,e);h[qt]=Jr(e,t,a,n)}}}function HD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=iN();try{Yr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];qf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&xx(u,l)}}finally{Yr(-1),qf(o)}}function xx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Px(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(gM(e,o.selectors,!1))if(r||(r=[]),pr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;rp(t,e,u)}else r.unshift(o),rp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function rp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ox(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function kx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pr(e)&&(n[""]=t)}}function Fx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Lx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=as(i.type,!0)),o=new Zr(s,pr(i),re);t.blueprint[r]=o,n[r]=o,Rx(t,e,r,kD(t,n,i.hostVars,si),i)}function Vx(t,e,n){let r=Ot(e,t),i=UD(n),s=t[nn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=vl(t,ml(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function jx(t,e,n,r,i,s){let o=Ot(t,e);Ux(e[qe],o,s,t.value,n,r,i)}function Ux(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ol(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Bx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];OD(r,n,u,l,h,p)}}function $x(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function qD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function zD(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Op(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function vl(t,e){return t[Qo]?t[xw][Ht]=e:t[Qo]=e,t[xw]=e,e}function ip(t,e,n){Op(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function GD(t){return t[Bu]??=[]}function WD(t){return t.cleanup??=[]}function KD(t,e){let n=t[ds],r=n?n.get(An,null):null;r&&r.handleError(e)}function tg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];OD(h,l,r,a,u,i)}}function Hx(t,e,n){let r=FE(e,t);XN(t[qe],r,n)}function qx(t,e){let n=mr(e,t),r=n[te];zx(r,n);let i=n[xn];i!==null&&n[Uu]===null&&(n[Uu]=Wp(i,n[ds])),ng(r,n,n[qt])}function zx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ng(t,e,n){kp(e);try{let r=t.viewQuery;r!==null&&ip(1,r,n);let i=t.template;i!==null&&FD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Sn]?.finishViewCreation(t),t.staticContentQueries&&zD(t,e),t.staticViewQueries&&ip(2,t.viewQuery,n);let s=t.components;s!==null&&Gx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Fp()}}function Gx(t,e){for(let n=0;n<e.length;n++)qx(t,e[n])}function QD(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[Q]&4096?4096:16,u=ml(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Wr]=l;let h=t[Sn];return h!==null&&(u[Sn]=h.createEmbeddedView(s)),ng(s,u,n),u}finally{pe(i)}}function Wx(t,e){let n=pt+e;if(n<t.length)return t[n]}function sp(t,e){return!e||e.firstChild===null||pD(t)}function YD(t,e,n,r=!0){let i=e[te];if(rx(i,e,t,n),r){let o=np(n,t),a=e[qe],u=RD(a,t[Kr]);u!==null&&tx(i,t[zt],a,e,u,o)}let s=e[Uu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Kx(t,e){let n=Zu(t,e);return n!==void 0&&Zp(n[te],n),n}function Xu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(on(s)),Pn(s)&&Qx(s,r);let o=n.type;if(o&8)Xu(t,e,n.child,r);else if(o&32){let a=Qp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=MD(e,n);if(Array.isArray(a))r.push(...a);else{let u=Qr(e[rn]);Xu(u[te],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Qx(t,e){for(let n=pt;n<t.length;n++){let r=t[n],i=r[te].firstChild;i!==null&&Xu(r[te],r,i,e)}t[Kr]!==t[xn]&&e.push(t[Kr])}var ZD=[];function Yx(t){return t[xt]??Zx(t)}function Zx(t){let e=ZD.pop()??Object.create(Xx);return e.lView=t,e}function Jx(t){t.lView[xt]!==t&&(t.lView=null,ZD.push(t))}var Xx=ue(O({},jo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hl(t.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function eP(t){let e=t[xt]??Object.create(tP);return e.lView=t,e}var tP=ue(O({},jo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Qr(t.lView);for(;e&&!JD(e[te]);)e=Qr(e);e&&VE(e)},consumerOnSignalRead(){this.lView[xt]=this}});function JD(t){return t.type!==2}var nP=100;function XD(t,e=!0,n=0){let r=t[nn],i=r.rendererFactory,s=!1;s||i.begin?.();try{rP(t,n)}catch(o){throw e&&KD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function rP(t,e){let n=qE();try{Ow(!0),op(t,e);let r=0;for(;dl(t);){if(r===nP)throw new B(103,!1);r++,op(t,1)}}finally{Ow(n)}}function iP(t,e,n,r){let i=e[Q];if((i&256)===256)return;let s=!1,o=!1;!s&&e[nn].inlineEffectRunner?.flush(),kp(e);let a=!0,u=null,l=null;s||(JD(t)?(l=Yx(e),u=Kc(l)):VI()===null?(a=!1,l=eP(e),u=Kc(l)):e[xt]&&(ef(e[xt]),e[xt]=null));try{LE(e),eN(t.bindingStartIndex),n!==null&&FD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&Nu(e,v,null)}else{let v=t.preOrderHooks;v!==null&&xu(e,v,0,null),Df(e,0)}if(o||sP(e),eC(e,0),t.contentQueries!==null&&zD(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&Nu(e,v)}else{let v=t.contentHooks;v!==null&&xu(e,v,1),Df(e,1)}yx(t,e);let p=t.components;p!==null&&nC(e,p,0);let m=t.viewQuery;if(m!==null&&ip(2,m,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&Nu(e,v)}else{let v=t.viewHooks;v!==null&&xu(e,v,2),Df(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ef]){for(let v of e[Ef])v();e[Ef]=null}s||(e[Q]&=-73)}catch(h){throw s||hl(e),h}finally{l!==null&&(Jh(l,u),a&&Jx(l)),Fp()}}function eC(t,e){for(let n=mD(t);n!==null;n=yD(n))for(let r=pt;r<n.length;r++){let i=n[r];tC(i,e)}}function sP(t){for(let e=mD(t);e!==null;e=yD(e)){if(!(e[Q]&Hu.HasTransplantedViews))continue;let n=e[hs];for(let r=0;r<n.length;r++){let i=n[r];VE(i)}}}function oP(t,e,n){let r=mr(e,t);tC(r,n)}function tC(t,e){Pp(t)&&op(t,e)}function op(t,e){let r=t[te],i=t[Q],s=t[xt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Xh(s)),o||=!1,s&&(s.dirty=!1),t[Q]&=-9217,o)iP(r,t,r.template,t[qt]);else if(i&8192){eC(t,1);let a=r.components;a!==null&&nC(t,a,1)}}function nC(t,e,n){for(let r=0;r<e.length;r++)oP(t,e[r],n)}function rg(t,e){let n=qE()?64:1088;for(t[nn].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=Qr(t);if(Bf(t)&&!r)return t;t=r}return null}var ei=class{get rootNodes(){let e=this._lView,n=e[te];return Xu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Pn(e)){let n=e[$u],r=n?n.indexOf(this):-1;r>-1&&(Zu(e,r),Vu(n,r))}this._attachedToViewContainer=!1}Zp(this._lView[te],this._lView)}onDestroy(e){jE(this._lView,e)}markForCheck(){rg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Hf(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,XD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bf(this._lView),n=this._lView[Wr];n!==null&&!e&&Yp(n,this._lView),TD(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Bf(this._lView),r=this._lView[Wr];r!==null&&!n&&SD(r,this._lView),Hf(this._lView)}},Yo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uP;let t=e;return t})(),aP=Yo,cP=class extends aP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=QD(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ei(i)}};function uP(){return ig(it(),Ce())}function ig(t,e){return t.type&4?new cP(e,t,ws(t,e)):null}var p3=new RegExp(`^(\\d+)*(${$N}|${BN})*(.*)`);var lP=()=>null;function ap(t,e){return lP(t,e)}var fs=class{},sg=new j("",{providedIn:"root",factory:()=>!1});var rC=new j(""),iC=new j(""),cp=class{},el=class{};function dP(t){let e=Error(`No component factory found for ${ft(t)}.`);return e[hP]=t,e}var hP="ngComponent";var up=class{resolveComponentFactory(e){throw dP(e)}},mg=class mg{};mg.NULL=new up;var ps=mg,gs=class{},vr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>fP();let t=e;return t})();function fP(){let t=Ce(),e=it(),n=mr(e.index,t);return(hr(n)?n:t)[qe]}var pP=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function lp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Ew(i,a);else if(s==2){let u=a,l=e[++o];r=Ew(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var tl=class extends ps{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gr(e);return new Zo(n,this.ngModule)}};function Qw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:fr.None;e?n.push({propName:o,templateName:r,isSignal:(a&fr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function gP(t){let e=t.toLowerCase();return e==="svg"?UM:e==="math"?BM:null}var Zo=class extends el{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Qw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Qw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=_M(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof Pt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new zf(e,o):e,u=a.get(gs,null);if(u===null)throw new B(407,!1);let l=a.get(pP,null),h=a.get(fs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?Ix(m,r,this.componentDef.encapsulation,a):bD(m,v,gP(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=Wp(S,a,!0));let F=eg(0,null,null,1,0,null,null,null,null,null,null),U=ml(null,F,null,M,null,null,p,m,a,null,R);kp(U);let q,ce,Re=null;try{let J=this.componentDef,D,y=null;J.findHostDirectiveDefs?(D=[],y=new Map,J.findHostDirectiveDefs(J,D,y),D.push(J)):D=[J];let _=mP(U,S);Re=yP(_,S,J,D,U,p,m),ce=xp(F,sn),S&&IP(m,J,S,r),n!==void 0&&wP(ce,this.ngContentSelectors,n),q=_P(Re,J,D,y,U,[EP]),ng(F,U,null)}catch(J){throw Re!==null&&ep(Re),ep(U),J}finally{Fp()}return new dp(this.componentType,q,ws(ce,U),U,ce)}finally{pe(s)}}},dp=class extends cp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ei(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;tg(s[te],s,i,e,n),this.previousInputValues.set(e,n);let o=mr(this._tNode.index,s);rg(o,1)}}get injector(){return new zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mP(t,e){let n=t[te],r=sn;return t[r]=e,yl(n,r,2,"#host",null)}function yP(t,e,n,r,i,s,o){let a=i[te];vP(r,t,e,o);let u=null;e!==null&&(u=Wp(e,i[ds]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=ml(i,UD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&rp(a,t,r.length-1),vl(i,p),i[t.index]=p}function vP(t,e,n,r){for(let i of t)e.mergedAttrs=Wo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(lp(e,e.mergedAttrs,!0),n!==null&&xD(r,n,e))}function _P(t,e,n,r,i,s){let o=it(),a=i[te],u=Ot(o,i);$D(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=Jr(i,a,p,o);Xr(m,i)}HD(a,i,o),u&&Xr(u,i);let l=Jr(i,a,o.directiveStart+o.componentOffset,o);if(t[qt]=i[qt]=l,s!==null)for(let h of s)h(l,e);return LD(a,o,i),l}function IP(t,e,n,r){if(r)Lf(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:s}=IM(e.selectors[0]);i&&Lf(t,n,i),s&&s.length>0&&ND(t,n,s.join(" "))}}function wP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function EP(){let t=it();jp(Ce()[te],t)}var Es=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DP;let t=e;return t})();function DP(){let t=it();return oC(t,Ce())}var CP=Es,sC=class extends CP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ws(this._hostTNode,this._hostLView)}get injector(){return new zr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Up(this._hostTNode,this._hostLView);if(eD(e)){let n=Gu(e,this._hostLView),r=zu(e),i=n[te].data[r+8];return new zr(i,n)}else return new zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Yw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=ap(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,sp(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!FM(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Zo(Gr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(Pt,null);M&&(s=M)}let h=Gr(u.componentType??{}),p=ap(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,sp(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(HM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[nt],l=new sC(u,u[zt],u[nt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return YD(o,i,s,r),e.attachToViewContainerRef(),fE(Af(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Yw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Zu(this._lContainer,n);r&&(Vu(Af(this._lContainer),n),Zp(r[te],r))}detach(e){let n=this._adjustIndex(e,-1),r=Zu(this._lContainer,n);return r&&Vu(Af(this._lContainer),n)!=null?new ei(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Yw(t){return t[$u]}function Af(t){return t[$u]||(t[$u]=[])}function oC(t,e){let n,r=e[t.index];return Pn(r)?n=r:(n=qD(r,e,null,t),e[t.index]=n,vl(e,n)),TP(n,e,t,r),new sC(n,t,e)}function bP(t,e){let n=t[qe],r=n.createComment(""),i=Ot(e,t),s=RD(n,i);return Ju(n,s,r,cx(n,i),!1),r}var TP=RP,SP=()=>!1;function AP(t,e,n){return SP(t,e,n)}function RP(t,e,n,r){if(t[Kr])return;let i;n.type&8?i=on(r):i=bP(e,n),t[Kr]=i}var hp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},fp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)og(e,n).matches!==null&&this.queries[n].setDirty()}},pp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=LP(e):this.predicate=e}},gp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},mp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,MP(n,s)),this.matchTNodeWithReadOption(e,n,Pu(n,e,s,!1,!1))}else r===Yo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Pu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===kt||i===Es||i===Yo&&n.type&4)this.addMatch(n.index,-2);else{let s=Pu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function MP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function NP(t,e){return t.type&11?ws(t,e):t.type&4?ig(t,e):null}function xP(t,e,n,r){return n===-1?NP(e,t):n===-2?PP(t,e,r):Jr(t,t[te],n,e)}function PP(t,e,n){if(n===kt)return ws(e,t);if(n===Yo)return ig(e,t);if(n===Es)return oC(e,t)}function aC(t,e,n,r){let i=e[Sn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(xP(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function yp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=aC(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=pt;p<h.length;p++){let m=h[p];m[Wr]===m[nt]&&yp(m[te],m,l,r)}if(h[hs]!==null){let p=h[hs];for(let m=0;m<p.length;m++){let v=p[m];yp(v[te],v,l,r)}}}}}return r}function OP(t,e){return t[Sn].queries[e].queryList}function kP(t,e,n){let r=new Xf((n&4)===4);return Dx(t,e,r,r.destroy),(e[Sn]??=new fp).queries.push(new hp(r))-1}function FP(t,e,n,r){let i=vt();if(i.firstCreatePass){let s=it();VP(i,new pp(e,n,r),s.index),jP(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return kP(i,Ce(),n)}function LP(t){return t.split(",").map(e=>e.trim())}function VP(t,e,n){t.queries===null&&(t.queries=new gp),t.queries.track(new mp(e,n))}function jP(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function og(t,e){return t.queries.getByIndex(e)}function UP(t,e){let n=t[te],r=og(n,e);return r.crossesNgTemplate?yp(n,t,e,[]):aC(n,t,r,e)}var Zw=new Set;function Ds(t){Zw.has(t)||(Zw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function BP(t){return typeof t=="function"&&t[Cn]!==void 0}function ia(t,e){Ds("NgSignals");let n=QI(t),r=n[Cn];return e?.equal&&(r.equal=e.equal),n.set=i=>tf(r,i),n.update=i=>YI(r,i),n.asReadonly=$P.bind(n),n}function $P(){let t=this[Cn];if(t.readonlyFn===void 0){let e=()=>this();e[Cn]=t,t.readonlyFn=e}return t.readonlyFn}function cC(t){return BP(t)&&typeof t.set=="function"}function HP(t){return Object.getPrototypeOf(t.prototype).constructor}function kn(t){let e=HP(t.type),n=!0,r=[t];for(;e;){let i;if(pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Su(t.inputs),o.inputTransforms=Su(t.inputTransforms),o.declaredInputs=Su(t.declaredInputs),o.outputs=Su(t.outputs);let a=i.hostBindings;a&&KP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&GP(t,u),l&&WP(t,l),qP(t,i),VR(t.outputs,i.outputs),pr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===kn&&(n=!1)}}e=Object.getPrototypeOf(e)}zP(r)}function qP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function zP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wo(i.hostAttrs,n=Wo(n,i.hostAttrs))}}function Su(t){return t===cs?{}:t===Nt?[]:t}function GP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function WP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function KP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ag(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var gr=class{},Jo=class{};var vp=class extends gr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tl(this);let s=EE(e);this._bootstrapComponents=CD(s.bootstrap),this._r3Injector=uD(e,n,[{provide:gr,useValue:this},{provide:ps,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_p=class extends Jo{constructor(e){super(),this.moduleType=e}create(e){return new vp(this.moduleType,e,[])}};var nl=class extends gr{constructor(e){super(),this.componentFactoryResolver=new tl(this),this.instance=null;let n=new Ko([...e.providers,{provide:gr,useValue:this},{provide:ps,useValue:this.componentFactoryResolver}],e.parent||Mp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cg(t,e,n=null){return new nl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function sa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function QP(t){return(t.flags&32)===32}function YP(t,e,n,r,i,s,o,a,u){let l=e.consts,h=yl(e,t,4,o||null,a||null);BD(e,n,h,qu(l,u)),jp(e,h);let p=h.tView=eg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function ZP(t,e,n,r,i,s,o,a,u,l){let h=n+sn,p=e.firstCreatePass?YP(h,e,t,r,i,s,o,a,u):e.data[h];na(p,!1);let m=JP(e,t,p,n);Lp()&&Jp(e,t,m,p),Xr(m,t);let v=qD(m,t,m,p);return t[h]=v,vl(t,v),AP(v,p,t),Np(p)&&VD(e,t,p),u!=null&&jD(t,p,l),p}function ug(t,e,n,r,i,s,o,a){let u=Ce(),l=vt(),h=qu(l.consts,s);return ZP(u,l,t,e,n,r,i,h,o,a),ug}var JP=XP;function XP(t,e,n,r){return Vp(!0),e[qe].createComment("")}var qo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qo||{}),eO=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),qr=class qr{constructor(){this.ngZone=k(we),this.scheduler=k(fs),this.errorHandler=k(An,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of qr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};qr.PHASES=[qo.EarlyRead,qo.Write,qo.MixedReadWrite,qo.Read],qr.\u0275prov=G({token:qr,providedIn:"root",factory:()=>new qr});var Jw=qr;function oa(t,e,n,r){let i=Ce(),s=fl();if(sa(i,s,e)){let o=vt(),a=ZE();jx(a,i,t,e,n,r)}return oa}function tO(t,e,n,r){return sa(t,fl(),n)?e+ol(n)+r:si}function Au(t,e){return t<<17|e<<2}function ti(t){return t>>17&32767}function nO(t){return(t&2)==2}function rO(t,e){return t&131071|e<<17}function Ip(t){return t|2}function ms(t){return(t&131068)>>2}function Rf(t,e){return t&-131069|e<<2}function iO(t){return(t&1)===1}function wp(t){return t|1}function sO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ti(o),u=ms(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ta(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ti(t[a+1]);t[r+1]=Au(m,a),m!==0&&(t[m+1]=Rf(t[m+1],r)),t[a+1]=rO(t[a+1],r)}else t[r+1]=Au(a,0),a!==0&&(t[a+1]=Rf(t[a+1],r)),a=r;else t[r+1]=Au(u,0),a===0?a=r:t[u+1]=Rf(t[u+1],r),u=r;l&&(t[r+1]=Ip(t[r+1])),Xw(t,h,r,!0),Xw(t,h,r,!1),oO(e,h,t,r,s),o=Au(a,u),s?e.classBindings=o:e.styleBindings=o}function oO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ta(s,e)>=0&&(n[r+1]=wp(n[r+1]))}function Xw(t,e,n,r){let i=t[n+1],s=e===null,o=r?ti(i):ms(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];aO(u,e)&&(a=!0,t[o+1]=r?wp(l):Ip(l)),o=r?ti(l):ms(l)}a&&(t[n+1]=r?Ip(i):wp(i))}function aO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ta(t,e)>=0:!1}function eE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";tg(t,n,s[o],o,r)}function _l(t,e){return cO(t,e,null,!0),_l}function cO(t,e,n,r){let i=Ce(),s=vt(),o=tN(2);if(s.firstUpdatePass&&lO(s,t,o,r),e!==si&&sa(i,o,e)){let a=s.data[vs()];gO(s,a,i,i[qe],t,i[o+1]=mO(e,n),r,o)}}function uO(t,e){return e>=t.expandoStartIndex}function lO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[vs()],o=uO(t,n);yO(s,r)&&e===null&&!o&&(e=!1),e=dO(i,s,e,r),sO(i,s,e,n,o,r)}}function dO(t,e,n,r){let i=sN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Mf(null,t,e,n,r),n=Xo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Mf(i,t,e,n,r),s===null){let u=hO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Mf(null,t,e,u[1],r),u=Xo(u,e.attrs,r),fO(t,e,r,u))}else s=pO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function hO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ms(r)!==0)return t[ti(r)]}function fO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ti(i)]=r}function pO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Xo(r,o,n)}return Xo(r,e.attrs,n)}function Mf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Xo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Xo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),aM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function gO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=iO(l)?tE(u,e,n,i,ms(l),o):void 0;if(!rl(h)){rl(s)||nO(l)&&(s=tE(u,null,n,i,a,o));let p=FE(vs(),n);gx(r,o,p,i,s)}}function tE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===si&&(m=p?Nt:void 0);let v=p?If(m,r):h===r?m:void 0;if(l&&!rl(v)&&(v=If(u,r)),rl(v)&&(a=v,o))return a;let S=t[i+1];i=o?ti(S):ms(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=If(u,r))}return a}function rl(t){return t!==void 0}function mO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ft(ra(t)))),t}function yO(t,e){return(t.flags&(e?8:16))!==0}function lg(t,e){Ds("NgControlFlow");let n=Ce(),r=fl(),i=n[r]!==si?n[r]:-1,s=i!==-1?nE(n,sn+i):void 0,o=0;if(sa(n,r,t)){let a=pe(null);try{if(s!==void 0&&Kx(s,o),t!==-1){let u=sn+t,l=nE(n,u),h=vO(n[te],u),p=ap(l,h.tView.ssrId),m=QD(n,h,e,{dehydratedView:p});YD(l,m,o,sp(h,p))}}finally{pe(a)}}else if(s!==void 0){let a=Wx(s,o);a!==void 0&&(a[qt]=e)}}function nE(t,e){return t[e]}function vO(t,e){return xp(t,e)}function _O(t,e,n,r,i,s){let o=e.consts,a=qu(o,i),u=yl(e,t,2,r,a);return BD(e,n,u,qu(o,s)),u.attrs!==null&&lp(u,u.attrs,!1),u.mergedAttrs!==null&&lp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function $(t,e,n,r){let i=Ce(),s=vt(),o=sn+t,a=i[qe],u=s.firstCreatePass?_O(o,s,i,e,n,r):s.data[o],l=IO(s,i,u,a,e,t);i[o]=l;let h=Np(u);return na(u,!0),xD(a,l,u),!QP(u)&&Lp()&&Jp(s,i,l,u),GM()===0&&Xr(l,i),WM(),h&&(VD(s,i,u),LD(s,u,i)),r!==null&&jD(i,u),$}function z(){let t=it();HE()?XM():(t=t.parent,na(t,!1));let e=t;YM(e)&&ZM(),KM();let n=vt();return n.firstCreatePass&&(jp(n,t),NE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&hN(e)&&eE(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&fN(e)&&eE(n,e,Ce(),e.stylesWithoutHost,!1),z}function Qe(t,e,n,r){return $(t,e,n,r),z(),Qe}var IO=(t,e,n,r,i,s)=>(Vp(!0),bD(r,i,cN()));var il="en-US";var wO=il;function EO(t){typeof t=="string"&&(wO=t.toLowerCase().replace(/_/g,"-"))}var DO=(t,e,n)=>{};function _t(t,e,n,r){let i=Ce(),s=vt(),o=it();return uC(s,i,i[qe],o,t,e,r),_t}function CO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Bu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function uC(t,e,n,r,i,s,o){let a=Np(r),l=t.firstCreatePass&&WD(t),h=e[qt],p=GD(e),m=!0;if(r.type&3||o){let M=Ot(r,e),R=o?o(M):M,F=p.length,U=o?ce=>o(on(ce[r.index])):r.index,q=null;if(!o&&a&&(q=CO(t,e,i,r.index)),q!==null){let ce=q.__ngLastListenerFn__||q;ce.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,m=!1}else{s=iE(r,e,h,s),DO(M,i,s);let ce=n.listen(R,i,s);p.push(s,ce),l&&l.push(i,U,F,F+1)}}else s=iE(r,e,h,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],U=S[R+1],Re=e[F][U].subscribe(s),J=p.length;p.push(s,Re),l&&l.push(i,r.index,J,-(J+1))}}}function rE(t,e,n,r){let i=pe(null);try{return Xt(6,e,n),n(r)!==!1}catch(s){return KD(t,s),!1}finally{Xt(7,e,n),pe(i)}}function iE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?mr(t.index,e):e;rg(o,5);let a=rE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=rE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function dg(t=1){return aN(t)}function lC(t,e,n,r){FP(t,e,n,r)}function dC(t){let e=Ce(),n=vt(),r=zE();Op(r+1);let i=og(n,r);if(t.dirty&&$M(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=UP(e,r);t.reset(s,ON),t.notifyOnChanges()}return!0}return!1}function hC(){return OP(Ce(),zE())}function ee(t,e=""){let n=Ce(),r=vt(),i=t+sn,s=r.firstCreatePass?yl(r,i,1,e,null):r.data[i],o=bO(r,n,s,e,t);n[i]=o,Lp()&&Jp(r,n,o,s),na(s,!1)}var bO=(t,e,n,r,i)=>(Vp(!0),JN(e[qe],r));function hg(t){return Il("",t,""),hg}function Il(t,e,n){let r=Ce(),i=tO(r,t,e,n);return i!==si&&Hx(r,vs(),i),Il}function oi(t,e,n){cC(e)&&(e=e());let r=Ce(),i=fl();if(sa(r,i,e)){let s=vt(),o=ZE();Sx(s,o,r,t,e,r[qe],n,!1)}return oi}function Cs(t,e){let n=cC(t);return n&&t.set(e),n}function ai(t,e){let n=Ce(),r=vt(),i=it();return uC(r,n,n[qe],i,t,e),ai}function TO(t,e,n){let r=vt();if(r.firstCreatePass){let i=pr(t);Ep(n,r.data,r.blueprint,i,!0),Ep(e,r.data,r.blueprint,i,!1)}}function Ep(t,e,n,r,i){if(t=dt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ep(t[s],e,n,r,i);else{let s=vt(),o=Ce(),a=it(),u=ls(t)?t:dt(t.provide),l=AE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ls(t)||!t.multi){let v=new Zr(l,i,re),S=xf(u,e,i?h:h+m,p);S===-1?(Wf(Wu(a,o),s,u),Nf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=xf(u,e,h+m,p),S=xf(u,e,h,h+m),M=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!M){Wf(Wu(a,o),s,u);let F=RO(i?AO:SO,n.length,i,r,l);!i&&R&&(n[S].providerFactory=F),Nf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=fC(n[i?S:v],l,!i&&r);Nf(s,t,v>-1?v:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function Nf(t,e,n,r){let i=ls(e),s=AM(e);if(i||s){let u=(s?dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function fC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SO(t,e,n,r){return Dp(this.multi,[])}function AO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Jr(n,n[te],this.providerFactory.index,r);s=a.slice(0,o),Dp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Dp(i,s);return s}function Dp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function RO(t,e,n,r,i){let s=new Zr(t,n,re);return s.multi=[],s.index=e,s.componentProviders=0,fC(s,i,r&&!n),s}function aa(t,e=[]){return n=>{n.providersResolver=(r,i)=>TO(r,i?i(t):t,e)}}var MO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=bE(!1,r.type),s=i.length>0?cg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(ae(Pt))});let t=e;return t})();function It(t){Ds("NgStandalone"),t.getStandaloneInjector=e=>e.get(MO).getOrCreateStandaloneInjector(t)}var Mn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},pC=new Mn("18.2.4");var wl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var gC=new j("");function ci(t){return!!t&&typeof t.then=="function"}function mC(t){return!!t&&typeof t.subscribe=="function"}var yC=new j(""),vC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(yC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ci(o))r.push(o);else if(mC(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fg=new j("");function NO(){KI(()=>{throw new B(600,!1)})}function xO(t){return t.isBoundToModule}var PO=10;function OO(t,e,n){try{let r=n();return ci(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ui=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(xN),this.afterRenderManager=k(eO),this.zonelessEnabled=k(sg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new He,this.afterTick=new He,this.componentTypes=[],this.components=[],this.isStable=k(Is).hasPendingTasks.pipe(se(r=>!r)),this._injector=k(Pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof el;if(!this._injector.get(vC).done){let v=!s&&wE(r),S=!1;throw new B(405,S)}let a;s?a=r:a=this._injector.get(ps).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=xO(a)?void 0:this._injector.get(gr),l=i||a.selector,h=a.create(gt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(gC,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Ou(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let r=pe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,pe(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(gs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<PO;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)kO(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>dl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ou(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(fg,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ou(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ou(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kO(t,e,n,r){if(!n&&!dl(t))return;XD(t,e,n&&!r?0:1)}var Cp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},pg=(()=>{let e=class e{compileModuleSync(r){return new _p(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=EE(r),o=CD(s.declarations).reduce((a,u)=>{let l=Gr(u);return l&&a.push(new Zo(l)),a},[]);return new Cp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FO=(()=>{let e=class e{constructor(){this.zone=k(we),this.changeDetectionScheduler=k(fs),this.applicationRef=k(ui)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LO=new j("",{factory:()=>!1});function _C({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(ue(O({},wC()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:us,multi:!0,useFactory:()=>{let r=k(FO,{optional:!0});return()=>r.initialize()}},{provide:us,multi:!0,useFactory:()=>{let r=k(VO);return()=>{r.initialize()}}},e===!0?{provide:rC,useValue:!0}:[],{provide:iC,useValue:n??lD}]}function IC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=_C({ngZoneFactory:()=>{let i=wC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ds("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return an([{provide:LO,useValue:!0},{provide:sg,useValue:!1},r])}function wC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VO=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(Is)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jO=(()=>{let e=class e{constructor(){this.appRef=k(ui),this.taskService=k(Is),this.ngZone=k(we),this.zonelessEnabled=k(sg),this.disableScheduling=k(rC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(iC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Uw:hD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Uw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UO(){return typeof $localize<"u"&&$localize.locale||il}var gg=new j("",{providedIn:"root",factory:()=>k(gg,oe.Optional|oe.SkipSelf)||UO()});var EC=new j("");function Ru(t){return!!t.platformInjector}function BO(t){let e=Ru(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Ru(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(An,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Ru(t)){let s=()=>e.destroy(),o=t.platformInjector.get(EC);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Ou(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return OO(r,n,()=>{let s=e.get(vC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(gg,il);if(EO(o||il),Ru(t)){let a=e.get(ui);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return $O(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function $O(t,e){let n=t.injector.get(ui);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var ku=null;function HO(t=[],e){return gt.create({name:e,providers:[{provide:cl,useValue:"platform"},{provide:EC,useValue:new Set([()=>ku=null])},...t]})}function qO(t=[]){if(ku)return ku;let e=HO(t);return ku=e,NO(),zO(e),e}function zO(t){t.get(zp,null)?.forEach(n=>n())}var _r=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GO;let t=e;return t})();function GO(t){return WO(it(),Ce(),(t&16)===16)}function WO(t,e,n){if(ll(t)&&!n){let r=mr(t.index,e);return new ei(r,r)}else if(t.type&175){let r=e[rn];return new ei(r,e)}return null}function DC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=qO(r),s=[_C({}),{provide:fs,useExisting:jO},...n||[]],o=new nl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return BO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var CC=new j("");function Ir(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ca(t,e){Ds("NgSignals");let n=zI(t);return e?.equal&&(n[Cn].equal=e.equal),n}function Fn(t){let e=pe(null);try{return t()}finally{pe(e)}}var SC=null;function Ln(){return SC}function AC(t){SC??=t}var El=class{};var Ct=new j(""),RC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(KO),providedIn:"platform"});let t=e;return t})();var KO=(()=>{let e=class e extends RC{constructor(){super(),this._doc=k(Ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ln().getBaseHref(this._doc)}onPopState(r){let i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function MC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function bC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function li(t){return t&&t[0]!=="?"?"?"+t:t}var bs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(NC),providedIn:"root"});let t=e;return t})(),QO=new j(""),NC=(()=>{let e=class e extends bs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return MC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+li(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+li(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+li(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ae(RC),ae(QO,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ua=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=JO(bC(TC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+li(i))}normalize(r){return e.stripTrailingSlash(ZO(this._basePath,TC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+li(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+li(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=li,e.joinWithSlash=MC,e.stripTrailingSlash=bC,e.\u0275fac=function(i){return new(i||e)(ae(bs))},e.\u0275prov=G({token:e,factory:()=>YO(),providedIn:"root"});let t=e;return t})();function YO(){return new ua(ae(bs))}function ZO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function TC(t){return t.replace(/\/index.html$/,"")}function JO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function xC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var la=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ii({type:e}),e.\u0275inj=ri({});let t=e;return t})(),PC="browser",XO="server";function yg(t){return t===XO}var Dl=class{};var Ig=class extends El{constructor(){super(...arguments),this.supportsDOMEvents=!0}},wg=class t extends Ig{static makeCurrent(){AC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tk();return n==null?null:nk(n)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xC(document.cookie,e)}},da=null;function tk(){return da=da||document.querySelector("base"),da?da.getAttribute("href"):null}function nk(t){return new URL(t,document.baseURI).pathname}var rk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Cl=new j(""),LC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ae(Cl),ae(we))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),ha=class{constructor(e){this._doc=e}},vg="ng-app-id",VC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${vg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(vg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(vg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ae(Ct),ae(qp),ae(Gp,8),ae(yr))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),_g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dg=/%COMP%/g,jC="%COMP%",ik=`_nghost-${jC}`,sk=`_ngcontent-${jC}`,ok=!0,ak=new j("",{providedIn:"root",factory:()=>ok});function ck(t){return sk.replace(Dg,t)}function uk(t){return ik.replace(Dg,t)}function UC(t,e){return e.map(n=>n.replace(Dg,t))}var OC=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=yg(u),this.defaultRenderer=new fa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===tn.ShadowDom&&(i=ue(O({},i),{encapsulation:tn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof bl?s.applyToHost(r):s instanceof pa&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case tn.Emulated:o=new bl(l,h,i,this.appId,p,a,u,m);break;case tn.ShadowDom:return new Eg(l,h,r,i,a,u,this.nonce,m);default:o=new pa(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ae(LC),ae(VC),ae(qp),ae(ak),ae(Ct),ae(yr),ae(we),ae(Gp))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),fa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_g[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(kC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(kC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=_g[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=_g[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Rn.DashCase|Rn.Important)?e.style.setProperty(n,r,i&Rn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Rn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ln().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function kC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Eg=class extends fa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=UC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pa=class extends fa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?UC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bl=class extends pa{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=ck(l),this.hostAttr=uk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},lk=(()=>{let e=class e extends ha{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),dk=(()=>{let e=class e extends ha{constructor(r){super(r),this.delegate=k(CC,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),FC=["alt","control","meta","shift"],hk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},pk=(()=>{let e=class e extends ha{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ln().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),FC.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=hk[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),FC.forEach(a=>{if(a!==s){let u=fk[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function BC(t,e){return DC(O({rootComponent:t},gk(e)))}function gk(t){return{appProviders:[...Ik,...t?.providers??[]],platformProviders:_k}}function mk(){wg.makeCurrent()}function yk(){return new An}function vk(){return _D(document),document}var _k=[{provide:yr,useValue:PC},{provide:zp,useValue:mk,multi:!0},{provide:Ct,useFactory:vk,deps:[]}];var Ik=[{provide:cl,useValue:"root"},{provide:An,useFactory:yk,deps:[]},{provide:Cl,useClass:lk,multi:!0,deps:[Ct,we,yr]},{provide:Cl,useClass:pk,multi:!0,deps:[Ct]},{provide:Cl,useClass:dk,multi:!0},OC,VC,LC,{provide:gs,useExisting:OC},{provide:Dl,useClass:rk,deps:[]},[]];var $C=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ie="primary",Ma=Symbol("RouteTitle"),Ag=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ns(t){return new Ag(t)}function Ek(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Dk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}function un(t,e){let n=t?Rg(t):void 0,r=e?Rg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!YC(t[i],e[i]))return!1;return!0}function Rg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function YC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ZC(t){return t.length>0?t[t.length-1]:null}function wr(t){return gf(t)?t:ci(t)?Ae(Promise.resolve(t)):Y(t)}var Ck={exact:XC,subset:eb},JC={exact:bk,subset:Tk,ignored:()=>!0};function HC(t,e,n){return Ck[n.paths](t.root,e.root,n.matrixParams)&&JC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bk(t,e){return un(t,e)}function XC(t,e,n){if(!hi(t.segments,e.segments)||!Al(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!XC(t.children[r],e.children[r],n))return!1;return!0}function Tk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>YC(t[n],e[n]))}function eb(t,e,n){return tb(t,e,e.segments,n)}function tb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hi(i,n)||e.hasChildren()||!Al(i,n,r))}else if(t.segments.length===n.length){if(!hi(t.segments,n)||!Al(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!eb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!hi(t.segments,i)||!Al(t.segments,i,r)||!t.children[ie]?!1:tb(t.children[ie],e,s,r)}}function Al(t,e,n){return e.every((r,i)=>JC[n](t[i].parameters,r.parameters))}var jn=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ns(this.queryParams),this._queryParamMap}toString(){return Rk.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rl(this)}},di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ns(this.parameters),this._parameterMap}toString(){return rb(this)}};function Sk(t,e){return hi(t,e)&&t.every((n,r)=>un(n.parameters,e[r].parameters))}function hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Ak(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var tm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new wa,providedIn:"root"});let t=e;return t})(),wa=class{parse(e){let n=new Ng(e);return new jn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ga(e.root,!0)}`,r=xk(e.queryParams),i=typeof e.fragment=="string"?`#${Mk(e.fragment)}`:"";return`${n}${r}${i}`}},Rk=new wa;function Rl(t){return t.segments.map(e=>rb(e)).join("/")}function ga(t,e){if(!t.hasChildren())return Rl(t);if(e){let n=t.children[ie]?ga(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${ga(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Ak(t,(r,i)=>i===ie?[ga(t.children[ie],!1)]:[`${i}:${ga(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${Rl(t)}/${n[0]}`:`${Rl(t)}/(${n.join("//")})`}}function nb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tl(t){return nb(t).replace(/%3B/gi,";")}function Mk(t){return encodeURI(t)}function Mg(t){return nb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ml(t){return decodeURIComponent(t)}function qC(t){return Ml(t.replace(/\+/g,"%20"))}function rb(t){return`${Mg(t.path)}${Nk(t.parameters)}`}function Nk(t){return Object.entries(t).map(([e,n])=>`;${Mg(e)}=${Mg(n)}`).join("")}function xk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Tl(n)}=${Tl(i)}`).join("&"):`${Tl(n)}=${Tl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Pk=/^[^\/()?;#]+/;function Cg(t){let e=t.match(Pk);return e?e[0]:""}var Ok=/^[^\/()?;=#]+/;function kk(t){let e=t.match(Ok);return e?e[0]:""}var Fk=/^[^=?&#]+/;function Lk(t){let e=t.match(Fk);return e?e[0]:""}var Vk=/^[^&#]+/;function jk(t){let e=t.match(Vk);return e?e[0]:""}var Ng=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Ie(e,n)),r}parseSegment(){let e=Cg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new di(Ml(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=kk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Cg(this.remaining);i&&(r=i,this.capture(r))}e[Ml(n)]=Ml(r)}parseQueryParam(e){let n=Lk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=jk(this.remaining);o&&(r=o,this.capture(r))}let i=qC(n),s=qC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ie]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function ib(t){return t.segments.length>0?new Ie([],{[ie]:t}):t}function sb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=sb(i);if(r===ie&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return Uk(n)}function Uk(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new Ie(t.segments.concat(e.segments),e.children)}return t}function fi(t){return t instanceof jn}function Bk(t,e,n=null,r=null){let i=ob(t);return ab(i,e,n,r)}function ob(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=ib(r);return e??i}function ab(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bg(i,i,i,n,r);let s=$k(e);if(s.toRoot())return bg(i,i,new Ie([],{}),n,r);let o=Hk(s,i,t),a=o.processChildren?va(o.segmentGroup,o.index,s.commands):ub(o.segmentGroup,o.index,s.commands);return bg(i,o.segmentGroup,a,n,r)}function Nl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ea(t){return typeof t=="object"&&t!=null&&t.outlets}function bg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=cb(t,e,n);let a=ib(sb(o));return new jn(a,s,i)}function cb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=cb(s,e,n)}),new Ie(t.segments,r)}var xl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Nl(r[0]))throw new B(4003,!1);let i=r.find(Ea);if(i&&i!==ZC(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $k(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new xl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new xl(n,e,r)}var As=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Hk(t,e,n){if(t.isAbsolute)return new As(e,!0,0);if(!n)return new As(e,!1,NaN);if(n.parent===null)return new As(n,!0,0);let r=Nl(t.commands[0])?0:1,i=n.segments.length-1+r;return qk(n,i,t.numberOfDoubleDots)}function qk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new As(r,!1,i-s)}function zk(t){return Ea(t[0])?t[0].outlets:{[ie]:t}}function ub(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return va(t,e,n);let r=Gk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new Ie(t.segments.slice(r.pathIndex),t.children),va(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?xg(t,e,n):r.match?va(t,0,i):xg(t,e,n)}function va(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=zk(n),i={};if(Object.keys(r).some(s=>s!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let s=va(t.children[ie],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=ub(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function Gk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ea(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!GC(u,l,o))return s;r+=2}else{if(!GC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ea(s)){let u=Wk(s.outlets);return new Ie(r,u)}if(i===0&&Nl(n[0])){let u=t.segments[e];r.push(new di(u.path,zC(n[0]))),i++;continue}let o=Ea(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Nl(a)?(r.push(new di(o,zC(a))),i+=2):(r.push(new di(o,{})),i++)}return new Ie(r,{})}function Wk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=xg(new Ie([],{}),0,r))}),e}function zC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function GC(t,e,n){return t==n.path&&un(e,n.parameters)}var _a="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),Ft=class{constructor(e,n){this.id=e,this.url=n}},Da=class extends Ft{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ye.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Un=class extends Ft{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Tt||{}),Pg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pg||{}),Vn=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pi=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationSkipped}},Ca=class extends Ft{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pl=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class extends Ft{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vg=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jg=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ug=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$g=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hg=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ba=class{},xs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Kk(t,e){return t.providers&&!t._injector&&(t._injector=cg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Wt(t){return t.outlet||ie}function Qk(t,e){let n=t.filter(r=>Wt(r)===e);return n.push(...t.filter(r=>Wt(r)!==e)),n}function Na(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var qg=class{get injector(){return Na(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Bl(this.rootInjector),this.attachRef=null}},Bl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new qg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ae(Pt))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ol=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=zg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=zg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gg(e,this._root).map(n=>n.value)}};function zg(t,e){if(t===e.value)return e;for(let n of e.children){let r=zg(t,n);if(r)return r}return null}function Gg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gg(t,n);if(r.length)return r.unshift(e),r}return[]}var bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ss(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var kl=class extends Ol{constructor(e,n){super(e),this.snapshot=n,nm(this,e)}toString(){return this.snapshot.toString()}};function lb(t){let e=Yk(t),n=new Ke([new di("",{})]),r=new Ke({}),i=new Ke({}),s=new Ke({}),o=new Ke(""),a=new gi(n,r,s,o,i,ie,t,e.root);return a.snapshot=e.root,new kl(new bt(a,[]),e)}function Yk(t){let e={},n={},r={},i="",s=new Rs([],e,r,i,n,ie,t,null,{});return new Ll("",new bt(s,[]))}var gi=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[Ma]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Ns(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Ns(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&hb(i)&&(r.resolve[Ma]=i.title),r}var Rs=class{get title(){return this.data?.[Ma]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ns(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ns(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ll=class extends Ol{constructor(e,n){super(n),this.url=e,nm(this,n)}toString(){return db(this._root)}};function nm(t,e){e.value._routerState=t,e.children.forEach(n=>nm(t,n))}function db(t){let e=t.children.length>0?` { ${t.children.map(db).join(", ")} } `:"";return`${t.value}${e}`}function Tg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),un(e.params,n.params)||t.paramsSubject.next(n.params),Dk(e.url,n.url)||t.urlSubject.next(n.url),un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wg(t,e){let n=un(t.params,e.params)&&Sk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wg(t.parent,e.parent))}function hb(t){return typeof t.title=="string"||t.title===null}var xa=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=k(Bl),this.location=k(Es),this.changeDetector=k(_r),this.inputBinder=k(rm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Kg(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[On]});let t=e;return t})(),Kg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gi?this.route:e===Bl?this.childContexts:this.parent.get(e,n)}},rm=new j("");function Zk(t,e,n){let r=Ta(t,e._root,n?n._root:void 0);return new kl(r,e)}function Ta(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Jk(t,e,n);return new bt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ta(t,a)),o}}let r=Xk(e.value),i=e.children.map(s=>Ta(t,s));return new bt(r,i)}}function Jk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ta(t,r,i);return Ta(t,r)})}function Xk(t){return new gi(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var Sa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},fb="ngNavigationCancelingError";function Vl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=fi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pb(!1,Tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function pb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[fb]=!0,n.cancellationCode=e,n}function e1(t){return gb(t)&&fi(t.url)}function gb(t){return!!t&&t[fb]}var t1=(t,e,n,r)=>se(i=>(new Qg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ss(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ss(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ss(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ss(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Hg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Bg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Tg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Tg(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},jl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ms=class{constructor(e,n){this.component=e,this.route=n}};function n1(t,e,n){let r=t._root,i=e?e._root:null;return ma(r,i,n,[r.value])}function r1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Os(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!aE(t)?t:e.get(t):r}function ma(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ss(e);return t.children.forEach(o=>{i1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ia(a,n.getContext(o),i)),i}function i1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=s1(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ma(t,e,a?a.children:null,r,i):ma(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ms(a.outlet.component,o))}else o&&Ia(e,a,i),i.canActivateChecks.push(new jl(r)),s.component?ma(t,null,a?a.children:null,r,i):ma(t,null,n,r,i);return i}function s1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wg(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!Wg(t,e)}}function Ia(t,e,n){let r=Ss(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ia(o,e.children.getContext(s),n):Ia(o,null,n):Ia(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ms(e.outlet.component,i)):n.canDeactivateChecks.push(new Ms(null,i)):n.canDeactivateChecks.push(new Ms(null,i))}function Pa(t){return typeof t=="function"}function o1(t){return typeof t=="boolean"}function a1(t){return t&&Pa(t.canLoad)}function c1(t){return t&&Pa(t.canActivate)}function u1(t){return t&&Pa(t.canActivateChild)}function l1(t){return t&&Pa(t.canDeactivate)}function d1(t){return t&&Pa(t.canMatch)}function mb(t){return t instanceof bn||t?.name==="EmptyError"}var Sl=Symbol("INITIAL_VALUE");function Ps(){return Bt(t=>Iu(t.map(e=>e.pipe(Tn(1),Cu(Sl)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===Sl)return Sl;if(n===!1||h1(n))return n}return!0}),Rt(e=>e!==Sl),Tn(1)))}function h1(t){return fi(t)||t instanceof Sa}function f1(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Y(ue(O({},n),{guardsResult:!0})):p1(o,r,i,t).pipe(je(a=>a&&o1(a)?g1(r,s,t,e):Y(a)),se(a=>ue(O({},n),{guardsResult:a})))})}function p1(t,e,n,r){return Ae(t).pipe(je(i=>I1(i.component,i.route,n,e,r)),Jt(i=>i!==!0,!0))}function g1(t,e,n,r){return Ae(e).pipe(es(i=>Xi(y1(i.route.parent,r),m1(i.route,r),_1(t,i.path,n),v1(t,i.route,n))),Jt(i=>i!==!0,!0))}function m1(t,e){return t!==null&&e&&e(new $g(t)),Y(!0)}function y1(t,e){return t!==null&&e&&e(new Ug(t)),Y(!0)}function v1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(s=>wu(()=>{let o=Na(e)??n,a=Os(s,o),u=c1(a)?a.canActivate(e,t):Nn(o,()=>a(e,t));return wr(u).pipe(Jt())}));return Y(i).pipe(Ps())}function _1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>r1(o)).filter(o=>o!==null).map(o=>wu(()=>{let a=o.guards.map(u=>{let l=Na(o.node)??n,h=Os(u,l),p=u1(h)?h.canActivateChild(r,t):Nn(l,()=>h(r,t));return wr(p).pipe(Jt())});return Y(a).pipe(Ps())}));return Y(s).pipe(Ps())}function I1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let o=s.map(a=>{let u=Na(e)??i,l=Os(a,u),h=l1(l)?l.canDeactivate(t,e,n,r):Nn(u,()=>l(t,e,n,r));return wr(h).pipe(Jt())});return Y(o).pipe(Ps())}function w1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let s=i.map(o=>{let a=Os(o,t),u=a1(a)?a.canLoad(e,n):Nn(t,()=>a(e,n));return wr(u)});return Y(s).pipe(Ps(),yb(r))}function yb(t){return tu(Ue(e=>{if(typeof e!="boolean")throw Vl(t,e)}),se(e=>e===!0))}function E1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let s=i.map(o=>{let a=Os(o,t),u=d1(a)?a.canMatch(e,n):Nn(t,()=>a(e,n));return wr(u)});return Y(s).pipe(Ps(),yb(r))}var Aa=class{constructor(e){this.segmentGroup=e||null}},Ra=class extends Error{constructor(e){super(),this.urlTree=e}};function Ts(t){return Zi(new Aa(t))}function D1(t){return Zi(new B(4e3,!1))}function C1(t){return Zi(pb(!1,Tt.GuardRejected))}var Yg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[ie])return D1(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:M}=i,R=Nn(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof jn)throw new Ra(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ra(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new jn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Zg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b1(t,e,n,r,i){let s=vb(t,e,n);return s.matched?(r=Kk(e,r),E1(r,e,n,i).pipe(se(o=>o===!0?s:O({},Zg)))):Y(s)}function vb(t,e,n){if(e.path==="**")return T1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Zg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ek)(n,t,e);if(!i)return O({},Zg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function T1(t){return{matched:!0,parameters:t.length>0?ZC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function WC(t,e,n,r){return n.length>0&&R1(t,n,r)?{segmentGroup:new Ie(e,A1(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&M1(t,n,r)?{segmentGroup:new Ie(t.segments,S1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function S1(t,e,n,r){let i={};for(let s of n)if($l(t,e,s)&&!r[Wt(s)]){let o=new Ie([],{});i[Wt(s)]=o}return O(O({},r),i)}function A1(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&Wt(r)!==ie){let i=new Ie([],{});n[Wt(r)]=i}return n}function R1(t,e,n){return n.some(r=>$l(t,e,r)&&Wt(r)!==ie)}function M1(t,e,n){return n.some(r=>$l(t,e,r))}function $l(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function N1(t,e,n){return e.length===0&&!t.children[n]}var Jg=class{};function x1(t,e,n,r,i,s,o="emptyOnly"){return new Xg(t,e,n,r,i,o,s).recognize()}var P1=31,Xg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Yg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=WC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new bt(r,n),s=new Ll("",i),o=Bk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Rs([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,n).pipe(se(r=>({children:r,rootSnapshot:n})),cr(r=>{if(r instanceof Ra)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Aa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(se(o=>o instanceof bt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(es(o=>{let a=r.children[o],u=Qk(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Du((o,a)=>(o.push(...a),o)),ur(null),vf(),je(o=>{if(o===null)return Ts(r);let a=_b(o);return O1(a),Y(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(es(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(cr(l=>{if(l instanceof Aa)return Y(null);throw l}))),Jt(u=>!!u),cr(u=>{if(mb(u))return N1(r,i,s)?Y(new Jg):Ts(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Wt(r)!==o&&(o===ie||!$l(i,s,r))?Ts(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ts(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=vb(n,i,s);if(!u)return Ts(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>P1&&(this.allowRedirects=!1));let v=new Rs(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,KC(i),Wt(i),i.component??i._loadedComponent??null,i,QC(i)),S=Fl(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(je(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=b1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Bt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new Rs(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,KC(r),Wt(r),r.component??r._loadedComponent??null,r,QC(r)),M=Fl(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=WC(n,m,v,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(se(q=>new bt(S,q)));if(l.length===0&&F.length===0)return Y(new bt(S,[]));let U=Wt(r)===s;return this.processSegment(h,l,R,F,U?ie:s,!0,S).pipe(se(q=>new bt(S,q instanceof bt?[q]:[])))}))):Ts(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):w1(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):C1(n))):Y({routes:[],injector:e})}};function O1(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function k1(t){let e=t.value.routeConfig;return e&&e.path===""}function _b(t){let e=[],n=new Set;for(let r of t){if(!k1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=_b(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!n.has(r))}function KC(t){return t.data||{}}function QC(t){return t.resolve||{}}function F1(t,e,n,r,i,s){return je(o=>x1(t,e,n,r,o.extractedUrl,i,s).pipe(se(({state:a,tree:u})=>ue(O({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function L1(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of Ib(u))o.add(l);let a=0;return Ae(o).pipe(es(u=>s.has(u)?V1(u,r,t,e):(u.data=Fl(u,u.parent,t).resolve,Y(void 0))),Ue(()=>a++),ts(1),je(u=>a===o.size?Y(n):Dt))})}function Ib(t){let e=t.children.map(n=>Ib(n)).flat();return[t,...e]}function V1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!hb(i)&&(s[Ma]=i.title),j1(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=Fl(t,t.parent,n).resolve,null)))}function j1(t,e,n,r){let i=Rg(t);if(i.length===0)return Y({});let s={};return Ae(i).pipe(je(o=>U1(t[o],e,n,r).pipe(Jt(),Ue(a=>{if(a instanceof Sa)throw Vl(new wa,a);s[o]=a}))),ts(1),yf(s),cr(o=>mb(o)?Dt:Zi(o)))}function U1(t,e,n,r){let i=Na(e)??r,s=Os(t,i),o=s.resolve?s.resolve(e,n):Nn(i,()=>s(e,n));return wr(o)}function Sg(t){return Bt(e=>{let n=t(e);return n?Ae(n).pipe(se(()=>e)):Y(e)})}var wb=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ie);return i}getResolvedTitleForRoute(r){return r.data[Ma]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(B1),providedIn:"root"});let t=e;return t})(),B1=(()=>{let e=class e extends wb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ae($C))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),im=new j("",{providedIn:"root",factory:()=>({})}),$1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=yt({type:e,selectors:[["ng-component"]],standalone:!0,features:[It],decls:1,vars:0,template:function(i,s){i&1&&Qe(0,"router-outlet")},dependencies:[xa],encapsulation:2});let t=e;return t})();function sm(t){let e=t.children&&t.children.map(sm),n=e?ue(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=$1),n}var om=new j(""),H1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(pg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wr(r.loadComponent()).pipe(se(Eb),Ue(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),$o(()=>{this.componentLoaders.delete(r)})),s=new Wi(i,()=>new He).pipe(Gi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=q1(i,this.compiler,r,this.onLoadEndListener).pipe($o(()=>{this.childrenLoaders.delete(i)})),a=new Wi(o,()=>new He).pipe(Gi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q1(t,e,n,r){return wr(t.loadChildren()).pipe(se(Eb),je(i=>i instanceof Jo||Array.isArray(i)?Y(i):Ae(e.compileModuleAsync(i))),se(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(om,[],{optional:!0,self:!0}).flat()),{routes:o.map(sm),injector:s}}))}function z1(t){return t&&typeof t=="object"&&"default"in t}function Eb(t){return z1(t)?t.default:t}var am=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(G1),providedIn:"root"});let t=e;return t})(),G1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W1=new j("");var K1=new j(""),Q1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=k(H1),this.environmentInjector=k(Pt),this.urlSerializer=k(tm),this.rootContexts=k(Bl),this.location=k(ua),this.inputBindingEnabled=k(rm,{optional:!0})!==null,this.titleStrategy=k(wb),this.options=k(im,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(am),this.createViewTransition=k(W1,{optional:!0}),this.navigationErrorHandler=k(K1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Vg(s)),i=s=>this.events.next(new jg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:_a,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rt(o=>o.id!==0),se(o=>ue(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bt(o=>{let a=!1,u=!1;return Y(o).pipe(Bt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),Dt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new pi(l.id,this.urlSerializer.serialize(l.rawUrl),m,Pg.IgnoredSameUrlNavigation)),l.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y(l).pipe(Bt(m=>{let v=this.transitions?.getValue();return this.events.next(new Da(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Dt:Promise.resolve(m)}),F1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ue(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Pl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:M,extras:R}=l,F=new Da(m,this.urlSerializer.serialize(v),S,M);this.events.next(F);let U=lb(this.rootComponentType).snapshot;return this.currentTransition=o=ue(O({},l),{targetSnapshot:U,urlAfterRedirects:v,extras:ue(O({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Y(o)}else{let m="";return this.events.next(new pi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Pg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Dt}}),Ue(l=>{let h=new Og(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),se(l=>(this.currentTransition=o=ue(O({},l),{guards:n1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),f1(this.environmentInjector,l=>this.events.next(l)),Ue(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Vl(this.urlSerializer,l.guardsResult);let h=new kg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Rt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Tt.GuardRejected),!1)),Sg(l=>{if(l.guards.canActivateChecks.length)return Y(l).pipe(Ue(h=>{let p=new Fg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Bt(h=>{let p=!1;return Y(h).pipe(L1(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Tt.NoDataFromResolver)}}))}),Ue(h=>{let p=new Lg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Sg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ue(v=>{p.component=v}),se(()=>{})));for(let v of p.children)m.push(...h(v));return m};return Iu(h(l.targetSnapshot.root)).pipe(ur(null),Tn(1))}),Sg(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ae(p).pipe(se(()=>o)):Y(o)}),se(l=>{let h=Zk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ue(O({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Ue(()=>{this.events.next(new ba)}),t1(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Tn(1),Ue({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Un(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),_f(this.transitionAbortSubject.pipe(Ue(l=>{throw l}))),$o(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(l=>{if(u=!0,gb(l))this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),e1(l)?this.events.next(new xs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=Nn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Sa){let{message:m,cancellationCode:v}=Vl(this.urlSerializer,p);this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new xs(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Dt}))}))}cancelNavigationTransition(r,i,s){let o=new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y1(t){return t!==_a}var Z1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(J1),providedIn:"root"});let t=e;return t})(),em=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},J1=(()=>{let e=class e extends em{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=_s(e)))(s||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Db=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(X1),providedIn:"root"});let t=e;return t})(),X1=(()=>{let e=class e extends Db{constructor(){super(...arguments),this.location=k(ua),this.urlSerializer=k(tm),this.options=k(im,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(am),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=lb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Da)this.stateMemento=this.createStateMemento();else if(r instanceof pi)this.rawUrlTree=i.initialUrl;else if(r instanceof Pl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof ba?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Vn&&(r.code===Tt.GuardRejected||r.code===Tt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ca?this.restoreHistory(i,!0):r instanceof Un&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof jn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=_s(e)))(s||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ya=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ya||{});function eF(t,e){t.events.pipe(Rt(n=>n instanceof Un||n instanceof Vn||n instanceof Ca||n instanceof pi),se(n=>n instanceof Un||n instanceof pi?ya.COMPLETE:(n instanceof Vn?n.code===Tt.Redirect||n.code===Tt.SupersededByNewNavigation:!1)?ya.REDIRECTING:ya.FAILED),Rt(n=>n!==ya.REDIRECTING),Tn(1)).subscribe(()=>{e()})}function tF(t){throw t}var nF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ln=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(wl),this.stateManager=k(Db),this.options=k(im,{optional:!0})||{},this.pendingTasks=k(Is),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Q1),this.urlSerializer=k(tm),this.location=k(ua),this.urlHandlingStrategy=k(am),this._events=new He,this.errorHandler=this.options.errorHandler||tF,this.navigated=!1,this.routeReuseStrategy=k(Z1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(om,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(rm,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Vn&&i.code!==Tt.Redirect&&i.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Un)this.navigated=!0;else if(i instanceof xs){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Y1(s.source)},a);this.scheduleNavigation(u,_a,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}sF(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_a,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(sm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=ob(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return ab(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=fi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,_a,null,i)}navigate(r,i={skipLocationChange:!1}){return iF(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},nF):i===!1?s=O({},rF):s=i,fi(r))return HC(this.currentUrlTree,r,s);let o=this.parseUrl(r);return HC(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return eF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function sF(t){return!(t instanceof ba)&&!(t instanceof xs)}var Ul=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new He,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:ED(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(re(ln),re(gi),Bp("tabindex"),re(vr),re(kt),re(bs))},e.\u0275dir=rt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&_t("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&oa("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ir],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ir],replaceUrl:[2,"replaceUrl","replaceUrl",Ir],routerLink:"routerLink"},standalone:!0,features:[ag,On]});let t=e;return t})(),Cb=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Un&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(Ji()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ae(r).pipe(Ji()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=oF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(re(ln),re(kt),re(vr),re(_r),re(Ul,8))},e.\u0275dir=rt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&lC(o,Ul,5),i&2){let a;dC(a=hC())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[On]});let t=e;return t})();function oF(t){return!!t.paths}var aF=new j("");function bb(t,...e){return an([{provide:om,multi:!0,useValue:t},[],{provide:gi,useFactory:cF,deps:[ln]},{provide:fg,multi:!0,useFactory:uF},e.map(n=>n.\u0275providers)])}function cF(t){return t.routerState.root}function uF(){let t=k(gt);return e=>{let n=t.get(ui);if(e!==n.components[0])return;let r=t.get(ln),i=t.get(lF);t.get(dF)===1&&r.initialNavigation(),t.get(hF,null,oe.Optional)?.setUpPreloading(),t.get(aF,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var lF=new j("",{factory:()=>new He}),dF=new j("",{providedIn:"root",factory:()=>1});var hF=new j("");var Ob=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(re(vr),re(kt))},e.\u0275dir=rt({type:e});let t=e;return t})(),fF=(()=>{let e=class e extends Ob{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=_s(e)))(s||e)}})(),e.\u0275dir=rt({type:e,features:[kn]});let t=e;return t})(),kb=new j("");var pF={provide:kb,useExisting:ni(()=>js),multi:!0};function gF(){let t=Ln()?Ln().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var mF=new j(""),js=(()=>{let e=class e extends Ob{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!gF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(re(vr),re(kt),re(mF,8))},e.\u0275dir=rt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&_t("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[aa([pF]),kn]});let t=e;return t})();function yF(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var lm=new j(""),Fb=new j("");function vF(t){return yF(t.value)?{required:!0}:null}function Tb(t){return null}function Lb(t){return t!=null}function Vb(t){return ci(t)?Ae(t):t}function jb(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function Ub(t,e){return e.map(n=>n(t))}function _F(t){return!t.validate}function Bb(t){return t.map(e=>_F(e)?e:n=>e.validate(n))}function IF(t){if(!t)return null;let e=t.filter(Lb);return e.length==0?null:function(n){return jb(Ub(n,e))}}function dm(t){return t!=null?IF(Bb(t)):null}function wF(t){if(!t)return null;let e=t.filter(Lb);return e.length==0?null:function(n){let r=Ub(n,e).map(Vb);return mf(r).pipe(se(jb))}}function hm(t){return t!=null?wF(Bb(t)):null}function Sb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function EF(t){return t._rawValidators}function DF(t){return t._rawAsyncValidators}function um(t){return t?Array.isArray(t)?t:[t]:[]}function ql(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ab(t,e){let n=um(e);return um(t).forEach(i=>{ql(n,i)||n.push(i)}),n}function Rb(t,e){return um(e).filter(n=>!ql(t,n))}var zl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ls=class extends zl{get formDirective(){return null}get path(){return null}},ja=class extends zl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},CF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},X9=ue(O({},CF),{"[class.ng-submitted]":"isSubmitted"}),Yl=(()=>{let e=class e extends Gl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(re(ja,2))},e.\u0275dir=rt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&_l("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[kn]});let t=e;return t})(),Zl=(()=>{let e=class e extends Gl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(re(Ls,10))},e.\u0275dir=rt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&_l("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[kn]});let t=e;return t})();var Oa="VALID",Hl="INVALID",ks="PENDING",ka="DISABLED",Vs=class{},Wl=class extends Vs{constructor(e,n){super(),this.value=e,this.source=n}},La=class extends Vs{constructor(e,n){super(),this.pristine=e,this.source=n}},Va=class extends Vs{constructor(e,n){super(),this.touched=e,this.source=n}},Fs=class extends Vs{constructor(e,n){super(),this.status=e,this.source=n}};function $b(t){return(Jl(t)?t.validators:t)||null}function bF(t){return Array.isArray(t)?dm(t):t||null}function Hb(t,e){return(Jl(e)?e.asyncValidators:t)||null}function TF(t){return Array.isArray(t)?hm(t):t||null}function Jl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function SF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function AF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Kl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ca(()=>this.statusReactive()),this.statusReactive=ia(void 0),this._pristine=ca(()=>this.pristineReactive()),this.pristineReactive=ia(!0),this._touched=ca(()=>this.touchedReactive()),this.touchedReactive=ia(!1),this._events=new He,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Fn(this.statusReactive)}set status(e){Fn(()=>this.statusReactive.set(e))}get valid(){return this.status===Oa}get invalid(){return this.status===Hl}get pending(){return this.status==ks}get disabled(){return this.status===ka}get enabled(){return this.status!==ka}get pristine(){return Fn(this.pristineReactive)}set pristine(e){Fn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Fn(this.touchedReactive)}set touched(e){Fn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ab(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ab(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rb(e,this._rawAsyncValidators))}hasValidator(e){return ql(this._rawValidators,e)}hasAsyncValidator(e){return ql(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Va(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Va(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new La(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new La(!0,r))}markAsPending(e={}){this.status=ks;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ka,this.errors=null,this._forEachChild(i=>{i.disable(ue(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wl(this.value,r)),this._events.next(new Fs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Oa,this._forEachChild(r=>{r.enable(ue(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oa||this.status===ks)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wl(this.value,n)),this._events.next(new Fs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ka:Oa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Vb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?ka:this.errors?Hl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(Hl)?Hl:Oa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new La(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Va(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=TF(this._rawAsyncValidators)}},Ql=class extends Kl{constructor(e,n,r){super($b(n),Hb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){AF(this,!0,e),Object.keys(e).forEach(r=>{SF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fm=new j("CallSetDisabledState",{providedIn:"root",factory:()=>pm}),pm="always";function RF(t,e){return[...e.path,t]}function qb(t,e,n=pm){zb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),NF(t,e),PF(t,e),xF(t,e),MF(t,e)}function Mb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function MF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function zb(t,e){let n=EF(t);e.validator!==null?t.setValidators(Sb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=DF(t);e.asyncValidator!==null?t.setAsyncValidators(Sb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Mb(e._rawValidators,i),Mb(e._rawAsyncValidators,i)}function NF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Gb(t,e)})}function xF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Gb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Gb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function PF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function OF(t,e){t==null,zb(t,e)}function kF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function FF(t){return Object.getPrototypeOf(t.constructor)===fF}function LF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function VF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===js?n=s:FF(s)?r=s:i=s}),i||r||n||null}var jF={provide:Ls,useExisting:ni(()=>Ua)},Fa=Promise.resolve(),Ua=(()=>{let e=class e extends Ls{get submitted(){return Fn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=ca(()=>this.submittedReactive()),this.submittedReactive=ia(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new Ql({},dm(r),hm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Fa.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),qb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Fa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Fa.then(()=>{let i=this._findContainer(r.path),s=new Ql({});OF(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Fa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Fa.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),LF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(re(lm,10),re(Fb,10),re(fm,8))},e.\u0275dir=rt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&_t("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[aa([jF]),kn]});let t=e;return t})();function Nb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var UF=class extends Kl{constructor(e=null,n,r){super($b(n),Hb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Nb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Nb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var BF={provide:ja,useExisting:ni(()=>Ba)},Pb=Promise.resolve(),Ba=(()=>{let e=class e extends ja{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new UF,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=VF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),kF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Pb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Ir(i);Pb.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?RF(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(re(Ls,9),re(lm,10),re(Fb,10),re(kb,10),re(_r,8),re(fm,8))},e.\u0275dir=rt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[aa([BF]),kn,On]});let t=e;return t})(),Xl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var $F=(()=>{let e=class e{constructor(){this._validator=Tb}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Tb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,features:[On]});let t=e;return t})();var HF={provide:lm,useExisting:ni(()=>$a),multi:!0};var $a=(()=>{let e=class e extends $F{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ir,this.createValidator=r=>vF}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=_s(e)))(s||e)}})(),e.\u0275dir=rt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&oa("required",s._enabled?"":null)},inputs:{required:"required"},features:[aa([HF]),kn]});let t=e;return t})();var qF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ii({type:e}),e.\u0275inj=ri({});let t=e;return t})();var ed=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:fm,useValue:r.callSetDisabledState??pm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ii({type:e}),e.\u0275inj=ri({imports:[qF]});let t=e;return t})();var Qb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new mm;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},GF=function(t){let e=Qb(t);return Yb.encodeByteArray(e,!0)},Ha=function(t){return GF(t).replace(/\./g,"")},vm=function(t){try{return Yb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KF=()=>WF().__FIREBASE_DEFAULTS__,QF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&vm(t[1]);return e&&JSON.parse(e)},nd=()=>{try{return KF()||QF()||YF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_m=t=>{var e,n;return(n=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zb=t=>{let e=_m(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Im=()=>{var t;return(t=nd())===null||t===void 0?void 0:t.config},wm=t=>{var e;return(e=nd())===null||e===void 0?void 0:e[`_${t}`]};var td=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Jb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ha(JSON.stringify(n)),Ha(JSON.stringify(o)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function ZF(){var t;let e=(t=nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n0(){let t=ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r0(){return!ZF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Em(){try{return typeof indexedDB=="object"}catch{return!1}}function i0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var JF="FirebaseError",St=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}},Bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new St(i,a,r)}};function XF(t,e){return t.replace(eL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var eL=/\{\$([^}]+)}/g;function s0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Kb(s)&&Kb(o)){if(!mi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Kb(t){return t!==null&&typeof t=="object"}function qa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Us(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function o0(t,e){let n=new ym(t,e);return n.subscribe.bind(n)}var ym=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gm),i.error===void 0&&(i.error=gm),i.complete===void 0&&(i.complete=gm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gm(){}var nW=4*60*60*1e3;function st(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yi="[DEFAULT]";var Dm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new td;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rL(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nL(t){return t===yi?void 0:t}function rL(t){return t.instantiationMode==="EAGER"}var rd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var iL=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),sL={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},oL=he.INFO,aL={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},cL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=aL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Er=class{constructor(e){this.name=e,this._logLevel=oL,this._logHandler=cL,this._userLogHandler=null,iL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var uL=(t,e)=>e.some(n=>t instanceof n),a0,c0;function lL(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dL(){return c0||(c0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var u0=new WeakMap,bm=new WeakMap,l0=new WeakMap,Cm=new WeakMap,Sm=new WeakMap;function hL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(dn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u0.set(n,t)}).catch(()=>{}),Sm.set(e,t),e}function fL(t){if(bm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bm.set(t,e)}var Tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||l0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function d0(t){Tm=t(Tm)}function pL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(id(this),e,...n);return l0.set(r,e.sort?e.sort():[e]),dn(r)}:dL().includes(t)?function(...e){return t.apply(id(this),e),dn(u0.get(this))}:function(...e){return dn(t.apply(id(this),e))}}function gL(t){return typeof t=="function"?pL(t):(t instanceof IDBTransaction&&fL(t),uL(t,lL())?new Proxy(t,Tm):t)}function dn(t){if(t instanceof IDBRequest)return hL(t);if(Cm.has(t))return Cm.get(t);let e=gL(t);return e!==t&&(Cm.set(t,e),Sm.set(e,t)),e}var id=t=>Sm.get(t);function f0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=dn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(dn(o.result),u.oldVersion,u.newVersion,dn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var mL=["get","getKey","getAll","getAllKeys","count"],yL=["put","add","delete","clear"],Am=new Map;function h0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=yL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mL.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Am.set(e,s),s}d0(t=>ue(O({},t),{get:(e,n,r)=>h0(e,n)||t.get(e,n,r),has:(e,n)=>!!h0(e,n)||t.has(e,n)}));var Mm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function vL(t){let e=t.getComponent();return e?.type==="VERSION"}var Nm="@firebase/app",p0="0.10.10";var $n=new Er("@firebase/app"),_L="@firebase/app-compat",IL="@firebase/analytics-compat",wL="@firebase/analytics",EL="@firebase/app-check-compat",DL="@firebase/app-check",CL="@firebase/auth",bL="@firebase/auth-compat",TL="@firebase/database",SL="@firebase/database-compat",AL="@firebase/functions",RL="@firebase/functions-compat",ML="@firebase/installations",NL="@firebase/installations-compat",xL="@firebase/messaging",PL="@firebase/messaging-compat",OL="@firebase/performance",kL="@firebase/performance-compat",FL="@firebase/remote-config",LL="@firebase/remote-config-compat",VL="@firebase/storage",jL="@firebase/storage-compat",UL="@firebase/firestore",BL="@firebase/vertexai-preview",$L="@firebase/firestore-compat",HL="firebase",qL="10.13.1";var xm="[DEFAULT]",zL={[Nm]:"fire-core",[_L]:"fire-core-compat",[wL]:"fire-analytics",[IL]:"fire-analytics-compat",[DL]:"fire-app-check",[EL]:"fire-app-check-compat",[CL]:"fire-auth",[bL]:"fire-auth-compat",[TL]:"fire-rtdb",[SL]:"fire-rtdb-compat",[AL]:"fire-fn",[RL]:"fire-fn-compat",[ML]:"fire-iid",[NL]:"fire-iid-compat",[xL]:"fire-fcm",[PL]:"fire-fcm-compat",[OL]:"fire-perf",[kL]:"fire-perf-compat",[FL]:"fire-rc",[LL]:"fire-rc-compat",[VL]:"fire-gcs",[jL]:"fire-gcs-compat",[UL]:"fire-fst",[$L]:"fire-fst-compat",[BL]:"fire-vertex","fire-js":"fire-js",[HL]:"fire-js-all"};var za=new Map,GL=new Map,Pm=new Map;function g0(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){let e=t.name;if(Pm.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,t);for(let n of za.values())g0(n,t);for(let n of GL.values())g0(n,t);return!0}function Wa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t.settings!==void 0}var WL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Bn("app","Firebase",WL);var Om=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var br=qL;function Lm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:xm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=Im()),!n)throw Dr.create("no-options");let s=za.get(i);if(s){if(mi(n,s.options)&&mi(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}let o=new rd(i);for(let u of Pm.values())o.addComponent(u);let a=new Om(n,r,o);return za.set(i,a),a}function $s(t=xm){let e=za.get(t);if(!e&&t===xm&&Im())return Lm();if(!e)throw Dr.create("no-app",{appName:t});return e}function sd(){return Array.from(za.values())}function Be(t,e,n){var r;let i=(r=zL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(a.join(" "));return}Cr(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var KL="firebase-heartbeat-database",QL=1,Ga="firebase-heartbeat-store",Rm=null;function _0(){return Rm||(Rm=f0(KL,QL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Rm}function YL(t){return w(this,null,function*(){try{let n=(yield _0()).transaction(Ga),r=yield n.objectStore(Ga).get(I0(t));return yield n.done,r}catch(e){if(e instanceof St)$n.warn(e.message);else{let n=Dr.create("idb-get",{originalErrorMessage:e?.message});$n.warn(n.message)}}})}function m0(t,e){return w(this,null,function*(){try{let r=(yield _0()).transaction(Ga,"readwrite");yield r.objectStore(Ga).put(e,I0(t)),yield r.done}catch(n){if(n instanceof St)$n.warn(n.message);else{let r=Dr.create("idb-set",{originalErrorMessage:n?.message});$n.warn(r.message)}}})}function I0(t){return`${t.name}!${t.options.appId}`}var ZL=1024,JL=30*24*60*60*1e3,km=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Fm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=JL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$n.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=y0(),{heartbeatsToSend:r,unsentEntries:i}=XL(this._heartbeatsCache.heartbeats),s=Ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $n.warn(n),""}})}};function y0(){return new Date().toISOString().substring(0,10)}function XL(t,e=ZL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),v0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),v0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Fm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Em()?i0().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield YL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function v0(t){return Ha(JSON.stringify({version:2,heartbeats:t})).length}function eV(t){Cr(new Lt("platform-logger",e=>new Mm(e),"PRIVATE")),Cr(new Lt("heartbeat",e=>new km(e),"PRIVATE")),Be(Nm,p0,t),Be(Nm,p0,"esm2017"),Be("fire-js","")}eV("");var tV="firebase",nV="10.13.1";Be(tV,nV,"app");var _i=new Mn("ANGULARFIRE2_VERSION");function ad(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ka=(t,e)=>{let n=e?[e]:sd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},qs=class{constructor(){return Ka(rV)}},rV="app-check";function Hs(){}var od=class{zone;delegate;constructor(e,n=ff){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Vm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},zs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new od(Zone.current)),this.insideAngular=n.run(()=>new od(Zone.current,hf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ae(we))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function iV(t){return cd().ngZone.runOutsideAngular(()=>t())}function vi(t){return cd().ngZone.run(()=>t())}function sV(t){return oV(cd())(t)}function oV(t){return function(n){return n=n.lift(new Vm(t.ngZone)),n.pipe(ar(t.outsideAngular),or(t.insideAngular))}}var aV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),vi(()=>t.apply(void 0,r))},Qt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=vi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs))),r[s]=aV(r[s],n));let i=iV(()=>t.apply(this,r));if(!e)if(i instanceof le){let s=cd();return i.pipe(ar(s.outsideAngular),or(s.insideAngular))}else return vi(()=>i);return i instanceof le?i.pipe(sV):i instanceof Promise?vi(()=>new Promise((s,o)=>i.then(a=>vi(()=>s(a)),a=>vi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:vi(()=>i)};var Hn=class{constructor(e){return e}},Ii=class{constructor(){return sd()}};function cV(t){return t&&t.length===1?t[0]:new Hn($s())}var jm=new j("angularfire2._apps"),uV={provide:Hn,useFactory:cV,deps:[[new mt,jm]]},lV={provide:Ii,deps:[[new mt,jm]]};function dV(t){return(e,n)=>{let r=n.get(yr);Be("angularfire",_i.full,"core"),Be("angularfire",_i.full,"app"),Be("angular",pC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Hn(i)}}function w0(t,...e){return an([uV,lV,{provide:jm,useFactory:dV(t),multi:!0,deps:[we,gt,zs,...e]}])}var E0=Qt(Lm,!0);function j0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var U0=j0,B0=new Bn("auth","Firebase",j0());var pd=new Er("@firebase/auth");function hV(t,...e){pd.logLevel<=he.WARN&&pd.warn(`Auth (${br}): ${t}`,...e)}function ld(t,...e){pd.logLevel<=he.ERROR&&pd.error(`Auth (${br}): ${t}`,...e)}function fn(t,...e){throw cy(t,...e)}function wi(t,...e){return cy(t,...e)}function $0(t,e,n){let r=Object.assign(Object.assign({},U0()),{[e]:n});return new Bn("auth","Firebase",r).create(e,{appName:t.name})}function Gn(t){return $0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return B0.create(t,...e)}function W(t,e,...n){if(!t)throw cy(e,...n)}function qn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ld(e),new Error(e)}function Sr(t,e){t||qn(e)}function Hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fV(){return D0()==="http:"||D0()==="https:"}function D0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function pV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fV()||e0()||"connection"in navigator)?navigator.onLine:!0}function gV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=Xb()||t0()}get(){return pV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function uy(t,e){Sr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var gd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var mV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var yV=new Ei(3e4,6e4);function Ar(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Rr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return H0(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=qa(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),gd.fetch()(q0(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function H0(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},mV),e);try{let i=new qm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ud(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ud(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ud(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ud(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $0(t,h,l);fn(t,h)}}catch(i){if(i instanceof St)throw i;fn(t,"network-request-failed",{message:String(i)})}})}function nc(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Rr(t,e,n,r,i);return"mfaPendingCredential"in l&&fn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function q0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?uy(t.config,i):`${t.config.apiScheme}://${i}`}function vV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var qm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),yV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ud(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=wi(t,e,r);return i.customData._tokenResponse=n,i}function C0(t){return t!==void 0&&t.enterprise!==void 0}var zm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function _V(t,e){return w(this,null,function*(){return Rr(t,"GET","/v2/recaptchaConfig",Ar(t,e))})}function IV(t,e){return w(this,null,function*(){return Rr(t,"POST","/v1/accounts:delete",e)})}function z0(t,e){return w(this,null,function*(){return Rr(t,"POST","/v1/accounts:lookup",e)})}function Qa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ly(t,e=!1){return w(this,null,function*(){let n=st(t),r=yield n.getIdToken(e),i=dy(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Qa(Um(i.auth_time)),issuedAtTime:Qa(Um(i.iat)),expirationTime:Qa(Um(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Um(t){return Number(t)*1e3}function dy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ld("JWT malformed, contained fewer than 3 sections"),null;try{let i=vm(n);return i?JSON.parse(i):(ld("Failed to decode base64 JWT payload"),null)}catch(i){return ld("Caught error parsing JWT payload as JSON",i?.toString()),null}}function b0(t){let e=dy(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Za(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof St&&wV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function wV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ja=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function md(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Za(t,z0(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?G0(s.providerUserInfo):[],a=EV(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ja(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function hy(t){return w(this,null,function*(){let e=st(t);yield md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function EV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function G0(t){return t.map(e=>{var{providerId:n}=e,r=pf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function DV(t,e){return w(this,null,function*(){let n=yield H0(t,{},()=>w(this,null,function*(){let r=qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=q0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function CV(t,e){return w(this,null,function*(){return Rr(t,"POST","/v2/accounts:revokeToken",Ar(t,e))})}var Ya=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=b0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield DV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qn("not implemented")}};function Tr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Gs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ja(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Za(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ly(this,e)}reload(){return hy(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield md(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Kt(this.auth.app))return Promise.reject(Gn(this.auth));let e=yield this.getIdToken();return yield Za(this,IV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:ce,isAnonymous:Re,providerData:J,stsTokenManager:D}=n;W(q&&D,e,"internal-error");let y=Ya.fromJSON(this.name,D);W(typeof q=="string",e,"internal-error"),Tr(p,e.name),Tr(m,e.name),W(typeof ce=="boolean",e,"internal-error"),W(typeof Re=="boolean",e,"internal-error"),Tr(v,e.name),Tr(S,e.name),Tr(M,e.name),Tr(R,e.name),Tr(F,e.name),Tr(U,e.name);let _=new t({uid:q,auth:e,email:m,emailVerified:ce,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:F,lastLoginAt:U});return J&&Array.isArray(J)&&(_.providerData=J.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Ya;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield md(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?G0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ya;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ja(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var T0=new Map;function zn(t){Sr(t instanceof Function,"Expected a class definition");let e=T0.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T0.set(t,e),e)}var bV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Wm=bV;function dd(t,e,n){return`firebase:${t}:${e}:${n}`}var yd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=dd(this.userKey,i.apiKey,s),this.fullPersistenceKey=dd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Gs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(zn(Wm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||zn(Wm),o=dd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Gs._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function S0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J0(e))return"Blackberry";if(X0(e))return"Webos";if(K0(e))return"Safari";if((e.includes("chrome/")||Q0(e))&&!e.includes("edge/"))return"Chrome";if(Z0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function W0(t=ze()){return/firefox\//i.test(t)}function K0(t=ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q0(t=ze()){return/crios\//i.test(t)}function Y0(t=ze()){return/iemobile/i.test(t)}function Z0(t=ze()){return/android/i.test(t)}function J0(t=ze()){return/blackberry/i.test(t)}function X0(t=ze()){return/webos/i.test(t)}function fy(t=ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TV(t=ze()){var e;return fy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SV(){return n0()&&document.documentMode===10}function eT(t=ze()){return fy(t)||Z0(t)||X0(t)||J0(t)||/windows phone/i.test(t)||Y0(t)}function tT(t,e=[]){let n;switch(t){case"Browser":n=S0(ze());break;case"Worker":n=`${S0(ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${br}/${r}`}var Km=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function AV(n){return w(this,arguments,function*(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",Ar(t,e))})}var RV=6,Qm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:RV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ym=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vd(this),this.idTokenSubscription=new vd(this),this.beforeStateQueue=new Km(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield yd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield z0(this,{idToken:e}),r=yield Gs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Kt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield md(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=gV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Kt(this.app))return Promise.reject(Gn(this));let n=e?st(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Kt(this.app)?Promise.reject(Gn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kt(this.app)?Promise.reject(Gn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield AV(this),n=new Qm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield CV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&zn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield yd.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&hV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ci(t){return st(t)}var vd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=o0(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var bd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MV(t){bd=t}function nT(t){return bd.loadJS(t)}function NV(){return bd.recaptchaEnterpriseScript}function xV(){return bd.gapiScript}function rT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var PV="recaptcha-enterprise",OV="NO_RECAPTCHA",Zm=class{constructor(e){this.type=PV,this.auth=Ci(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){_V(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new zm(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;C0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(OV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&C0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=NV();u.length!==0&&(u+=a),nT(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function A0(t,e,n,r=!1){return w(this,null,function*(){let i=new Zm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Jm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield A0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield A0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function py(t,e){let n=Wa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(mi(s,e??{}))return i;fn(i,"already-initialized")}return n.initialize({options:e})}function kV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function gy(t,e,n){let r=Ci(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=iT(e),{host:o,port:a}=FV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||LV()}function iT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FV(t){let e=iT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:R0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:R0(o)}}}function R0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function LV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}};function VV(t,e){return w(this,null,function*(){return Rr(t,"POST","/v1/accounts:signUp",e)})}function jV(t,e){return w(this,null,function*(){return nc(t,"POST","/v1/accounts:signInWithPassword",Ar(t,e))})}function UV(t,e){return w(this,null,function*(){return nc(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))})}function BV(t,e){return w(this,null,function*(){return nc(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))})}var ec=class t extends Xa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,n,"signInWithPassword",jV);case"emailLink":return UV(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,r,"signUpPassword",VV);case"emailLink":return BV(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Bm(t,e){return w(this,null,function*(){return nc(t,"POST","/v1/accounts:signInWithIdp",Ar(t,e))})}function $V(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HV(t){let e=Us(Bs(t)).link,n=e?Us(Bs(e)).deep_link_id:null,r=Us(Bs(t)).deep_link_id;return(r?Us(Bs(r)).link:null)||r||n||e||t}var _d=class t{constructor(e){var n,r,i,s,o,a;let u=Us(Bs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=$V((i=u.mode)!==null&&i!==void 0?i:null);W(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=HV(e);try{return new t(n)}catch{return null}}};var sT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ec._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=_d.parseLink(r);return W(i,"argument-error"),ec._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Id=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Xm=class extends Id{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function qV(t,e){return w(this,null,function*(){return nc(t,"POST","/v1/accounts:signUp",Ar(t,e))})}var Ws=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Gs._fromIdTokenResponse(e,r,i),o=M0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=M0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function M0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ey=class t extends St{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function oT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ey._fromErrorAndOperation(t,s,e,r):s})}function zV(t,e,n=!1){return w(this,null,function*(){let r=yield Za(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ws._forOperation(t,"link",r)})}function GV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Kt(r.app))return Promise.reject(Gn(r));let i="reauthenticate";try{let s=yield Za(t,oT(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=dy(s.idToken);W(o,r,"internal-error");let{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Ws._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&fn(r,"user-mismatch"),s}})}function aT(t,e,n=!1){return w(this,null,function*(){if(Kt(t.app))return Promise.reject(Gn(t));let r="signIn",i=yield oT(t,r,e),s=yield Ws._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function my(t,e){return w(this,null,function*(){return aT(Ci(t),e)})}function cT(t){return w(this,null,function*(){let e=Ci(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function yy(t,e,n){return w(this,null,function*(){if(Kt(t.app))return Promise.reject(Gn(t));let r=Ci(t),o=yield Jm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&cT(t),u}),a=yield Ws._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function vy(t,e,n){return Kt(t.app)?Promise.reject(Gn(t)):my(st(t),sT.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&cT(t),r}))}function _y(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function Iy(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function wy(t){return st(t).signOut()}var wd="__sak";var Ed=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var WV=1e3,KV=10,QV=(()=>{class t extends Ed{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);SV()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,KV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},WV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield ir(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield ir(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield ir(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),uT=QV;var YV=(()=>{class t extends Ed{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ey=YV;function ZV(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var JV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield ZV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function lT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ty=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=lT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function hn(){return window}function XV(t){hn().location.href=t}function dT(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}function ej(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nj(){return dT()?self:null}var hT="firebaseLocalStorageDb",rj=1,Dd="firebaseLocalStorage",fT="fbase_key",Di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Td(t,e){return t.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function ij(){let t=indexedDB.deleteDatabase(hT);return new Di(t).toPromise()}function ny(){let t=indexedDB.open(hT,rj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Dd,{keyPath:fT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Dd)?e(r):(r.close(),yield ij(),e(yield ny()))}))})}function N0(t,e,n){return w(this,null,function*(){let r=Td(t,!0).put({[fT]:e,value:n});return new Di(r).toPromise()})}function sj(t,e){return w(this,null,function*(){let n=Td(t,!1).get(e),r=yield new Di(n).toPromise();return r===void 0?null:r.value})}function x0(t,e){let n=Td(t,!0).delete(e);return new Di(n).toPromise()}var oj=800,aj=3,cj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield ny(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>aj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return dT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=JV._getInstance(nj()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield ej(),!this.activeServiceWorker)return;this.sender=new ty(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ny();return yield N0(n,wd,"1"),yield x0(n,wd),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>N0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>sj(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>x0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Td(s,!1).getAll();return new Di(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),oj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),pT=cj;var QW=rT("rcb"),YW=new Ei(3e4,6e4);function uj(t,e){return e?zn(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var tc=class extends Xa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function lj(t){return aT(t.auth,new tc(t),t.bypassAuthState)}function dj(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),GV(n,new tc(t),t.bypassAuthState)}function hj(t){return w(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),zV(n,new tc(t),t.bypassAuthState)})}var ry=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lj;case"linkViaPopup":case"linkViaRedirect":return hj;case"reauthViaPopup":case"reauthViaRedirect":return dj;default:fn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ZW=new Ei(2e3,1e4);var fj="pendingRedirect",hd=new Map,iy=class t extends ry{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=hd.get(this.auth._key());if(!e){try{let r=(yield pj(this.resolver,this.auth))?yield ir(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hd.set(this.auth._key(),e)}return this.bypassAuthState||hd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return ir(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ir(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function pj(t,e){return w(this,null,function*(){let n=yj(e),r=mj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function gj(t,e){hd.set(t._key(),e)}function mj(t){return zn(t._redirectPersistence)}function yj(t){return dd(fj,t.config.apiKey,t.name)}function vj(t,e,n=!1){return w(this,null,function*(){if(Kt(t.app))return Promise.reject(Gn(t));let r=Ci(t),i=uj(r,e),o=yield new iy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var _j=10*60*1e3,sy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ij(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_j&&this.cachedEventUids.clear(),this.cachedEventUids.has(P0(e))}saveEventToCache(e){this.cachedEventUids.add(P0(e)),this.lastProcessedEventTime=Date.now()}};function P0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Ij(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gT(t);default:return!1}}function wj(n){return w(this,arguments,function*(t,e={}){return Rr(t,"GET","/v1/projects",e)})}var Ej=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dj=/^https?/;function Cj(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield wj(t);for(let n of e)try{if(bj(n))return}catch{}fn(t,"unauthorized-domain")})}function bj(t){let e=Hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Dj.test(n))return!1;if(Ej.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Tj=new Ei(3e4,6e4);function O0(){let t=hn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sj(t){return new Promise((e,n)=>{var r,i,s;function o(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),n(wi(t,"network-request-failed"))},timeout:Tj.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hn().gapi)===null||s===void 0)&&s.load)o();else{let a=rT("iframefcb");return hn()[a]=()=>{gapi.load?o():n(wi(t,"network-request-failed"))},nT(`${xV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw fd=null,e})}var fd=null;function Aj(t){return fd=fd||Sj(t),fd}var Rj=new Ei(5e3,15e3),Mj="__/auth/iframe",Nj="emulator/auth/iframe",xj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oj(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?uy(e,Nj):`https://${t.config.authDomain}/${Mj}`,r={apiKey:e.apiKey,appName:t.name,v:br},i=Pj.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qa(r).slice(1)}`}function kj(t){return w(this,null,function*(){let e=yield Aj(t),n=hn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:Oj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xj,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=wi(t,"network-request-failed"),a=hn().setTimeout(()=>{s(o)},Rj.get());function u(){hn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Fj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lj=500,Vj=600,jj="_blank",Uj="http://localhost",Cd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Bj(t,e,n,r=Lj,i=Vj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Fj),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ze().toLowerCase();n&&(a=Q0(l)?jj:n),W0(l)&&(e=e||Uj,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(TV(l)&&a!=="_self")return $j(e||"",a),new Cd(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Cd(p)}function $j(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Hj="__/auth/handler",qj="emulator/auth/handler",zj=encodeURIComponent("fac");function k0(t,e,n,r,i,s){return w(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:br,eventId:i};if(e instanceof Id){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",s0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Xm){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${zj}=${encodeURIComponent(u)}`:"";return`${Gj(t)}?${qa(a).slice(1)}${l}`})}function Gj({config:t}){return t.emulator?uy(t,qj):`https://${t.authDomain}/${Hj}`}var $m="webStorageSupport",oy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ey,this._completeRedirectFn=vj,this._overrideRedirectResult=gj}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield k0(e,n,r,Hm(),i);return Bj(e,o,lT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield k0(e,n,r,Hm(),i);return XV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield kj(e),r=new sy(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[$m];o!==void 0&&n(!!o),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Cj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eT()||K0()||fy()}},mT=oy;var F0="@firebase/auth",L0="1.7.8";var ay=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Wj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kj(t){Cr(new Lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(t)},l=new Ym(r,i,s,u);return kV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new Lt("auth-internal",e=>{let n=Ci(e.getProvider("auth").getImmediate());return(r=>new ay(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(F0,L0,Wj(t)),Be(F0,L0,"esm2017")}var Qj=5*60,Yj=wm("authIdTokenMaxAge")||Qj,V0=null,Zj=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Yj)return;let i=n?.token;V0!==i&&(V0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Dy(t=$s()){let e=Wa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=py(t,{popupRedirectResolver:mT,persistence:[pT,uT,Ey]}),r=wm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Zj(s.toString());Iy(n,o,()=>o(n.currentUser)),_y(n,a=>o(a))}}let i=_m("auth");return i&&gy(n,`http://${i}`),n}function Jj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}MV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Jj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kj("Browser");var yT="auth",Wn=class{constructor(e){return e}},rc=class{constructor(){return Ka(yT)}};var Cy=new j("angularfire2.auth-instances");function $U(t,e){let n=ad(yT,t,e);return n&&new Wn(n)}function HU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wn(r)}}var qU={provide:rc,deps:[[new mt,Cy]]},zU={provide:Wn,useFactory:$U,deps:[[new mt,Cy],Hn]};function vT(t,...e){return Be("angularfire",_i.full,"auth"),an([zU,qU,{provide:Cy,useFactory:HU(t),multi:!0,deps:[we,gt,zs,Ii,[new mt,qs],...e]}])}var _T=Qt(yy,!0);var IT=Qt(Dy,!0);var wT=Qt(vy,!0);var ET=Qt(wy,!0);var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bT={};var Mr,by;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,C,T){for(var I=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)I[wn-2]=arguments[wn];return y.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],C=D.g[2];var T=D.g[3],I=y+(T^_&(C^T))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[2]+606105819&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[6]+2821735955&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[10]+4294925233&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[14]+2792965006&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^T&(_^C))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[11]+643717713&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[15]+3634488961&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[3]+4107603335&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[7]+1735328473&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^T)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[11]+1839030562&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[7]+4139469664&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[3]+3572445317&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[15]+530742520&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~T))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[14]+2878612391&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[10]+4293915773&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[6]+2734768916&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[2]+718787259&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<y;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==y||(_[C]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),I=parseInt(D.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var C=ce(_,y).g;_=F(_,C.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=C,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,C=0;C<=y;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),I=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=I>>>16,T&=65535,I&=65535,_[C]=I<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,I=this.i(E)&65535,wn=D.i(C)>>>16,_o=D.i(C)&65535;_[2*E+2*C]+=I*_o,U(_,2*E+2*C),_[2*E+2*C+1]+=T*_o,U(_,2*E+2*C+1),_[2*E+2*C+1]+=I*wn,U(_,2*E+2*C+1),_[2*E+2*C+2]+=T*wn,U(_,2*E+2*C+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function U(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function q(D,y){this.g=D,this.h=y}function ce(D,y){if(S(y))throw Error("division by zero");if(S(D))return new q(p,p);if(M(D))return y=ce(R(D),y),new q(R(y.g),R(y.h));if(M(y))return y=ce(D,R(y)),new q(R(y.g),y.h);if(30<D.g.length){if(M(D)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Re(_),E=Re(E);var C=J(_,1),T=J(E,1);for(E=J(E,2),_=J(_,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(C=C.add(_),T=I),E=J(E,1),_=J(_,1)}return y=F(D,C.j(y)),new q(C,y)}for(C=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(y);M(I)||0<I.l(D);)_-=E,T=l(_),I=T.j(y);S(T)&&(T=m),C=C.add(T),D=F(D,I)}return new q(C,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Re(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function J(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,C=[],T=0;T<E;T++)C[T]=0<y?D.i(T+_)>>>y|D.i(T+_+1)<<32-y:D.i(T+_);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,by=bT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Mr=bT.Integer=o}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kn={};var Ty,Sy,Ks,Ay,ic,Ad,Ry,My,Ny;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sd=="object"&&Sd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var P=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)P[Ee-2]=arguments[Ee];return d.prototype[b].apply(g,P)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let P=0;P<A;P++)c[b+P]=g[P]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Re=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function J(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Ch;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class wn{constructor(){this.h=this.g=null}add(d,f){let g=_o.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var _o=new F(()=>new EA,c=>c.reset());class EA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Io,wo=!1,Ch=new wn,O_=()=>{let c=a.Promise.resolve(void 0);Io=()=>{c.then(DA)}};var DA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=_o;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}wo=!1};function er(){this.s=this.s,this.C=this.C}er.prototype.s=!1,er.prototype.ma=function(){this.s||(this.s=!0,this.N())},er.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var CA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Eo(c,d){if(Je.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{ce(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Eo.aa.h.call(this)}}S(Eo,Je);var bA={2:"touch",3:"pen",4:"mouse"};Eo.prototype.h=function(){Eo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Do="closure_listenable_"+(1e6*Math.random()|0),TA=0;function SA(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++TA,this.da=this.fa=!1}function Ac(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rc(c){this.src=c,this.g={},this.h=0}Rc.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Th(c,d,g,b);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new SA(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function bh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Ac(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Th(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var Sh="closure_lm_"+(1e6*Math.random()|0),Ah={};function k_(c,d,f,g,b){if(g&&g.once)return L_(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)k_(c,d[A],f,g,b);return null}return f=xh(f),c&&c[Do]?c.K(d,f,l(g)?!!g.capture:!!g,b):F_(c,d,f,!1,g,b)}function F_(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,Ee=Mh(c);if(Ee||(c[Sh]=Ee=new Rc(c)),f=Ee.add(d,f,g,P,A),f.proxy)return f;if(g=AA(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)CA||(b=P),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(j_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function AA(){function c(f){return d.call(c.src,c.listener,f)}let d=RA;return c}function L_(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)L_(c,d[A],f,g,b);return null}return f=xh(f),c&&c[Do]?c.L(d,f,l(g)?!!g.capture:!!g,b):F_(c,d,f,!0,g,b)}function V_(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)V_(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=xh(f),c&&c[Do]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Th(A,f,g,b),-1<f&&(Ac(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Mh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Th(d,f,g,b)),(f=-1<c?d[c]:null)&&Rh(f))}function Rh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Do])bh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(j_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Mh(d))?(bh(f,c),f.h==0&&(f.src=null,d[Sh]=null)):Ac(c)}}}function j_(c){return c in Ah?Ah[c]:Ah[c]="on"+c}function RA(c,d){if(c.da)c=!0;else{d=new Eo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Rh(c),c=f.call(g,d)}return c}function Mh(c){return c=c[Sh],c instanceof Rc?c:null}var Nh="__closure_events_fn_"+(1e9*Math.random()>>>0);function xh(c){return typeof c=="function"?c:(c[Nh]||(c[Nh]=function(d){return c.handleEvent(d)}),c[Nh])}function Xe(){er.call(this),this.i=new Rc(this),this.M=this,this.F=null}S(Xe,er),Xe.prototype[Do]=!0,Xe.prototype.removeEventListener=function(c,d,f,g){V_(this,c,d,f,g)};function ut(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Je(d,c);else if(d instanceof Je)d.target=d.target||c;else{var b=d;d=new Je(g,c),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];b=Mc(P,g,!0,d)&&b}if(P=d.g=c,b=Mc(P,g,!0,d)&&b,b=Mc(P,g,!1,d)&&b,f)for(A=0;A<f.length;A++)P=d.g=f[A],b=Mc(P,g,!1,d)&&b}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Ac(f[g]);delete c.g[d],c.h--}}this.F=null},Xe.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Xe.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Mc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Ee=P.listener,We=P.ha||P.src;P.fa&&bh(c.i,P),b=Ee.call(We,g)!==!1&&b}}return b&&!g.defaultPrevented}function U_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function B_(c){c.g=U_(()=>{c.g=null,c.i&&(c.i=!1,B_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class MA extends er{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:B_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Co(c){er.call(this),this.h=c,this.g={}}S(Co,er);var $_=[];function H_(c){J(c.g,function(d,f){this.g.hasOwnProperty(f)&&Rh(d)},c),c.g={}}Co.prototype.N=function(){Co.aa.N.call(this),H_(this)},Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ph=a.JSON.stringify,NA=a.JSON.parse,xA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Oh(){}Oh.prototype.h=null;function q_(c){return c.h||(c.h=c.i())}function z_(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kh(){Je.call(this,"d")}S(kh,Je);function Fh(){Je.call(this,"c")}S(Fh,Je);var kr={},G_=null;function Nc(){return G_=G_||new Xe}kr.La="serverreachability";function W_(c){Je.call(this,kr.La,c)}S(W_,Je);function To(c){let d=Nc();ut(d,new W_(d))}kr.STAT_EVENT="statevent";function K_(c,d){Je.call(this,kr.STAT_EVENT,c),this.stat=d}S(K_,Je);function lt(c){let d=Nc();ut(d,new K_(d,c))}kr.Ma="timingevent";function Q_(c,d){Je.call(this,kr.Ma,c),this.size=d}S(Q_,Je);function So(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ao(){this.g=!0}Ao.prototype.xa=function(){this.g=!1};function PA(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var P="",Ee=A.split("&"),We=0;We<Ee.length;We++){var ve=Ee[We].split("=");if(1<ve.length){var et=ve[0];ve=ve[1];var tt=et.split("_");P=2<=tt.length&&tt[1]=="type"?P+(et+"="+ve+"&"):P+(et+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+P})}function OA(c,d,f,g,b,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+P})}function Li(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+FA(c,f)+(g?" "+g:"")})}function kA(c,d){c.info(function(){return"TIMEOUT: "+d})}Ao.prototype.info=function(){};function FA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return Ph(f)}catch{return d}}var xc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Y_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lh;function Pc(){}S(Pc,Oh),Pc.prototype.g=function(){return new XMLHttpRequest},Pc.prototype.i=function(){return{}},Lh=new Pc;function tr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Z_}function Z_(){this.i=null,this.g="",this.h=!1}var J_={},Vh={};function jh(c,d,f){c.L=1,c.v=Lc(En(d)),c.m=f,c.P=!0,X_(c,null)}function X_(c,d){c.F=Date.now(),Oc(c),c.A=En(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),fI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Z_,c.g=NI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new MA(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&($_[0]=b.toString()),b=$_);for(var A=0;A<b.length;A++){var P=k_(f,b[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),To(),PA(c.i,c.u,c.A,c.l,c.R,c.m)}tr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Dn(c)==3?d.j():this.Y(c)},tr.prototype.Y=function(c){try{if(c==this.g)e:{let tt=Dn(this.g);var d=this.g.Ba();let Ui=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||II(this.g)))){this.J||tt!=4||d==7||(d==8||0>=Ui?To(3):To(2)),Uh(this);var f=this.g.Z();this.X=f;t:if(eI(this)){var g=II(this.g);c="";var b=g.length,A=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),Ro(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,OA(this.i,this.u,this.A,this.l,this.R,tt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,We=this.g;if((Ee=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ee)){var ve=Ee;break t}}ve=null}if(f=ve)Li(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bh(this,f);else{this.o=!1,this.s=3,lt(12),Fr(this),Ro(this);break e}}if(this.P){f=!0;let jt;for(;!this.J&&this.C<P.length;)if(jt=LA(this,P),jt==Vh){tt==4&&(this.s=4,lt(14),f=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==J_){this.s=4,lt(15),Li(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Li(this.i,this.l,jt,null),Bh(this,jt);if(eI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||P.length!=0||this.h.h||(this.s=1,lt(16),f=!1),this.o=this.o&&f,!f)Li(this.i,this.l,P,"[Invalid Chunked Response]"),Fr(this),Ro(this);else if(0<P.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Wh(et),et.M=!0,lt(11))}}else Li(this.i,this.l,P,null),Bh(this,P);tt==4&&Fr(this),this.o&&!this.J&&(tt==4?SI(this.j,this):(this.o=!1,Oc(this)))}else eR(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Fr(this),Ro(this)}}}catch{}finally{}};function eI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function LA(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Vh:(f=Number(d.substring(f,g)),isNaN(f)?J_:(g+=1,g+f>d.length?Vh:(d=d.slice(g,g+f),c.C=g+f,d)))}tr.prototype.cancel=function(){this.J=!0,Fr(this)};function Oc(c){c.S=Date.now()+c.I,tI(c,c.I)}function tI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=So(m(c.ba,c),d)}function Uh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}tr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(kA(this.i,this.A),this.L!=2&&(To(),lt(17)),Fr(this),this.s=2,Ro(this)):tI(this,this.S-c)};function Ro(c){c.j.G==0||c.J||SI(c.j,c)}function Fr(c){Uh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,H_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Bh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||$h(f.h,c))){if(!c.K&&$h(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)$c(f),Uc(f);else break e;Gh(f),lt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=So(m(f.Za,f),6e3));if(1>=iI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Vr(f,11)}else if((c.K||f.g==c)&&$c(f),!U(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let et=ve[3];et!=null&&(f.la=et,f.j.info("VER="+f.la));let tt=ve[4];tt!=null&&(f.Aa=tt,f.j.info("SVER="+f.Aa));let Ui=ve[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(g=1.5*Ui,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let jt=c.g;if(jt){let qc=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qc){var A=g.h;A.g||qc.indexOf("spdy")==-1&&qc.indexOf("quic")==-1&&qc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Hh(A,A.h),A.h=null))}if(g.D){let Kh=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Kh&&(g.ya=Kh,Te(g.I,g.D,Kh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=MI(g,g.J?g.ia:null,g.W),P.K){sI(g.h,P);var Ee=P,We=g.L;We&&(Ee.I=We),Ee.B&&(Uh(Ee),Oc(Ee)),g.g=P}else bI(g);0<f.i.length&&Bc(f)}else ve[0]!="stop"&&ve[0]!="close"||Vr(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Vr(f,7):zh(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}To(4)}catch{}}var VA=class{constructor(c,d){this.g=c,this.map=d}};function nI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function iI(c){return c.h?1:c.g?c.g.size:0}function $h(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Hh(c,d){c.g?c.g.add(d):c.h=d}function sI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}nI.prototype.cancel=function(){if(this.i=oI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function oI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function jA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function UA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function aI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=UA(c),g=jA(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var cI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Lr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lr){this.h=c.h,kc(this,c.j),this.o=c.o,this.g=c.g,Fc(this,c.s),this.l=c.l;var d=c.i,f=new xo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),uI(this,f),this.m=c.m}else c&&(d=String(c).match(cI))?(this.h=!1,kc(this,d[1]||"",!0),this.o=Mo(d[2]||""),this.g=Mo(d[3]||"",!0),Fc(this,d[4]),this.l=Mo(d[5]||"",!0),uI(this,d[6]||"",!0),this.m=Mo(d[7]||"")):(this.h=!1,this.i=new xo(null,this.h))}Lr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(No(d,lI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(No(d,lI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(No(f,f.charAt(0)=="/"?qA:HA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",No(f,GA)),c.join("")};function En(c){return new Lr(c)}function kc(c,d,f){c.j=f?Mo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Fc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function uI(c,d,f){d instanceof xo?(c.i=d,WA(c.i,c.h)):(f||(d=No(d,zA)),c.i=new xo(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function Lc(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function No(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,$A),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $A(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lI=/[#\/\?@]/g,HA=/[#\?:]/g,qA=/[#\?]/g,zA=/[#\?@]/g,GA=/#/g;function xo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function nr(c){c.g||(c.g=new Map,c.h=0,c.i&&BA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=xo.prototype,t.add=function(c,d){nr(this),this.i=null,c=Vi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function dI(c,d){nr(c),d=Vi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function hI(c,d){return nr(c),d=Vi(c,d),c.g.has(d)}t.forEach=function(c,d){nr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){nr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(c){nr(this);let d=[];if(typeof c=="string")hI(this,c)&&(d=d.concat(this.g.get(Vi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return nr(this),this.i=null,c=Vi(this,c),hI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function fI(c,d,f){dI(c,d),0<f.length&&(c.i=null,c.g.set(Vi(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=A;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),c.push(b)}}return this.i=c.join("&")};function Vi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function WA(c,d){d&&!c.j&&(nr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(dI(this,g),fI(this,b,f))},c)),c.j=d}function KA(c,d){let f=new Ao;if(a.Image){let g=new Image;g.onload=v(rr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(rr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(rr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(rr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function QA(c,d){let f=new Ao,g=new AbortController,b=setTimeout(()=>{g.abort(),rr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?rr(f,"TestPingServer: ok",!0,d):rr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),rr(f,"TestPingServer: error",!1,d)})}function rr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function YA(){this.g=new xA}function ZA(c,d,f){let g=f||"";try{aI(c,function(b,A){let P=b;l(b)&&(P=Ph(b)),d.push(g+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Po(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Po,Oh),Po.prototype.g=function(){return new Vc(this.l,this.j)},Po.prototype.i=function(c){return function(){return c}}({});function Vc(c,d){Xe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Vc,Xe),t=Vc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ko(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ko(this)),this.g&&(this.readyState=3,ko(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Oo(this):ko(this),this.readyState==3&&pI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Oo(this))},t.Qa=function(c){this.g&&(this.response=c,Oo(this))},t.ga=function(){this.g&&Oo(this)};function Oo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ko(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ko(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gI(c){let d="";return J(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function qh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=gI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Me(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,Xe);var JA=/^https?$/i,XA=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lh.g(),this.v=this.o?q_(this.o):q_(Lh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){mI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(XA,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_I(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){mI(this,A)}};function mI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,yI(c),jc(c)}function yI(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ut(this,"complete"),ut(this,"abort"),jc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vI(this):this.bb())},t.bb=function(){vI(this)};function vI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)U_(c.Ea,0,c);else if(ut(c,"readystatechange"),Dn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var b=String(c.D).match(cI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!JA.test(b?b.toLowerCase():"")}f=g}if(f)ut(c,"complete"),ut(c,"success");else{c.m=6;try{var A=2<Dn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",yI(c)}}finally{jc(c)}}}}function jc(c,d){if(c.g){_I(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ut(c,"ready");try{f.onreadystatechange=g}catch{}}}function _I(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),NA(d)}};function II(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eR(c){let d={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(U(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function wI(c){this.Aa=0,this.i=[],this.j=new Ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fo("baseRetryDelayMs",5e3,c),this.cb=Fo("retryDelaySeedMs",1e4,c),this.Wa=Fo("forwardChannelMaxRetries",2,c),this.wa=Fo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new nI(c&&c.concurrentRequestLimit),this.Da=new YA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){lt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=MI(this,null,this.W),Bc(this)};function zh(c){if(EI(c),c.G==3){var d=c.U++,f=En(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),Lo(c,f),d=new tr(c,c.j,d),d.L=2,d.v=Lc(En(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=NI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Oc(d)}RI(c)}function Uc(c){c.g&&(Wh(c),c.g.cancel(),c.g=null)}function EI(c){Uc(c),c.u&&(a.clearTimeout(c.u),c.u=null),$c(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Bc(c){if(!rI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Io||O_(),wo||(Io(),wo=!0),Ch.add(d,c),c.B=0}}function tR(c,d){return iI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=So(m(c.Ga,c,d),AI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new tr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=CI(this,b,d),f=En(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),Lo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(gI(A)))+"&"+d:this.m&&qh(f,this.m,A)),Hh(this.h,b),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),b.T=!0,jh(b,f,null)):jh(b,f,d),this.G=2}}else this.G==3&&(c?DI(this,c):this.i.length==0||rI(this.h)||DI(this))};function DI(c,d){var f;d?f=d.l:f=c.U++;let g=En(c.I);Te(g,"SID",c.K),Te(g,"RID",f),Te(g,"AID",c.T),Lo(c,g),c.m&&c.o&&qh(g,c.m,c.o),f=new tr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=CI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hh(c.h,f),jh(f,g,d)}function Lo(c,d){c.H&&J(c.H,function(f,g){Te(d,g,f)}),c.l&&aI({},function(f,g){Te(d,g,f)})}function CI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ee=!0;for(let We=0;We<f;We++){let ve=b[We].g,et=b[We].map;if(ve-=A,0>ve)A=Math.max(0,b[We].g-100),Ee=!1;else try{ZA(et,P,"req"+ve+"_")}catch{g&&g(et)}}if(Ee){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function bI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Io||O_(),wo||(Io(),wo=!0),Ch.add(d,c),c.v=0}}function Gh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=So(m(c.Fa,c),AI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,TI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=So(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Uc(this),TI(this))};function Wh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function TI(c){c.g=new tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=En(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),Lo(c,d),c.m&&c.o&&qh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Lc(En(d)),f.m=null,f.P=!0,X_(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Uc(this),Gh(this),lt(19))};function $c(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function SI(c,d){var f=null;if(c.g==d){$c(c),Wh(c),c.g=null;var g=2}else if($h(c.h,d))f=d.D,sI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Nc(),ut(g,new Q_(g,f)),Bc(c)}else bI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&tR(c,d)||g==2&&Gh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Vr(c,5);break;case 4:Vr(c,10);break;case 3:Vr(c,6);break;default:Vr(c,2)}}}function AI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Vr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Lr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kc(g,"https"),Lc(g),b?KA(g.toString(),f):QA(g.toString(),f)}else lt(2);c.G=0,c.l&&c.l.sa(d),RI(c),EI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function RI(c){if(c.G=0,c.ka=[],c.l){let d=oI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function MI(c,d,f){var g=f instanceof Lr?En(f):new Lr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Fc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Lr(null);g&&kc(A,g),d&&(A.g=d),b&&Fc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Te(g,f,d),Te(g,"VER",c.la),Lo(c,g),g}function NI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new Po({eb:f})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xI(){}t=xI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hc(){}Hc.prototype.g=function(c,d){return new wt(c,d)};function wt(c,d){Xe.call(this),this.g=new wI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ji(this)}S(wt,Xe),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){zh(this.g)},wt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Ph(c),c=f);d.i.push(new VA(d.Ya++,c)),d.G==3&&Bc(d)},wt.prototype.N=function(){this.g.l=null,delete this.j,zh(this.g),delete this.g,wt.aa.N.call(this)};function PI(c){kh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(PI,kh);function OI(){Fh.call(this),this.status=1}S(OI,Fh);function ji(c){this.g=c}S(ji,xI),ji.prototype.ua=function(){ut(this.g,"a")},ji.prototype.ta=function(c){ut(this.g,new PI(c))},ji.prototype.sa=function(c){ut(this.g,new OI)},ji.prototype.ra=function(){ut(this.g,"b")},Hc.prototype.createWebChannel=Hc.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,Ny=Kn.createWebChannelTransport=function(){return new Hc},My=Kn.getStatEventTarget=function(){return Nc()},Ry=Kn.Event=kr,Ad=Kn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xc.NO_ERROR=0,xc.TIMEOUT=8,xc.HTTP_ERROR=6,ic=Kn.ErrorCode=xc,Y_.COMPLETE="complete",Ay=Kn.EventType=Y_,z_.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Ks=Kn.WebChannel=z_,Sy=Kn.FetchXmlHttpFactory=Po,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Ty=Kn.XhrIo=Me}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});var TT="@firebase/firestore";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var mo="10.13.1";var Ri=new Er("@firebase/firestore");function sc(){return Ri.logLevel}function L(t,...e){if(Ri.logLevel<=he.DEBUG){let n=e.map(p_);Ri.debug(`Firestore (${mo}): ${t}`,...n)}}function Yn(t,...e){if(Ri.logLevel<=he.ERROR){let n=e.map(p_);Ri.error(`Firestore (${mo}): ${t}`,...n)}}function to(t,...e){if(Ri.logLevel<=he.WARN){let n=e.map(p_);Ri.warn(`Firestore (${mo}): ${t}`,...n)}}function p_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: `+t;throw Yn(e),new Error(e)}function be(t,e){t||K()}function Z(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends St{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Pd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Fy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},Ly=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Vy=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new Pd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ge(e)}},jy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Uy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},By=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$y=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new By(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function GU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Od=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=GU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function no(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ze(0,0))}static max(){return new t(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var kd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends kd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},WU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,At=class t extends kd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return WU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Hy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Hy.UNKNOWN_ID=-1;function KU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new Mi(i,H.empty(),e)}function QU(t){return new Mi(t.readTime,t.key,-1)}var Mi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),H.empty(),-1)}static max(){return new t(ne.max(),H.empty(),-1)}};function YU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var ZU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Dc(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==ZU)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function JU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(t){return t.name==="IndexedDbTransactionError"}var iS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function lh(t){return t==null}function hc(t){return t===0&&1/t==-1/0}function XU(t){return typeof t=="number"&&Number.isInteger(t)&&!hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var e2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],G6=[...e2,"documentOverlays"],t2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],n2=t2,r2=[...n2,"indexConfiguration","indexState","indexEntries"];var W6=[...r2,"globals"];function ST(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Js(this.root,e,this.comparator,!1)}getReverseIterator(){return new Js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Js(this.root,e,this.comparator,!0)}},Js=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fd(this.data.getIterator())}getIteratorFrom(e){return new Fd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Fd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gn=class t{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new t([])}unionWith(e){let n=new at(At.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ld=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ld("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var i2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zn(t){if(be(!!t),typeof t=="string"){let e=0,n=i2.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}function g_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function m_(t){let e=t.mapValue.fields.__previous_value__;return g_(e)?m_(e):e}function fc(t){let e=Zn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}var zy=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Vd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Rd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?g_(t)?4:aS(t)?9007199254740991:oS(t)?10:11:K()}function _n(t,e){if(t===e)return!0;let n=Ni(t);if(n!==Ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Zn(i.timestampValue),a=Zn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xr(i.bytesValue).isEqual(xr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Se(i.doubleValue),a=Se(s.doubleValue);return o===a?hc(o)===hc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return no(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ST(o)!==ST(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!_n(o[u],a[u])))return!1;return!0}(t,e);default:return K()}}function pc(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function ro(t,e){if(t===e)return 0;let n=Ni(t),r=Ni(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return AT(t.timestampValue,e.timestampValue);case 4:return AT(fc(t),fc(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){let a=xr(s),u=xr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=_e(a[l],u[l]);if(h!==0)return h}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=_e(Se(s.latitude),Se(o.latitude));return a!==0?a:_e(Se(s.longitude),Se(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return RT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=_e(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:RT(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Rd.mapValue&&o===Rd.mapValue)return 0;if(s===Rd.mapValue)return 1;if(o===Rd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=_e(u[p],h[p]);if(m!==0)return m;let v=ro(a[u[p]],l[h[p]]);if(v!==0)return v}return _e(u.length,h.length)}(t.mapValue,e.mapValue);default:throw K()}}function AT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=Zn(t),r=Zn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function RT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ro(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function io(t){return Gy(t)}function Gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Gy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Gy(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function Wy(t){return!!t&&"integerValue"in t}function y_(t){return!!t&&"arrayValue"in t}function MT(t){return!!t&&"nullValue"in t}function NT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nd(t){return!!t&&"mapValue"in t}function oS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ac(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ac(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ac(this.value))}};function cS(t){let e=[];return yo(t.fields,(n,r)=>{let i=new At([n]);if(Nd(r)){let s=cS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new gn(e)}var Zt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var so=class{constructor(e,n){this.position=e,this.inclusive=n}};function xT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}var oo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function s2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var jd=class{},$e=class t extends jd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qy(e,n,r):n==="array-contains"?new Jy(e,r):n==="in"?new Xy(e,r):n==="not-in"?new ev(e,r):n==="array-contains-any"?new tv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yy(e,r):new Zy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ro(n,this.value)):n!==null&&Ni(this.value)===Ni(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},In=class t extends jd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return uS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function uS(t){return t.op==="and"}function lS(t){return o2(t)&&uS(t)}function o2(t){for(let e of t.filters)if(e instanceof In)return!1;return!0}function Ky(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+io(t.value);if(lS(t))return t.filters.map(e=>Ky(e)).join(",");{let e=t.filters.map(n=>Ky(n)).join(",");return`${t.op}(${e})`}}function dS(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)}(t,e):t instanceof In?function(r,i){return i instanceof In&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&dS(o,i.filters[a]),!0):!1}(t,e):void K()}function hS(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(hS).join(" ,")+"}"}(t):"Filter"}var Qy=class extends $e{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Yy=class extends $e{constructor(e,n){super(e,"in",n),this.keys=fS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Zy=class extends $e{constructor(e,n){super(e,"not-in",n),this.keys=fS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function fS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Jy=class extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return y_(n)&&pc(n.arrayValue,this.value)}},Xy=class extends $e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}},ev=class extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!pc(this.value.arrayValue,n)}},tv=class extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!y_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pc(this.value.arrayValue,r))}};var nv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function OT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nv(t,e,n,r,i,s,o)}function v_(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ky(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>io(r)).join(",")),e.ue=n}return e.ue}function __(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PT(t.startAt,e.startAt)&&PT(t.endAt,e.endAt)}function rv(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ao=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function a2(t,e,n,r,i,s,o,a){return new ao(t,e,n,r,i,s,o,a)}function I_(t){return new ao(t)}function kT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c2(t){return t.collectionGroup!==null}function cc(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new oo(s,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new oo(At.keyField(),r))}return e.ce}function yn(t){let e=Z(t);return e.le||(e.le=u2(e,cc(t))),e.le}function u2(t,e){if(t.limitType==="F")return OT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new oo(i.field,s)});let n=t.endAt?new so(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new so(t.startAt.position,t.startAt.inclusive):null;return OT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iv(t,e,n){return new ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dh(t,e){return __(yn(t),yn(e))&&t.limitType===e.limitType}function pS(t){return`${v_(yn(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hS(i)).join(", ")}]`),lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>io(i)).join(",")),`Target(${r})`}(yn(t))}; limitType=${t.limitType})`}function hh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of cc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=xT(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,cc(r),i)||r.endAt&&!function(o,a,u){let l=xT(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,cc(r),i))}(t,e)}function l2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gS(t){return(e,n)=>{let r=!1;for(let i of cc(t)){let s=d2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function d2(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ro(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var Pr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return sS(this.inner)}size(){return this.innerSize}};var h2=new Oe(H.comparator);function Jn(){return h2}var mS=new Oe(H.comparator);function oc(...t){let e=mS;for(let n of t)e=e.insert(n.key,n);return e}function yS(t){let e=mS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return uc()}function vS(){return uc()}function uc(){return new Pr(t=>t.toString(),(t,e)=>t.isEqual(e))}var f2=new Oe(H.comparator),p2=new at(H.comparator);function fe(...t){let e=p2;for(let n of t)e=e.add(n);return e}var g2=new at(_e);function m2(){return g2}function w_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function _S(t){return{integerValue:""+t}}function y2(t,e){return XU(e)?_S(e):w_(t,e)}var co=class{constructor(){this._=void 0}};function v2(t,e,n){return t instanceof uo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&g_(s)&&(s=m_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xi?wS(t,e):t instanceof Pi?ES(t,e):function(i,s){let o=IS(i,s),a=FT(o)+FT(i.Pe);return Wy(o)&&Wy(i.Pe)?_S(a):w_(i.serializer,a)}(t,e)}function _2(t,e,n){return t instanceof xi?wS(t,e):t instanceof Pi?ES(t,e):n}function IS(t,e){return t instanceof lo?function(r){return Wy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var uo=class extends co{},xi=class extends co{constructor(e){super(),this.elements=e}};function wS(t,e){let n=DS(e);for(let r of t.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}var Pi=class extends co{constructor(e){super(),this.elements=e}};function ES(t,e){let n=DS(e);for(let r of t.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}var lo=class extends co{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function FT(t){return Se(t.integerValue||t.doubleValue)}function DS(t){return y_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function I2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xi&&i instanceof xi||r instanceof Pi&&i instanceof Pi?no(r.elements,i.elements,_n):r instanceof lo&&i instanceof lo?_n(r.Pe,i.Pe):r instanceof uo&&i instanceof uo}(t.transform,e.transform)}var sv=class{constructor(e,n){this.version=e,this.transformResults=n}},Ai=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ho=class{};function CS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ud(t.key,Ai.none()):new Oi(t.key,t.data,Ai.none());{let n=t.data,r=Yt.empty(),i=new at(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xn(t.key,r,new gn(i.toArray()),Ai.none())}}function w2(t,e,n){t instanceof Oi?function(i,s,o){let a=i.value.clone(),u=VT(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xn?function(i,s,o){if(!xd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=VT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(bS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lc(t,e,n,r){return t instanceof Oi?function(s,o,a,u){if(!xd(s.precondition,o))return a;let l=s.value.clone(),h=jT(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xn?function(s,o,a,u){if(!xd(s.precondition,o))return a;let l=jT(s.fieldTransforms,u,o),h=o.data;return h.setAll(bS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return xd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function E2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=IS(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function LT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&no(r,i,(s,o)=>I2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Oi=class extends ho{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xn=class extends ho{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function bS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function VT(t,e,n){let r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_2(o,a,n[i]))}return r}function jT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,v2(s,o,e))}return r}var Ud=class extends ho{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ov=class extends ho{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var av=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&w2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=vS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=CS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(n,r)=>LT(n,r))&&no(this.baseMutations,e.baseMutations,(n,r)=>LT(n,r))}},cv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return f2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var uv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Fe,ye;function D2(t){switch(t){default:return K();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function TS(t){if(t===void 0)return Yn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Fe.OK:return N.OK;case Fe.CANCELLED:return N.CANCELLED;case Fe.UNKNOWN:return N.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return N.INTERNAL;case Fe.UNAVAILABLE:return N.UNAVAILABLE;case Fe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Fe.NOT_FOUND:return N.NOT_FOUND;case Fe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Fe.ABORTED:return N.ABORTED;case Fe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Fe.DATA_LOSS:return N.DATA_LOSS;default:return K()}}(ye=Fe||(Fe={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var UT=null;function C2(){return new TextEncoder}var b2=new Mr([4294967295,4294967295],0);function BT(t){let e=C2().encode(t),n=new by;return n.update(e),new Uint8Array(n.digest())}function $T(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mr([n,r],0),new Mr([i,s],0)]}var dv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ti(`Invalid padding: ${n}`);if(r<0)throw new Ti(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ti(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ti(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Mr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Mr.fromNumber(r)));return i.compare(b2)===1&&(i=new Mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=BT(e),[r,i]=$T(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=BT(e),[r,i]=$T(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ti=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Bd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Oe(_e),Jn(),fe())}},gc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var Xs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},$d=class{constructor(e,n){this.targetId=e,this.me=n}},Hd=class{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},qd=class{constructor(){this.fe=0,this.ge=qT(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new gc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=qT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},hv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Jn(),this.qe=HT(),this.Qe=new Oe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(rv(s))if(r===0){let o=new H(s.path);this.Ue(n,o,Zt.newNoDocument(o,ne.min()))}else be(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}UT?.et(function(h,p,m,v,S){var M,R,F,U,q,ce;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},J=p.unchangedNames;return J&&(Re.bloomFilter={applied:S===0,hashCount:(M=J?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(U=(F=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&U!==void 0?U:0,padding:(ce=(q=J?.bits)===null||q===void 0?void 0:q.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Re}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=xr(r).toUint8Array()}catch(u){if(u instanceof Ld)return to("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dv(o,i,s)}catch(u){return to(u instanceof Ti?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&rv(a.target)){let u=new H(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Zt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=fe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Bd(e,n,this.Qe,this.ke,r);return this.ke=Jn(),this.qe=HT(),this.Qe=new Oe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new qd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function HT(){return new Oe(H.comparator)}function qT(){return new Oe(H.comparator)}var T2={asc:"ASCENDING",desc:"DESCENDING"},S2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A2={and:"AND",or:"OR"},fv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function pv(t,e){return t.useProto3Json||lh(e)?e:{value:e}}function zd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R2(t,e){return zd(t,e.toTimestamp())}function vn(t){return be(!!t),ne.fromTimestamp(function(n){let r=Zn(n);return new Ze(r.seconds,r.nanos)}(t))}function E_(t,e){return gv(t,e).canonicalString()}function gv(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AS(t){let e=Pe.fromString(t);return be(PS(e)),e}function mv(t,e){return E_(t.databaseId,e.path)}function xy(t,e){let n=AS(e);if(n.get(1)!==t.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(MS(n))}function RS(t,e){return E_(t.databaseId,e)}function M2(t){let e=AS(t);return e.length===4?Pe.emptyPath():MS(e)}function yv(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MS(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zT(t,e,n){return{name:mv(t,e),fields:n.value.mapValue.fields}}function N2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(be(h===void 0||typeof h=="string"),ct.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?N.UNKNOWN:TS(l.code);return new V(h,l.message||"")}(o);n=new Hd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=xy(t,r.document.name),s=vn(r.document.updateTime),o=r.document.createTime?vn(r.document.createTime):ne.min(),a=new Yt({mapValue:{fields:r.document.fields}}),u=Zt.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Xs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=xy(t,r.document),s=r.readTime?vn(r.readTime):ne.min(),o=Zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=xy(t,r.document),s=r.removedTargetIds||[];n=new Xs([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new lv(i,s),a=r.targetId;n=new $d(a,o)}}return n}function x2(t,e){let n;if(e instanceof Oi)n={update:zT(t,e.key,e.value)};else if(e instanceof Ud)n={delete:mv(t,e.key)};else if(e instanceof Xn)n={update:zT(t,e.key,e.data),updateMask:B2(e.fieldMask)};else{if(!(e instanceof ov))return K();n={verify:mv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof uo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:R2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function P2(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vn(i.updateTime):vn(s);return o.isEqual(ne.min())&&(o=vn(s)),new sv(o,i.transformResults||[])}(n,e))):[]}function O2(t,e){return{documents:[RS(t,e.path)]}}function k2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RS(t,i);let s=function(l){if(l.length!==0)return xS(In.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ys(m.field),direction:V2(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=pv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function F2(t){let e=M2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=NS(p);return m instanceof In&&lS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new oo(Zs(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,lh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new so(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new so(v,m)}(n.endAt)),a2(e,i,o,s,a,"F",u,l)}function L2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Zs(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Zs(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Zs(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Zs(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(r=>NS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function V2(t){return T2[t]}function j2(t){return S2[t]}function U2(t){return A2[t]}function Ys(t){return{fieldPath:t.canonicalString()}}function Zs(t){return At.fromServerFormat(t.fieldPath)}function xS(t){return t instanceof $e?function(n){if(n.op==="=="){if(NT(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NAN"}};if(MT(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NT(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NAN"}};if(MT(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(n.field),op:j2(n.op),value:n.value}}}(t):t instanceof In?function(n){let r=n.getFilters().map(i=>xS(i));return r.length===1?r[0]:{compositeFilter:{op:U2(n.op),filters:r}}}(t):K()}function B2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var mc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vv=class{constructor(e){this.ct=e}};function $2(t){let e=F2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iv(e,e.limit,"L"):e}var Gd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),hc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Zn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(xr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?aS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):oS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):K()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Gd.vt=new Gd;var _v=class{constructor(){this.un=new Iv}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Mi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Iv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Pe.comparator)).toArray()}};var Q6=new Uint8Array(0);var pn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);var yc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var wv=class{constructor(){this.changes=new Pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ev=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Dv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lc(r.mutation,i,gn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=oc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Jn(),o=uc(),a=function(){return uc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Xn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),lc(h.mutation,l,h.mutation.getFieldMask(),Ze.now())):o.set(l.key,gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Ev(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=uc(),i=new Oe((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||gn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=vS();h.forEach(m=>{if(!s.has(m)){let v=CS(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(bi()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:a,changes:yS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=oc();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new ao(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Zt.newInvalidDocument(h)))});let a=oc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&lc(h.mutation,l,gn.empty(),Ze.now()),hh(n,l)&&(a=a.insert(u,l))}),a})}};var Cv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:$2(i.bundledQuery),readTime:vn(i.readTime)}}(n)),x.resolve()}};var bv=class{constructor(){this.overlays=new Oe(H.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=bi();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=bi(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=bi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=bi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uv(n,r));let s=this.Ir.get(n);s===void 0&&(s=fe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Tv=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var vc=class{constructor(){this.Tr=new at(Le.Er),this.dr=new at(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Le(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Le(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new H(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new H(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=fe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Le(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||H.comparator(e.key,n.key)}};var Sv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(Le.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new av(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Le(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(_e);return n.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new Le(new H(s),0),a=new at(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Le(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Le(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Av=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Jn(),o=n.path,a=new H(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||YU(QU(h),r)<=0||(i.has(h.key)||hh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rv(this)}getSize(e){return x.resolve(this.size)}},Rv=class extends wv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Mv=class{constructor(e){this.persistence=e,this.Nr=new Pr(n=>v_(n),__),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vc,this.targetCount=0,this.kr=yc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new yc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Nv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new iS(0),this.Kr=!1,this.Kr=!0,this.$r=new Tv,this.referenceDelegate=e(this),this.Ur=new Mv(this),this.indexManager=new _v,this.remoteDocumentCache=function(i){return new Av(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vv(n),this.Gr=new Cv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Sv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new xv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},xv=class extends qy{constructor(e){super(),this.currentSequenceNumber=e}},Pv=class t{constructor(e){this.persistence=e,this.Jr=new vc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw K()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Ov=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var kv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Fv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return r0()?8:JU(ze())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new kv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(sc()<=he.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(sc()<=he.DEBUG&&L("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(sc()<=he.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(n))):x.resolve())}Yi(e,n){if(kT(n))return x.resolve(null);let r=yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iv(n,null,"F"),r=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=fe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,iv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return kT(n)||i.isEqual(ne.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(sc()<=he.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qs(n)),this.rs(e,o,n,KU(i,-1)).next(a=>a))})}ts(e,n){let r=new at(gS(e));return n.forEach((i,s)=>{hh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return sc()<=he.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Lv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(_e),this._s=new Pr(s=>v_(s),__),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function H2(t,e,n,r){return new Lv(t,e,n,r)}function OS(t,e){return w(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=fe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function q2(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);be(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kS(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function z2(t,e){let n=Z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ct.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=Jn(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(G2(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function G2(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Jn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function W2(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K2(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new mc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Vv(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Cc(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function GT(t,e,n){let r=Z(t),i=ne.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Z(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:fe())).next(a=>(Q2(r,l2(e),a),{documents:a,Ts:s})))}function Q2(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Wd=class{constructor(){this.activeTargetIds=m2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var jv=class{constructor(){this.so=new Wd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Uv=class{_o(e){}shutdown(){}};var Kd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Md=null;function Py(){return Md===null?Md=function(){return 268435456+Math.round(2147483648*Math.random())}():Md++,"0x"+Md.toString(16)}var Y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Bv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",$v=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Py(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(L("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw to("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Y2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Py();return new Promise((o,a)=>{let u=new Ty;u.setWithCredentials(!0),u.listenOnce(Ay.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ic.NO_ERROR:let h=u.getResponseJson();L(ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ic.TIMEOUT:L(ot,`RPC '${e}' ${s} timed out`),a(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:let p=u.getStatus();if(L(ot,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(v.status);a(new V(S,v.message))}else a(new V(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(N.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{L(ot,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(ot,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Py(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ny(),a=My(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Sy({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");L(ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,S=new Bv({Io:R=>{v?L(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(ot,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,U)=>{R.listen(F,q=>{try{U(q)}catch(ce){setTimeout(()=>{throw ce},0)}})};return M(p,Ks.EventType.OPEN,()=>{v||(L(ot,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,Ks.EventType.CLOSE,()=>{v||(v=!0,L(ot,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,Ks.EventType.ERROR,R=>{v||(v=!0,to(ot,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new V(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ks.EventType.MESSAGE,R=>{var F;if(!v){let U=R.data[0];be(!!U);let q=U,ce=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(ce){L(ot,`RPC '${e}' stream ${i} received error:`,ce);let Re=ce.status,J=function(_){let E=Fe[_];if(E!==void 0)return TS(E)}(Re),D=ce.message;J===void 0&&(J=N.INTERNAL,D="Unknown error status: "+Re+" with message "+ce.message),v=!0,S.So(new V(J,D)),p.close()}else L(ot,`RPC '${e}' stream ${i} received:`,U),S.bo(U)}}),M(a,Ry.STAT_EVENT,R=>{R.stat===Ad.PROXY?L(ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ad.NOPROXY&&L(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Oy(){return typeof document<"u"?document:null}function fh(t){return new fv(t,!0)}var Qd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Yd=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Qd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Yn(n.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Hv=class extends Yd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=N2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?vn(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=yv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=rv(u)?{documents:O2(s,u)}:{query:k2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SS(s,o.resumeToken);let l=pv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=zd(s,o.snapshotVersion.toTimestamp());let l=pv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=L2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=yv(this.serializer),n.removeTarget=e,this.a_(n)}},qv=class extends Yd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=P2(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=yv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>x2(this.serializer,r))};this.a_(n)}};var zv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,gv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,gv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Gv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yn(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Wv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){ki(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield bc(l),l.q_.set("Unknown"),l.L_.delete(4),yield ph(l)})}(this))}))}),this.q_=new Gv(r,i)}};function ph(t){return w(this,null,function*(){if(ki(t))for(let e of t.B_)yield e(!0)})}function bc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function FS(t,e){let n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),T_(n)?b_(n):vo(n).r_()&&C_(n,e))}function D_(t,e){let n=Z(t),r=vo(n);n.N_.delete(e),r.r_()&&LS(n,e),n.N_.size===0&&(r.r_()?r.o_():ki(n)&&n.q_.set("Unknown"))}function C_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(t).A_(e)}function LS(t,e){t.Q_.xe(e),vo(t).R_(e)}function b_(t){t.Q_=new hv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vo(t).start(),t.q_.v_()}function T_(t){return ki(t)&&!vo(t).n_()&&t.N_.size>0}function ki(t){return Z(t).L_.size===0}function VS(t){t.Q_=void 0}function Z2(t){return w(this,null,function*(){t.q_.set("Online")})}function J2(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{C_(t,e)})})}function X2(t,e){return w(this,null,function*(){VS(t),T_(t)?(t.q_.M_(e),b_(t)):t.q_.set("Unknown")})}function eB(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Hd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zd(t,r)}else if(e instanceof Xs?t.Q_.Ke(e):e instanceof $d?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield kS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ct.EMPTY_BYTE_STRING,h.snapshotVersion)),LS(s,u);let p=new mc(h.target,u,l,h.sequenceNumber);C_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield Zd(t,r)}})}function Zd(t,e,n){return w(this,null,function*(){if(!Cc(e))throw e;t.L_.add(1),yield bc(t),t.q_.set("Offline"),n||(n=()=>kS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield ph(t)}))})}function jS(t,e){return e().catch(n=>Zd(t,n,e))}function gh(t){return w(this,null,function*(){let e=Z(t),n=Or(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tB(e);)try{let i=yield W2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,nB(e,i)}catch(i){yield Zd(e,i)}US(e)&&BS(e)})}function tB(t){return ki(t)&&t.O_.length<10}function nB(t,e){t.O_.push(e);let n=Or(t);n.r_()&&n.V_&&n.m_(e.mutations)}function US(t){return ki(t)&&!Or(t).n_()&&t.O_.length>0}function BS(t){Or(t).start()}function rB(t){return w(this,null,function*(){Or(t).p_()})}function iB(t){return w(this,null,function*(){let e=Or(t);for(let n of t.O_)e.m_(n.mutations)})}function sB(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=cv.from(r,e,n);yield jS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield gh(t)})}function oB(t,e){return w(this,null,function*(){e&&Or(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return D2(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Or(r).s_(),yield jS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield gh(r)}})}(t,e)),US(t)&&BS(t)})}function WT(t,e){return w(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=ki(n);n.L_.add(3),yield bc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield ph(n)})}function aB(t,e){return w(this,null,function*(){let n=Z(t);e?(n.L_.delete(2),yield ph(n)):e||(n.L_.add(2),yield bc(n),n.q_.set("Unknown"))})}function vo(t){return t.K_||(t.K_=function(n,r,i){let s=Z(n);return s.w_(),new Hv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Z2.bind(null,t),Ro:J2.bind(null,t),mo:X2.bind(null,t),d_:eB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),T_(t)?b_(t):t.q_.set("Unknown")):(yield t.K_.stop(),VS(t))}))),t.K_}function Or(t){return t.U_||(t.U_=function(n,r,i){let s=Z(n);return s.w_(),new qv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rB.bind(null,t),mo:oB.bind(null,t),f_:iB.bind(null,t),g_:sB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield gh(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Kv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function S_(t,e){if(Yn("AsyncQueue",`${e}: ${t}`),Cc(t))return new V(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Jd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Xd=class{constructor(){this.W_=new Oe(H.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):K():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},fo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Jd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Qv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Yv=class{constructor(){this.queries=KT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Z(n),s=i.queries;i.queries=KT(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function KT(){return new Pr(t=>pS(t),dh)}function cB(t,e){return w(this,null,function*(){let n=Z(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Qv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=S_(o,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&A_(n)})}function uB(t,e){return w(this,null,function*(){let n=Z(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function lB(t,e){let n=Z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&A_(n)}function dB(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function A_(t){t.Y_.forEach(e=>{e.next()})}var Zv,QT;(QT=Zv||(Zv={})).ea="default",QT.Cache="cache";var Jv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zv.Cache}};var eh=class{constructor(e){this.key=e}},th=class{constructor(e){this.key=e}},Xv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=gS(e),this.Ra=new Jd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Xd,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=hh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return M(v)-M(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new fo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new th(r))}),this.da.forEach(r=>{e.has(r)||n.push(new eh(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},e_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},t_=class{constructor(e){this.key=e,this.va=!1}},n_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Pr(a=>pS(a),dh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(H.comparator),this.Na=new Map,this.La=new vc,this.Ba={},this.ka=new Map,this.qa=yc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function hB(t,e,n=!0){return w(this,null,function*(){let r=WS(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield $S(r,e,n,!0),i})}function fB(t,e){return w(this,null,function*(){let n=WS(t);yield $S(n,e,!0,!1)})}function $S(t,e,n,r){return w(this,null,function*(){let i=yield K2(t.localStore,yn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield pB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&FS(t.remoteStore,i),a})}function pB(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(M,R,F,U){return w(this,null,function*(){let q=R.view.ma(F);q.ns&&(q=yield GT(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,q)));let ce=U&&U.targetChanges.get(R.targetId),Re=U&&U.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(q,M.isPrimaryClient,ce,Re);return ZT(M,R.targetId,J.wa),J.snapshot})}(t,p,m,v);let s=yield GT(t.localStore,e,!0),o=new Xv(e,s.Ts),a=o.ma(s.documents),u=gc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);ZT(t,n,l.wa);let h=new e_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function gB(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!dh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&D_(r.remoteStore,i.targetId),r_(r,i.targetId)}).catch(Dc))):(r_(r,i.targetId),yield Vv(r.localStore,i.targetId,!0))})}function mB(t,e){return w(this,null,function*(){let n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),D_(n.remoteStore,r.targetId))})}function yB(t,e,n){return w(this,null,function*(){let r=CB(t);try{let i=yield function(o,a){let u=Z(o),l=Ze.now(),h=a.reduce((v,S)=>v.add(S.key),fe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Jn(),M=fe();return u.cs.getEntries(v,h).next(R=>{S=R,S.forEach((F,U)=>{U.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let F=[];for(let U of a){let q=E2(U,p.get(U.key).overlayedDocument);q!=null&&F.push(new Xn(U.key,q,cS(q.value.mapValue),Ai.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:yS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(_e)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Tc(r,i.changes),yield gh(r.remoteStore)}catch(i){let s=S_(i,"Failed to persist write");n.reject(s)}})}function HS(t,e){return w(this,null,function*(){let n=Z(t);try{let r=yield z2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?be(o.va):i.removedDocuments.size>0&&(be(o.va),o.va=!1))}),yield Tc(n,r,e)}catch(r){yield Dc(r)}})}function YT(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Z(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&A_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vB(t,e,n){return w(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(H.comparator);o=o.insert(s,Zt.newNoDocument(s,ne.min()));let a=fe().add(s),u=new Bd(ne.min(),new Map,new Oe(_e),o,a);yield HS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),R_(r)}else yield Vv(r.localStore,e,!1).then(()=>r_(r,e,n)).catch(Dc)})}function _B(t,e){return w(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield q2(n.localStore,e);zS(n,r,null),qS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Tc(n,i)}catch(i){yield Dc(i)}})}function IB(t,e,n){return w(this,null,function*(){let r=Z(t);try{let i=yield function(o,a){let u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);zS(r,e,n),qS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Tc(r,i)}catch(i){yield Dc(i)}})}function qS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function zS(t,e,n){let r=Z(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function r_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||GS(t,r)})}function GS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(D_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),R_(t))}function ZT(t,e,n){for(let r of n)r instanceof eh?(t.La.addReference(r.key,e),wB(t,r)):r instanceof th?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||GS(t,r.key)):K()}function wB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),R_(t))}function R_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new H(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new t_(n)),t.Oa=t.Oa.insert(n,r),FS(t.remoteStore,new mc(yn(I_(n.path)),r,"TargetPurposeLimboResolution",iS.oe))}}function Tc(t,e,n){return w(this,null,function*(){let r=Z(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Ov.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Cc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function EB(t,e){return w(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield OS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new V(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tc(n,r.hs)}})}function DB(t,e){let n=Z(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function WS(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vB.bind(null,e),e.Ca.d_=lB.bind(null,e.eventManager),e.Ca.$a=dB.bind(null,e.eventManager),e}function CB(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_B.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IB.bind(null,e),e}var nh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return H2(this.persistence,new Fv,e.initialUser,this.serializer)}createPersistence(e){return new Nv(Pv.Zr,this.serializer)}createSharedClientState(e){return new jv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var i_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EB.bind(null,this.syncEngine),yield aB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Yv}()}createDatastore(e){let n=fh(e.databaseInfo.databaseId),r=function(s){return new $v(s)}(e.databaseInfo);return function(s,o,a,u){return new zv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Wv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>YT(this.syncEngine,n,0),function(){return Kd.D()?new Kd:new Uv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new n_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Z(i);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield bc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var s_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var o_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=Od.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=S_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ky(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield OS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function JT(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield TB(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>WT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>WT(e.remoteStore,i)),t._onlineComponents=e})}function bB(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function TB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ky(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!bB(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),yield ky(t,new nh)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield ky(t,new nh);return t._offlineComponents})}function KS(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield JT(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield JT(t,new i_))),t._onlineComponents})}function SB(t){return KS(t).then(e=>e.syncEngine)}function XT(t){return w(this,null,function*(){let e=yield KS(t),n=e.eventManager;return n.onListen=hB.bind(null,e.syncEngine),n.onUnlisten=gB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mB.bind(null,e.syncEngine),n})}function QS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var eS=new Map;function YS(t,e,n){if(!n)throw new V(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AB(t,e,n,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tS(t){if(!H.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nS(t){if(H.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function M_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function dc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=M_(t);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var rh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},po=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fy;switch(r.type){case"firstParty":return new Uy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=eS.get(n);r&&(L("ComponentProvider","Removing Datastore"),eS.delete(n),r.terminate())}(this),Promise.resolve()}};function ZS(t,e,n,r={}){var i;let s=(t=dc(t,po))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ge.MOCK_USER;else{a=Jb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ge(l)}t._authCredentials=new Ly(new Pd(a,u))}}var ih=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Vt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Nr=class t extends ih{constructor(e,n,r){super(e,n,I_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function mh(t,e,...n){if(t=st(t),YS("collection","path",e),t instanceof po){let r=Pe.fromString(e,...n);return nS(r),new Nr(t,null,r)}{if(!(t instanceof Vt||t instanceof Nr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return nS(r),new Nr(t.firestore,null,r)}}function JS(t,e,...n){if(t=st(t),arguments.length===1&&(e=Od.newId()),YS("doc","path",e),t instanceof po){let r=Pe.fromString(e,...n);return tS(r),new Vt(t,null,new H(r))}{if(!(t instanceof Vt||t instanceof Nr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return tS(r),new Vt(t.firestore,t instanceof Nr?t.converter:null,new H(r))}}var a_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Qd(this,"async_queue_retry"),this.Eu=()=>{let n=Oy();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Oy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Oy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Qn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Cc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Kv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&K()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function rS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var go=class extends po{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new a_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tA(this),this._firestoreClient.terminate()}};function XS(t,e){let n=typeof t=="object"?t:$s(),r=typeof t=="string"?t:e||"(default)",i=Wa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Zb("firestore");s&&ZS(i,...s)}return i}function eA(t){return t._firestoreClient||tA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new zy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new o_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var _c=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ct.fromBase64String(e))}catch(n){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ic=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var sh=class{constructor(e){this._methodName=e}};var wc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Ec=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var RB=/^__.*__$/,c_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oi(e,this.data,n,this.fieldTransforms)}};function nA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var u_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return oh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(nA(this.wu)&&RB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},l_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fh(e)}Nu(e,n,r,i=!1){return new u_({wu:e,methodName:n,Ou:r,path:At.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function MB(t){let e=t._freezeSettings(),n=fh(t._databaseId);return new l_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NB(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);oA("Data must be an object, but it was:",o,r);let a=iA(r,o),u,l;if(s.merge)u=new gn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=xB(e,p,n);if(!o.contains(m))throw new V(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);OB(h,m)||h.push(m)}u=new gn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new c_(new Yt(a),u,l)}function rA(t,e){if(sA(t=st(t)))return oA("Unsupported field value:",e,t),iA(t,e);if(t instanceof sh)return function(r,i){if(!nA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=rA(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ze.fromDate(r);return{timestampValue:zd(i.serializer,s)}}if(r instanceof Ze){let s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zd(i.serializer,s)}}if(r instanceof wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _c)return{bytesValue:SS(i.serializer,r._byteString)};if(r instanceof Vt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:E_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ec)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return w_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${M_(r)}`)}(t,e)}function iA(t,e){let n={};return sS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,i)=>{let s=rA(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof wc||t instanceof _c||t instanceof Vt||t instanceof sh||t instanceof Ec)}function oA(t,e,n){if(!sA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=M_(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function xB(t,e,n){if((e=st(e))instanceof Ic)return e._internalPath;if(typeof e=="string")return aA(t,e);throw oh("Field path arguments must be of type string or ",t,!1,void 0,n)}var PB=new RegExp("[~\\*/\\[\\]]");function aA(t,e,n){if(e.search(PB)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ic(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(N.INVALID_ARGUMENT,a+t+u)}function OB(t,e){return t.some(n=>n.isEqual(e))}var ah=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new d_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(cA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},d_=class extends ah{data(){return super.data()}};function cA(t,e){return typeof e=="string"?aA(t,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}function kB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var h_=class{convertValue(e,n="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return yo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new Ec(s)}convertGeoPoint(e){return new wc(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=m_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){let n=Zn(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);be(PS(r));let i=new Vd(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Yn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function FB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Si=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ch=class extends ah{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new eo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(cA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},eo=class extends ch{data(e={}){return super.data(e)}},f_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Si(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new eo(this._firestore,this._userDataWriter,r.key,r,new Si(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new eo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Si(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new eo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Si(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:LB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function LB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}var uh=class extends h_{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}};function uA(t,e){let n=dc(t.firestore,go),r=JS(t),i=FB(t.converter,e);return VB(n,[NB(MB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ai.exists(!1))]).then(()=>r)}function N_(t,...e){var n,r,i;t=st(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||rS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(rS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Vt)l=dc(t.firestore,go),h=I_(t._key.path),u={next:p=>{e[o]&&e[o](jB(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=dc(t,ih);l=dc(p.firestore,go),h=p._query;let m=new uh(l);u={next:v=>{e[o]&&e[o](new f_(l,m,p,v))},error:e[o+1],complete:e[o+2]},kB(t._query)}return function(m,v,S,M){let R=new s_(M),F=new Jv(v,R,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return cB(yield XT(m),F)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return uB(yield XT(m),F)}))}}(eA(l),h,a,u)}function VB(t,e){return function(r,i){let s=new Qn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return yB(yield SB(r),i,s)})),s.promise}(eA(t),e)}function jB(t,e,n){let r=n.docs.get(e._key),i=new uh(t);return new ch(t,i,e._key,r,new Si(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){mo=i})(br),Cr(new Lt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new go(new Vy(r.getProvider("auth-internal")),new $y(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Be(TT,"4.7.1",e),Be(TT,"4.7.1","esm2017")})();var yh=function(){return yh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yh.apply(this,arguments)};var $B={includeMetadataChanges:!1};function lA(t,e){return e===void 0&&(e=$B),new le(function(n){var r=N_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function dA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:yh(yh({},r),(n={},n[e.idField]=t.id,n))}function hA(t){return lA(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}function fA(t,e){return e===void 0&&(e={}),hA(t).pipe(se(function(n){return n.map(function(r){return dA(r,e)})}))}var Fi=class{constructor(e){return e}},pA="firestore",x_=class{constructor(){return Ka(pA)}};var P_=new j("angularfire2.firestore-instances");function HB(t,e){let n=ad(pA,t,e);return n&&new Fi(n)}function qB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fi(r)}}var zB={provide:x_,deps:[[new mt,P_]]},GB={provide:Fi,useFactory:HB,deps:[[new mt,P_],Hn]};function gA(t,...e){return Be("angularfire",_i.full,"fst"),an([GB,zB,{provide:P_,useFactory:qB(t),multi:!0,deps:[we,gt,zs,Ii,[new mt,rc],[new mt,qs],...e]}])}var mA=Qt(fA,!0);var yA=Qt(uA,!0);var vA=Qt(XS,!0);var vh=class t{constructor(e,n,r){this.router=e;this.firestore=n;this.auth=r}nombreIngresado="carlos";claveIngresada=123;userMail="";userPWD="";loggedUser="";user="";errorLogin=!1;loginsCollection=[];countLogins=0;sub;Login(){wT(this.auth,this.userMail,this.userPWD).then(e=>{e.user.email!==null&&(this.loggedUser=e.user.email),this.goTo("/home")}).catch(e=>console.log(e))}CloseSession(){ET(this.auth).then(()=>{console.log(this.auth.currentUser?.email)})}goTo(e){this.router.navigate([e])}logLogin(){let e=mh(this.firestore,"logins");yA(e,{fecha:new Date,user:this.user})}GetData(){let e=mh(this.firestore,"logins"),n=mA(e);this.sub=n.subscribe(r=>{this.loginsCollection=r,this.countLogins=this.loginsCollection.length,console.log(r)})}static \u0275fac=function(n){return new(n||t)(re(ln),re(Fi),re(Wn))};static \u0275cmp=yt({type:t,selectors:[["app-login"]],standalone:!0,features:[It],decls:24,vars:2,consts:[[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","placeholder","Ingrese su nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","placeholder","Ingrese su contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold",3,"click"],[1,"text-center","mt-3"],["id","registrarse",1,"text-decoration-none",3,"click"]],template:function(n,r){n&1&&($(0,"div",0)(1,"div",1)(2,"h1",2),ee(3,"Inicio Sesi\xF3n"),z(),$(4,"form")(5,"div",3)(6,"label",4),ee(7,"Nombre"),z(),$(8,"input",5),ai("ngModelChange",function(s){return Cs(r.nombreIngresado,s)||(r.nombreIngresado=s),s}),z()(),$(9,"div",3)(10,"label",6),ee(11,"Contrase\xF1a"),z(),$(12,"input",7),ai("ngModelChange",function(s){return Cs(r.claveIngresada,s)||(r.claveIngresada=s),s}),z()(),$(13,"div",8)(14,"a",9),ee(15,"\xBFOlvid\xF3 su contrase\xF1a?"),z()(),$(16,"button",10),_t("click",function(){return r.Login()}),ee(17,"Ingresar"),z(),$(18,"div",11)(19,"span"),ee(20,"\xBFNo tienes una cuenta?"),z(),$(21,"a",12),_t("click",function(){return r.goTo("/registro")}),ee(22,"Registrarse"),z()()()()(),Qe(23,"router-outlet")),n&2&&(cn(8),oi("ngModel",r.nombreIngresado),cn(4),oi("ngModel",r.claveIngresada))},dependencies:[xa,la,ed,Xl,js,Yl,Zl,$a,Ba,Ua],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none}.form-control[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 10px #ffcc0080}label[_ngcontent-%COMP%]{margin-left:10px;font-weight:700}#registrarse[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#000;text-decoration:none}#registrarse[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0}span[_ngcontent-%COMP%]{font-weight:700}"]})};var _h=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-home"]],standalone:!0,features:[It],decls:27,vars:0,consts:[[1,"seccion-juegos"],[1,"preguntados"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfcCz3JlM4xlxLvDWPSj71xusZCerXq0QEpg&s","alt","preguntados"],["href","scores"],[1,"mayor-menor"],["src","https://resizer.glanacion.com/resizer/v2/un-juego-con-cartas-espanolas-sin-comodines-ni-L4YAHBM6IVBLNEJA5E33NQTKHI.jpg?auth=c4b877fbfbe96ead5811742b26ba93b66a4e97730d76bc15e6920f84a1745fd4&width=768&quality=70&smart=false","alt","mayor o menor"],[1,"ahorcado"],["src","https://cdn-icons-png.flaticon.com/512/2241/2241387.png","alt","ahorcado"],[1,"juego-nuevo"],["src","https://img.freepik.com/vector-gratis/hoja-trabajo-juego-combinacion-creativo-animales_23-2148782846.jpg","alt","juego nuevo"]],template:function(n,r){n&1&&($(0,"h1"),ee(1,"Seccion de Juegos"),z(),$(2,"div",0)(3,"div",1),Qe(4,"img",2),$(5,"p"),ee(6,"Preguntados"),z(),$(7,"a",3),ee(8,"ver puntuacion"),z()(),$(9,"div",4),Qe(10,"img",5),$(11,"p"),ee(12,"Mayor o Menor"),z(),$(13,"a",3),ee(14,"ver puntuacion"),z()(),$(15,"div",6),Qe(16,"img",7),$(17,"p"),ee(18,"Ahorcado"),z(),$(19,"a",3),ee(20,"ver puntuacion"),z()(),$(21,"div",8),Qe(22,"img",9),$(23,"p"),ee(24,"Juego Nuevo"),z(),$(25,"a",3),ee(26,"ver puntuacion"),z()()())},styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:80px;font-size:3.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}p[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-weight:700;margin:40px 0}.seccion-juegos[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:100px;padding:20px;align-items:center}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;box-shadow:0 4px 8px #00000080;transition:transform .3s ease}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer;box-shadow:0 4px 8px #000}a[_ngcontent-%COMP%]{background-color:#deb887;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;color:#fff;padding:10px 20px;margin-left:110px;text-decoration:none;border-radius:15px;font-size:1.2em;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{background-color:#e6ab5e;transform:scale(1.05)}a[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}"]})};var Ih=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-error"]],standalone:!0,features:[It],decls:2,vars:0,template:function(n,r){n&1&&($(0,"p"),ee(1,"error works!"),z())}})};var wh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[It],decls:20,vars:0,consts:[[1,"container","mt-5","p-5","bg-light","rounded-5","shadow-lg",2,"background-size","cover","background-position","center"],[1,"row","align-items-center","bg-card","rounded-5","shadow","p-4"],[1,"col-md-4","text-center"],["src","../../../../public/quiensoy.jpeg","alt","Juan Pablo",1,"img-fluid","rounded-circle","shadow",2,"max-width","320px"],[1,"col-md-8"],[1,"mb-4","text-dark","display-4"],[1,"lead","text-dark"]],template:function(n,r){n&1&&($(0,"div",0)(1,"div",1)(2,"div",2),Qe(3,"img",3),z(),$(4,"div",4)(5,"h1",5),ee(6,"Me llamo Juan Pablo De Maio"),z(),$(7,"p",6)(8,"strong"),ee(9,"Edad:"),z(),ee(10," 19 a\xF1os"),Qe(11,"br"),$(12,"strong"),ee(13,"Estudios:"),z(),ee(14," Actualmente estudio en la UTN, cursando la carrera de T\xE9cnico en Programaci\xF3n."),Qe(15,"br"),$(16,"strong"),ee(17,"Juego con Cartas o Im\xE1genes"),z(),Qe(18,"br"),ee(19," Descripci\xF3n: Pensaba en mostrar una serie de cartas que se van a dar vuelta, despu\xE9s se volver\xEDan a dar vuelta y el jugador deber\xEDa ir clickeando en el orden que se fueron mostrando las cartas. Se deber\xEDa subir la dificultad ocultando las cartas m\xE1s r\xE1pido e ir sumando puntos. "),z()()()())},styles:[".container[_ngcontent-%COMP%]{border-radius:30px;background-size:cover;background-position:center;overflow:hidden}.bg-card[_ngcontent-%COMP%]{background-color:#7dd86299;border:1px solid rgba(208,250,195,.8);box-shadow:0 4px 8px #0003;padding:20px}h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2.5rem;font-weight:700;color:#343a40}p.lead[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.2rem;line-height:1.8;color:#343a40}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:320px;border:5px solid #ffc107}.rounded-5[_ngcontent-%COMP%]{border-radius:30px!important}.bg-light[_ngcontent-%COMP%]{background-color:#d0fac399!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 20px #0003}"]})};function KB(t,e){if(t&1&&($(0,"h2",13),ee(1),z()),t&2){let n=dg();cn(),Il("Usuario registrado: ",n.usuarioLoggeado,"")}}function QB(t,e){if(t&1&&($(0,"p",13),ee(1),z()),t&2){let n=dg();cn(),hg(n.msjError)}}var Eh=class t{constructor(e,n){this.auth=e}nuevoEmail="";nuevaClave="";router;usuarioLoggeado="";flagError=!1;msjError="";goTo(e){this.router.navigate([e])}Register(){_T(this.auth,this.nuevoEmail,this.nuevaClave).then(e=>{e.user.email!==null&&(this.usuarioLoggeado=e.user.email),this.flagError=!1,this.router.navigate(["/home"])}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.msjError="Email invalido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;default:this.msjError=e.code;break}console.log("el error es el siguiente...  "+e.code)})}static \u0275fac=function(n){return new(n||t)(re(Wn),re(ln))};static \u0275cmp=yt({type:t,selectors:[["app-registro"]],standalone:!0,features:[It],decls:25,vars:4,consts:[[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[1,"form-group"],["for","email"],["type","text","id","email","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","placeholder","Ingrese una contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold",3,"click"],[1,"text-center","mt-3"],["id","iniciar-sesion",1,"text-decoration-none",3,"click"],[1,"text-center","text-primary"]],template:function(n,r){n&1&&($(0,"div",0)(1,"div",1)(2,"h1",2),ee(3,"Inicio Sesi\xF3n"),z(),$(4,"form")(5,"div",3)(6,"label",4),ee(7,"email"),z(),$(8,"input",5),ai("ngModelChange",function(s){return Cs(r.nuevoEmail,s)||(r.nuevoEmail=s),s}),z()(),$(9,"div",3)(10,"label",6),ee(11,"Contrase\xF1a"),z(),$(12,"input",7),ai("ngModelChange",function(s){return Cs(r.nuevaClave,s)||(r.nuevaClave=s),s}),z()(),$(13,"div",8)(14,"a",9),ee(15,"\xBFOlvid\xF3 su contrase\xF1a?"),z()(),$(16,"button",10),_t("click",function(){return r.Register()}),ee(17,"registrarse"),z(),$(18,"div",11)(19,"span"),ee(20,"\xBFya tienes una cuenta?"),z(),$(21,"a",12),_t("click",function(){return r.goTo("/login")}),ee(22,"iniciar sesion"),z()()()(),ug(23,KB,2,1,"h2",13)(24,QB,2,1,"p",13),z()),n&2&&(cn(8),oi("ngModel",r.nuevoEmail),cn(4),oi("ngModel",r.nuevaClave),cn(11),lg(r.usuarioLoggeado!=""?23:-1),cn(),lg(r.flagError?24:-1))},dependencies:[la,ed,Xl,js,Yl,Zl,$a,Ba,Ua],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none}.form-control[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 10px #ffcc0080}label[_ngcontent-%COMP%]{margin-left:10px;font-weight:700}#iniciar-sesion[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#000;text-decoration:none}#iniciar-sesion[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0}span[_ngcontent-%COMP%]{font-weight:700}"]})};var _A=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:vh},{path:"home",component:_h},{path:"quien-soy",component:wh},{path:"registro",component:Eh},{path:"**",component:Ih}];var IA={projectId:"sala-juegos-ab9cb",appId:"1:639687055629:web:6ec8a897ad3ef0f988b844",storageBucket:"sala-juegos-ab9cb.appspot.com",apiKey:"AIzaSyD_AqRMAi5HFadu1U_VaF4wAZPHBskjQWs",authDomain:"sala-juegos-ab9cb.firebaseapp.com",messagingSenderId:"639687055629"};var wA={providers:[IC({eventCoalescing:!0}),bb(_A),w0(()=>E0(IA)),vT(()=>IT()),gA(()=>vA())]};var Dh=class t{constructor(e){this.router=e}title="sala-de-juegos";goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(re(ln))};static \u0275cmp=yt({type:t,selectors:[["app-root"]],standalone:!0,features:[It],decls:11,vars:0,consts:[[1,"navbar"],["routerLink","home","routerLinkActive","active-route",1,"nav-link"],["routerLink","quien-soy","routerLinkActive","active-route",1,"nav-link"],[1,"nav-links-derecha"],[1,"nav-link-perfil"],["routerLink","login","routerLinkActive","active-route",1,"nav-link-login",3,"click"]],template:function(n,r){n&1&&($(0,"nav",0)(1,"a",1),ee(2,"HOME"),z(),$(3,"a",2),ee(4,"QUIEN SOY"),z(),$(5,"div",3)(6,"a",4),ee(7,"PERFIL"),z(),$(8,"a",5),_t("click",function(){return r.goTo("login")}),ee(9,"LOGIN"),z()()(),Qe(10,"router-outlet"))},dependencies:[xa,Ul,Cb],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;background-color:#deb887;border-radius:20px;padding:5px 10px;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e6ab5e}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.nav-link[_ngcontent-%COMP%]{margin:0 50px;font-size:1.5em}.nav-links-derecha[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:100px}.nav-link-login[_ngcontent-%COMP%], .nav-link-perfil[_ngcontent-%COMP%]{font-size:1.5em}.nav-link-login[_ngcontent-%COMP%]{margin-right:50px}"]})};BC(Dh,wA).catch(t=>console.error(t));
