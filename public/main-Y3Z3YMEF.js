import{$ as G,A as kc,B as yt,C as Hr,D as xc,E as Qe,F as Je,G as Vc,H as sr,I as is,J as Tn,K as Nc,L as cd,M as Rt,N as se,O as Oc,P as ss,Q as An,R as ud,S as ld,T as xo,U as Mc,V as B,W as j,X as zt,Y as Kr,Z as Me,_ as hd,a as Ke,aa as Qr,b as it,ba as Jr,c as Ng,ca as Yr,d as Ac,da as os,e as bn,ea as ct,f as A,fa as Lc,g as Cc,ga as dd,h as ed,ha as fd,i as td,ia as pd,j as nd,ja as md,k as rd,ka as Fc,l as Sc,la as as,m as Pc,ma as Cn,n as Rc,na as Uc,o as id,oa as gd,p as sd,pa as Xr,q as od,qa as yd,r as ad,ra as _d,s as ko,sa as Sn,t as ts,ta as wd,u as ns,ua as vd,v as Dc,va as Id,w as st,x as rs,y as ot,z as at}from"./chunk-46FQQCY7.js";var Go=Ng((Dt,Wc)=>{"use strict";(function(n,e){typeof Dt=="object"&&typeof Wc<"u"?Wc.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Dt,function(){"use strict";function n(a,c,d){if(typeof a=="function"?a===c:a.has(c))return arguments.length<3?c:d;throw new TypeError("Private element is not present on this object")}function e(a,c){if(c.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(a,c){return a.get(n(a,c))}function r(a,c,d){e(a,c),c.set(a,d)}function i(a,c,d){return a.set(n(a,c),d),d}let o=100,u={},f=()=>{u.previousActiveElement instanceof HTMLElement?(u.previousActiveElement.focus(),u.previousActiveElement=null):document.body&&document.body.focus()},p=a=>new Promise(c=>{if(!a)return c();let d=window.scrollX,g=window.scrollY;u.restoreFocusTimeout=setTimeout(()=>{f(),c()},o),window.scrollTo(d,g)}),_="swal2-",y=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((a,c)=>(a[c]=_+c,a),{}),O=["success","warning","info","question","error"].reduce((a,c)=>(a[c]=_+c,a),{}),F="SweetAlert2:",z=a=>a.charAt(0).toUpperCase()+a.slice(1),L=a=>{console.warn(`${F} ${typeof a=="object"?a.join(" "):a}`)},Z=a=>{console.error(`${F} ${a}`)},te=[],oe=a=>{te.includes(a)||(te.push(a),L(a))},de=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;oe(`"${a}" is deprecated and will be removed in the next major release.${c?` Use "${c}" instead.`:""}`)},ze=a=>typeof a=="function"?a():a,fe=a=>a&&typeof a.toPromise=="function",C=a=>fe(a)?a.toPromise():Promise.resolve(a),w=a=>a&&Promise.resolve(a)===a,v=()=>document.body.querySelector(`.${y.container}`),E=a=>{let c=v();return c?c.querySelector(a):null},b=a=>E(`.${a}`),T=()=>b(y.popup),I=()=>b(y.icon),lt=()=>b(y["icon-content"]),nn=()=>b(y.title),ki=()=>b(y["html-container"]),rn=()=>b(y.image),Ut=()=>b(y["progress-steps"]),sn=()=>b(y["validation-message"]),Ye=()=>E(`.${y.actions} .${y.confirm}`),on=()=>E(`.${y.actions} .${y.cancel}`),Le=()=>E(`.${y.actions} .${y.deny}`),Se=()=>b(y["input-label"]),an=()=>E(`.${y.loader}`),ht=()=>b(y.actions),Hs=()=>b(y.footer),vt=()=>b(y["timer-progress-bar"]),xi=()=>b(y.close),sc=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,cn=()=>{let a=T();if(!a)return[];let c=a.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),d=Array.from(c).sort((M,W)=>{let ee=parseInt(M.getAttribute("tabindex")||"0"),he=parseInt(W.getAttribute("tabindex")||"0");return ee>he?1:ee<he?-1:0}),g=a.querySelectorAll(sc),R=Array.from(g).filter(M=>M.getAttribute("tabindex")!=="-1");return[...new Set(d.concat(R))].filter(M=>Ne(M))},un=()=>Xe(document.body,y.shown)&&!Xe(document.body,y["toast-shown"])&&!Xe(document.body,y["no-backdrop"]),ln=()=>{let a=T();return a?Xe(a,y.toast):!1},Vi=()=>{let a=T();return a?a.hasAttribute("data-loading"):!1},Ve=(a,c)=>{if(a.textContent="",c){let g=new DOMParser().parseFromString(c,"text/html"),R=g.querySelector("head");R&&Array.from(R.childNodes).forEach(W=>{a.appendChild(W)});let M=g.querySelector("body");M&&Array.from(M.childNodes).forEach(W=>{W instanceof HTMLVideoElement||W instanceof HTMLAudioElement?a.appendChild(W.cloneNode(!0)):a.appendChild(W)})}},Xe=(a,c)=>{if(!c)return!1;let d=c.split(/\s+/);for(let g=0;g<d.length;g++)if(!a.classList.contains(d[g]))return!1;return!0},Ks=(a,c)=>{Array.from(a.classList).forEach(d=>{!Object.values(y).includes(d)&&!Object.values(O).includes(d)&&!Object.values(c.showClass||{}).includes(d)&&a.classList.remove(d)})},Fe=(a,c,d)=>{if(Ks(a,c),!c.customClass)return;let g=c.customClass[d];if(g){if(typeof g!="string"&&!g.forEach){L(`Invalid type of customClass.${d}! Expected string or iterable object, got "${typeof g}"`);return}K(a,g)}},Cr=(a,c)=>{if(!c)return null;switch(c){case"select":case"textarea":case"file":return a.querySelector(`.${y.popup} > .${y[c]}`);case"checkbox":return a.querySelector(`.${y.popup} > .${y.checkbox} input`);case"radio":return a.querySelector(`.${y.popup} > .${y.radio} input:checked`)||a.querySelector(`.${y.popup} > .${y.radio} input:first-child`);case"range":return a.querySelector(`.${y.popup} > .${y.range} input`);default:return a.querySelector(`.${y.popup} > .${y.input}`)}},Ni=a=>{if(a.focus(),a.type!=="file"){let c=a.value;a.value="",a.value=c}},Oi=(a,c,d)=>{!a||!c||(typeof c=="string"&&(c=c.split(/\s+/).filter(Boolean)),c.forEach(g=>{Array.isArray(a)?a.forEach(R=>{d?R.classList.add(g):R.classList.remove(g)}):d?a.classList.add(g):a.classList.remove(g)}))},K=(a,c)=>{Oi(a,c,!0)},Ze=(a,c)=>{Oi(a,c,!1)},It=(a,c)=>{let d=Array.from(a.children);for(let g=0;g<d.length;g++){let R=d[g];if(R instanceof HTMLElement&&Xe(R,c))return R}},dt=(a,c,d)=>{d===`${parseInt(d)}`&&(d=parseInt(d)),d||parseInt(d)===0?a.style.setProperty(c,typeof d=="number"?`${d}px`:d):a.style.removeProperty(c)},pe=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";a&&(a.style.display=c)},ye=a=>{a&&(a.style.display="none")},_e=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";a&&new MutationObserver(()=>{Et(a,a.innerHTML,c)}).observe(a,{childList:!0,subtree:!0})},Pe=(a,c,d,g)=>{let R=a.querySelector(c);R&&R.style.setProperty(d,g)},Et=function(a,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";c?pe(a,d):ye(a)},Ne=a=>!!(a&&(a.offsetWidth||a.offsetHeight||a.getClientRects().length)),Qs=()=>!Ne(Ye())&&!Ne(Le())&&!Ne(on()),Js=a=>a.scrollHeight>a.clientHeight,hn=a=>{let c=window.getComputedStyle(a),d=parseFloat(c.getPropertyValue("animation-duration")||"0"),g=parseFloat(c.getPropertyValue("transition-duration")||"0");return d>0||g>0},Sr=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=vt();d&&Ne(d)&&(c&&(d.style.transition="none",d.style.width="100%"),setTimeout(()=>{d.style.transition=`width ${a/1e3}s linear`,d.style.width="0%"},10))},Ys=()=>{let a=vt();if(!a)return;let c=parseInt(window.getComputedStyle(a).width);a.style.removeProperty("transition"),a.style.width="100%";let d=parseInt(window.getComputedStyle(a).width),g=c/d*100;a.style.width=`${g}%`},Pr=()=>typeof window>"u"||typeof document>"u",oc=`
 <div aria-labelledby="${y.title}" aria-describedby="${y["html-container"]}" class="${y.popup}" tabindex="-1">
   <button type="button" class="${y.close}"></button>
   <ul class="${y["progress-steps"]}"></ul>
   <div class="${y.icon}"></div>
   <img class="${y.image}" />
   <h2 class="${y.title}" id="${y.title}"></h2>
   <div class="${y["html-container"]}" id="${y["html-container"]}"></div>
   <input class="${y.input}" id="${y.input}" />
   <input type="file" class="${y.file}" />
   <div class="${y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${y.select}" id="${y.select}"></select>
   <div class="${y.radio}"></div>
   <label class="${y.checkbox}">
     <input type="checkbox" id="${y.checkbox}" />
     <span class="${y.label}"></span>
   </label>
   <textarea class="${y.textarea}" id="${y.textarea}"></textarea>
   <div class="${y["validation-message"]}" id="${y["validation-message"]}"></div>
   <div class="${y.actions}">
     <div class="${y.loader}"></div>
     <button type="button" class="${y.confirm}"></button>
     <button type="button" class="${y.deny}"></button>
     <button type="button" class="${y.cancel}"></button>
   </div>
   <div class="${y.footer}"></div>
   <div class="${y["timer-progress-bar-container"]}">
     <div class="${y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ac=()=>{let a=v();return a?(a.remove(),Ze([document.documentElement,document.body],[y["no-backdrop"],y["toast-shown"],y["has-column"]]),!0):!1},ft=()=>{u.currentInstance.resetValidationMessage()},Xs=()=>{let a=T(),c=It(a,y.input),d=It(a,y.file),g=a.querySelector(`.${y.range} input`),R=a.querySelector(`.${y.range} output`),M=It(a,y.select),W=a.querySelector(`.${y.checkbox} input`),ee=It(a,y.textarea);c.oninput=ft,d.onchange=ft,M.onchange=ft,W.onchange=ft,ee.oninput=ft,g.oninput=()=>{ft(),R.value=g.value},g.onchange=()=>{ft(),R.value=g.value}},Zs=a=>typeof a=="string"?document.querySelector(a):a,$n=a=>{let c=T();c.setAttribute("role",a.toast?"alert":"dialog"),c.setAttribute("aria-live",a.toast?"polite":"assertive"),a.toast||c.setAttribute("aria-modal","true")},Mi=a=>{window.getComputedStyle(a).direction==="rtl"&&K(v(),y.rtl)},Li=a=>{let c=ac();if(Pr()){Z("SweetAlert2 requires document to initialize");return}let d=document.createElement("div");d.className=y.container,c&&K(d,y["no-transition"]),Ve(d,oc);let g=Zs(a.target);g.appendChild(d),$n(a),Mi(g),Xs()},pt=(a,c)=>{a instanceof HTMLElement?c.appendChild(a):typeof a=="object"?eo(a,c):a&&Ve(c,a)},eo=(a,c)=>{a.jquery?Rr(c,a):Ve(c,a.toString())},Rr=(a,c)=>{if(a.textContent="",0 in c)for(let d=0;d in c;d++)a.appendChild(c[d].cloneNode(!0));else a.appendChild(c.cloneNode(!0))},bt=(()=>{if(Pr())return!1;let a=document.createElement("div");return typeof a.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof a.style.animation<"u"?"animationend":!1})(),zn=(a,c)=>{let d=ht(),g=an();!d||!g||(!c.showConfirmButton&&!c.showDenyButton&&!c.showCancelButton?ye(d):pe(d),Fe(d,c,"actions"),to(d,g,c),Ve(g,c.loaderHtml||""),Fe(g,c,"loader"))};function to(a,c,d){let g=Ye(),R=Le(),M=on();!g||!R||!M||(Dr(g,"confirm",d),Dr(R,"deny",d),Dr(M,"cancel",d),Oe(g,R,M,d),d.reverseButtons&&(d.toast?(a.insertBefore(M,g),a.insertBefore(R,g)):(a.insertBefore(M,c),a.insertBefore(R,c),a.insertBefore(g,c))))}function Oe(a,c,d,g){if(!g.buttonsStyling){Ze([a,c,d],y.styled);return}K([a,c,d],y.styled),g.confirmButtonColor&&(a.style.backgroundColor=g.confirmButtonColor,K(a,y["default-outline"])),g.denyButtonColor&&(c.style.backgroundColor=g.denyButtonColor,K(c,y["default-outline"])),g.cancelButtonColor&&(d.style.backgroundColor=g.cancelButtonColor,K(d,y["default-outline"]))}function Dr(a,c,d){let g=z(c);Et(a,d[`show${g}Button`],"inline-block"),Ve(a,d[`${c}ButtonText`]||""),a.setAttribute("aria-label",d[`${c}ButtonAriaLabel`]||""),a.className=y[c],Fe(a,d,`${c}Button`)}let Gn=(a,c)=>{let d=xi();d&&(Ve(d,c.closeButtonHtml||""),Fe(d,c,"closeButton"),Et(d,c.showCloseButton),d.setAttribute("aria-label",c.closeButtonAriaLabel||""))},Wn=(a,c)=>{let d=v();d&&(cc(d,c.backdrop),uc(d,c.position),dn(d,c.grow),Fe(d,c,"container"))};function cc(a,c){typeof c=="string"?a.style.background=c:c||K([document.documentElement,document.body],y["no-backdrop"])}function uc(a,c){c&&(c in y?K(a,y[c]):(L('The "position" parameter is not valid, defaulting to "center"'),K(a,y.center)))}function dn(a,c){c&&K(a,y[`grow-${c}`])}var re={innerParams:new WeakMap,domCache:new WeakMap};let lc=["input","file","range","select","radio","checkbox","textarea"],kr=(a,c)=>{let d=T();if(!d)return;let g=re.innerParams.get(a),R=!g||c.input!==g.input;lc.forEach(M=>{let W=It(d,y[M]);W&&(xr(M,c.inputAttributes),W.className=y[M],R&&ye(W))}),c.input&&(R&&no(c),Tt(c))},no=a=>{if(!a.input)return;if(!ue[a.input]){Z(`Unexpected type of input! Expected ${Object.keys(ue).join(" | ")}, got "${a.input}"`);return}let c=Nr(a.input);if(!c)return;let d=ue[a.input](c,a);pe(c),a.inputAutoFocus&&setTimeout(()=>{Ni(d)})},Fi=a=>{for(let c=0;c<a.attributes.length;c++){let d=a.attributes[c].name;["id","type","value","style"].includes(d)||a.removeAttribute(d)}},xr=(a,c)=>{let d=T();if(!d)return;let g=Cr(d,a);if(g){Fi(g);for(let R in c)g.setAttribute(R,c[R])}},Tt=a=>{if(!a.input)return;let c=Nr(a.input);c&&Fe(c,a,"input")},Vr=(a,c)=>{!a.placeholder&&c.inputPlaceholder&&(a.placeholder=c.inputPlaceholder)},fn=(a,c,d)=>{if(d.inputLabel){let g=document.createElement("label"),R=y["input-label"];g.setAttribute("for",a.id),g.className=R,typeof d.customClass=="object"&&K(g,d.customClass.inputLabel),g.innerText=d.inputLabel,c.insertAdjacentElement("beforebegin",g)}},Nr=a=>{let c=T();if(c)return It(c,y[a]||y.input)},pn=(a,c)=>{["string","number"].includes(typeof c)?a.value=`${c}`:w(c)||L(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof c}"`)},ue={};ue.text=ue.email=ue.password=ue.number=ue.tel=ue.url=ue.search=ue.date=ue["datetime-local"]=ue.time=ue.week=ue.month=(a,c)=>(pn(a,c.inputValue),fn(a,a,c),Vr(a,c),a.type=c.input,a),ue.file=(a,c)=>(fn(a,a,c),Vr(a,c),a),ue.range=(a,c)=>{let d=a.querySelector("input"),g=a.querySelector("output");return pn(d,c.inputValue),d.type=c.input,pn(g,c.inputValue),fn(d,a,c),a},ue.select=(a,c)=>{if(a.textContent="",c.inputPlaceholder){let d=document.createElement("option");Ve(d,c.inputPlaceholder),d.value="",d.disabled=!0,d.selected=!0,a.appendChild(d)}return fn(a,a,c),a},ue.radio=a=>(a.textContent="",a),ue.checkbox=(a,c)=>{let d=Cr(T(),"checkbox");d.value="1",d.checked=!!c.inputValue;let g=a.querySelector("span");return Ve(g,c.inputPlaceholder||c.inputLabel),d},ue.textarea=(a,c)=>{pn(a,c.inputValue),Vr(a,c),fn(a,a,c);let d=g=>parseInt(window.getComputedStyle(g).marginLeft)+parseInt(window.getComputedStyle(g).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let g=parseInt(window.getComputedStyle(T()).width),R=()=>{if(!document.body.contains(a))return;let M=a.offsetWidth+d(a);M>g?T().style.width=`${M}px`:dt(T(),"width",c.width)};new MutationObserver(R).observe(a,{attributes:!0,attributeFilter:["style"]})}}),a};let ro=(a,c)=>{let d=ki();d&&(_e(d),Fe(d,c,"htmlContainer"),c.html?(pt(c.html,d),pe(d,"block")):c.text?(d.textContent=c.text,pe(d,"block")):ye(d),kr(a,c))},hc=(a,c)=>{let d=Hs();d&&(_e(d),Et(d,c.footer,"block"),c.footer&&pt(c.footer,d),Fe(d,c,"footer"))},Or=(a,c)=>{let d=re.innerParams.get(a),g=I();if(g){if(d&&c.icon===d.icon){Mr(g,c),Ui(g,c);return}if(!c.icon&&!c.iconHtml){ye(g);return}if(c.icon&&Object.keys(O).indexOf(c.icon)===-1){Z(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${c.icon}"`),ye(g);return}pe(g),Mr(g,c),Ui(g,c),K(g,c.showClass&&c.showClass.icon)}},Ui=(a,c)=>{for(let[d,g]of Object.entries(O))c.icon!==d&&Ze(a,g);K(a,c.icon&&O[c.icon]),dc(a,c),Bi(),Fe(a,c,"icon")},Bi=()=>{let a=T();if(!a)return;let c=window.getComputedStyle(a).getPropertyValue("background-color"),d=a.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let g=0;g<d.length;g++)d[g].style.backgroundColor=c},Hn=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Bt=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Mr=(a,c)=>{if(!c.icon&&!c.iconHtml)return;let d=a.innerHTML,g="";c.iconHtml?g=ji(c.iconHtml):c.icon==="success"?(g=Hn,d=d.replace(/ style=".*?"/g,"")):c.icon==="error"?g=Bt:c.icon&&(g=ji({question:"?",warning:"!",info:"i"}[c.icon])),d.trim()!==g.trim()&&Ve(a,g)},dc=(a,c)=>{if(c.iconColor){a.style.color=c.iconColor,a.style.borderColor=c.iconColor;for(let d of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Pe(a,d,"background-color",c.iconColor);Pe(a,".swal2-success-ring","border-color",c.iconColor)}},ji=a=>`<div class="${y["icon-content"]}">${a}</div>`,io=(a,c)=>{let d=rn();if(d){if(!c.imageUrl){ye(d);return}pe(d,""),d.setAttribute("src",c.imageUrl),d.setAttribute("alt",c.imageAlt||""),dt(d,"width",c.imageWidth),dt(d,"height",c.imageHeight),d.className=y.image,Fe(d,c,"image")}},so=(a,c)=>{let d=v(),g=T();if(!(!d||!g)){if(c.toast){dt(d,"width",c.width),g.style.width="100%";let R=an();R&&g.insertBefore(R,I())}else dt(g,"width",c.width);dt(g,"padding",c.padding),c.color&&(g.style.color=c.color),c.background&&(g.style.background=c.background),ye(sn()),qi(g,c)}},qi=(a,c)=>{let d=c.showClass||{};a.className=`${y.popup} ${Ne(a)?d.popup:""}`,c.toast?(K([document.documentElement,document.body],y["toast-shown"]),K(a,y.toast)):K(a,y.modal),Fe(a,c,"popup"),typeof c.customClass=="string"&&K(a,c.customClass),c.icon&&K(a,y[`icon-${c.icon}`])},$i=(a,c)=>{let d=Ut();if(!d)return;let{progressSteps:g,currentProgressStep:R}=c;if(!g||g.length===0||R===void 0){ye(d);return}pe(d),d.textContent="",R>=g.length&&L("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),g.forEach((M,W)=>{let ee=oo(M);if(d.appendChild(ee),W===R&&K(ee,y["active-progress-step"]),W!==g.length-1){let he=ao(c);d.appendChild(he)}})},oo=a=>{let c=document.createElement("li");return K(c,y["progress-step"]),Ve(c,a),c},ao=a=>{let c=document.createElement("li");return K(c,y["progress-step-line"]),a.progressStepsDistance&&dt(c,"width",a.progressStepsDistance),c},fc=(a,c)=>{let d=nn();d&&(_e(d),Et(d,c.title||c.titleText,"block"),c.title&&pt(c.title,d),c.titleText&&(d.innerText=c.titleText),Fe(d,c,"title"))},co=(a,c)=>{so(a,c),Wn(a,c),$i(a,c),Or(a,c),io(a,c),fc(a,c),Gn(a,c),ro(a,c),zn(a,c),hc(a,c);let d=T();typeof c.didRender=="function"&&d&&c.didRender(d),u.eventEmitter.emit("didRender",d)},uo=()=>Ne(T()),zi=()=>{var a;return(a=Ye())===null||a===void 0?void 0:a.click()},pc=()=>{var a;return(a=Le())===null||a===void 0?void 0:a.click()},jt=()=>{var a;return(a=on())===null||a===void 0?void 0:a.click()},Ue=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Kn=a=>{a.keydownTarget&&a.keydownHandlerAdded&&(a.keydownTarget.removeEventListener("keydown",a.keydownHandler,{capture:a.keydownListenerCapture}),a.keydownHandlerAdded=!1)},Lr=(a,c,d)=>{Kn(a),c.toast||(a.keydownHandler=g=>Qn(c,g,d),a.keydownTarget=c.keydownListenerCapture?window:T(),a.keydownListenerCapture=c.keydownListenerCapture,a.keydownTarget.addEventListener("keydown",a.keydownHandler,{capture:a.keydownListenerCapture}),a.keydownHandlerAdded=!0)},Fr=(a,c)=>{var d;let g=cn();if(g.length){a=a+c,a===g.length?a=0:a===-1&&(a=g.length-1),g[a].focus();return}(d=T())===null||d===void 0||d.focus()},ie=["ArrowRight","ArrowDown"],Ur=["ArrowLeft","ArrowUp"],Qn=(a,c,d)=>{a&&(c.isComposing||c.keyCode===229||(a.stopKeydownPropagation&&c.stopPropagation(),c.key==="Enter"?Jn(c,a):c.key==="Tab"?mc(c):[...ie,...Ur].includes(c.key)?lo(c.key):c.key==="Escape"&&gc(c,a,d)))},Jn=(a,c)=>{if(!ze(c.allowEnterKey))return;let d=Cr(T(),c.input);if(a.target&&d&&a.target instanceof HTMLElement&&a.target.outerHTML===d.outerHTML){if(["textarea","file"].includes(c.input))return;zi(),a.preventDefault()}},mc=a=>{let c=a.target,d=cn(),g=-1;for(let R=0;R<d.length;R++)if(c===d[R]){g=R;break}a.shiftKey?Fr(g,-1):Fr(g,1),a.stopPropagation(),a.preventDefault()},lo=a=>{let c=ht(),d=Ye(),g=Le(),R=on();if(!c||!d||!g||!R)return;let M=[d,g,R];if(document.activeElement instanceof HTMLElement&&!M.includes(document.activeElement))return;let W=ie.includes(a)?"nextElementSibling":"previousElementSibling",ee=document.activeElement;if(ee){for(let he=0;he<c.children.length;he++){if(ee=ee[W],!ee)return;if(ee instanceof HTMLButtonElement&&Ne(ee))break}ee instanceof HTMLButtonElement&&ee.focus()}},gc=(a,c,d)=>{ze(c.allowEscapeKey)&&(a.preventDefault(),d(Ue.esc))};var mn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let yc=()=>{let a=v();Array.from(document.body.children).forEach(d=>{d.contains(a)||(d.hasAttribute("aria-hidden")&&d.setAttribute("data-previous-aria-hidden",d.getAttribute("aria-hidden")||""),d.setAttribute("aria-hidden","true"))})},ho=()=>{Array.from(document.body.children).forEach(c=>{c.hasAttribute("data-previous-aria-hidden")?(c.setAttribute("aria-hidden",c.getAttribute("data-previous-aria-hidden")||""),c.removeAttribute("data-previous-aria-hidden")):c.removeAttribute("aria-hidden")})},gn=typeof window<"u"&&!!window.GestureEvent,At=()=>{if(gn&&!Xe(document.body,y.iosfix)){let a=document.body.scrollTop;document.body.style.top=`${a*-1}px`,K(document.body,y.iosfix),fo()}},fo=()=>{let a=v();if(!a)return;let c;a.ontouchstart=d=>{c=po(d)},a.ontouchmove=d=>{c&&(d.preventDefault(),d.stopPropagation())}},po=a=>{let c=a.target,d=v(),g=ki();return!d||!g||mo(a)||yn(a)?!1:c===d||!Js(d)&&c instanceof HTMLElement&&c.tagName!=="INPUT"&&c.tagName!=="TEXTAREA"&&!(Js(g)&&g.contains(c))},mo=a=>a.touches&&a.touches.length&&a.touches[0].touchType==="stylus",yn=a=>a.touches&&a.touches.length>1,_c=()=>{if(Xe(document.body,y.iosfix)){let a=parseInt(document.body.style.top,10);Ze(document.body,y.iosfix),document.body.style.top="",document.body.scrollTop=a*-1}},wc=()=>{let a=document.createElement("div");a.className=y["scrollbar-measure"],document.body.appendChild(a);let c=a.getBoundingClientRect().width-a.clientWidth;return document.body.removeChild(a),c},_n=null,Ct=a=>{_n===null&&(document.body.scrollHeight>window.innerHeight||a==="scroll")&&(_n=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${_n+wc()}px`)},vc=()=>{_n!==null&&(document.body.style.paddingRight=`${_n}px`,_n=null)};function go(a,c,d,g){ln()?wo(a,g):(p(d).then(()=>wo(a,g)),Kn(u)),gn?(c.setAttribute("style","display:none !important"),c.removeAttribute("class"),c.innerHTML=""):c.remove(),un()&&(vc(),_c(),ho()),Yn()}function Yn(){Ze([document.documentElement,document.body],[y.shown,y["height-auto"],y["no-backdrop"],y["toast-shown"]])}function et(a){a=_o(a);let c=mn.swalPromiseResolve.get(this),d=yo(this);this.isAwaitingPromise?a.isDismissed||(mt(this),c(a)):d&&c(a)}let yo=a=>{let c=T();if(!c)return!1;let d=re.innerParams.get(a);if(!d||Xe(c,d.hideClass.popup))return!1;Ze(c,d.showClass.popup),K(c,d.hideClass.popup);let g=v();return Ze(g,d.showClass.backdrop),K(g,d.hideClass.backdrop),Gi(a,c,d),!0};function wn(a){let c=mn.swalPromiseReject.get(this);mt(this),c&&c(a)}let mt=a=>{a.isAwaitingPromise&&(delete a.isAwaitingPromise,re.innerParams.get(a)||a._destroy())},_o=a=>typeof a>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},a),Gi=(a,c,d)=>{let g=v(),R=bt&&hn(c);typeof d.willClose=="function"&&d.willClose(c),u.eventEmitter.emit("willClose",c),R?le(a,c,g,d.returnFocus,d.didClose):go(a,g,d.returnFocus,d.didClose)},le=(a,c,d,g,R)=>{bt&&(u.swalCloseEventFinishedCallback=go.bind(null,a,d,g,R),c.addEventListener(bt,function(M){M.target===c&&(u.swalCloseEventFinishedCallback(),delete u.swalCloseEventFinishedCallback)}))},wo=(a,c)=>{setTimeout(()=>{typeof c=="function"&&c.bind(a.params)(),u.eventEmitter.emit("didClose"),a._destroy&&a._destroy()})},vn=a=>{let c=T();if(c||new Do,c=T(),!c)return;let d=an();ln()?ye(I()):vo(c,a),pe(d),c.setAttribute("data-loading","true"),c.setAttribute("aria-busy","true"),c.focus()},vo=(a,c)=>{let d=ht(),g=an();!d||!g||(!c&&Ne(Ye())&&(c=Ye()),pe(d),c&&(ye(c),g.setAttribute("data-button-to-replace",c.className),d.insertBefore(g,c)),K([a,d],y.loading))},Io=(a,c)=>{c.input==="select"||c.input==="radio"?To(a,c):["text","email","number","tel","textarea"].some(d=>d===c.input)&&(fe(c.inputValue)||w(c.inputValue))&&(vn(Ye()),Ic(a,c))},Eo=(a,c)=>{let d=a.getInput();if(!d)return null;switch(c.input){case"checkbox":return Br(d);case"radio":return bo(d);case"file":return gt(d);default:return c.inputAutoTrim?d.value.trim():d.value}},Br=a=>a.checked?1:0,bo=a=>a.checked?a.value:null,gt=a=>a.files&&a.files.length?a.getAttribute("multiple")!==null?a.files:a.files[0]:null,To=(a,c)=>{let d=T();if(!d)return;let g=R=>{c.input==="select"?Xn(d,In(R),c):c.input==="radio"&&Ao(d,In(R),c)};fe(c.inputOptions)||w(c.inputOptions)?(vn(Ye()),C(c.inputOptions).then(R=>{a.hideLoading(),g(R)})):typeof c.inputOptions=="object"?g(c.inputOptions):Z(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof c.inputOptions}`)},Ic=(a,c)=>{let d=a.getInput();d&&(ye(d),C(c.inputValue).then(g=>{d.value=c.input==="number"?`${parseFloat(g)||0}`:`${g}`,pe(d),d.focus(),a.hideLoading()}).catch(g=>{Z(`Error in inputValue promise: ${g}`),d.value="",pe(d),d.focus(),a.hideLoading()}))};function Xn(a,c,d){let g=It(a,y.select);if(!g)return;let R=(M,W,ee)=>{let he=document.createElement("option");he.value=ee,Ve(he,W),he.selected=Zn(ee,d.inputValue),M.appendChild(he)};c.forEach(M=>{let W=M[0],ee=M[1];if(Array.isArray(ee)){let he=document.createElement("optgroup");he.label=W,he.disabled=!1,g.appendChild(he),ee.forEach(Wr=>R(he,Wr[1],Wr[0]))}else R(g,ee,W)}),g.focus()}function Ao(a,c,d){let g=It(a,y.radio);if(!g)return;c.forEach(M=>{let W=M[0],ee=M[1],he=document.createElement("input"),Wr=document.createElement("label");he.type="radio",he.name=y.radio,he.value=W,Zn(W,d.inputValue)&&(he.checked=!0);let Tc=document.createElement("span");Ve(Tc,ee),Tc.className=y.label,Wr.appendChild(he),Wr.appendChild(Tc),g.appendChild(Wr)});let R=g.querySelectorAll("input");R.length&&R[0].focus()}let In=a=>{let c=[];return a instanceof Map?a.forEach((d,g)=>{let R=d;typeof R=="object"&&(R=In(R)),c.push([g,R])}):Object.keys(a).forEach(d=>{let g=a[d];typeof g=="object"&&(g=In(g)),c.push([d,g])}),c},Zn=(a,c)=>!!c&&c.toString()===a.toString(),Co=a=>{let c=re.innerParams.get(a);a.disableButtons(),c.input?Wi(a,"confirm"):tr(a,!0)},jr=a=>{let c=re.innerParams.get(a);a.disableButtons(),c.returnInputValueOnDeny?Wi(a,"deny"):qr(a,!1)},Ec=(a,c)=>{a.disableButtons(),c(Ue.cancel)},Wi=(a,c)=>{let d=re.innerParams.get(a);if(!d.input){Z(`The "input" parameter is needed to be set when using returnInputValueOn${z(c)}`);return}let g=a.getInput(),R=Eo(a,d);d.inputValidator?er(a,R,c):g&&!g.checkValidity()?(a.enableButtons(),a.showValidationMessage(d.validationMessage||g.validationMessage)):c==="deny"?qr(a,R):tr(a,R)},er=(a,c,d)=>{let g=re.innerParams.get(a);a.disableInput(),Promise.resolve().then(()=>C(g.inputValidator(c,g.validationMessage))).then(M=>{a.enableButtons(),a.enableInput(),M?a.showValidationMessage(M):d==="deny"?qr(a,c):tr(a,c)})},qr=(a,c)=>{let d=re.innerParams.get(a||void 0);d.showLoaderOnDeny&&vn(Le()),d.preDeny?(a.isAwaitingPromise=!0,Promise.resolve().then(()=>C(d.preDeny(c,d.validationMessage))).then(R=>{R===!1?(a.hideLoading(),mt(a)):a.close({isDenied:!0,value:typeof R>"u"?c:R})}).catch(R=>$r(a||void 0,R))):a.close({isDenied:!0,value:c})},Hi=(a,c)=>{a.close({isConfirmed:!0,value:c})},$r=(a,c)=>{a.rejectPromise(c)},tr=(a,c)=>{let d=re.innerParams.get(a||void 0);d.showLoaderOnConfirm&&vn(),d.preConfirm?(a.resetValidationMessage(),a.isAwaitingPromise=!0,Promise.resolve().then(()=>C(d.preConfirm(c,d.validationMessage))).then(R=>{Ne(sn())||R===!1?(a.hideLoading(),mt(a)):Hi(a,typeof R>"u"?c:R)}).catch(R=>$r(a||void 0,R))):Hi(a,c)};function nr(){let a=re.innerParams.get(this);if(!a)return;let c=re.domCache.get(this);ye(c.loader),ln()?a.icon&&pe(I()):zr(c),Ze([c.popup,c.actions],y.loading),c.popup.removeAttribute("aria-busy"),c.popup.removeAttribute("data-loading"),c.confirmButton.disabled=!1,c.denyButton.disabled=!1,c.cancelButton.disabled=!1}let zr=a=>{let c=a.popup.getElementsByClassName(a.loader.getAttribute("data-button-to-replace"));c.length?pe(c[0],"inline-block"):Qs()&&ye(a.actions)};function Ki(){let a=re.innerParams.get(this),c=re.domCache.get(this);return c?Cr(c.popup,a.input):null}function Qi(a,c,d){let g=re.domCache.get(a);c.forEach(R=>{g[R].disabled=d})}function St(a,c){let d=T();if(!(!d||!a))if(a.type==="radio"){let g=d.querySelectorAll(`[name="${y.radio}"]`);for(let R=0;R<g.length;R++)g[R].disabled=c}else a.disabled=c}function Ji(){Qi(this,["confirmButton","denyButton","cancelButton"],!1)}function Yi(){Qi(this,["confirmButton","denyButton","cancelButton"],!0)}function Xi(){St(this.getInput(),!1)}function Zi(){St(this.getInput(),!0)}function rr(a){let c=re.domCache.get(this),d=re.innerParams.get(this);Ve(c.validationMessage,a),c.validationMessage.className=y["validation-message"],d.customClass&&d.customClass.validationMessage&&K(c.validationMessage,d.customClass.validationMessage),pe(c.validationMessage);let g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",y["validation-message"]),Ni(g),K(g,y.inputerror))}function Be(){let a=re.domCache.get(this);a.validationMessage&&ye(a.validationMessage);let c=this.getInput();c&&(c.removeAttribute("aria-invalid"),c.removeAttribute("aria-describedby"),Ze(c,y.inputerror))}let qt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},So=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],En={allowEnterKey:void 0},s=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],l=a=>Object.prototype.hasOwnProperty.call(qt,a),h=a=>So.indexOf(a)!==-1,m=a=>En[a],P=a=>{l(a)||L(`Unknown parameter "${a}"`)},D=a=>{s.includes(a)&&L(`The parameter "${a}" is incompatible with toasts`)},N=a=>{let c=m(a);c&&de(a,c)},ne=a=>{a.backdrop===!1&&a.allowOutsideClick&&L('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let c in a)P(c),a.toast&&D(c),N(c)};function we(a){let c=T(),d=re.innerParams.get(this);if(!c||Xe(c,d.hideClass.popup)){L("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let g=Y(a),R=Object.assign({},d,g);co(this,R),re.innerParams.set(this,R),Object.defineProperties(this,{params:{value:Object.assign({},this.params,a),writable:!1,enumerable:!0}})}let Y=a=>{let c={};return Object.keys(a).forEach(d=>{h(d)?c[d]=a[d]:L(`Invalid parameter to update: ${d}`)}),c};function Te(){let a=re.domCache.get(this),c=re.innerParams.get(this);if(!c){$t(this);return}a.popup&&u.swalCloseEventFinishedCallback&&(u.swalCloseEventFinishedCallback(),delete u.swalCloseEventFinishedCallback),typeof c.didDestroy=="function"&&c.didDestroy(),u.eventEmitter.emit("didDestroy"),Re(this)}let Re=a=>{$t(a),delete a.params,delete u.keydownHandler,delete u.keydownTarget,delete u.currentInstance},$t=a=>{a.isAwaitingPromise?(Ge(re,a),a.isAwaitingPromise=!0):(Ge(mn,a),Ge(re,a),delete a.isAwaitingPromise,delete a.disableButtons,delete a.enableButtons,delete a.getInput,delete a.disableInput,delete a.enableInput,delete a.hideLoading,delete a.disableLoading,delete a.showValidationMessage,delete a.resetValidationMessage,delete a.close,delete a.closePopup,delete a.closeModal,delete a.closeToast,delete a.rejectPromise,delete a.update,delete a._destroy)},Ge=(a,c)=>{for(let d in a)a[d].delete(c)};var Gr=Object.freeze({__proto__:null,_destroy:Te,close:et,closeModal:et,closePopup:et,closeToast:et,disableButtons:Yi,disableInput:Zi,disableLoading:nr,enableButtons:Ji,enableInput:Xi,getInput:Ki,handleAwaitingPromise:mt,hideLoading:nr,rejectPromise:wn,resetValidationMessage:Be,showValidationMessage:rr,update:we});let es=(a,c,d)=>{a.toast?Wm(a,c,d):(Km(c),Qm(c),Jm(a,c,d))},Wm=(a,c,d)=>{c.popup.onclick=()=>{a&&(Hm(a)||a.timer||a.input)||d(Ue.close)}},Hm=a=>!!(a.showConfirmButton||a.showDenyButton||a.showCancelButton||a.showCloseButton),Po=!1,Km=a=>{a.popup.onmousedown=()=>{a.container.onmouseup=function(c){a.container.onmouseup=()=>{},c.target===a.container&&(Po=!0)}}},Qm=a=>{a.container.onmousedown=c=>{c.target===a.container&&c.preventDefault(),a.popup.onmouseup=function(d){a.popup.onmouseup=()=>{},(d.target===a.popup||d.target instanceof HTMLElement&&a.popup.contains(d.target))&&(Po=!0)}}},Jm=(a,c,d)=>{c.container.onclick=g=>{if(Po){Po=!1;return}g.target===c.container&&ze(a.allowOutsideClick)&&d(Ue.backdrop)}},Ym=a=>typeof a=="object"&&a.jquery,Wh=a=>a instanceof Element||Ym(a),Xm=a=>{let c={};return typeof a[0]=="object"&&!Wh(a[0])?Object.assign(c,a[0]):["title","html","icon"].forEach((d,g)=>{let R=a[g];typeof R=="string"||Wh(R)?c[d]=R:R!==void 0&&Z(`Unexpected type of ${d}! Expected "string" or "Element", got ${typeof R}`)}),c};function Zm(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return new this(...c)}function eg(a){class c extends this{_main(g,R){return super._main(g,Object.assign({},a,R))}}return c}let tg=()=>u.timeout&&u.timeout.getTimerLeft(),Hh=()=>{if(u.timeout)return Ys(),u.timeout.stop()},Kh=()=>{if(u.timeout){let a=u.timeout.start();return Sr(a),a}},ng=()=>{let a=u.timeout;return a&&(a.running?Hh():Kh())},rg=a=>{if(u.timeout){let c=u.timeout.increase(a);return Sr(c,!0),c}},ig=()=>!!(u.timeout&&u.timeout.isRunning()),Qh=!1,bc={};function sg(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";bc[a]=this,Qh||(document.body.addEventListener("click",og),Qh=!0)}let og=a=>{for(let c=a.target;c&&c!==document;c=c.parentNode)for(let d in bc){let g=c.getAttribute(d);if(g){bc[d].fire({template:g});return}}};class ag{constructor(){this.events={}}_getHandlersByEventName(c){return typeof this.events[c]>"u"&&(this.events[c]=[]),this.events[c]}on(c,d){let g=this._getHandlersByEventName(c);g.includes(d)||g.push(d)}once(c,d){var g=this;let R=function(){g.removeListener(c,R);for(var M=arguments.length,W=new Array(M),ee=0;ee<M;ee++)W[ee]=arguments[ee];d.apply(g,W)};this.on(c,R)}emit(c){for(var d=arguments.length,g=new Array(d>1?d-1:0),R=1;R<d;R++)g[R-1]=arguments[R];this._getHandlersByEventName(c).forEach(M=>{try{M.apply(this,g)}catch(W){console.error(W)}})}removeListener(c,d){let g=this._getHandlersByEventName(c),R=g.indexOf(d);R>-1&&g.splice(R,1)}removeAllListeners(c){this.events[c]!==void 0&&(this.events[c].length=0)}reset(){this.events={}}}u.eventEmitter=new ag;var cg=Object.freeze({__proto__:null,argsToParams:Xm,bindClickHandler:sg,clickCancel:jt,clickConfirm:zi,clickDeny:pc,enableLoading:vn,fire:Zm,getActions:ht,getCancelButton:on,getCloseButton:xi,getConfirmButton:Ye,getContainer:v,getDenyButton:Le,getFocusableElements:cn,getFooter:Hs,getHtmlContainer:ki,getIcon:I,getIconContent:lt,getImage:rn,getInputLabel:Se,getLoader:an,getPopup:T,getProgressSteps:Ut,getTimerLeft:tg,getTimerProgressBar:vt,getTitle:nn,getValidationMessage:sn,increaseTimer:rg,isDeprecatedParameter:m,isLoading:Vi,isTimerRunning:ig,isUpdatableParameter:h,isValidParameter:l,isVisible:uo,mixin:eg,off:(a,c)=>{if(!a){u.eventEmitter.reset();return}c?u.eventEmitter.removeListener(a,c):u.eventEmitter.removeAllListeners(a)},on:(a,c)=>{u.eventEmitter.on(a,c)},once:(a,c)=>{u.eventEmitter.once(a,c)},resumeTimer:Kh,showLoading:vn,stopTimer:Hh,toggleTimer:ng});class ug{constructor(c,d){this.callback=c,this.remaining=d,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(c){let d=this.running;return d&&this.stop(),this.remaining+=c,d&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Jh=["swal-title","swal-html","swal-footer"],lg=a=>{let c=typeof a.template=="string"?document.querySelector(a.template):a.template;if(!c)return{};let d=c.content;return _g(d),Object.assign(hg(d),dg(d),fg(d),pg(d),mg(d),gg(d),yg(d,Jh))},hg=a=>{let c={};return Array.from(a.querySelectorAll("swal-param")).forEach(g=>{ir(g,["name","value"]);let R=g.getAttribute("name"),M=g.getAttribute("value");!R||!M||(typeof qt[R]=="boolean"?c[R]=M!=="false":typeof qt[R]=="object"?c[R]=JSON.parse(M):c[R]=M)}),c},dg=a=>{let c={};return Array.from(a.querySelectorAll("swal-function-param")).forEach(g=>{let R=g.getAttribute("name"),M=g.getAttribute("value");!R||!M||(c[R]=new Function(`return ${M}`)())}),c},fg=a=>{let c={};return Array.from(a.querySelectorAll("swal-button")).forEach(g=>{ir(g,["type","color","aria-label"]);let R=g.getAttribute("type");!R||!["confirm","cancel","deny"].includes(R)||(c[`${R}ButtonText`]=g.innerHTML,c[`show${z(R)}Button`]=!0,g.hasAttribute("color")&&(c[`${R}ButtonColor`]=g.getAttribute("color")),g.hasAttribute("aria-label")&&(c[`${R}ButtonAriaLabel`]=g.getAttribute("aria-label")))}),c},pg=a=>{let c={},d=a.querySelector("swal-image");return d&&(ir(d,["src","width","height","alt"]),d.hasAttribute("src")&&(c.imageUrl=d.getAttribute("src")||void 0),d.hasAttribute("width")&&(c.imageWidth=d.getAttribute("width")||void 0),d.hasAttribute("height")&&(c.imageHeight=d.getAttribute("height")||void 0),d.hasAttribute("alt")&&(c.imageAlt=d.getAttribute("alt")||void 0)),c},mg=a=>{let c={},d=a.querySelector("swal-icon");return d&&(ir(d,["type","color"]),d.hasAttribute("type")&&(c.icon=d.getAttribute("type")),d.hasAttribute("color")&&(c.iconColor=d.getAttribute("color")),c.iconHtml=d.innerHTML),c},gg=a=>{let c={},d=a.querySelector("swal-input");d&&(ir(d,["type","label","placeholder","value"]),c.input=d.getAttribute("type")||"text",d.hasAttribute("label")&&(c.inputLabel=d.getAttribute("label")),d.hasAttribute("placeholder")&&(c.inputPlaceholder=d.getAttribute("placeholder")),d.hasAttribute("value")&&(c.inputValue=d.getAttribute("value")));let g=Array.from(a.querySelectorAll("swal-input-option"));return g.length&&(c.inputOptions={},g.forEach(R=>{ir(R,["value"]);let M=R.getAttribute("value");if(!M)return;let W=R.innerHTML;c.inputOptions[M]=W})),c},yg=(a,c)=>{let d={};for(let g in c){let R=c[g],M=a.querySelector(R);M&&(ir(M,[]),d[R.replace(/^swal-/,"")]=M.innerHTML.trim())}return d},_g=a=>{let c=Jh.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(a.children).forEach(d=>{let g=d.tagName.toLowerCase();c.includes(g)||L(`Unrecognized element <${g}>`)})},ir=(a,c)=>{Array.from(a.attributes).forEach(d=>{c.indexOf(d.name)===-1&&L([`Unrecognized attribute "${d.name}" on <${a.tagName.toLowerCase()}>.`,`${c.length?`Allowed attributes are: ${c.join(", ")}`:"To set the value, use HTML within the element."}`])})},Yh=10,wg=a=>{let c=v(),d=T();typeof a.willOpen=="function"&&a.willOpen(d),u.eventEmitter.emit("willOpen",d);let R=window.getComputedStyle(document.body).overflowY;Eg(c,d,a),setTimeout(()=>{vg(c,d)},Yh),un()&&(Ig(c,a.scrollbarPadding,R),yc()),!ln()&&!u.previousActiveElement&&(u.previousActiveElement=document.activeElement),typeof a.didOpen=="function"&&setTimeout(()=>a.didOpen(d)),u.eventEmitter.emit("didOpen",d),Ze(c,y["no-transition"])},Xh=a=>{let c=T();if(a.target!==c||!bt)return;let d=v();c.removeEventListener(bt,Xh),d.style.overflowY="auto"},vg=(a,c)=>{bt&&hn(c)?(a.style.overflowY="hidden",c.addEventListener(bt,Xh)):a.style.overflowY="auto"},Ig=(a,c,d)=>{At(),c&&d!=="hidden"&&Ct(d),setTimeout(()=>{a.scrollTop=0})},Eg=(a,c,d)=>{K(a,d.showClass.backdrop),d.animation?(c.style.setProperty("opacity","0","important"),pe(c,"grid"),setTimeout(()=>{K(c,d.showClass.popup),c.style.removeProperty("opacity")},Yh)):pe(c,"grid"),K([document.documentElement,document.body],y.shown),d.heightAuto&&d.backdrop&&!d.toast&&K([document.documentElement,document.body],y["height-auto"])};var Zh={email:(a,c)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(a)?Promise.resolve():Promise.resolve(c||"Invalid email address"),url:(a,c)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(a)?Promise.resolve():Promise.resolve(c||"Invalid URL")};function bg(a){a.inputValidator||(a.input==="email"&&(a.inputValidator=Zh.email),a.input==="url"&&(a.inputValidator=Zh.url))}function Tg(a){(!a.target||typeof a.target=="string"&&!document.querySelector(a.target)||typeof a.target!="string"&&!a.target.appendChild)&&(L('Target parameter is not valid, defaulting to "body"'),a.target="body")}function Ag(a){bg(a),a.showLoaderOnConfirm&&!a.preConfirm&&L(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Tg(a),typeof a.title=="string"&&(a.title=a.title.split(`
`).join("<br />")),Li(a)}let Pt;var Ro=new WeakMap;class me{constructor(){if(r(this,Ro,void 0),typeof window>"u")return;Pt=this;for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];let R=Object.freeze(this.constructor.argsToParams(d));this.params=R,this.isAwaitingPromise=!1,i(Ro,this,this._main(Pt.params))}_main(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ne(Object.assign({},d,c)),u.currentInstance){let M=mn.swalPromiseResolve.get(u.currentInstance),{isAwaitingPromise:W}=u.currentInstance;u.currentInstance._destroy(),W||M({isDismissed:!0}),un()&&ho()}u.currentInstance=Pt;let g=Sg(c,d);Ag(g),Object.freeze(g),u.timeout&&(u.timeout.stop(),delete u.timeout),clearTimeout(u.restoreFocusTimeout);let R=Pg(Pt);return co(Pt,g),re.innerParams.set(Pt,g),Cg(Pt,R,g)}then(c){return t(Ro,this).then(c)}finally(c){return t(Ro,this).finally(c)}}let Cg=(a,c,d)=>new Promise((g,R)=>{let M=W=>{a.close({isDismissed:!0,dismiss:W})};mn.swalPromiseResolve.set(a,g),mn.swalPromiseReject.set(a,R),c.confirmButton.onclick=()=>{Co(a)},c.denyButton.onclick=()=>{jr(a)},c.cancelButton.onclick=()=>{Ec(a,M)},c.closeButton.onclick=()=>{M(Ue.close)},es(d,c,M),Lr(u,d,M),Io(a,d),wg(d),Rg(u,d,M),Dg(c,d),setTimeout(()=>{c.container.scrollTop=0})}),Sg=(a,c)=>{let d=lg(a),g=Object.assign({},qt,c,d,a);return g.showClass=Object.assign({},qt.showClass,g.showClass),g.hideClass=Object.assign({},qt.hideClass,g.hideClass),g.animation===!1&&(g.showClass={backdrop:"swal2-noanimation"},g.hideClass={}),g},Pg=a=>{let c={popup:T(),container:v(),actions:ht(),confirmButton:Ye(),denyButton:Le(),cancelButton:on(),loader:an(),closeButton:xi(),validationMessage:sn(),progressSteps:Ut()};return re.domCache.set(a,c),c},Rg=(a,c,d)=>{let g=vt();ye(g),c.timer&&(a.timeout=new ug(()=>{d("timer"),delete a.timeout},c.timer),c.timerProgressBar&&(pe(g),Fe(g,c,"timerProgressBar"),setTimeout(()=>{a.timeout&&a.timeout.running&&Sr(c.timer)})))},Dg=(a,c)=>{if(!c.toast){if(!ze(c.allowEnterKey)){de("allowEnterKey"),Vg();return}kg(a)||xg(a,c)||Fr(-1,1)}},kg=a=>{let c=a.popup.querySelectorAll("[autofocus]");for(let d of c)if(d instanceof HTMLElement&&Ne(d))return d.focus(),!0;return!1},xg=(a,c)=>c.focusDeny&&Ne(a.denyButton)?(a.denyButton.focus(),!0):c.focusCancel&&Ne(a.cancelButton)?(a.cancelButton.focus(),!0):c.focusConfirm&&Ne(a.confirmButton)?(a.confirmButton.focus(),!0):!1,Vg=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let a=new Date,c=localStorage.getItem("swal-initiation");c?(a.getTime()-Date.parse(c))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let d=document.createElement("audio");d.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",d.loop=!0,document.body.appendChild(d),setTimeout(()=>{d.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${a}`)}me.prototype.disableButtons=Yi,me.prototype.enableButtons=Ji,me.prototype.getInput=Ki,me.prototype.disableInput=Zi,me.prototype.enableInput=Xi,me.prototype.hideLoading=nr,me.prototype.disableLoading=nr,me.prototype.showValidationMessage=rr,me.prototype.resetValidationMessage=Be,me.prototype.close=et,me.prototype.closePopup=et,me.prototype.closeModal=et,me.prototype.closeToast=et,me.prototype.rejectPromise=wn,me.prototype.update=we,me.prototype._destroy=Te,Object.assign(me,cg),Object.keys(Gr).forEach(a=>{me[a]=function(){return Pt&&Pt[a]?Pt[a](...arguments):null}}),me.DismissReason=Ue,me.version="11.14.0";let Do=me;return Do.default=Do,Do});typeof Dt<"u"&&Dt.Sweetalert2&&(Dt.swal=Dt.sweetAlert=Dt.Swal=Dt.SweetAlert=Dt.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var Dd=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(se(Oc),se(Nc))},e.\u0275dir=yt({type:e});let n=e;return n})(),Og=(()=>{let e=class e extends Dd{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Vc(e)))(o||e)}})(),e.\u0275dir=yt({type:e,features:[An]});let n=e;return n})(),kd=new st("");var Mg={provide:kd,useExisting:ts(()=>ri),multi:!0};function Lg(){let n=Uc()?Uc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Fg=new st(""),ri=(()=>{let e=class e extends Dd{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Lg())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(se(Oc),se(Nc),se(Fg,8))},e.\u0275dir=yt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Me("input",function(f){return o._handleInput(f.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(f){return o._compositionEnd(f.target.value)})},features:[os([Mg]),An]});let n=e;return n})();function Ug(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var jc=new st(""),xd=new st("");function Bg(n){return Ug(n.value)?{required:!0}:null}function Ed(n){return null}function Vd(n){return n!=null}function Nd(n){return fd(n)?id(n):n}function Od(n){let e={};return n.forEach(t=>{e=t!=null?Ke(Ke({},e),t):e}),Object.keys(e).length===0?null:e}function Md(n,e){return e.map(t=>t(n))}function jg(n){return!n.validate}function Ld(n){return n.map(e=>jg(e)?e:t=>e.validate(t))}function qg(n){if(!n)return null;let e=n.filter(Vd);return e.length==0?null:function(t){return Od(Md(t,e))}}function qc(n){return n!=null?qg(Ld(n)):null}function $g(n){if(!n)return null;let e=n.filter(Vd);return e.length==0?null:function(t){let r=Md(t,e).map(Nd);return od(r).pipe(sd(Od))}}function $c(n){return n!=null?$g(Ld(n)):null}function bd(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zg(n){return n._rawValidators}function Gg(n){return n._rawAsyncValidators}function Bc(n){return n?Array.isArray(n)?n:[n]:[]}function No(n,e){return Array.isArray(n)?n.includes(e):n===e}function Td(n,e){let t=Bc(e);return Bc(n).forEach(i=>{No(t,i)||t.push(i)}),t}function Ad(n,e){return Bc(e).filter(t=>!No(n,t))}var Oo=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$c(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ti=class extends Oo{get formDirective(){return null}get path(){return null}},fs=class extends Oo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Mo=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Wg={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},p0=it(Ke({},Wg),{"[class.ng-submitted]":"isSubmitted"}),Bo=(()=>{let e=class e extends Mo{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(se(fs,2))},e.\u0275dir=yt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Mc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[An]});let n=e;return n})(),jo=(()=>{let e=class e extends Mo{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(se(ti,10))},e.\u0275dir=yt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Mc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[An]});let n=e;return n})();var cs="VALID",Vo="INVALID",Zr="PENDING",us="DISABLED",ni=class{},Lo=class extends ni{constructor(e,t){super(),this.value=e,this.source=t}},hs=class extends ni{constructor(e,t){super(),this.pristine=e,this.source=t}},ds=class extends ni{constructor(e,t){super(),this.touched=e,this.source=t}},ei=class extends ni{constructor(e,t){super(),this.status=e,this.source=t}};function Fd(n){return(qo(n)?n.validators:n)||null}function Hg(n){return Array.isArray(n)?qc(n):n||null}function Ud(n,e){return(qo(e)?e.asyncValidators:n)||null}function Kg(n){return Array.isArray(n)?$c(n):n||null}function qo(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Qg(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ko(1e3,"");if(!r[t])throw new ko(1001,"")}function Jg(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ko(1002,"")})}var Fo=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=as(()=>this.statusReactive()),this.statusReactive=ss(void 0),this._pristine=as(()=>this.pristineReactive()),this.pristineReactive=ss(!0),this._touched=as(()=>this.touchedReactive()),this.touchedReactive=ss(!1),this._events=new ed,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Cn(this.statusReactive)}set status(e){Cn(()=>this.statusReactive.set(e))}get valid(){return this.status===cs}get invalid(){return this.status===Vo}get pending(){return this.status==Zr}get disabled(){return this.status===us}get enabled(){return this.status!==us}get pristine(){return Cn(this.pristineReactive)}set pristine(e){Cn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Cn(this.touchedReactive)}set touched(e){Cn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Td(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Td(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ad(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ad(e,this._rawAsyncValidators))}hasValidator(e){return No(this._rawValidators,e)}hasAsyncValidator(e){return No(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(it(Ke({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ds(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ds(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(it(Ke({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new hs(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new hs(!0,r))}markAsPending(e={}){this.status=Zr;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ei(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(it(Ke({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=us,this.errors=null,this._forEachChild(i=>{i.disable(it(Ke({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lo(this.value,r)),this._events.next(new ei(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(it(Ke({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=cs,this._forEachChild(r=>{r.enable(it(Ke({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(it(Ke({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cs||this.status===Zr)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lo(this.value,t)),this._events.next(new ei(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(it(Ke({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?us:cs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Zr,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Nd(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ei(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new is,this.statusChanges=new is}_calculateStatus(){return this._allControlsDisabled()?us:this.errors?Vo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zr)?Zr:this._anyControlsHaveStatus(Vo)?Vo:cs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new hs(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ds(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qo(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Hg(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Kg(this._rawAsyncValidators)}},Uo=class extends Fo{constructor(e,t,r){super(Fd(t),Ud(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Jg(this,!0,e),Object.keys(e).forEach(r=>{Qg(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zc=new st("CallSetDisabledState",{providedIn:"root",factory:()=>Gc}),Gc="always";function Yg(n,e){return[...e.path,n]}function Bd(n,e,t=Gc){jd(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Zg(n,e),ty(n,e),ey(n,e),Xg(n,e)}function Cd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Xg(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function jd(n,e){let t=zg(n);e.validator!==null?n.setValidators(bd(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Gg(n);e.asyncValidator!==null?n.setAsyncValidators(bd(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Cd(e._rawValidators,i),Cd(e._rawAsyncValidators,i)}function Zg(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&qd(n,e)})}function ey(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&qd(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function qd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ty(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ny(n,e){n==null,jd(n,e)}function ry(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function iy(n){return Object.getPrototypeOf(n.constructor)===Og}function sy(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function oy(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===ri?t=o:iy(o)?r=o:i=o}),i||r||t||null}var ay={provide:ti,useExisting:ts(()=>ps)},ls=Promise.resolve(),ps=(()=>{let e=class e extends ti{get submitted(){return Cn(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=as(()=>this.submittedReactive()),this.submittedReactive=ss(!1),this._directives=new Set,this.ngSubmit=new is,this.form=new Uo({},qc(r),$c(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ls.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Bd(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ls.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ls.then(()=>{let i=this._findContainer(r.path),o=new Uo({});ny(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ls.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ls.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),sy(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(se(jc,10),se(xd,10),se(zc,8))},e.\u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&Me("submit",function(f){return o.onSubmit(f)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[os([ay]),An]});let n=e;return n})();function Sd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Pd(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var cy=class extends Fo{constructor(e=null,t,r){super(Fd(t),Ud(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qo(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Pd(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Pd(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var uy={provide:fs,useExisting:ts(()=>ms)},Rd=Promise.resolve(),ms=(()=>{let e=class e extends fs{constructor(r,i,o,u,f,p){super(),this._changeDetectorRef=f,this.callSetDisabledState=p,this.control=new cy,this._registered=!1,this.name="",this.update=new is,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=oy(this,u)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),ry(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Bd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Rd.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Fc(i);Rd.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Yg(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(se(ti,9),se(jc,10),se(xd,10),se(kd,10),se(md,8),se(zc,8))},e.\u0275dir=yt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[os([uy]),An,xc]});let n=e;return n})(),$o=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var ly=(()=>{let e=class e{constructor(){this._validator=Ed}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ed,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=yt({type:e,features:[xc]});let n=e;return n})();var hy={provide:jc,useExisting:ts(()=>gs),multi:!0};var gs=(()=>{let e=class e extends ly{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Fc,this.createValidator=r=>Bg}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Vc(e)))(o||e)}})(),e.\u0275dir=yt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&ld("required",o._enabled?"":null)},inputs:{required:"required"},features:[os([hy]),An]});let n=e;return n})();var dy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kc({type:e}),e.\u0275inj=Dc({});let n=e;return n})();var zo=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:zc,useValue:r.callSetDisabledState??Gc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kc({type:e}),e.\u0275inj=Dc({imports:[dy]});let n=e;return n})();var $h=Ac(Go());var Gd=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},fy=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],u=n[t++],f=n[t++],p=((i&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{let o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Wd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],u=i+1<n.length,f=u?n[i+1]:0,p=i+2<n.length,_=p?n[i+2]:0,S=o>>2,y=(o&3)<<4|f>>4,k=(f&15)<<2|_>>6,O=_&63;p||(O=64,u||(k=64)),r.push(t[S],t[y],t[k],t[O])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Gd(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fy(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],f=i<n.length?t[n.charAt(i)]:0;++i;let _=i<n.length?t[n.charAt(i)]:64;++i;let y=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||f==null||_==null||y==null)throw new Kc;let k=o<<2|f>>4;if(r.push(k),_!==64){let O=f<<4&240|_>>2;if(r.push(O),y!==64){let F=_<<6&192|y;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Kc=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},py=function(n){let e=Gd(n);return Wd.encodeByteArray(e,!0)},ys=function(n){return py(n).replace(/\./g,"")},Jc=function(n){try{return Wd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function my(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gy=()=>my().__FIREBASE_DEFAULTS__,yy=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_y=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Jc(n[1]);return e&&JSON.parse(e)},Ho=()=>{try{return gy()||yy()||_y()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yc=n=>{var e,t;return(t=(e=Ho())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Hd=n=>{let e=Yc(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Xc=()=>{var n;return(n=Ho())===null||n===void 0?void 0:n.config},Zc=n=>{var e;return(e=Ho())===null||e===void 0?void 0:e[`_${n}`]};var Wo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Kd(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ys(JSON.stringify(t)),ys(JSON.stringify(u)),""].join(".")}function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function wy(){var n;let e=(n=Ho())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jd(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Yd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xd(){let n=De();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Zd(){return!wy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eu(){try{return typeof indexedDB=="object"}catch{return!1}}function ef(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var vy="FirebaseError",tt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vy,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gt.prototype.create)}},Gt=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?Iy(o,r):"Error",f=`${this.serviceName}: ${u} (${i}).`;return new tt(i,f,r)}};function Iy(n,e){return n.replace(Ey,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Ey=/\{\$([^}]+)}/g;function tf(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function or(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],u=e[i];if(zd(o)&&zd(u)){if(!or(o,u))return!1}else if(o!==u)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function zd(n){return n!==null&&typeof n=="object"}function _s(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ii(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function si(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function nf(n,e){let t=new Qc(n,e);return t.subscribe.bind(t)}var Qc=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");by(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Hc),i.error===void 0&&(i.error=Hc),i.complete===void 0&&(i.complete=Hc);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function by(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hc(){}var y0=4*60*60*1e3;function We(n){return n&&n._delegate?n._delegate:n}var ut=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ar="[DEFAULT]";var tu=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Wo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ay(e))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ar){return this.instances.has(e)}getOptions(e=ar){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,u]of this.instancesDeferred.entries()){let f=this.normalizeInstanceIdentifier(o);r===f&&u.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ty(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ar){return this.component?this.component.multipleInstances?e:ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ty(n){return n===ar?void 0:n}function Ay(n){return n.instantiationMode==="EAGER"}var Ko=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new tu(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Cy=[],Q=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Q||{}),Sy={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Py=Q.INFO,Ry={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},Dy=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Ry[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Rn=class{constructor(e){this.name=e,this._logLevel=Py,this._logHandler=Dy,this._userLogHandler=null,Cy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};var ky=(n,e)=>e.some(t=>n instanceof t),rf,sf;function xy(){return rf||(rf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vy(){return sf||(sf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var of=new WeakMap,ru=new WeakMap,af=new WeakMap,nu=new WeakMap,su=new WeakMap;function Ny(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(kt(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&of.set(t,n)}).catch(()=>{}),su.set(e,n),e}function Oy(n){if(ru.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});ru.set(n,e)}var iu={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ru.get(n);if(e==="objectStoreNames")return n.objectStoreNames||af.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return kt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cf(n){iu=n(iu)}function My(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Qo(this),e,...t);return af.set(r,e.sort?e.sort():[e]),kt(r)}:Vy().includes(n)?function(...e){return n.apply(Qo(this),e),kt(of.get(this))}:function(...e){return kt(n.apply(Qo(this),e))}}function Ly(n){return typeof n=="function"?My(n):(n instanceof IDBTransaction&&Oy(n),ky(n,xy())?new Proxy(n,iu):n)}function kt(n){if(n instanceof IDBRequest)return Ny(n);if(nu.has(n))return nu.get(n);let e=Ly(n);return e!==n&&(nu.set(n,e),su.set(e,n)),e}var Qo=n=>su.get(n);function lf(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let u=indexedDB.open(n,e),f=kt(u);return r&&u.addEventListener("upgradeneeded",p=>{r(kt(u.result),p.oldVersion,p.newVersion,kt(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),i&&p.addEventListener("versionchange",_=>i(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}var Fy=["get","getKey","getAll","getAllKeys","count"],Uy=["put","add","delete","clear"],ou=new Map;function uf(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ou.get(e))return ou.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Uy.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fy.includes(t)))return;let o=function(u,...f){return A(this,null,function*(){let p=this.transaction(u,i?"readwrite":"readonly"),_=p.store;return r&&(_=_.index(f.shift())),(yield Promise.all([_[t](...f),i&&p.done]))[0]})};return ou.set(e,o),o}cf(n=>it(Ke({},n),{get:(e,t,r)=>uf(e,t)||n.get(e,t,r),has:(e,t)=>!!uf(e,t)||n.has(e,t)}));var cu=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(By(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function By(n){let e=n.getComponent();return e?.type==="VERSION"}var uu="@firebase/app",hf="0.10.10";var Wt=new Rn("@firebase/app"),jy="@firebase/app-compat",qy="@firebase/analytics-compat",$y="@firebase/analytics",zy="@firebase/app-check-compat",Gy="@firebase/app-check",Wy="@firebase/auth",Hy="@firebase/auth-compat",Ky="@firebase/database",Qy="@firebase/database-compat",Jy="@firebase/functions",Yy="@firebase/functions-compat",Xy="@firebase/installations",Zy="@firebase/installations-compat",e_="@firebase/messaging",t_="@firebase/messaging-compat",n_="@firebase/performance",r_="@firebase/performance-compat",i_="@firebase/remote-config",s_="@firebase/remote-config-compat",o_="@firebase/storage",a_="@firebase/storage-compat",c_="@firebase/firestore",u_="@firebase/vertexai-preview",l_="@firebase/firestore-compat",h_="firebase",d_="10.13.1";var lu="[DEFAULT]",f_={[uu]:"fire-core",[jy]:"fire-core-compat",[$y]:"fire-analytics",[qy]:"fire-analytics-compat",[Gy]:"fire-app-check",[zy]:"fire-app-check-compat",[Wy]:"fire-auth",[Hy]:"fire-auth-compat",[Ky]:"fire-rtdb",[Qy]:"fire-rtdb-compat",[Jy]:"fire-fn",[Yy]:"fire-fn-compat",[Xy]:"fire-iid",[Zy]:"fire-iid-compat",[e_]:"fire-fcm",[t_]:"fire-fcm-compat",[n_]:"fire-perf",[r_]:"fire-perf-compat",[i_]:"fire-rc",[s_]:"fire-rc-compat",[o_]:"fire-gcs",[a_]:"fire-gcs-compat",[c_]:"fire-fst",[l_]:"fire-fst-compat",[u_]:"fire-vertex","fire-js":"fire-js",[h_]:"fire-js-all"};var ws=new Map,p_=new Map,hu=new Map;function df(n,e){try{n.container.addComponent(e)}catch(t){Wt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function kn(n){let e=n.name;if(hu.has(e))return Wt.debug(`There were multiple attempts to register component ${e}.`),!1;hu.set(e,n);for(let t of ws.values())df(t,n);for(let t of p_.values())df(t,n);return!0}function Is(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _t(n){return n.settings!==void 0}var m_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dn=new Gt("app","Firebase",m_);var du=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}};var xn=d_;function mu(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:lu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dn.create("bad-app-name",{appName:String(i)});if(t||(t=Xc()),!t)throw Dn.create("no-options");let o=ws.get(i);if(o){if(or(t,o.options)&&or(r,o.config))return o;throw Dn.create("duplicate-app",{appName:i})}let u=new Ko(i);for(let p of hu.values())u.addComponent(p);let f=new du(t,r,u);return ws.set(i,f),f}function oi(n=lu){let e=ws.get(n);if(!e&&n===lu&&Xc())return mu();if(!e)throw Dn.create("no-app",{appName:n});return e}function Jo(){return Array.from(ws.values())}function Ae(n,e,t){var r;let i=(r=f_[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){let f=[`Unable to register library "${i}" with version "${e}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wt.warn(f.join(" "));return}kn(new ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var g_="firebase-heartbeat-database",y_=1,vs="firebase-heartbeat-store",au=null;function gf(){return au||(au=lf(g_,y_,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vs)}catch(t){console.warn(t)}}}}).catch(n=>{throw Dn.create("idb-open",{originalErrorMessage:n.message})})),au}function __(n){return A(this,null,function*(){try{let t=(yield gf()).transaction(vs),r=yield t.objectStore(vs).get(yf(n));return yield t.done,r}catch(e){if(e instanceof tt)Wt.warn(e.message);else{let t=Dn.create("idb-get",{originalErrorMessage:e?.message});Wt.warn(t.message)}}})}function ff(n,e){return A(this,null,function*(){try{let r=(yield gf()).transaction(vs,"readwrite");yield r.objectStore(vs).put(e,yf(n)),yield r.done}catch(t){if(t instanceof tt)Wt.warn(t.message);else{let r=Dn.create("idb-set",{originalErrorMessage:t?.message});Wt.warn(r.message)}}})}function yf(n){return`${n.name}!${n.options.appId}`}var w_=1024,v_=30*24*60*60*1e3,fu=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new pu(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{let f=new Date(u.date).valueOf();return Date.now()-f<=v_}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wt.warn(r)}})}getHeartbeatsHeader(){return A(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=pf(),{heartbeatsToSend:r,unsentEntries:i}=I_(this._heartbeatsCache.heartbeats),o=ys(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wt.warn(t),""}})}};function pf(){return new Date().toISOString().substring(0,10)}function I_(n,e=w_){let t=[],r=n.slice();for(let i of n){let o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),mf(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mf(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var pu=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return eu()?ef().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield __(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ff(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ff(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function mf(n){return ys(JSON.stringify({version:2,heartbeats:n})).length}function E_(n){kn(new ut("platform-logger",e=>new cu(e),"PRIVATE")),kn(new ut("heartbeat",e=>new fu(e),"PRIVATE")),Ae(uu,hf,n),Ae(uu,hf,"esm2017"),Ae("fire-js","")}E_("");var b_="firebase",T_="10.13.1";Ae(b_,T_,"app");var ur=new Lc("ANGULARFIRE2_VERSION");function Xo(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(u=>u.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Es=(n,e)=>{let t=e?[e]:Jo(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r},ci=class{constructor(){return Es(A_)}},A_="app-check";function ai(){}var Yo=class{zone;delegate;constructor(e,t=rd){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(u){i.runGuarded(()=>{e.apply(this,[u])})};return this.delegate.schedule(o,t,r)}},gu=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ai,{},ai,ai)),t.pipe(ad({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ui=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Yo(Zone.current)),this.insideAngular=t.run(()=>new Yo(Zone.current,nd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(rs(Tn))};static \u0275prov=ns({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zo(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function C_(n){return Zo().ngZone.runOutsideAngular(()=>n())}function cr(n){return Zo().ngZone.run(()=>n())}function S_(n){return P_(Zo())(n)}function P_(n){return function(t){return t=t.lift(new gu(n.ngZone)),t.pipe(Rc(n.outsideAngular),Pc(n.insideAngular))}}var R_=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),cr(()=>n.apply(void 0,r))},wt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=cr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ai,{},ai,ai))),r[o]=R_(r[o],t));let i=C_(()=>n.apply(this,r));if(!e)if(i instanceof Cc){let o=Zo();return i.pipe(Rc(o.outsideAngular),Pc(o.insideAngular))}else return cr(()=>i);return i instanceof Cc?i.pipe(S_):i instanceof Promise?cr(()=>new Promise((o,u)=>i.then(f=>cr(()=>o(f)),f=>cr(()=>u(f))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:cr(()=>i)};var Ht=class{constructor(e){return e}},lr=class{constructor(){return Jo()}};function D_(n){return n&&n.length===1?n[0]:new Ht(oi())}var yu=new st("angularfire2._apps"),k_={provide:Ht,useFactory:D_,deps:[[new ot,yu]]},x_={provide:lr,deps:[[new ot,yu]]};function V_(n){return(e,t)=>{let r=t.get(cd);Ae("angularfire",ur.full,"core"),Ae("angularfire",ur.full,"app"),Ae("angular",dd.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ht(i)}}function _f(n,...e){return Hr([k_,x_,{provide:yu,useFactory:V_(n),multi:!0,deps:[Tn,sr,ui,...e]}])}var wf=wt(mu,!0);function Mf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Lf=Mf,Ff=new Gt("auth","Firebase",Mf());var sa=new Rn("@firebase/auth");function N_(n,...e){sa.logLevel<=Q.WARN&&sa.warn(`Auth (${xn}): ${n}`,...e)}function ta(n,...e){sa.logLevel<=Q.ERROR&&sa.error(`Auth (${xn}): ${n}`,...e)}function Vt(n,...e){throw Bu(n,...e)}function hr(n,...e){return Bu(n,...e)}function Uf(n,e,t){let r=Object.assign(Object.assign({},Lf()),{[e]:t});return new Gt("auth","Firebase",r).create(e,{appName:n.name})}function Jt(n){return Uf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bu(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ff.create(n,...e)}function $(n,e,...t){if(!n)throw Bu(e,...t)}function Kt(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ta(e),new Error(e)}function Nn(n,e){n||Kt(e)}function Iu(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function O_(){return vf()==="http:"||vf()==="https:"}function vf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function M_(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O_()||Jd()||"connection"in navigator)?navigator.onLine:!0}function L_(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var dr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nn(t>e,"Short delay should be less than long delay!"),this.isMobile=Qd()||Yd()}get(){return M_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ju(n,e){Nn(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var oa=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var F_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var U_=new dr(3e4,6e4);function On(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Mn(o,u,f,p){return A(this,arguments,function*(n,e,t,r,i={}){return Bf(n,i,()=>A(this,null,function*(){let _={},S={};r&&(e==="GET"?S=r:_={body:JSON.stringify(r)});let y=_s(Object.assign({key:n.config.apiKey},S)).slice(1),k=yield n._getAdditionalHeaders();return k["Content-Type"]="application/json",n.languageCode&&(k["X-Firebase-Locale"]=n.languageCode),oa.fetch()(jf(n,n.config.apiHost,t,y),Object.assign({method:e,headers:k,referrerPolicy:"no-referrer"},_))}))})}function Bf(n,e,t){return A(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},F_),e);try{let i=new Eu(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let u=yield o.json();if("needConfirmation"in u)throw ea(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{let f=o.ok?u.errorMessage:u.error.message,[p,_]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ea(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw ea(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw ea(n,"user-disabled",u);let S=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Uf(n,S,_);Vt(n,S)}}catch(i){if(i instanceof tt)throw i;Vt(n,"network-request-failed",{message:String(i)})}})}function Ds(o,u,f,p){return A(this,arguments,function*(n,e,t,r,i={}){let _=yield Mn(n,e,t,r,i);return"mfaPendingCredential"in _&&Vt(n,"multi-factor-auth-required",{_serverResponse:_}),_})}function jf(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?ju(n.config,i):`${n.config.apiScheme}://${i}`}function B_(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Eu=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),U_.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ea(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=hr(n,e,r);return i.customData._tokenResponse=t,i}function If(n){return n!==void 0&&n.enterprise!==void 0}var bu=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return B_(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function j_(n,e){return A(this,null,function*(){return Mn(n,"GET","/v2/recaptchaConfig",On(n,e))})}function q_(n,e){return A(this,null,function*(){return Mn(n,"POST","/v1/accounts:delete",e)})}function qf(n,e){return A(this,null,function*(){return Mn(n,"POST","/v1/accounts:lookup",e)})}function bs(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function qu(n,e=!1){return A(this,null,function*(){let t=We(n),r=yield t.getIdToken(e),i=$u(r);$(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,u=o?.sign_in_provider;return{claims:i,token:r,authTime:bs(_u(i.auth_time)),issuedAtTime:bs(_u(i.iat)),expirationTime:bs(_u(i.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function _u(n){return Number(n)*1e3}function $u(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ta("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jc(t);return i?JSON.parse(i):(ta("Failed to decode base64 JWT payload"),null)}catch(i){return ta("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ef(n){let e=$u(n);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function As(n,e,t=!1){return A(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof tt&&$_(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function $_({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Tu=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),t)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Cs=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bs(this.lastLoginAt),this.creationTime=bs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function aa(n){return A(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield As(n,qf(t,{idToken:r}));$(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$f(o.providerUserInfo):[],f=z_(n.providerData,u),p=n.isAnonymous,_=!(n.email&&o.passwordHash)&&!f?.length,S=p?_:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Cs(o.createdAt,o.lastLoginAt),isAnonymous:S};Object.assign(n,y)})}function zu(n){return A(this,null,function*(){let e=We(n);yield aa(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function z_(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $f(n){return n.map(e=>{var{providerId:t}=e,r=Sc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function G_(n,e){return A(this,null,function*(){let t=yield Bf(n,{},()=>A(this,null,function*(){let r=_s({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=jf(n,i,"/v1/token",`key=${o}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",oa.fetch()(u,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function W_(n,e){return A(this,null,function*(){return Mn(n,"POST","/v2/accounts:revokeToken",On(n,e))})}var Ts=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ef(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(e.length!==0,"internal-error");let t=Ef(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return A(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return A(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield G_(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new n;return r&&($(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&($(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Kt("not implemented")}};function Vn(n,e){$(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var li=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Sc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let t=yield As(this,this.stsTokenManager.getToken(this.auth,e));return $(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return qu(this,e)}reload(){return zu(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return A(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield aa(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){if(_t(this.auth.app))return Promise.reject(Jt(this.auth));let e=yield this.getIdToken();return yield As(this,q_(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,f,p,_,S;let y=(r=t.displayName)!==null&&r!==void 0?r:void 0,k=(i=t.email)!==null&&i!==void 0?i:void 0,O=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,F=(u=t.photoURL)!==null&&u!==void 0?u:void 0,z=(f=t.tenantId)!==null&&f!==void 0?f:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Z=(_=t.createdAt)!==null&&_!==void 0?_:void 0,te=(S=t.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:oe,emailVerified:de,isAnonymous:ze,providerData:fe,stsTokenManager:C}=t;$(oe&&C,e,"internal-error");let w=Ts.fromJSON(this.name,C);$(typeof oe=="string",e,"internal-error"),Vn(y,e.name),Vn(k,e.name),$(typeof de=="boolean",e,"internal-error"),$(typeof ze=="boolean",e,"internal-error"),Vn(O,e.name),Vn(F,e.name),Vn(z,e.name),Vn(L,e.name),Vn(Z,e.name),Vn(te,e.name);let v=new n({uid:oe,auth:e,email:k,emailVerified:de,displayName:y,isAnonymous:ze,photoURL:F,phoneNumber:O,tenantId:z,stsTokenManager:w,createdAt:Z,lastLoginAt:te});return fe&&Array.isArray(fe)&&(v.providerData=fe.map(E=>Object.assign({},E))),L&&(v._redirectEventId=L),v}static _fromIdTokenResponse(e,t,r=!1){return A(this,null,function*(){let i=new Ts;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield aa(o),o})}static _fromGetAccountInfoResponse(e,t,r){return A(this,null,function*(){let i=t.users[0];$(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?$f(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!o?.length,f=new Ts;f.updateFromIdToken(r);let p=new n({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:u}),_={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(p,_),p})}};var bf=new Map;function Qt(n){Nn(n instanceof Function,"Expected a class definition");let e=bf.get(n);return e?(Nn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bf.set(n,e),e)}var H_=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(t,r){return A(this,null,function*(){this.storage[t]=r})}_get(t){return A(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return A(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Au=H_;function na(n,e,t){return`firebase:${n}:${e}:${t}`}var ca=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=na(this.userKey,i.apiKey,o),this.fullPersistenceKey=na("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return A(this,null,function*(){if(!t.length)return new n(Qt(Au),e,r);let i=(yield Promise.all(t.map(_=>A(this,null,function*(){if(yield _._isAvailable())return _})))).filter(_=>_),o=i[0]||Qt(Au),u=na(r,e.config.apiKey,e.name),f=null;for(let _ of t)try{let S=yield _._get(u);if(S){let y=li._fromJSON(e,S);_!==o&&(f=y),o=_;break}}catch{}let p=i.filter(_=>_._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new n(o,e,r):(o=p[0],f&&(yield o._set(u,f.toJSON())),yield Promise.all(t.map(_=>A(this,null,function*(){if(_!==o)try{yield _._remove(u)}catch{}}))),new n(o,e,r))})}};function Tf(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hf(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zf(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qf(e))return"Blackberry";if(Jf(e))return"Webos";if(Gf(e))return"Safari";if((e.includes("chrome/")||Wf(e))&&!e.includes("edge/"))return"Chrome";if(Kf(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function zf(n=De()){return/firefox\//i.test(n)}function Gf(n=De()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wf(n=De()){return/crios\//i.test(n)}function Hf(n=De()){return/iemobile/i.test(n)}function Kf(n=De()){return/android/i.test(n)}function Qf(n=De()){return/blackberry/i.test(n)}function Jf(n=De()){return/webos/i.test(n)}function Gu(n=De()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function K_(n=De()){var e;return Gu(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q_(){return Xd()&&document.documentMode===10}function Yf(n=De()){return Gu(n)||Kf(n)||Jf(n)||Qf(n)||/windows phone/i.test(n)||Hf(n)}function Xf(n,e=[]){let t;switch(n){case"Browser":t=Tf(De());break;case"Worker":t=`${Tf(De())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xn}/${r}`}var Cu=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((u,f)=>{try{let p=e(o);u(p)}catch(p){f(p)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function J_(t){return A(this,arguments,function*(n,e={}){return Mn(n,"GET","/v2/passwordPolicy",On(n,e))})}var Y_=6,Su=class{constructor(e){var t,r,i,o;let u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Y_,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,f;let p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(i=p.containsLowercaseLetter)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Pu=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ua(this),this.idTokenSubscription=new ua(this),this.beforeStateQueue=new Cu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ff,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qt(t)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ca.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return A(this,null,function*(){try{let t=yield qf(this,{idToken:e}),r=yield li._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return A(this,null,function*(){var t;if(_t(this.app)){let u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=i?._redirectEventId,p=yield this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return A(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield aa(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=L_()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){if(_t(this.app))return Promise.reject(Jt(this));let t=e?We(e):null;return t&&$(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return A(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return _t(this.app)?Promise.reject(Jt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _t(this.app)?Promise.reject(Jt(this)):this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(Qt(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield J_(this),t=new Su(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield W_(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return A(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Qt(e)||this._popupRedirectResolver;$(t,this,"argument-error"),this.redirectPersistenceManager=yield ca.create(this,[Qt(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),u=!1,f=this._isInitialized?Promise.resolve():this._initializationPromise;if($(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof t=="function"){let p=e.addObserver(t,r,i);return()=>{u=!0,p()}}else{let p=e.addObserver(t);return()=>{u=!0,p()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return A(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&N_(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function pr(n){return We(n)}var ua=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nf(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ga={loadJS(){return A(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X_(n){ga=n}function Zf(n){return ga.loadJS(n)}function Z_(){return ga.recaptchaEnterpriseScript}function ew(){return ga.gapiScript}function ep(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var tw="recaptcha-enterprise",nw="NO_RECAPTCHA",Ru=class{constructor(e){this.type=tw,this.auth=pr(e)}verify(e="verify",t=!1){return A(this,null,function*(){function r(o){return A(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((u,f)=>A(this,null,function*(){j_(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{let _=new bu(p);return o.tenantId==null?o._agentRecaptchaConfig=_:o._tenantRecaptchaConfigs[o.tenantId]=_,u(_.siteKey)}}).catch(p=>{f(p)})}))})}function i(o,u,f){let p=window.grecaptcha;If(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(_=>{u(_)}).catch(()=>{u(nw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,u)=>{r(this.auth).then(f=>{if(!t&&If(window.grecaptcha))i(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Z_();p.length!==0&&(p+=f),Zf(p).then(()=>{i(f,o,u)}).catch(_=>{u(_)})}}).catch(f=>{u(f)})})})}};function Af(n,e,t,r=!1){return A(this,null,function*(){let i=new Ru(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let u=Object.assign({},e);return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u})}function Du(n,e,t,r){return A(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield Af(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>A(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Af(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)}))})}function Wu(n,e){let t=Is(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(or(o,e??{}))return i;Vt(i,"already-initialized")}return t.initialize({options:e})}function rw(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Qt);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Hu(n,e,t){let r=pr(n);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=tp(e),{host:u,port:f}=iw(e),p=f===null?"":`:${f}`;r.config.emulator={url:`${o}//${u}${p}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sw()}function tp(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iw(n){let e=tp(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Cf(r.substr(o.length+1))}}else{let[o,u]=r.split(":");return{host:o,port:Cf(u)}}}function Cf(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function sw(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ss=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kt("not implemented")}_getIdTokenResponse(e){return Kt("not implemented")}_linkToIdToken(e,t){return Kt("not implemented")}_getReauthenticationResolver(e){return Kt("not implemented")}};function ow(n,e){return A(this,null,function*(){return Mn(n,"POST","/v1/accounts:signUp",e)})}function aw(n,e){return A(this,null,function*(){return Ds(n,"POST","/v1/accounts:signInWithPassword",On(n,e))})}function cw(n,e){return A(this,null,function*(){return Ds(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))})}function uw(n,e){return A(this,null,function*(){return Ds(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))})}var Ps=class n extends Ss{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return A(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Du(e,t,"signInWithPassword",aw);case"emailLink":return cw(e,{email:this._email,oobCode:this._password});default:Vt(e,"internal-error")}})}_linkToIdToken(e,t){return A(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Du(e,r,"signUpPassword",ow);case"emailLink":return uw(e,{idToken:t,email:this._email,oobCode:this._password});default:Vt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function wu(n,e){return A(this,null,function*(){return Ds(n,"POST","/v1/accounts:signInWithIdp",On(n,e))})}function lw(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hw(n){let e=ii(si(n)).link,t=e?ii(si(e)).deep_link_id:null,r=ii(si(n)).deep_link_id;return(r?ii(si(r)).link:null)||r||t||e||n}var la=class n{constructor(e){var t,r,i,o,u,f;let p=ii(si(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,S=(r=p.oobCode)!==null&&r!==void 0?r:null,y=lw((i=p.mode)!==null&&i!==void 0?i:null);$(_&&S&&y,"argument-error"),this.apiKey=_,this.operation=y,this.code=S,this.continueUrl=(o=p.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){let t=hw(e);try{return new n(t)}catch{return null}}};var np=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ps._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=la.parseLink(r);return $(i,"argument-error"),Ps._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),ha=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ku=class extends ha{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function dw(n,e){return A(this,null,function*(){return Ds(n,"POST","/v1/accounts:signUp",On(n,e))})}var hi=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return A(this,null,function*(){let o=yield li._fromIdTokenResponse(e,r,i),u=Sf(r);return new n({user:o,providerId:u,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return A(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Sf(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Sf(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var xu=class n extends tt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function rp(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xu._fromErrorAndOperation(n,o,e,r):o})}function fw(n,e,t=!1){return A(this,null,function*(){let r=yield As(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return hi._forOperation(n,"link",r)})}function pw(n,e,t=!1){return A(this,null,function*(){let{auth:r}=n;if(_t(r.app))return Promise.reject(Jt(r));let i="reauthenticate";try{let o=yield As(n,rp(r,i,e,n),t);$(o.idToken,r,"internal-error");let u=$u(o.idToken);$(u,r,"internal-error");let{sub:f}=u;return $(n.uid===f,r,"user-mismatch"),hi._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Vt(r,"user-mismatch"),o}})}function ip(n,e,t=!1){return A(this,null,function*(){if(_t(n.app))return Promise.reject(Jt(n));let r="signIn",i=yield rp(n,r,e),o=yield hi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Ku(n,e){return A(this,null,function*(){return ip(pr(n),e)})}function sp(n){return A(this,null,function*(){let e=pr(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Qu(n,e,t){return A(this,null,function*(){if(_t(n.app))return Promise.reject(Jt(n));let r=pr(n),u=yield Du(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&sp(n),p}),f=yield hi._fromIdTokenResponse(r,"signIn",u);return yield r._updateCurrentUser(f.user),f})}function Ju(n,e,t){return _t(n.app)?Promise.reject(Jt(n)):Ku(We(n),np.credential(e,t)).catch(r=>A(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&sp(n),r}))}function Yu(n,e,t,r){return We(n).onIdTokenChanged(e,t,r)}function Xu(n,e,t){return We(n).beforeAuthStateChanged(e,t)}function Zu(n){return We(n).signOut()}var da="__sak";var fa=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(da,"1"),this.storage.removeItem(da),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var mw=1e3,gw=10,yw=(()=>{class n extends fa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yf(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((f,p,_)=>{this.notifyListeners(f,_)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},u=this.storage.getItem(i);Q_()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,gw):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return A(this,null,function*(){yield bn(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return A(this,null,function*(){let r=yield bn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return A(this,null,function*(){yield bn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),op=yw;var _w=(()=>{class n extends fa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),el=_w;function ww(n){return Promise.all(n.map(e=>A(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var vw=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return A(this,null,function*(){let r=t,{eventId:i,eventType:o,data:u}=r.data,f=this.handlersMap[o];if(!f?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let p=Array.from(f).map(S=>A(this,null,function*(){return S(r.origin,u)})),_=yield ww(p);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:_})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function ap(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Vu=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return A(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((f,p)=>{let _=ap("",20);i.port1.start();let S=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(y){let k=y;if(k.data.eventId===_)switch(k.data.status){case"ack":clearTimeout(S),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(k.data.response);break;default:clearTimeout(S),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})})}};function xt(){return window}function Iw(n){xt().location.href=n}function cp(){return typeof xt().WorkerGlobalScope<"u"&&typeof xt().importScripts=="function"}function Ew(){return A(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function bw(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Tw(){return cp()?self:null}var up="firebaseLocalStorageDb",Aw=1,pa="firebaseLocalStorage",lp="fbase_key",fr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ya(n,e){return n.transaction([pa],e?"readwrite":"readonly").objectStore(pa)}function Cw(){let n=indexedDB.deleteDatabase(up);return new fr(n).toPromise()}function Nu(){let n=indexedDB.open(up,Aw);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(pa,{keyPath:lp})}catch(i){t(i)}}),n.addEventListener("success",()=>A(this,null,function*(){let r=n.result;r.objectStoreNames.contains(pa)?e(r):(r.close(),yield Cw(),e(yield Nu()))}))})}function Pf(n,e,t){return A(this,null,function*(){let r=ya(n,!0).put({[lp]:e,value:t});return new fr(r).toPromise()})}function Sw(n,e){return A(this,null,function*(){let t=ya(n,!1).get(e),r=yield new fr(t).toPromise();return r===void 0?null:r.value})}function Rf(n,e){let t=ya(n,!0).delete(e);return new fr(t).toPromise()}var Pw=800,Rw=3,Dw=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return A(this,null,function*(){return this.db?this.db:(this.db=yield Nu(),this.db)})}_withRetries(t){return A(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Rw)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return A(this,null,function*(){return cp()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return A(this,null,function*(){this.receiver=vw._getInstance(Tw()),this.receiver._subscribe("keyChanged",(t,r)=>A(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>A(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return A(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Ew(),!this.activeServiceWorker)return;this.sender=new Vu(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return A(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||bw()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return A(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Nu();return yield Pf(t,da,"1"),yield Rf(t,da),!0}catch{}return!1})}_withPendingWrite(t){return A(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(i=>Pf(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return A(this,null,function*(){let r=yield this._withRetries(i=>Sw(i,t));return this.localCache[t]=r,r})}_remove(t){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(r=>Rf(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return A(this,null,function*(){let t=yield this._withRetries(o=>{let u=ya(o,!1).getAll();return new fr(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:u}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>A(this,null,function*(){return this._poll()}),Pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),hp=Dw;var lb=ep("rcb"),hb=new dr(3e4,6e4);function kw(n,e){return e?Qt(e):($(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Rs=class extends Ss{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wu(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function xw(n){return ip(n.auth,new Rs(n),n.bypassAuthState)}function Vw(n){let{auth:e,user:t}=n;return $(t,e,"internal-error"),pw(t,new Rs(n),n.bypassAuthState)}function Nw(n){return A(this,null,function*(){let{auth:e,user:t}=n;return $(t,e,"internal-error"),fw(t,new Rs(n),n.bypassAuthState)})}var Ou=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>A(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return A(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}let p={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(f)(p))}catch(_){this.reject(_)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xw;case"linkViaPopup":case"linkViaRedirect":return Nw;case"reauthViaPopup":case"reauthViaRedirect":return Vw;default:Vt(this.auth,"internal-error")}}resolve(e){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var db=new dr(2e3,1e4);var Ow="pendingRedirect",ra=new Map,Mu=class n extends Ou{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return A(this,null,function*(){let e=ra.get(this.auth._key());if(!e){try{let r=(yield Mw(this.resolver,this.auth))?yield bn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ra.set(this.auth._key(),e)}return this.bypassAuthState||ra.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return A(this,null,function*(){if(e.type==="signInViaRedirect")return bn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,bn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return A(this,null,function*(){})}cleanUp(){}};function Mw(n,e){return A(this,null,function*(){let t=Uw(e),r=Fw(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Lw(n,e){ra.set(n._key(),e)}function Fw(n){return Qt(n._redirectPersistence)}function Uw(n){return na(Ow,n.config.apiKey,n.name)}function Bw(n,e,t=!1){return A(this,null,function*(){if(_t(n.app))return Promise.reject(Jt(n));let r=pr(n),i=kw(r,e),u=yield new Mu(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,yield r._persistUserIfCurrent(u.user),yield r._setRedirectUser(null,e)),u})}var jw=10*60*1e3,Lu=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qw(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dp(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Df(e))}saveEventToCache(e){this.cachedEventUids.add(Df(e)),this.lastProcessedEventTime=Date.now()}};function Df(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dp({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function qw(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dp(n);default:return!1}}function $w(t){return A(this,arguments,function*(n,e={}){return Mn(n,"GET","/v1/projects",e)})}var zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gw=/^https?/;function Ww(n){return A(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield $w(n);for(let t of e)try{if(Hw(t))return}catch{}Vt(n,"unauthorized-domain")})}function Hw(n){let e=Iu(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Gw.test(t))return!1;if(zw.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Kw=new dr(3e4,6e4);function kf(){let n=xt().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Qw(n){return new Promise((e,t)=>{var r,i,o;function u(){kf(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kf(),t(hr(n,"network-request-failed"))},timeout:Kw.get()})}if(!((i=(r=xt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=xt().gapi)===null||o===void 0)&&o.load)u();else{let f=ep("iframefcb");return xt()[f]=()=>{gapi.load?u():t(hr(n,"network-request-failed"))},Zf(`${ew()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw ia=null,e})}var ia=null;function Jw(n){return ia=ia||Qw(n),ia}var Yw=new dr(5e3,15e3),Xw="__/auth/iframe",Zw="emulator/auth/iframe",ev={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nv(n){let e=n.config;$(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ju(e,Zw):`https://${n.config.authDomain}/${Xw}`,r={apiKey:e.apiKey,appName:n.name,v:xn},i=tv.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${_s(r).slice(1)}`}function rv(n){return A(this,null,function*(){let e=yield Jw(n),t=xt().gapi;return $(t,n,"internal-error"),e.open({where:document.body,url:nv(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ev,dontclear:!0},r=>new Promise((i,o)=>A(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let u=hr(n,"network-request-failed"),f=xt().setTimeout(()=>{o(u)},Yw.get());function p(){xt().clearTimeout(f),i(r)}r.ping(p).then(p,()=>{o(u)})})))})}var iv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sv=500,ov=600,av="_blank",cv="http://localhost",ma=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uv(n,e,t,r=sv,i=ov){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),f="",p=Object.assign(Object.assign({},iv),{width:r.toString(),height:i.toString(),top:o,left:u}),_=De().toLowerCase();t&&(f=Wf(_)?av:t),zf(_)&&(e=e||cv,p.scrollbars="yes");let S=Object.entries(p).reduce((k,[O,F])=>`${k}${O}=${F},`,"");if(K_(_)&&f!=="_self")return lv(e||"",f),new ma(null);let y=window.open(e||"",f,S);$(y,n,"popup-blocked");try{y.focus()}catch{}return new ma(y)}function lv(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var hv="__/auth/handler",dv="emulator/auth/handler",fv=encodeURIComponent("fac");function xf(n,e,t,r,i,o){return A(this,null,function*(){$(n.config.authDomain,n,"auth-domain-config-required"),$(n.config.apiKey,n,"invalid-api-key");let u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xn,eventId:i};if(e instanceof ha){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",tf(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(let[S,y]of Object.entries(o||{}))u[S]=y}if(e instanceof ku){let S=e.getScopes().filter(y=>y!=="");S.length>0&&(u.scopes=S.join(","))}n.tenantId&&(u.tid=n.tenantId);let f=u;for(let S of Object.keys(f))f[S]===void 0&&delete f[S];let p=yield n._getAppCheckToken(),_=p?`#${fv}=${encodeURIComponent(p)}`:"";return`${pv(n)}?${_s(f).slice(1)}${_}`})}function pv({config:n}){return n.emulator?ju(n,dv):`https://${n.authDomain}/${hv}`}var vu="webStorageSupport",Fu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=el,this._completeRedirectFn=Bw,this._overrideRedirectResult=Lw}_openPopup(e,t,r,i){return A(this,null,function*(){var o;Nn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let u=yield xf(e,t,r,Iu(),i);return uv(e,u,ap())})}_openRedirect(e,t,r,i){return A(this,null,function*(){yield this._originValidation(e);let o=yield xf(e,t,r,Iu(),i);return Iw(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Nn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return A(this,null,function*(){let t=yield rv(e),r=new Lu(e);return t.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vu,{type:vu},i=>{var o;let u=(o=i?.[0])===null||o===void 0?void 0:o[vu];u!==void 0&&t(!!u),Vt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ww(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yf()||Gf()||Gu()}},fp=Fu;var Vf="@firebase/auth",Nf="1.7.8";var Uu=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function mv(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gv(n){kn(new ut("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;$(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});let p={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xf(n)},_=new Pu(r,i,o,p);return rw(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),kn(new ut("auth-internal",e=>{let t=pr(e.getProvider("auth").getImmediate());return(r=>new Uu(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(Vf,Nf,mv(n)),Ae(Vf,Nf,"esm2017")}var yv=5*60,_v=Zc("authIdTokenMaxAge")||yv,Of=null,wv=n=>e=>A(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>_v)return;let i=t?.token;Of!==i&&(Of=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function tl(n=oi()){let e=Is(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Wu(n,{popupRedirectResolver:fp,persistence:[hp,op,el]}),r=Zc("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let u=wv(o.toString());Xu(t,u,()=>u(t.currentUser)),Yu(t,f=>u(f))}}let i=Yc("auth");return i&&Hu(t,`http://${i}`),t}function vv(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}X_({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=hr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",vv().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gv("Browser");var pp="auth",mr=class{constructor(e){return e}},ks=class{constructor(){return Es(pp)}};var nl=new st("angularfire2.auth-instances");function lI(n,e){let t=Xo(pp,n,e);return t&&new mr(t)}function hI(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new mr(r)}}var dI={provide:ks,deps:[[new ot,nl]]},fI={provide:mr,useFactory:lI,deps:[[new ot,nl],Ht]};function mp(n,...e){return Ae("angularfire",ur.full,"auth"),Hr([fI,dI,{provide:nl,useFactory:hI(n),multi:!0,deps:[Tn,sr,ui,lr,[new ot,ci],...e]}])}var gp=wt(Qu,!0);var yp=wt(tl,!0);var _p=wt(Ju,!0);var wp=wt(Zu,!0);var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ip={};var rl,Ep;(function(){var n;function e(C,w){function v(){}v.prototype=w.prototype,C.D=w.prototype,C.prototype=new v,C.prototype.constructor=C,C.C=function(E,b,T){for(var I=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)I[lt-2]=arguments[lt];return w.prototype[b].apply(E,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,w,v){v||(v=0);var E=Array(16);if(typeof w=="string")for(var b=0;16>b;++b)E[b]=w.charCodeAt(v++)|w.charCodeAt(v++)<<8|w.charCodeAt(v++)<<16|w.charCodeAt(v++)<<24;else for(b=0;16>b;++b)E[b]=w[v++]|w[v++]<<8|w[v++]<<16|w[v++]<<24;w=C.g[0],v=C.g[1],b=C.g[2];var T=C.g[3],I=w+(T^v&(b^T))+E[0]+3614090360&4294967295;w=v+(I<<7&4294967295|I>>>25),I=T+(b^w&(v^b))+E[1]+3905402710&4294967295,T=w+(I<<12&4294967295|I>>>20),I=b+(v^T&(w^v))+E[2]+606105819&4294967295,b=T+(I<<17&4294967295|I>>>15),I=v+(w^b&(T^w))+E[3]+3250441966&4294967295,v=b+(I<<22&4294967295|I>>>10),I=w+(T^v&(b^T))+E[4]+4118548399&4294967295,w=v+(I<<7&4294967295|I>>>25),I=T+(b^w&(v^b))+E[5]+1200080426&4294967295,T=w+(I<<12&4294967295|I>>>20),I=b+(v^T&(w^v))+E[6]+2821735955&4294967295,b=T+(I<<17&4294967295|I>>>15),I=v+(w^b&(T^w))+E[7]+4249261313&4294967295,v=b+(I<<22&4294967295|I>>>10),I=w+(T^v&(b^T))+E[8]+1770035416&4294967295,w=v+(I<<7&4294967295|I>>>25),I=T+(b^w&(v^b))+E[9]+2336552879&4294967295,T=w+(I<<12&4294967295|I>>>20),I=b+(v^T&(w^v))+E[10]+4294925233&4294967295,b=T+(I<<17&4294967295|I>>>15),I=v+(w^b&(T^w))+E[11]+2304563134&4294967295,v=b+(I<<22&4294967295|I>>>10),I=w+(T^v&(b^T))+E[12]+1804603682&4294967295,w=v+(I<<7&4294967295|I>>>25),I=T+(b^w&(v^b))+E[13]+4254626195&4294967295,T=w+(I<<12&4294967295|I>>>20),I=b+(v^T&(w^v))+E[14]+2792965006&4294967295,b=T+(I<<17&4294967295|I>>>15),I=v+(w^b&(T^w))+E[15]+1236535329&4294967295,v=b+(I<<22&4294967295|I>>>10),I=w+(b^T&(v^b))+E[1]+4129170786&4294967295,w=v+(I<<5&4294967295|I>>>27),I=T+(v^b&(w^v))+E[6]+3225465664&4294967295,T=w+(I<<9&4294967295|I>>>23),I=b+(w^v&(T^w))+E[11]+643717713&4294967295,b=T+(I<<14&4294967295|I>>>18),I=v+(T^w&(b^T))+E[0]+3921069994&4294967295,v=b+(I<<20&4294967295|I>>>12),I=w+(b^T&(v^b))+E[5]+3593408605&4294967295,w=v+(I<<5&4294967295|I>>>27),I=T+(v^b&(w^v))+E[10]+38016083&4294967295,T=w+(I<<9&4294967295|I>>>23),I=b+(w^v&(T^w))+E[15]+3634488961&4294967295,b=T+(I<<14&4294967295|I>>>18),I=v+(T^w&(b^T))+E[4]+3889429448&4294967295,v=b+(I<<20&4294967295|I>>>12),I=w+(b^T&(v^b))+E[9]+568446438&4294967295,w=v+(I<<5&4294967295|I>>>27),I=T+(v^b&(w^v))+E[14]+3275163606&4294967295,T=w+(I<<9&4294967295|I>>>23),I=b+(w^v&(T^w))+E[3]+4107603335&4294967295,b=T+(I<<14&4294967295|I>>>18),I=v+(T^w&(b^T))+E[8]+1163531501&4294967295,v=b+(I<<20&4294967295|I>>>12),I=w+(b^T&(v^b))+E[13]+2850285829&4294967295,w=v+(I<<5&4294967295|I>>>27),I=T+(v^b&(w^v))+E[2]+4243563512&4294967295,T=w+(I<<9&4294967295|I>>>23),I=b+(w^v&(T^w))+E[7]+1735328473&4294967295,b=T+(I<<14&4294967295|I>>>18),I=v+(T^w&(b^T))+E[12]+2368359562&4294967295,v=b+(I<<20&4294967295|I>>>12),I=w+(v^b^T)+E[5]+4294588738&4294967295,w=v+(I<<4&4294967295|I>>>28),I=T+(w^v^b)+E[8]+2272392833&4294967295,T=w+(I<<11&4294967295|I>>>21),I=b+(T^w^v)+E[11]+1839030562&4294967295,b=T+(I<<16&4294967295|I>>>16),I=v+(b^T^w)+E[14]+4259657740&4294967295,v=b+(I<<23&4294967295|I>>>9),I=w+(v^b^T)+E[1]+2763975236&4294967295,w=v+(I<<4&4294967295|I>>>28),I=T+(w^v^b)+E[4]+1272893353&4294967295,T=w+(I<<11&4294967295|I>>>21),I=b+(T^w^v)+E[7]+4139469664&4294967295,b=T+(I<<16&4294967295|I>>>16),I=v+(b^T^w)+E[10]+3200236656&4294967295,v=b+(I<<23&4294967295|I>>>9),I=w+(v^b^T)+E[13]+681279174&4294967295,w=v+(I<<4&4294967295|I>>>28),I=T+(w^v^b)+E[0]+3936430074&4294967295,T=w+(I<<11&4294967295|I>>>21),I=b+(T^w^v)+E[3]+3572445317&4294967295,b=T+(I<<16&4294967295|I>>>16),I=v+(b^T^w)+E[6]+76029189&4294967295,v=b+(I<<23&4294967295|I>>>9),I=w+(v^b^T)+E[9]+3654602809&4294967295,w=v+(I<<4&4294967295|I>>>28),I=T+(w^v^b)+E[12]+3873151461&4294967295,T=w+(I<<11&4294967295|I>>>21),I=b+(T^w^v)+E[15]+530742520&4294967295,b=T+(I<<16&4294967295|I>>>16),I=v+(b^T^w)+E[2]+3299628645&4294967295,v=b+(I<<23&4294967295|I>>>9),I=w+(b^(v|~T))+E[0]+4096336452&4294967295,w=v+(I<<6&4294967295|I>>>26),I=T+(v^(w|~b))+E[7]+1126891415&4294967295,T=w+(I<<10&4294967295|I>>>22),I=b+(w^(T|~v))+E[14]+2878612391&4294967295,b=T+(I<<15&4294967295|I>>>17),I=v+(T^(b|~w))+E[5]+4237533241&4294967295,v=b+(I<<21&4294967295|I>>>11),I=w+(b^(v|~T))+E[12]+1700485571&4294967295,w=v+(I<<6&4294967295|I>>>26),I=T+(v^(w|~b))+E[3]+2399980690&4294967295,T=w+(I<<10&4294967295|I>>>22),I=b+(w^(T|~v))+E[10]+4293915773&4294967295,b=T+(I<<15&4294967295|I>>>17),I=v+(T^(b|~w))+E[1]+2240044497&4294967295,v=b+(I<<21&4294967295|I>>>11),I=w+(b^(v|~T))+E[8]+1873313359&4294967295,w=v+(I<<6&4294967295|I>>>26),I=T+(v^(w|~b))+E[15]+4264355552&4294967295,T=w+(I<<10&4294967295|I>>>22),I=b+(w^(T|~v))+E[6]+2734768916&4294967295,b=T+(I<<15&4294967295|I>>>17),I=v+(T^(b|~w))+E[13]+1309151649&4294967295,v=b+(I<<21&4294967295|I>>>11),I=w+(b^(v|~T))+E[4]+4149444226&4294967295,w=v+(I<<6&4294967295|I>>>26),I=T+(v^(w|~b))+E[11]+3174756917&4294967295,T=w+(I<<10&4294967295|I>>>22),I=b+(w^(T|~v))+E[2]+718787259&4294967295,b=T+(I<<15&4294967295|I>>>17),I=v+(T^(b|~w))+E[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+T&4294967295}r.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var v=w-this.blockSize,E=this.B,b=this.h,T=0;T<w;){if(b==0)for(;T<=v;)i(this,C,T),T+=this.blockSize;if(typeof C=="string"){for(;T<w;)if(E[b++]=C.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<w;)if(E[b++]=C[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=w},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var v=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=v&255,v/=256;for(this.u(C),C=Array(16),w=v=0;4>w;++w)for(var E=0;32>E;E+=8)C[v++]=this.g[w]>>>E&255;return C};function o(C,w){var v=f;return Object.prototype.hasOwnProperty.call(v,C)?v[C]:v[C]=w(C)}function u(C,w){this.h=w;for(var v=[],E=!0,b=C.length-1;0<=b;b--){var T=C[b]|0;E&&T==w||(v[b]=T,E=!1)}this.g=v}var f={};function p(C){return-128<=C&&128>C?o(C,function(w){return new u([w|0],0>w?-1:0)}):new u([C|0],0>C?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return L(_(-C));for(var w=[],v=1,E=0;C>=v;E++)w[E]=C/v|0,v*=4294967296;return new u(w,0)}function S(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return L(S(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=_(Math.pow(w,8)),E=y,b=0;b<C.length;b+=8){var T=Math.min(8,C.length-b),I=parseInt(C.substring(b,b+T),w);8>T?(T=_(Math.pow(w,T)),E=E.j(T).add(_(I))):(E=E.j(v),E=E.add(_(I)))}return E}var y=p(0),k=p(1),O=p(16777216);n=u.prototype,n.m=function(){if(z(this))return-L(this).m();for(var C=0,w=1,v=0;v<this.g.length;v++){var E=this.i(v);C+=(0<=E?E:4294967296+E)*w,w*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if(z(this))return"-"+L(this).toString(C);for(var w=_(Math.pow(C,6)),v=this,E="";;){var b=de(v,w).g;v=Z(v,b.j(w));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(C);if(v=b,F(v))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function z(C){return C.h==-1}n.l=function(C){return C=Z(this,C),z(C)?-1:F(C)?0:1};function L(C){for(var w=C.g.length,v=[],E=0;E<w;E++)v[E]=~C.g[E];return new u(v,~C.h).add(k)}n.abs=function(){return z(this)?L(this):this},n.add=function(C){for(var w=Math.max(this.g.length,C.g.length),v=[],E=0,b=0;b<=w;b++){var T=E+(this.i(b)&65535)+(C.i(b)&65535),I=(T>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);E=I>>>16,T&=65535,I&=65535,v[b]=I<<16|T}return new u(v,v[v.length-1]&-2147483648?-1:0)};function Z(C,w){return C.add(L(w))}n.j=function(C){if(F(this)||F(C))return y;if(z(this))return z(C)?L(this).j(L(C)):L(L(this).j(C));if(z(C))return L(this.j(L(C)));if(0>this.l(O)&&0>C.l(O))return _(this.m()*C.m());for(var w=this.g.length+C.g.length,v=[],E=0;E<2*w;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<C.g.length;b++){var T=this.i(E)>>>16,I=this.i(E)&65535,lt=C.i(b)>>>16,nn=C.i(b)&65535;v[2*E+2*b]+=I*nn,te(v,2*E+2*b),v[2*E+2*b+1]+=T*nn,te(v,2*E+2*b+1),v[2*E+2*b+1]+=I*lt,te(v,2*E+2*b+1),v[2*E+2*b+2]+=T*lt,te(v,2*E+2*b+2)}for(E=0;E<w;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=w;E<2*w;E++)v[E]=0;return new u(v,0)};function te(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function oe(C,w){this.g=C,this.h=w}function de(C,w){if(F(w))throw Error("division by zero");if(F(C))return new oe(y,y);if(z(C))return w=de(L(C),w),new oe(L(w.g),L(w.h));if(z(w))return w=de(C,L(w)),new oe(L(w.g),w.h);if(30<C.g.length){if(z(C)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var v=k,E=w;0>=E.l(C);)v=ze(v),E=ze(E);var b=fe(v,1),T=fe(E,1);for(E=fe(E,2),v=fe(v,2);!F(E);){var I=T.add(E);0>=I.l(C)&&(b=b.add(v),T=I),E=fe(E,1),v=fe(v,1)}return w=Z(C,b.j(w)),new oe(b,w)}for(b=y;0<=C.l(w);){for(v=Math.max(1,Math.floor(C.m()/w.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=_(v),I=T.j(w);z(I)||0<I.l(C);)v-=E,T=_(v),I=T.j(w);F(T)&&(T=k),b=b.add(T),C=Z(C,I)}return new oe(b,C)}n.A=function(C){return de(this,C).h},n.and=function(C){for(var w=Math.max(this.g.length,C.g.length),v=[],E=0;E<w;E++)v[E]=this.i(E)&C.i(E);return new u(v,this.h&C.h)},n.or=function(C){for(var w=Math.max(this.g.length,C.g.length),v=[],E=0;E<w;E++)v[E]=this.i(E)|C.i(E);return new u(v,this.h|C.h)},n.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),v=[],E=0;E<w;E++)v[E]=this.i(E)^C.i(E);return new u(v,this.h^C.h)};function ze(C){for(var w=C.g.length+1,v=[],E=0;E<w;E++)v[E]=C.i(E)<<1|C.i(E-1)>>>31;return new u(v,C.h)}function fe(C,w){var v=w>>5;w%=32;for(var E=C.g.length-v,b=[],T=0;T<E;T++)b[T]=0<w?C.i(T+v)>>>w|C.i(T+v+1)<<32-w:C.i(T+v);return new u(b,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ep=Ip.Md5=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=S,rl=Ip.Integer=u}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});var _a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yt={};var il,sl,di,ol,xs,wa,al,cl,ul;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,h){return s==Array.prototype||s==Object.prototype||(s[l]=h.value),s};function t(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof _a=="object"&&_a];for(var l=0;l<s.length;++l){var h=s[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(s,l){if(l)e:{var h=r;s=s.split(".");for(var m=0;m<s.length-1;m++){var P=s[m];if(!(P in h))break e;h=h[P]}s=s[s.length-1],m=h[s],l=l(m),l!=m&&l!=null&&e(h,s,{configurable:!0,writable:!0,value:l})}}function o(s,l){s instanceof String&&(s+="");var h=0,m=!1,P={next:function(){if(!m&&h<s.length){var D=h++;return{value:l(D,s[D]),done:!1}}return m=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(s){return s||function(){return o(this,function(l,h){return h})}});var u=u||{},f=this||self;function p(s){var l=typeof s;return l=l!="object"?l:s?Array.isArray(s)?"array":l:"null",l=="array"||l=="object"&&typeof s.length=="number"}function _(s){var l=typeof s;return l=="object"&&s!=null||l=="function"}function S(s,l,h){return s.call.apply(s.bind,arguments)}function y(s,l,h){if(!s)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,m),s.apply(l,P)}}return function(){return s.apply(l,arguments)}}function k(s,l,h){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:y,k.apply(null,arguments)}function O(s,l){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),s.apply(this,m)}}function F(s,l){function h(){}h.prototype=l.prototype,s.aa=l.prototype,s.prototype=new h,s.prototype.constructor=s,s.Qb=function(m,P,D){for(var N=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)N[ne-2]=arguments[ne];return l.prototype[P].apply(m,N)}}function z(s){let l=s.length;if(0<l){let h=Array(l);for(let m=0;m<l;m++)h[m]=s[m];return h}return[]}function L(s,l){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(p(m)){let P=s.length||0,D=m.length||0;s.length=P+D;for(let N=0;N<D;N++)s[P+N]=m[N]}else s.push(m)}}class Z{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function te(s){return/^[\s\xa0]*$/.test(s)}function oe(){var s=f.navigator;return s&&(s=s.userAgent)?s:""}function de(s){return de[" "](s),s}de[" "]=function(){};var ze=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function fe(s,l,h){for(let m in s)l.call(h,s[m],m,s)}function C(s,l){for(let h in s)l.call(void 0,s[h],h,s)}function w(s){let l={};for(let h in s)l[h]=s[h];return l}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(s,l){let h,m;for(let P=1;P<arguments.length;P++){m=arguments[P];for(h in m)s[h]=m[h];for(let D=0;D<v.length;D++)h=v[D],Object.prototype.hasOwnProperty.call(m,h)&&(s[h]=m[h])}}function b(s){var l=1;s=s.split(":");let h=[];for(;0<l&&s.length;)h.push(s.shift()),l--;return s.length&&h.push(s.join(":")),h}function T(s){f.setTimeout(()=>{throw s},0)}function I(){var s=sn;let l=null;return s.g&&(l=s.g,s.g=s.g.next,s.g||(s.h=null),l.next=null),l}class lt{constructor(){this.h=this.g=null}add(l,h){let m=nn.get();m.set(l,h),this.h?this.h.next=m:this.g=m,this.h=m}}var nn=new Z(()=>new ki,s=>s.reset());class ki{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let rn,Ut=!1,sn=new lt,Ye=()=>{let s=f.Promise.resolve(void 0);rn=()=>{s.then(on)}};var on=()=>{for(var s;s=I();){try{s.h.call(s.g)}catch(h){T(h)}var l=nn;l.j(s),100>l.h&&(l.h++,s.next=l.g,l.g=s)}Ut=!1};function Le(){this.s=this.s,this.C=this.C}Le.prototype.s=!1,Le.prototype.ma=function(){this.s||(this.s=!0,this.N())},Le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(s,l){this.type=s,this.g=this.target=l,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var an=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var s=!1,l=Object.defineProperty({},"passive",{get:function(){s=!0}});try{let h=()=>{};f.addEventListener("test",h,l),f.removeEventListener("test",h,l)}catch{}return s}();function ht(s,l){if(Se.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var h=this.type=s.type,m=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=l,l=s.relatedTarget){if(ze){e:{try{de(l.nodeName);var P=!0;break e}catch{}P=!1}P||(l=null)}}else h=="mouseover"?l=s.fromElement:h=="mouseout"&&(l=s.toElement);this.relatedTarget=l,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:Hs[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&ht.aa.h.call(this)}}F(ht,Se);var Hs={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),xi=0;function sc(s,l,h,m,P){this.listener=s,this.proxy=null,this.src=l,this.type=h,this.capture=!!m,this.ha=P,this.key=++xi,this.da=this.fa=!1}function cn(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function un(s){this.src=s,this.g={},this.h=0}un.prototype.add=function(s,l,h,m,P){var D=s.toString();s=this.g[D],s||(s=this.g[D]=[],this.h++);var N=Vi(s,l,m,P);return-1<N?(l=s[N],h||(l.fa=!1)):(l=new sc(l,this.src,D,!!m,P),l.fa=h,s.push(l)),l};function ln(s,l){var h=l.type;if(h in s.g){var m=s.g[h],P=Array.prototype.indexOf.call(m,l,void 0),D;(D=0<=P)&&Array.prototype.splice.call(m,P,1),D&&(cn(l),s.g[h].length==0&&(delete s.g[h],s.h--))}}function Vi(s,l,h,m){for(var P=0;P<s.length;++P){var D=s[P];if(!D.da&&D.listener==l&&D.capture==!!h&&D.ha==m)return P}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),Xe={};function Ks(s,l,h,m,P){if(m&&m.once)return Ni(s,l,h,m,P);if(Array.isArray(l)){for(var D=0;D<l.length;D++)Ks(s,l[D],h,m,P);return null}return h=ye(h),s&&s[vt]?s.K(l,h,_(m)?!!m.capture:!!m,P):Fe(s,l,h,!1,m,P)}function Fe(s,l,h,m,P,D){if(!l)throw Error("Invalid event type");var N=_(P)?!!P.capture:!!P,ne=dt(s);if(ne||(s[Ve]=ne=new un(s)),h=ne.add(l,h,m,N,D),h.proxy)return h;if(m=Cr(),h.proxy=m,m.src=s,m.listener=h,s.addEventListener)an||(P=N),P===void 0&&(P=!1),s.addEventListener(l.toString(),m,P);else if(s.attachEvent)s.attachEvent(Ze(l.toString()),m);else if(s.addListener&&s.removeListener)s.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Cr(){function s(h){return l.call(s.src,s.listener,h)}let l=It;return s}function Ni(s,l,h,m,P){if(Array.isArray(l)){for(var D=0;D<l.length;D++)Ni(s,l[D],h,m,P);return null}return h=ye(h),s&&s[vt]?s.L(l,h,_(m)?!!m.capture:!!m,P):Fe(s,l,h,!0,m,P)}function Oi(s,l,h,m,P){if(Array.isArray(l))for(var D=0;D<l.length;D++)Oi(s,l[D],h,m,P);else m=_(m)?!!m.capture:!!m,h=ye(h),s&&s[vt]?(s=s.i,l=String(l).toString(),l in s.g&&(D=s.g[l],h=Vi(D,h,m,P),-1<h&&(cn(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete s.g[l],s.h--)))):s&&(s=dt(s))&&(l=s.g[l.toString()],s=-1,l&&(s=Vi(l,h,m,P)),(h=-1<s?l[s]:null)&&K(h))}function K(s){if(typeof s!="number"&&s&&!s.da){var l=s.src;if(l&&l[vt])ln(l.i,s);else{var h=s.type,m=s.proxy;l.removeEventListener?l.removeEventListener(h,m,s.capture):l.detachEvent?l.detachEvent(Ze(h),m):l.addListener&&l.removeListener&&l.removeListener(m),(h=dt(l))?(ln(h,s),h.h==0&&(h.src=null,l[Ve]=null)):cn(s)}}}function Ze(s){return s in Xe?Xe[s]:Xe[s]="on"+s}function It(s,l){if(s.da)s=!0;else{l=new ht(l,this);var h=s.listener,m=s.ha||s.src;s.fa&&K(s),s=h.call(m,l)}return s}function dt(s){return s=s[Ve],s instanceof un?s:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(s){return typeof s=="function"?s:(s[pe]||(s[pe]=function(l){return s.handleEvent(l)}),s[pe])}function _e(){Le.call(this),this.i=new un(this),this.M=this,this.F=null}F(_e,Le),_e.prototype[vt]=!0,_e.prototype.removeEventListener=function(s,l,h,m){Oi(this,s,l,h,m)};function Pe(s,l){var h,m=s.F;if(m)for(h=[];m;m=m.F)h.push(m);if(s=s.M,m=l.type||l,typeof l=="string")l=new Se(l,s);else if(l instanceof Se)l.target=l.target||s;else{var P=l;l=new Se(m,s),E(l,P)}if(P=!0,h)for(var D=h.length-1;0<=D;D--){var N=l.g=h[D];P=Et(N,m,!0,l)&&P}if(N=l.g=s,P=Et(N,m,!0,l)&&P,P=Et(N,m,!1,l)&&P,h)for(D=0;D<h.length;D++)N=l.g=h[D],P=Et(N,m,!1,l)&&P}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var s=this.i,l;for(l in s.g){for(var h=s.g[l],m=0;m<h.length;m++)cn(h[m]);delete s.g[l],s.h--}}this.F=null},_e.prototype.K=function(s,l,h,m){return this.i.add(String(s),l,!1,h,m)},_e.prototype.L=function(s,l,h,m){return this.i.add(String(s),l,!0,h,m)};function Et(s,l,h,m){if(l=s.i.g[String(l)],!l)return!0;l=l.concat();for(var P=!0,D=0;D<l.length;++D){var N=l[D];if(N&&!N.da&&N.capture==h){var ne=N.listener,we=N.ha||N.src;N.fa&&ln(s.i,N),P=ne.call(we,m)!==!1&&P}}return P&&!m.defaultPrevented}function Ne(s,l,h){if(typeof s=="function")h&&(s=k(s,h));else if(s&&typeof s.handleEvent=="function")s=k(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:f.setTimeout(s,l||0)}function Qs(s){s.g=Ne(()=>{s.g=null,s.i&&(s.i=!1,Qs(s))},s.l);let l=s.h;s.h=null,s.m.apply(null,l)}class Js extends Le{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Qs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(s){Le.call(this),this.h=s,this.g={}}F(hn,Le);var Sr=[];function Ys(s){fe(s.g,function(l,h){this.g.hasOwnProperty(h)&&K(l)},s),s.g={}}hn.prototype.N=function(){hn.aa.N.call(this),Ys(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pr=f.JSON.stringify,oc=f.JSON.parse,ac=class{stringify(s){return f.JSON.stringify(s,void 0)}parse(s){return f.JSON.parse(s,void 0)}};function ft(){}ft.prototype.h=null;function Xs(s){return s.h||(s.h=s.i())}function Zs(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mi(){Se.call(this,"d")}F(Mi,Se);function Li(){Se.call(this,"c")}F(Li,Se);var pt={},eo=null;function Rr(){return eo=eo||new _e}pt.La="serverreachability";function bt(s){Se.call(this,pt.La,s)}F(bt,Se);function zn(s){let l=Rr();Pe(l,new bt(l))}pt.STAT_EVENT="statevent";function to(s,l){Se.call(this,pt.STAT_EVENT,s),this.stat=l}F(to,Se);function Oe(s){let l=Rr();Pe(l,new to(l,s))}pt.Ma="timingevent";function Dr(s,l){Se.call(this,pt.Ma,s),this.size=l}F(Dr,Se);function Gn(s,l){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){s()},l)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function cc(s,l,h,m,P,D){s.info(function(){if(s.g)if(D)for(var N="",ne=D.split("&"),we=0;we<ne.length;we++){var Y=ne[we].split("=");if(1<Y.length){var Te=Y[0];Y=Y[1];var Re=Te.split("_");N=2<=Re.length&&Re[1]=="type"?N+(Te+"="+Y+"&"):N+(Te+"=redacted&")}}else N=null;else N=D;return"XMLHTTP REQ ("+m+") [attempt "+P+"]: "+l+`
`+h+`
`+N})}function uc(s,l,h,m,P,D,N){s.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+P+"]: "+l+`
`+h+`
`+D+" "+N})}function dn(s,l,h,m){s.info(function(){return"XMLHTTP TEXT ("+l+"): "+lc(s,h)+(m?" "+m:"")})}function re(s,l){s.info(function(){return"TIMEOUT: "+l})}Wn.prototype.info=function(){};function lc(s,l){if(!s.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(s=0;s<h.length;s++)if(Array.isArray(h[s])){var m=h[s];if(!(2>m.length)){var P=m[1];if(Array.isArray(P)&&!(1>P.length)){var D=P[0];if(D!="noop"&&D!="stop"&&D!="close")for(var N=1;N<P.length;N++)P[N]=""}}}}return Pr(h)}catch{return l}}var kr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},no={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function xr(){}F(xr,ft),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},Fi=new xr;function Tt(s,l,h,m){this.j=s,this.i=l,this.l=h,this.R=m||1,this.U=new hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vr}function Vr(){this.i=null,this.g="",this.h=!1}var fn={},Nr={};function pn(s,l,h){s.L=1,s.v=Ur(Ue(l)),s.m=h,s.P=!0,ue(s,null)}function ue(s,l){s.F=Date.now(),Or(s),s.A=Ue(s.v);var h=s.A,m=s.R;Array.isArray(m)||(m=[String(m)]),mo(h.i,"t",m),s.C=0,h=s.j.J,s.h=new Vr,s.g=Xi(s.j,h?l:null,!s.m),0<s.O&&(s.M=new Js(k(s.Y,s,s.g),s.O)),l=s.U,h=s.g,m=s.ca;var P="readystatechange";Array.isArray(P)||(P&&(Sr[0]=P.toString()),P=Sr);for(var D=0;D<P.length;D++){var N=Ks(h,P[D],m||l.handleEvent,!1,l.h||l);if(!N)break;l.g[N.key]=N}l=s.H?w(s.H):{},s.m?(s.u||(s.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,l)):(s.u="GET",s.g.ea(s.A,s.u,null,l)),zn(),cc(s.i,s.u,s.A,s.l,s.R,s.m)}Tt.prototype.ca=function(s){s=s.target;let l=this.M;l&&gt(s)==3?l.j():this.Y(s)},Tt.prototype.Y=function(s){try{if(s==this.g)e:{let Re=gt(this.g);var l=this.g.Ba();let $t=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||To(this.g)))){this.J||Re!=4||l==7||(l==8||0>=$t?zn(3):zn(2)),Bi(this);var h=this.g.Z();this.X=h;t:if(ro(this)){var m=To(this.g);s="";var P=m.length,D=gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),Hn(this);var N="";break t}this.h.i=new f.TextDecoder}for(l=0;l<P;l++)this.h.h=!0,s+=this.h.i.decode(m[l],{stream:!(D&&l==P-1)});m.length=0,this.h.g+=s,this.C=0,N=this.h.g}else N=this.g.oa();if(this.o=h==200,uc(this.i,this.u,this.A,this.l,this.R,Re,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ne,we=this.g;if((ne=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(ne)){var Y=ne;break t}}Y=null}if(h=Y)dn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,h);else{this.o=!1,this.s=3,Oe(12),Bt(this),Hn(this);break e}}if(this.P){h=!0;let Ge;for(;!this.J&&this.C<N.length;)if(Ge=hc(this,N),Ge==Nr){Re==4&&(this.s=4,Oe(14),h=!1),dn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==fn){this.s=4,Oe(15),dn(this.i,this.l,N,"[Invalid Chunk]"),h=!1;break}else dn(this.i,this.l,Ge,null),Mr(this,Ge);if(ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||N.length!=0||this.h.h||(this.s=1,Oe(16),h=!1),this.o=this.o&&h,!h)dn(this.i,this.l,N,"[Invalid Chunked Response]"),Bt(this),Hn(this);else if(0<N.length&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.ba&&!Te.M&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),tr(Te),Te.M=!0,Oe(11))}}else dn(this.i,this.l,N,null),Mr(this,N);Re==4&&Bt(this),this.o&&!this.J&&(Re==4?Ki(this.j,this):(this.o=!1,Or(this)))}else Ic(this.g),h==400&&0<N.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),Bt(this),Hn(this)}}}catch{}finally{}};function ro(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function hc(s,l){var h=s.C,m=l.indexOf(`
`,h);return m==-1?Nr:(h=Number(l.substring(h,m)),isNaN(h)?fn:(m+=1,m+h>l.length?Nr:(l=l.slice(m,m+h),s.C=m+h,l)))}Tt.prototype.cancel=function(){this.J=!0,Bt(this)};function Or(s){s.S=Date.now()+s.I,Ui(s,s.I)}function Ui(s,l){if(s.B!=null)throw Error("WatchDog timer not null");s.B=Gn(k(s.ba,s),l)}function Bi(s){s.B&&(f.clearTimeout(s.B),s.B=null)}Tt.prototype.ba=function(){this.B=null;let s=Date.now();0<=s-this.S?(re(this.i,this.A),this.L!=2&&(zn(),Oe(17)),Bt(this),this.s=2,Hn(this)):Ui(this,this.S-s)};function Hn(s){s.j.G==0||s.J||Ki(s.j,s)}function Bt(s){Bi(s);var l=s.M;l&&typeof l.ma=="function"&&l.ma(),s.M=null,Ys(s.U),s.g&&(l=s.g,s.g=null,l.abort(),l.ma())}function Mr(s,l){try{var h=s.j;if(h.G!=0&&(h.g==s||qi(h.h,s))){if(!s.K&&qi(h.h,s)&&h.G==3){try{var m=h.Da.g.parse(l)}catch{m=null}if(Array.isArray(m)&&m.length==3){var P=m;if(P[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<s.F)zr(h),Zn(h);else break e;$r(h),Oe(18)}}else h.za=P[1],0<h.za-h.T&&37500>P[2]&&h.F&&h.v==0&&!h.C&&(h.C=Gn(k(h.Za,h),6e3));if(1>=so(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else St(h,11)}else if((s.K||h.g==s)&&zr(h),!te(l))for(P=h.Da.g.parse(l),l=0;l<P.length;l++){let Y=P[l];if(h.T=Y[0],Y=Y[1],h.G==2)if(Y[0]=="c"){h.K=Y[1],h.ia=Y[2];let Te=Y[3];Te!=null&&(h.la=Te,h.j.info("VER="+h.la));let Re=Y[4];Re!=null&&(h.Aa=Re,h.j.info("SVER="+h.Aa));let $t=Y[5];$t!=null&&typeof $t=="number"&&0<$t&&(m=1.5*$t,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let Ge=s.g;if(Ge){let Gr=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var D=m.h;D.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&($i(D,D.h),D.h=null))}if(m.D){let es=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;es&&(m.ya=es,ie(m.I,m.D,es))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-s.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var N=s;if(m.qa=Yi(m,m.J?m.ia:null,m.W),N.K){oo(m.h,N);var ne=N,we=m.L;we&&(ne.I=we),ne.B&&(Bi(ne),Or(ne)),m.g=N}else Hi(m);0<h.i.length&&jr(h)}else Y[0]!="stop"&&Y[0]!="close"||St(h,7);else h.G==3&&(Y[0]=="stop"||Y[0]=="close"?Y[0]=="stop"?St(h,7):In(h):Y[0]!="noop"&&h.l&&h.l.ta(Y),h.v=0)}}zn(4)}catch{}}var dc=class{constructor(s,l){this.g=s,this.map=l}};function ji(s){this.l=s||10,f.PerformanceNavigationTiming?(s=f.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function so(s){return s.h?1:s.g?s.g.size:0}function qi(s,l){return s.h?s.h==l:s.g?s.g.has(l):!1}function $i(s,l){s.g?s.g.add(l):s.h=l}function oo(s,l){s.h&&s.h==l?s.h=null:s.g&&s.g.has(l)&&s.g.delete(l)}ji.prototype.cancel=function(){if(this.i=ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let s of this.g.values())s.cancel();this.g.clear()}};function ao(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let l=s.i;for(let h of s.g.values())l=l.concat(h.D);return l}return z(s.i)}function fc(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(p(s)){for(var l=[],h=s.length,m=0;m<h;m++)l.push(s[m]);return l}l=[],h=0;for(m in s)l[h++]=s[m];return l}function co(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(p(s)||typeof s=="string"){var l=[];s=s.length;for(var h=0;h<s;h++)l.push(h);return l}l=[],h=0;for(let m in s)l[h++]=m;return l}}}function uo(s,l){if(s.forEach&&typeof s.forEach=="function")s.forEach(l,void 0);else if(p(s)||typeof s=="string")Array.prototype.forEach.call(s,l,void 0);else for(var h=co(s),m=fc(s),P=m.length,D=0;D<P;D++)l.call(void 0,m[D],h&&h[D],s)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(s,l){if(s){s=s.split("&");for(var h=0;h<s.length;h++){var m=s[h].indexOf("="),P=null;if(0<=m){var D=s[h].substring(0,m);P=s[h].substring(m+1)}else D=s[h];l(D,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function jt(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof jt){this.h=s.h,Kn(this,s.j),this.o=s.o,this.g=s.g,Lr(this,s.s),this.l=s.l;var l=s.i,h=new gn;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),Fr(this,h),this.m=s.m}else s&&(l=String(s).match(zi))?(this.h=!1,Kn(this,l[1]||"",!0),this.o=Qn(l[2]||""),this.g=Qn(l[3]||"",!0),Lr(this,l[4]),this.l=Qn(l[5]||"",!0),Fr(this,l[6]||"",!0),this.m=Qn(l[7]||"")):(this.h=!1,this.i=new gn(null,this.h))}jt.prototype.toString=function(){var s=[],l=this.j;l&&s.push(Jn(l,lo,!0),":");var h=this.g;return(h||l=="file")&&(s.push("//"),(l=this.o)&&s.push(Jn(l,lo,!0),"@"),s.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&s.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&s.push("/"),s.push(Jn(h,h.charAt(0)=="/"?mn:gc,!0))),(h=this.i.toString())&&s.push("?",h),(h=this.m)&&s.push("#",Jn(h,ho)),s.join("")};function Ue(s){return new jt(s)}function Kn(s,l,h){s.j=h?Qn(l,!0):l,s.j&&(s.j=s.j.replace(/:$/,""))}function Lr(s,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);s.s=l}else s.s=null}function Fr(s,l,h){l instanceof gn?(s.i=l,_c(s.i,s.h)):(h||(l=Jn(l,yc)),s.i=new gn(l,s.h))}function ie(s,l,h){s.i.set(l,h)}function Ur(s){return ie(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Qn(s,l){return s?l?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Jn(s,l,h){return typeof s=="string"?(s=encodeURI(s).replace(l,mc),h&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function mc(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var lo=/[#\/\?@]/g,gc=/[#\?:]/g,mn=/[#\?]/g,yc=/[#\?@]/g,ho=/#/g;function gn(s,l){this.h=this.g=null,this.i=s||null,this.j=!!l}function At(s){s.g||(s.g=new Map,s.h=0,s.i&&pc(s.i,function(l,h){s.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}n=gn.prototype,n.add=function(s,l){At(this),this.i=null,s=yn(this,s);var h=this.g.get(s);return h||this.g.set(s,h=[]),h.push(l),this.h+=1,this};function fo(s,l){At(s),l=yn(s,l),s.g.has(l)&&(s.i=null,s.h-=s.g.get(l).length,s.g.delete(l))}function po(s,l){return At(s),l=yn(s,l),s.g.has(l)}n.forEach=function(s,l){At(this),this.g.forEach(function(h,m){h.forEach(function(P){s.call(l,P,m,this)},this)},this)},n.na=function(){At(this);let s=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let m=0;m<l.length;m++){let P=s[m];for(let D=0;D<P.length;D++)h.push(l[m])}return h},n.V=function(s){At(this);let l=[];if(typeof s=="string")po(this,s)&&(l=l.concat(this.g.get(yn(this,s))));else{s=Array.from(this.g.values());for(let h=0;h<s.length;h++)l=l.concat(s[h])}return l},n.set=function(s,l){return At(this),this.i=null,s=yn(this,s),po(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[l]),this.h+=1,this},n.get=function(s,l){return s?(s=this.V(s),0<s.length?String(s[0]):l):l};function mo(s,l,h){fo(s,l),0<h.length&&(s.i=null,s.g.set(yn(s,l),z(h)),s.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let s=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var m=l[h];let D=encodeURIComponent(String(m)),N=this.V(m);for(m=0;m<N.length;m++){var P=D;N[m]!==""&&(P+="="+encodeURIComponent(String(N[m]))),s.push(P)}}return this.i=s.join("&")};function yn(s,l){return l=String(l),s.j&&(l=l.toLowerCase()),l}function _c(s,l){l&&!s.j&&(At(s),s.i=null,s.g.forEach(function(h,m){var P=m.toLowerCase();m!=P&&(fo(this,m),mo(this,P,h))},s)),s.j=l}function wc(s,l){let h=new Wn;if(f.Image){let m=new Image;m.onload=O(Ct,h,"TestLoadImage: loaded",!0,l,m),m.onerror=O(Ct,h,"TestLoadImage: error",!1,l,m),m.onabort=O(Ct,h,"TestLoadImage: abort",!1,l,m),m.ontimeout=O(Ct,h,"TestLoadImage: timeout",!1,l,m),f.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=s}else l(!1)}function _n(s,l){let h=new Wn,m=new AbortController,P=setTimeout(()=>{m.abort(),Ct(h,"TestPingServer: timeout",!1,l)},1e4);fetch(s,{signal:m.signal}).then(D=>{clearTimeout(P),D.ok?Ct(h,"TestPingServer: ok",!0,l):Ct(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(P),Ct(h,"TestPingServer: error",!1,l)})}function Ct(s,l,h,m,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),m(h)}catch{}}function vc(){this.g=new ac}function go(s,l,h){let m=h||"";try{uo(s,function(P,D){let N=P;_(P)&&(N=Pr(P)),l.push(m+D+"="+encodeURIComponent(N))})}catch(P){throw l.push(m+"type="+encodeURIComponent("_badmap")),P}}function Yn(s){this.l=s.Ub||null,this.j=s.eb||!1}F(Yn,ft),Yn.prototype.g=function(){return new et(this.l,this.j)},Yn.prototype.i=function(s){return function(){return s}}({});function et(s,l){_e.call(this),this.D=s,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(et,_e),n=et.prototype,n.open=function(s,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=l,this.readyState=1,mt(this)},n.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(l.body=s),(this.D||f).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},n.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,mt(this)),this.g&&(this.readyState=3,mt(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yo(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function yo(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}n.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var l=s.value?s.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!s.done}))&&(this.response=this.responseText+=l)}s.done?wn(this):mt(this),this.readyState==3&&yo(this)}},n.Ra=function(s){this.g&&(this.response=this.responseText=s,wn(this))},n.Qa=function(s){this.g&&(this.response=s,wn(this))},n.ga=function(){this.g&&wn(this)};function wn(s){s.readyState=4,s.l=null,s.j=null,s.v=null,mt(s)}n.setRequestHeader=function(s,l){this.u.append(s,l)},n.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let s=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,s.push(h[0]+": "+h[1]),h=l.next();return s.join(`\r
`)};function mt(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(et.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function _o(s){let l="";return fe(s,function(h,m){l+=m,l+=":",l+=h,l+=`\r
`}),l}function Gi(s,l,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=_o(h),typeof s=="string"?h!=null&&encodeURIComponent(String(h)):ie(s,l,h))}function le(s){_e.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(le,_e);var wo=/^https?$/i,vn=["POST","PUT"];n=le.prototype,n.Ha=function(s){this.J=s},n.ea=function(s,l,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);l=l?l.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?Xs(this.o):Xs(Fi),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(l,String(s),!0),this.B=!1}catch(D){vo(this,D);return}if(s=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var P in m)h.set(P,m[P]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let D of m.keys())h.set(D,m.get(D));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),P=f.FormData&&s instanceof f.FormData,!(0<=Array.prototype.indexOf.call(vn,l,void 0))||m||P||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,N]of h)this.g.setRequestHeader(D,N);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bo(this),this.u=!0,this.g.send(s),this.u=!1}catch(D){vo(this,D)}};function vo(s,l){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=l,s.m=5,Io(s),Br(s)}function Io(s){s.A||(s.A=!0,Pe(s,"complete"),Pe(s,"error"))}n.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,Pe(this,"complete"),Pe(this,"abort"),Br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Eo(this):this.bb())},n.bb=function(){Eo(this)};function Eo(s){if(s.h&&typeof u<"u"&&(!s.v[1]||gt(s)!=4||s.Z()!=2)){if(s.u&&gt(s)==4)Ne(s.Ea,0,s);else if(Pe(s,"readystatechange"),gt(s)==4){s.h=!1;try{let N=s.Z();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var m;if(m=N===0){var P=String(s.D).match(zi)[1]||null;!P&&f.self&&f.self.location&&(P=f.self.location.protocol.slice(0,-1)),m=!wo.test(P?P.toLowerCase():"")}h=m}if(h)Pe(s,"complete"),Pe(s,"success");else{s.m=6;try{var D=2<gt(s)?s.g.statusText:""}catch{D=""}s.l=D+" ["+s.Z()+"]",Io(s)}}finally{Br(s)}}}}function Br(s,l){if(s.g){bo(s);let h=s.g,m=s.v[0]?()=>{}:null;s.g=null,s.v=null,l||Pe(s,"ready");try{h.onreadystatechange=m}catch{}}}function bo(s){s.I&&(f.clearTimeout(s.I),s.I=null)}n.isActive=function(){return!!this.g};function gt(s){return s.g?s.g.readyState:0}n.Z=function(){try{return 2<gt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(s){if(this.g){var l=this.g.responseText;return s&&l.indexOf(s)==0&&(l=l.substring(s.length)),oc(l)}};function To(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(s){let l={};s=(s.g&&2<=gt(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<s.length;m++){if(te(s[m]))continue;var h=b(s[m]);let P=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let D=l[P]||[];l[P]=D,D.push(h)}C(l,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(s,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[s]||l}function Ao(s){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,s),this.cb=Xn("retryDelaySeedMs",1e4,s),this.Wa=Xn("forwardChannelMaxRetries",2,s),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(s&&s.concurrentRequestLimit),this.Da=new vc,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ao.prototype,n.la=8,n.G=1,n.connect=function(s,l,h,m){Oe(0),this.W=s,this.H=l||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=Yi(this,null,this.W),jr(this)};function In(s){if(Co(s),s.G==3){var l=s.U++,h=Ue(s.I);if(ie(h,"SID",s.K),ie(h,"RID",l),ie(h,"TYPE","terminate"),er(s,h),l=new Tt(s,s.j,l),l.L=2,l.v=Ur(Ue(h)),h=!1,f.navigator&&f.navigator.sendBeacon)try{h=f.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&f.Image&&(new Image().src=l.v,h=!0),h||(l.g=Xi(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Or(l)}Ji(s)}function Zn(s){s.g&&(tr(s),s.g.cancel(),s.g=null)}function Co(s){Zn(s),s.u&&(f.clearTimeout(s.u),s.u=null),zr(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&f.clearTimeout(s.s),s.s=null)}function jr(s){if(!io(s.h)&&!s.s){s.s=!0;var l=s.Ga;rn||Ye(),Ut||(rn(),Ut=!0),sn.add(l,s),s.B=0}}function Ec(s,l){return so(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=l.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=Gn(k(s.Ga,s,l),Qi(s,s.B)),s.B++,!0)}n.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;let P=new Tt(this,this.j,s),D=this.o;if(this.S&&(D?(D=w(D),E(D,this.S)):D=this.S),this.m!==null||this.O||(P.H=D,D=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(l+=m,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=qr(this,P,l),h=Ue(this.I),ie(h,"RID",s),ie(h,"CVER",22),this.D&&ie(h,"X-HTTP-Session-Id",this.D),er(this,h),D&&(this.O?l="headers="+encodeURIComponent(String(_o(D)))+"&"+l:this.m&&Gi(h,this.m,D)),$i(this.h,P),this.Ua&&ie(h,"TYPE","init"),this.P?(ie(h,"$req",l),ie(h,"SID","null"),P.T=!0,pn(P,h,null)):pn(P,h,l),this.G=2}}else this.G==3&&(s?Wi(this,s):this.i.length==0||io(this.h)||Wi(this))};function Wi(s,l){var h;l?h=l.l:h=s.U++;let m=Ue(s.I);ie(m,"SID",s.K),ie(m,"RID",h),ie(m,"AID",s.T),er(s,m),s.m&&s.o&&Gi(m,s.m,s.o),h=new Tt(s,s.j,h,s.B+1),s.m===null&&(h.H=s.o),l&&(s.i=l.D.concat(s.i)),l=qr(s,h,1e3),h.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),$i(s.h,h),pn(h,m,l)}function er(s,l){s.H&&fe(s.H,function(h,m){ie(l,m,h)}),s.l&&uo({},function(h,m){ie(l,m,h)})}function qr(s,l,h){h=Math.min(s.i.length,h);var m=s.l?k(s.l.Na,s.l,s):null;e:{var P=s.i;let D=-1;for(;;){let N=["count="+h];D==-1?0<h?(D=P[0].g,N.push("ofs="+D)):D=0:N.push("ofs="+D);let ne=!0;for(let we=0;we<h;we++){let Y=P[we].g,Te=P[we].map;if(Y-=D,0>Y)D=Math.max(0,P[we].g-100),ne=!1;else try{go(Te,N,"req"+Y+"_")}catch{m&&m(Te)}}if(ne){m=N.join("&");break e}}}return s=s.i.splice(0,h),l.D=s,m}function Hi(s){if(!s.g&&!s.u){s.Y=1;var l=s.Fa;rn||Ye(),Ut||(rn(),Ut=!0),sn.add(l,s),s.v=0}}function $r(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=Gn(k(s.Fa,s),Qi(s,s.v)),s.v++,!0)}n.Fa=function(){if(this.u=null,nr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=Gn(k(this.ab,this),s)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),Zn(this),nr(this))};function tr(s){s.A!=null&&(f.clearTimeout(s.A),s.A=null)}function nr(s){s.g=new Tt(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var l=Ue(s.qa);ie(l,"RID","rpc"),ie(l,"SID",s.K),ie(l,"AID",s.T),ie(l,"CI",s.F?"0":"1"),!s.F&&s.ja&&ie(l,"TO",s.ja),ie(l,"TYPE","xmlhttp"),er(s,l),s.m&&s.o&&Gi(l,s.m,s.o),s.L&&(s.g.I=s.L);var h=s.g;s=s.ia,h.L=1,h.v=Ur(Ue(l)),h.m=null,h.P=!0,ue(h,s)}n.Za=function(){this.C!=null&&(this.C=null,Zn(this),$r(this),Oe(19))};function zr(s){s.C!=null&&(f.clearTimeout(s.C),s.C=null)}function Ki(s,l){var h=null;if(s.g==l){zr(s),tr(s),s.g=null;var m=2}else if(qi(s.h,l))h=l.D,oo(s.h,l),m=1;else return;if(s.G!=0){if(l.o)if(m==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var P=s.B;m=Rr(),Pe(m,new Dr(m,h)),jr(s)}else Hi(s);else if(P=l.s,P==3||P==0&&0<l.X||!(m==1&&Ec(s,l)||m==2&&$r(s)))switch(h&&0<h.length&&(l=s.h,l.i=l.i.concat(h)),P){case 1:St(s,5);break;case 4:St(s,10);break;case 3:St(s,6);break;default:St(s,2)}}}function Qi(s,l){let h=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(h*=2),h*l}function St(s,l){if(s.j.info("Error code "+l),l==2){var h=k(s.fb,s),m=s.Xa;let P=!m;m=new jt(m||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Kn(m,"https"),Ur(m),P?wc(m.toString(),h):_n(m.toString(),h)}else Oe(2);s.G=0,s.l&&s.l.sa(l),Ji(s),Co(s)}n.fb=function(s){s?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Ji(s){if(s.G=0,s.ka=[],s.l){let l=ao(s.h);(l.length!=0||s.i.length!=0)&&(L(s.ka,l),L(s.ka,s.i),s.h.i.length=0,z(s.i),s.i.length=0),s.l.ra()}}function Yi(s,l,h){var m=h instanceof jt?Ue(h):new jt(h);if(m.g!="")l&&(m.g=l+"."+m.g),Lr(m,m.s);else{var P=f.location;m=P.protocol,l=l?l+"."+P.hostname:P.hostname,P=+P.port;var D=new jt(null);m&&Kn(D,m),l&&(D.g=l),P&&Lr(D,P),h&&(D.l=h),m=D}return h=s.D,l=s.ya,h&&l&&ie(m,h,l),ie(m,"VER",s.la),er(s,m),m}function Xi(s,l,h){if(l&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=s.Ca&&!s.pa?new le(new Yn({eb:h})):new le(s.pa),l.Ha(s.J),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zi(){}n=Zi.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function rr(){}rr.prototype.g=function(s,l){return new Be(s,l)};function Be(s,l){_e.call(this),this.g=new Ao(l),this.l=s,this.h=l&&l.messageUrlParams||null,s=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(s?s["X-WebChannel-Content-Type"]=l.messageContentType:s={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(s?s["X-WebChannel-Client-Profile"]=l.va:s={"X-WebChannel-Client-Profile":l.va}),this.g.S=s,(s=l&&l.Sb)&&!te(s)&&(this.g.m=s),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!te(l)&&(this.g.D=l,s=this.h,s!==null&&l in s&&(s=this.h,l in s&&delete s[l])),this.j=new En(this)}F(Be,_e),Be.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Be.prototype.close=function(){In(this.g)},Be.prototype.o=function(s){var l=this.g;if(typeof s=="string"){var h={};h.__data__=s,s=h}else this.u&&(h={},h.__data__=Pr(s),s=h);l.i.push(new dc(l.Ya++,s)),l.G==3&&jr(l)},Be.prototype.N=function(){this.g.l=null,delete this.j,In(this.g),delete this.g,Be.aa.N.call(this)};function qt(s){Mi.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var l=s.__sm__;if(l){e:{for(let h in l){s=h;break e}s=void 0}(this.i=s)&&(s=this.i,l=l!==null&&s in l?l[s]:void 0),this.data=l}else this.data=s}F(qt,Mi);function So(){Li.call(this),this.status=1}F(So,Li);function En(s){this.g=s}F(En,Zi),En.prototype.ua=function(){Pe(this.g,"a")},En.prototype.ta=function(s){Pe(this.g,new qt(s))},En.prototype.sa=function(s){Pe(this.g,new So)},En.prototype.ra=function(){Pe(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,Be.prototype.send=Be.prototype.o,Be.prototype.open=Be.prototype.m,Be.prototype.close=Be.prototype.close,ul=Yt.createWebChannelTransport=function(){return new rr},cl=Yt.getStatEventTarget=function(){return Rr()},al=Yt.Event=pt,wa=Yt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,xs=Yt.ErrorCode=kr,no.COMPLETE="complete",ol=Yt.EventType=no,Zs.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",_e.prototype.listen=_e.prototype.K,di=Yt.WebChannel=Zs,sl=Yt.FetchXmlHttpFactory=Yn,le.prototype.listenOnce=le.prototype.L,le.prototype.getLastError=le.prototype.Ka,le.prototype.getLastErrorCode=le.prototype.Ba,le.prototype.getStatus=le.prototype.Z,le.prototype.getResponseJson=le.prototype.Oa,le.prototype.getResponseText=le.prototype.oa,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Ha,il=Yt.XhrIo=le}).apply(typeof _a<"u"?_a:typeof self<"u"?self:typeof window<"u"?window:{});var bp="@firebase/firestore";var ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ke.UNAUTHENTICATED=new ke(null),ke.GOOGLE_CREDENTIALS=new ke("google-credentials-uid"),ke.FIRST_PARTY=new ke("first-party-uid"),ke.MOCK_USER=new ke("mock-user");var Di="10.13.1";var wr=new Rn("@firebase/firestore");function Vs(){return wr.logLevel}function U(n,...e){if(wr.logLevel<=Q.DEBUG){let t=e.map(kh);wr.debug(`Firestore (${Di}): ${n}`,...t)}}function vr(n,...e){if(wr.logLevel<=Q.ERROR){let t=e.map(kh);wr.error(`Firestore (${Di}): ${n}`,...t)}}function Aa(n,...e){if(wr.logLevel<=Q.WARN){let t=e.map(kh);wr.warn(`Firestore (${Di}): ${n}`,...t)}}function kh(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function J(n="Unexpected state"){let e=`FIRESTORE (${Di}) INTERNAL ASSERTION FAILED: `+n;throw vr(e),new Error(e)}function Ce(n,e){n||J()}function ce(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends tt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Ca=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},fl=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ke.UNAUTHENTICATED))}shutdown(){}},pl=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ml=class{constructor(e){this.t=e,this.currentUser=ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve(),o=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xt,e.enqueueRetryable(()=>i(this.currentUser))};let u=()=>{let p=o;e.enqueueRetryable(()=>A(this,null,function*(){yield p.promise,yield i(this.currentUser)}))},f=p=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){let p=this.t.getImmediate({optional:!0});p?f(p):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xt)}},0),u()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Ca(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new ke(e)}},gl=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},yl=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new gl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_l=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},wl=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let u=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ce(typeof t.token=="string"),this.R=t.token,new _l(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function mI(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Sa=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=mI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ae(n,e){return n<e?-1:n>e?1:0}function gi(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var $e=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ge=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new $e(0,0))}static max(){return new n(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Pa=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&J(),r===void 0?r=e.length-t:r>e.length-t&&J(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),u=t.get(i);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},be=class n extends Pa{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},gI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nt=class n extends Pa{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return gI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new q(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},u=!1;for(;i<e.length;){let f=e[i];if(f==="\\"){if(i+1===e.length)throw new q(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new q(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else f==="`"?(u=!u,i++):f!=="."||u?(r+=f,i++):(o(),i++)}if(o(),u)throw new q(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(be.fromString(e))}static fromName(e){return new n(be.fromString(e).popFirst(5))}static empty(){return new n(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new be(e.slice()))}};var vl=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};vl.UNKNOWN_ID=-1;function yI(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new $e(t+1,0):new $e(t,r));return new Ir(i,H.empty(),e)}function _I(n){return new Ir(n.readTime,n.key,-1)}var Ir=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ge.min(),H.empty(),-1)}static max(){return new n(ge.max(),H.empty(),-1)}};function wI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ae(n.largestBatchId,e.largestBatchId))}var vI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Il=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Gp(n){return A(this,null,function*(){if(n.code!==x.FAILED_PRECONDITION||n.message!==vI)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++o,u&&o===i&&t()},p=>r(p))}),u=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,u=new Array(o),f=0;for(let p=0;p<o;p++){let _=p;t(e[_]).next(S=>{u[_]=S,++f,f===o&&r(u)},S=>i(S))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function II(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ha(n){return n.name==="IndexedDbTransactionError"}var EI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function xh(n){return n==null}function Us(n){return n===0&&1/n==-1/0}function bI(n){return typeof n=="number"&&Number.isInteger(n)&&!Us(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var TI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aT=[...TI,"documentOverlays"],AI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CI=AI,SI=[...CI,"indexConfiguration","indexState","indexEntries"];var cT=[...SI,"globals"];function Tp(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $s(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Wp(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var rt=class n{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pi(this.root,e,this.comparator,!1)}getReverseIterator(){return new pi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pi(this.root,e,this.comparator,!0)}},pi=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Lt=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();let e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var He=class n{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ra(this.data.getIterator())}getIteratorFrom(e){return new Ra(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ra=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Mt=class n{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new n([])}unionWith(e){let t=new He(nt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gi(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var El=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var en=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new El("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};en.EMPTY_BYTE_STRING=new en("");var PI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fn(n){if(Ce(!!n),typeof n=="string"){let e=0,t=PI.exec(n);if(Ce(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yi(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}function Vh(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Hp(n){let e=n.mapValue.fields.__previous_value__;return Vh(e)?Hp(e):e}function Da(n){let e=Fn(n.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}var bl=class{constructor(e,t,r,i,o,u,f,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=_}},Tl=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _i(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vh(n)?4:Qp(n)?9007199254740991:Kp(n)?10:11:J()}function Ft(n,e){if(n===e)return!0;let t=_i(n);if(t!==_i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Da(n).isEqual(Da(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let u=Fn(i.timestampValue),f=Fn(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return yi(i.bytesValue).isEqual(yi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ee(i.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(i.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ee(i.integerValue)===Ee(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let u=Ee(i.doubleValue),f=Ee(o.doubleValue);return u===f?Us(u)===Us(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return gi(n.arrayValue.values||[],e.arrayValue.values||[],Ft);case 10:case 11:return function(i,o){let u=i.mapValue.fields||{},f=o.mapValue.fields||{};if(Tp(u)!==Tp(f))return!1;for(let p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Ft(u[p],f[p])))return!1;return!0}(n,e);default:return J()}}function Bs(n,e){return(n.values||[]).find(t=>Ft(t,e))!==void 0}function wi(n,e){if(n===e)return 0;let t=_i(n),r=_i(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(o,u){let f=Ee(o.integerValue||o.doubleValue),p=Ee(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Ap(n.timestampValue,e.timestampValue);case 4:return Ap(Da(n),Da(e));case 5:return ae(n.stringValue,e.stringValue);case 6:return function(o,u){let f=yi(o),p=yi(u);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){let f=o.split("/"),p=u.split("/");for(let _=0;_<f.length&&_<p.length;_++){let S=ae(f[_],p[_]);if(S!==0)return S}return ae(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){let f=ae(Ee(o.latitude),Ee(u.latitude));return f!==0?f:ae(Ee(o.longitude),Ee(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Cp(n.arrayValue,e.arrayValue);case 10:return function(o,u){var f,p,_,S;let y=o.fields||{},k=u.fields||{},O=(f=y.value)===null||f===void 0?void 0:f.arrayValue,F=(p=k.value)===null||p===void 0?void 0:p.arrayValue,z=ae(((_=O?.values)===null||_===void 0?void 0:_.length)||0,((S=F?.values)===null||S===void 0?void 0:S.length)||0);return z!==0?z:Cp(O,F)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===va.mapValue&&u===va.mapValue)return 0;if(o===va.mapValue)return 1;if(u===va.mapValue)return-1;let f=o.fields||{},p=Object.keys(f),_=u.fields||{},S=Object.keys(_);p.sort(),S.sort();for(let y=0;y<p.length&&y<S.length;++y){let k=ae(p[y],S[y]);if(k!==0)return k;let O=wi(f[p[y]],_[S[y]]);if(O!==0)return O}return ae(p.length,S.length)}(n.mapValue,e.mapValue);default:throw J()}}function Ap(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ae(n,e);let t=Fn(n),r=Fn(e),i=ae(t.seconds,r.seconds);return i!==0?i:ae(t.nanos,r.nanos)}function Cp(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=wi(t[i],r[i]);if(o)return o}return ae(t.length,r.length)}function vi(n){return Al(n)}function Al(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Fn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Al(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let u of r)o?o=!1:i+=",",i+=`${u}:${Al(t.fields[u])}`;return i+"}"}(n.mapValue):J()}function Cl(n){return!!n&&"integerValue"in n}function Nh(n){return!!n&&"arrayValue"in n}function ba(n){return!!n&&"mapValue"in n}function Kp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Os(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return $s(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Os(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Os(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qp(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ot=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ba(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Os(t)}setAll(e){let t=nt.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){let p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=Os(u):i.push(f.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());ba(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ft(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ba(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$s(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Os(this.value))}};function Jp(n){let e=[];return $s(n.fields,(t,r)=>{let i=new nt([t]);if(ba(r)){let o=Jp(r.mapValue).fields;if(o.length===0)e.push(i);else for(let u of o)e.push(i.child(u))}else e.push(i)}),new Mt(e)}var Ii=class n{constructor(e,t,r,i,o,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new n(e,0,ge.min(),ge.min(),ge.min(),Ot.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ge.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ge.min(),ge.min(),Ot.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ge.min(),ge.min(),Ot.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ei=class{constructor(e,t){this.position=e,this.inclusive=t}};function Sp(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],u=n.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(u.referenceValue),t.key):r=wi(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pp(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ft(n.position[t],e.position[t]))return!1;return!0}var bi=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function RI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ka=class{},xe=class n extends ka{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Pl(e,t,r):t==="array-contains"?new kl(e,r):t==="in"?new xl(e,r):t==="not-in"?new Vl(e,r):t==="array-contains-any"?new Nl(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Rl(e,r):new Dl(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(wi(t,this.value)):t!==null&&_i(this.value)===_i(t)&&this.matchesComparison(wi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Un=class n extends ka{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Yp(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Yp(n){return n.op==="and"}function Xp(n){return DI(n)&&Yp(n)}function DI(n){for(let e of n.filters)if(e instanceof Un)return!1;return!0}function Sl(n){if(n instanceof xe)return n.field.canonicalString()+n.op.toString()+vi(n.value);if(Xp(n))return n.filters.map(e=>Sl(e)).join(",");{let e=n.filters.map(t=>Sl(t)).join(",");return`${n.op}(${e})`}}function Zp(n,e){return n instanceof xe?function(r,i){return i instanceof xe&&r.op===i.op&&r.field.isEqual(i.field)&&Ft(r.value,i.value)}(n,e):n instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,f)=>o&&Zp(u,i.filters[f]),!0):!1}(n,e):void J()}function em(n){return n instanceof xe?function(t){return`${t.field.canonicalString()} ${t.op} ${vi(t.value)}`}(n):n instanceof Un?function(t){return t.op.toString()+" {"+t.getFilters().map(em).join(" ,")+"}"}(n):"Filter"}var Pl=class extends xe{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},Rl=class extends xe{constructor(e,t){super(e,"in",t),this.keys=tm("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Dl=class extends xe{constructor(e,t){super(e,"not-in",t),this.keys=tm("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tm(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var kl=class extends xe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Nh(t)&&Bs(t.arrayValue,this.value)}},xl=class extends xe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Bs(this.value.arrayValue,t)}},Vl=class extends xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Bs(this.value.arrayValue,t)}},Nl=class extends xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Nh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Bs(this.value.arrayValue,r))}};var Ol=class{constructor(e,t=null,r=[],i=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=f,this.ue=null}};function Rp(n,e=null,t=[],r=[],i=null,o=null,u=null){return new Ol(n,e,t,r,i,o,u)}function Oh(n){let e=ce(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Sl(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vi(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vi(r)).join(",")),e.ue=t}return e.ue}function Mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Zp(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pp(n.startAt,e.startAt)&&Pp(n.endAt,e.endAt)}var Ti=class{constructor(e,t=null,r=[],i=[],o=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function kI(n,e,t,r,i,o,u,f){return new Ti(n,e,t,r,i,o,u,f)}function xI(n){return new Ti(n)}function Dp(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function VI(n){return n.collectionGroup!==null}function Ms(n){let e=ce(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new He(nt.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(f=f.add(_.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new bi(o,r))}),t.has(nt.keyField().canonicalString())||e.ce.push(new bi(nt.keyField(),r))}return e.ce}function yr(n){let e=ce(n);return e.le||(e.le=NI(e,Ms(n))),e.le}function NI(n,e){if(n.limitType==="F")return Rp(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new bi(i.field,o)});let t=n.endAt?new Ei(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ei(n.startAt.position,n.startAt.inclusive):null;return Rp(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ml(n,e,t){return new Ti(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nm(n,e){return Mh(yr(n),yr(e))&&n.limitType===e.limitType}function rm(n){return`${Oh(yr(n))}|lt:${n.limitType}`}function Ns(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>em(i)).join(", ")}]`),xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>vi(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>vi(i)).join(",")),`Target(${r})`}(yr(n))}; limitType=${n.limitType})`}function Lh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Ms(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,f,p){let _=Sp(u,f,p);return u.inclusive?_<=0:_<0}(r.startAt,Ms(r),i)||r.endAt&&!function(u,f,p){let _=Sp(u,f,p);return u.inclusive?_>=0:_>0}(r.endAt,Ms(r),i))}(n,e)}function OI(n){return(e,t)=>{let r=!1;for(let i of Ms(n)){let o=MI(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function MI(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(o,u,f){let p=u.data.field(o),_=f.data.field(o);return p!==null&&_!==null?wi(p,_):J()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}var Bn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Wp(this.inner)}size(){return this.innerSize}};var LI=new rt(H.comparator);function xa(){return LI}var im=new rt(H.comparator);function Ia(...n){let e=im;for(let t of n)e=e.insert(t.key,t);return e}function sm(n){let e=im;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gr(){return Ls()}function om(){return Ls()}function Ls(){return new Bn(n=>n.toString(),(n,e)=>n.isEqual(e))}var FI=new rt(H.comparator),UI=new He(H.comparator);function qe(...n){let e=UI;for(let t of n)e=e.add(t);return e}var BI=new He(ae);function jI(){return BI}function Fh(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Us(e)?"-0":e}}function am(n){return{integerValue:""+n}}function qI(n,e){return bI(e)?am(e):Fh(n,e)}var Ai=class{constructor(){this._=void 0}};function $I(n,e,t){return n instanceof Ci?function(i,o){let u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Vh(o)&&(o=Hp(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Er?um(n,e):n instanceof br?lm(n,e):function(i,o){let u=cm(i,o),f=kp(u)+kp(i.Pe);return Cl(u)&&Cl(i.Pe)?am(f):Fh(i.serializer,f)}(n,e)}function zI(n,e,t){return n instanceof Er?um(n,e):n instanceof br?lm(n,e):t}function cm(n,e){return n instanceof Si?function(r){return Cl(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ci=class extends Ai{},Er=class extends Ai{constructor(e){super(),this.elements=e}};function um(n,e){let t=hm(e);for(let r of n.elements)t.some(i=>Ft(i,r))||t.push(r);return{arrayValue:{values:t}}}var br=class extends Ai{constructor(e){super(),this.elements=e}};function lm(n,e){let t=hm(e);for(let r of n.elements)t=t.filter(i=>!Ft(i,r));return{arrayValue:{values:t}}}var Si=class extends Ai{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function kp(n){return Ee(n.integerValue||n.doubleValue)}function hm(n){return Nh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function GI(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Er&&i instanceof Er||r instanceof br&&i instanceof br?gi(r.elements,i.elements,Ft):r instanceof Si&&i instanceof Si?Ft(r.Pe,i.Pe):r instanceof Ci&&i instanceof Ci}(n.transform,e.transform)}var Ll=class{constructor(e,t){this.version=e,this.transformResults=t}},_r=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ta(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Pi=class{};function dm(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Va(n.key,_r.none()):new Tr(n.key,n.data,_r.none());{let t=n.data,r=Ot.empty(),i=new He(nt.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new tn(n.key,r,new Mt(i.toArray()),_r.none())}}function WI(n,e,t){n instanceof Tr?function(i,o,u){let f=i.value.clone(),p=Vp(i.fieldTransforms,o,u.transformResults);f.setAll(p),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof tn?function(i,o,u){if(!Ta(i.precondition,o))return void o.convertToUnknownDocument(u.version);let f=Vp(i.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(fm(i)),p.setAll(f),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Fs(n,e,t,r){return n instanceof Tr?function(o,u,f,p){if(!Ta(o.precondition,u))return f;let _=o.value.clone(),S=Np(o.fieldTransforms,p,u);return _.setAll(S),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof tn?function(o,u,f,p){if(!Ta(o.precondition,u))return f;let _=Np(o.fieldTransforms,p,u),S=u.data;return S.setAll(fm(o)),S.setAll(_),u.convertToFoundDocument(u.version,S).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(o,u,f){return Ta(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function HI(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=cm(r.transform,i||null);o!=null&&(t===null&&(t=Ot.empty()),t.set(r.field,o))}return t||null}function xp(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gi(r,i,(o,u)=>GI(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Tr=class extends Pi{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},tn=class extends Pi{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function fm(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Vp(n,e,t){let r=new Map;Ce(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],u=o.transform,f=e.data.field(o.field);r.set(o.field,zI(u,f,t[i]))}return r}function Np(n,e,t){let r=new Map;for(let i of n){let o=i.transform,u=t.data.field(i.field);r.set(i.field,$I(o,u,e))}return r}var Va=class extends Pi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fl=class extends Pi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ul=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&WI(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fs(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Fs(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=om();return this.mutations.forEach(i=>{let o=e.get(i.key),u=o.overlayedDocument,f=this.applyToLocalView(u,o.mutatedFields);f=t.has(i.key)?null:f;let p=dm(u,f);p!==null&&r.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations,(t,r)=>xp(t,r))&&gi(this.baseMutations,e.baseMutations,(t,r)=>xp(t,r))}},Bl=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ce(e.mutations.length===r.length);let i=function(){return FI}(),o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new n(e,t,r,i)}};var jl=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ve,X;function KI(n){switch(n){default:return J();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function QI(n){if(n===void 0)return vr("GRPC error has no .code"),x.UNKNOWN;switch(n){case ve.OK:return x.OK;case ve.CANCELLED:return x.CANCELLED;case ve.UNKNOWN:return x.UNKNOWN;case ve.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ve.INTERNAL:return x.INTERNAL;case ve.UNAVAILABLE:return x.UNAVAILABLE;case ve.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ve.NOT_FOUND:return x.NOT_FOUND;case ve.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ve.ABORTED:return x.ABORTED;case ve.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ve.DATA_LOSS:return x.DATA_LOSS;default:return J()}}(X=ve||(ve={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";var lT=new rl([4294967295,4294967295],0);var ql=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function $l(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YI(n,e){return $l(n,e.toTimestamp())}function mi(n){return Ce(!!n),ge.fromTimestamp(function(t){let r=Fn(t);return new $e(r.seconds,r.nanos)}(n))}function pm(n,e){return zl(n,e).canonicalString()}function zl(n,e){let t=function(i){return new be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function XI(n){let e=be.fromString(n);return Ce(oE(e)),e}function Gl(n,e){return pm(n.databaseId,e.path)}function ZI(n){let e=XI(n);return e.length===4?be.emptyPath():tE(e)}function eE(n){return new be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tE(n){return Ce(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Op(n,e,t){return{name:Gl(n,e),fields:t.value.mapValue.fields}}function nE(n,e){let t;if(e instanceof Tr)t={update:Op(n,e.key,e.value)};else if(e instanceof Va)t={delete:Gl(n,e.key)};else if(e instanceof tn)t={update:Op(n,e.key,e.data),updateMask:sE(e.fieldMask)};else{if(!(e instanceof Fl))return J();t={verify:Gl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){let f=u.transform;if(f instanceof Ci)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Er)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof br)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Si)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw J()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:YI(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:J()}(n,e.precondition)),t}function rE(n,e){return n&&n.length>0?(Ce(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?mi(i.updateTime):mi(o);return u.isEqual(ge.min())&&(u=mi(o)),new Ll(u,i.transformResults||[])}(t,e))):[]}function iE(n){let e=ZI(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ce(r===1);let S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let o=[];t.where&&(o=function(y){let k=mm(y);return k instanceof Un&&Xp(k)?k.getFilters():[k]}(t.where));let u=[];t.orderBy&&(u=function(y){return y.map(k=>function(F){return new bi(fi(F.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(k))}(t.orderBy));let f=null;t.limit&&(f=function(y){let k;return k=typeof y=="object"?y.value:y,xh(k)?null:k}(t.limit));let p=null;t.startAt&&(p=function(y){let k=!!y.before,O=y.values||[];return new Ei(O,k)}(t.startAt));let _=null;return t.endAt&&(_=function(y){let k=!y.before,O=y.values||[];return new Ei(O,k)}(t.endAt)),kI(e,i,u,o,f,"F",p,_)}function mm(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=fi(t.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fi(t.unaryFilter.field);return xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fi(t.unaryFilter.field);return xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let u=fi(t.unaryFilter.field);return xe.create(u,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(n):n.fieldFilter!==void 0?function(t){return xe.create(fi(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Un.create(t.compositeFilter.filters.map(r=>mm(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(t.compositeFilter.op))}(n):J()}function fi(n){return nt.fromServerFormat(n.fieldPath)}function sE(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Wl=class{constructor(e){this.ct=e}};function aE(n){let e=iE({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ml(e,e.limit,"L"):e}var Na=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ee(e.integerValue));else if("doubleValue"in e){let r=Ee(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Us(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Fn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(yi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?Qp(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Kp(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):J()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let u="value",f=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ee(f)),this.Vt(u,t),this.Tt(o[u],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),H.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Na.vt=new Na;var Hl=class{constructor(){this.un=new Kl}addToCollectionParentIndex(e,t){return this.un.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Ir.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},Kl=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new He(be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(be.comparator)).toArray()}};var hT=new Uint8Array(0);var Nt=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Nt.DEFAULT_COLLECTION_PERCENTILE=10,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nt.DEFAULT=new Nt(41943040,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nt.DISABLED=new Nt(-1,0,0);var js=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Ql=class{constructor(){this.changes=new Bn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jl=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Yl=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Fs(r.mutation,i,Mt.empty(),$e.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qe()){let i=gr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Ia();return o.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){let r=gr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let o=xa(),u=Ls(),f=function(){return Ls()}();return t.forEach((p,_)=>{let S=r.get(_.key);i.has(_.key)&&(S===void 0||S.mutation instanceof tn)?o=o.insert(_.key,_):S!==void 0?(u.set(_.key,S.mutation.getFieldMask()),Fs(S.mutation,_,S.mutation.getFieldMask(),$e.now())):u.set(_.key,Mt.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((_,S)=>u.set(_,S)),t.forEach((_,S)=>{var y;return f.set(_,new Jl(S,(y=u.get(_))!==null&&y!==void 0?y:null))}),f))}recalculateAndSaveOverlays(e,t){let r=Ls(),i=new rt((u,f)=>u-f),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(let f of u)f.keys().forEach(p=>{let _=t.get(p);if(_===null)return;let S=r.get(p)||Mt.empty();S=f.applyToLocalView(_,S),r.set(p,S);let y=(i.get(f.batchId)||qe()).add(p);i=i.insert(f.batchId,y)})}).next(()=>{let u=[],f=i.getReverseIterator();for(;f.hasNext();){let p=f.getNext(),_=p.key,S=p.value,y=om();S.forEach(k=>{if(!o.has(k)){let O=dm(t.get(k),r.get(k));O!==null&&y.set(k,O),o=o.add(k)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,y))}return V.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return H.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(gr()),f=-1,p=o;return u.next(_=>V.forEach(_,(S,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),o.get(S)?V.resolve():this.remoteDocumentCache.getEntry(e,S).next(k=>{p=p.insert(S,k)}))).next(()=>this.populateOverlays(e,_,o)).next(()=>this.computeViews(e,p,_,qe())).next(S=>({batchId:f,changes:sm(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=Ia();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,u=Ia();return this.indexManager.getCollectionParents(e,o).next(f=>V.forEach(f,p=>{let _=function(y,k){return new Ti(k,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,_,r,i).next(S=>{S.forEach((y,k)=>{u=u.insert(y,k)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((p,_)=>{let S=_.getKey();u.get(S)===null&&(u=u.insert(S,Ii.newInvalidDocument(S)))});let f=Ia();return u.forEach((p,_)=>{let S=o.get(p);S!==void 0&&Fs(S.mutation,_,Mt.empty(),$e.now()),Lh(t,_)&&(f=f.insert(p,_))}),f})}};var Xl=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return V.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:mi(i.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:aE(i.bundledQuery),readTime:mi(i.readTime)}}(t)),V.resolve()}};var Zl=class{constructor(){this.overlays=new rt(H.comparator),this.Ir=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=gr();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=gr(),o=t.length+1,u=new H(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){let p=f.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===o&&p.largestBatchId>r&&i.set(p.getKey(),p)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new rt((_,S)=>_-S),u=this.overlays.getIterator();for(;u.hasNext();){let _=u.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let S=o.get(_.largestBatchId);S===null&&(S=gr(),o=o.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}let f=gr(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,S)=>f.set(_,S)),!(f.size()>=i)););return V.resolve(f)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let u=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new jl(t,r));let o=this.Ir.get(t);o===void 0&&(o=qe(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var eh=class{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var qs=class{constructor(){this.Tr=new He(Ie.Er),this.dr=new He(Ie.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Ie(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ie(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new H(new be([])),r=new Ie(t,e),i=new Ie(t,e+1),o=[];return this.dr.forEachInRange([r,i],u=>{this.Vr(u),o.push(u.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new H(new be([])),r=new Ie(t,e),i=new Ie(t,e+1),o=qe();return this.dr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){let t=new Ie(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ie=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return H.comparator(e.key,t.key)||ae(e.wr,t.wr)}static Ar(e,t){return ae(e.wr,t.wr)||H.comparator(e.key,t.key)}};var th=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new He(Ie.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let u=new Ul(o,t,r,i);this.mutationQueue.push(u);for(let f of i)this.br=this.br.add(new Ie(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return V.resolve(u)}lookupMutationBatch(e,t){return V.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ie(t,0),i=new Ie(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],u=>{let f=this.Dr(u.wr);o.push(f)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new He(ae);return t.forEach(i=>{let o=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,u],f=>{r=r.add(f.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let u=new Ie(new H(o),0),f=new He(ae);return this.br.forEachWhile(p=>{let _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(f=f.add(p.wr)),!0)},u),V.resolve(this.Cr(f))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ce(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(t.mutations,i=>{let o=new Ie(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Ie(t,0),i=this.br.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var nh=class{constructor(e){this.Mr=e,this.docs=function(){return new rt(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():Ii.newInvalidDocument(t))}getEntries(e,t){let r=xa();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ii.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=xa(),u=t.path,f=new H(u.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){let{key:_,value:{document:S}}=p.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||wI(_I(S),r)<=0||(i.has(S.key)||Lh(t,S))&&(o=o.insert(S.key,S.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){J()}Or(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rh(this)}getSize(e){return V.resolve(this.size)}},rh=class extends Ql{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var ih=class{constructor(e){this.persistence=e,this.Nr=new Bn(t=>Oh(t),Mh),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qs,this.targetCount=0,this.kr=js.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),V.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new js(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.Kn(t),V.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Nr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.Br.containsKey(t))}};var sh=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new EI(0),this.Kr=!1,this.Kr=!0,this.$r=new eh,this.referenceDelegate=e(this),this.Ur=new ih(this),this.indexManager=new Hl,this.remoteDocumentCache=function(i){return new nh(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Wl(t),this.Gr=new Xl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new th(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new oh(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},oh=class extends Il{constructor(e){super(),this.currentSequenceNumber=e}},ah=class n{constructor(e){this.persistence=e,this.Jr=new qs,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),V.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ge.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return V.or([()=>V.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var ch=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=qe(),i=qe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var uh=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var lh=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Zd()?8:II(De())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;let u=new uh;return this.Xi(e,t,u).next(f=>{if(o.result=f,this.zi)return this.es(e,t,u,f.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Vs()<=Q.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Ns(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(Vs()<=Q.DEBUG&&U("QueryEngine","Query:",Ns(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Vs()<=Q.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Ns(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):V.resolve())}Yi(e,t){if(Dp(t))return V.resolve(null);let r=yr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Ml(t,null,"F"),r=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let u=qe(...o);return this.Ji.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(p=>{let _=this.ts(t,f);return this.ns(t,_,u,p.readTime)?this.Yi(e,Ml(t,null,"F")):this.rs(e,_,t,p)}))})))}Zi(e,t,r,i){return Dp(t)||i.isEqual(ge.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let u=this.ts(t,o);return this.ns(t,u,r,i)?V.resolve(null):(Vs()<=Q.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(t)),this.rs(e,u,t,yI(i,-1)).next(f=>f))})}ts(e,t){let r=new He(OI(e));return t.forEach((i,o)=>{Lh(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Vs()<=Q.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Ns(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ir.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}};var hh=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new rt(ae),this._s=new Bn(o=>Oh(o),Mh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yl(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function cE(n,e,t,r){return new hh(n,e,t,r)}function gm(n,e){return A(this,null,function*(){let t=ce(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let u=[],f=[],p=qe();for(let _ of i){u.push(_.batchId);for(let S of _.mutations)p=p.add(S.key)}for(let _ of o){f.push(_.batchId);for(let S of _.mutations)p=p.add(S.key)}return t.localDocuments.getDocuments(r,p).next(_=>({hs:_,removedBatchIds:u,addedBatchIds:f}))})})})}function uE(n,e){let t=ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(f,p,_,S){let y=_.batch,k=y.keys(),O=V.resolve();return k.forEach(F=>{O=O.next(()=>S.getEntry(p,F)).next(z=>{let L=_.docVersions.get(F);Ce(L!==null),z.version.compareTo(L)<0&&(y.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),S.addEntry(z)))})}),O.next(()=>f.mutationQueue.removeMutationBatch(p,y))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let p=qe();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(p=p.add(f.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function lE(n){let e=ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function hE(n,e){let t=ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Oa=class{constructor(){this.activeTargetIds=jI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var dh=class{constructor(){this.so=new Oa,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Oa,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var fh=class{_o(e){}shutdown(){}};var Ma=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ea=null;function ll(){return Ea===null?Ea=function(){return 268435456+Math.round(2147483648*Math.random())}():Ea++,"0x"+Ea.toString(16)}var dE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ph=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var je="WebChannelConnection",mh=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,u){let f=ll(),p=this.xo(t,r.toUriEncodedString());U("RestConnection",`Sending RPC '${t}' ${f}:`,p,i);let _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,o,u),this.No(t,p,_,i).then(S=>(U("RestConnection",`Received RPC '${t}' ${f}: `,S),S),S=>{throw Aa("RestConnection",`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",i),S})}Lo(t,r,i,o,u,f){return this.Mo(t,r,i,o,u)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Di}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>t[u]=o),i&&i.headers.forEach((o,u)=>t[u]=o)}xo(t,r){let i=dE[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=ll();return new Promise((u,f)=>{let p=new il;p.setWithCredentials(!0),p.listenOnce(ol.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xs.NO_ERROR:let S=p.getResponseJson();U(je,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(S)),u(S);break;case xs.TIMEOUT:U(je,`RPC '${e}' ${o} timed out`),f(new q(x.DEADLINE_EXCEEDED,"Request time out"));break;case xs.HTTP_ERROR:let y=p.getStatus();if(U(je,`RPC '${e}' ${o} failed with status:`,y,"response text:",p.getResponseText()),y>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);let O=k?.error;if(O&&O.status&&O.message){let F=function(L){let Z=L.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(Z)>=0?Z:x.UNKNOWN}(O.status);f(new q(F,O.message))}else f(new q(x.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new q(x.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{U(je,`RPC '${e}' ${o} completed.`)}});let _=JSON.stringify(i);U(je,`RPC '${e}' ${o} sending request:`,i),p.send(t,"POST",_,r,15)})}Bo(e,t,r){let i=ll(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ul(),f=cl(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.xmlHttpFactory=new sl({})),this.Oo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;let S=o.join("");U(je,`Creating RPC '${e}' stream ${i}: ${S}`,p);let y=u.createWebChannel(S,p),k=!1,O=!1,F=new ph({Io:L=>{O?U(je,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(k||(U(je,`Opening RPC '${e}' stream ${i} transport.`),y.open(),k=!0),U(je,`RPC '${e}' stream ${i} sending:`,L),y.send(L))},To:()=>y.close()}),z=(L,Z,te)=>{L.listen(Z,oe=>{try{te(oe)}catch(de){setTimeout(()=>{throw de},0)}})};return z(y,di.EventType.OPEN,()=>{O||(U(je,`RPC '${e}' stream ${i} transport opened.`),F.yo())}),z(y,di.EventType.CLOSE,()=>{O||(O=!0,U(je,`RPC '${e}' stream ${i} transport closed`),F.So())}),z(y,di.EventType.ERROR,L=>{O||(O=!0,Aa(je,`RPC '${e}' stream ${i} transport errored:`,L),F.So(new q(x.UNAVAILABLE,"The operation could not be completed")))}),z(y,di.EventType.MESSAGE,L=>{var Z;if(!O){let te=L.data[0];Ce(!!te);let oe=te,de=oe.error||((Z=oe[0])===null||Z===void 0?void 0:Z.error);if(de){U(je,`RPC '${e}' stream ${i} received error:`,de);let ze=de.status,fe=function(v){let E=ve[v];if(E!==void 0)return QI(E)}(ze),C=de.message;fe===void 0&&(fe=x.INTERNAL,C="Unknown error status: "+ze+" with message "+de.message),O=!0,F.So(new q(fe,C)),y.close()}else U(je,`RPC '${e}' stream ${i} received:`,te),F.bo(te)}}),z(f,al.STAT_EVENT,L=>{L.stat===wa.PROXY?U(je,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===wa.NOPROXY&&U(je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{F.wo()},0),F}};function hl(){return typeof document<"u"?document:null}function Ka(n){return new ql(n,!0)}var La=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var gh=class{constructor(e,t,r,i,o,u,f,p){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new La(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return A(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return A(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return A(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new q(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>A(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var yh=class extends gh{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=rE(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=eE(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>nE(this.serializer,r))};this.a_(t)}};var _h=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Mo(e,zl(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(x.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Lo(e,zl(t,r),i,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new q(x.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},wh=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vr(t),this.D_=!1):U("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var vh=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(u=>{r.enqueueAndForget(()=>A(this,null,function*(){Gs(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(p){return A(this,null,function*(){let _=ce(p);_.L_.add(4),yield zs(_),_.q_.set("Unknown"),_.L_.delete(4),yield Qa(_)})}(this))}))}),this.q_=new wh(r,i)}};function Qa(n){return A(this,null,function*(){if(Gs(n))for(let e of n.B_)yield e(!0)})}function zs(n){return A(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Gs(n){return ce(n).L_.size===0}function ym(n,e,t){return A(this,null,function*(){if(!Ha(e))throw e;n.L_.add(1),yield zs(n),n.q_.set("Offline"),t||(t=()=>lE(n.localStore)),n.asyncQueue.enqueueRetryable(()=>A(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Qa(n)}))})}function _m(n,e){return e().catch(t=>ym(n,t,e))}function Ja(n){return A(this,null,function*(){let e=ce(n),t=jn(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fE(e);)try{let i=yield hE(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,pE(e,i)}catch(i){yield ym(e,i)}wm(e)&&vm(e)})}function fE(n){return Gs(n)&&n.O_.length<10}function pE(n,e){n.O_.push(e);let t=jn(n);t.r_()&&t.V_&&t.m_(e.mutations)}function wm(n){return Gs(n)&&!jn(n).n_()&&n.O_.length>0}function vm(n){jn(n).start()}function mE(n){return A(this,null,function*(){jn(n).p_()})}function gE(n){return A(this,null,function*(){let e=jn(n);for(let t of n.O_)e.m_(t.mutations)})}function yE(n,e,t){return A(this,null,function*(){let r=n.O_.shift(),i=Bl.from(r,e,t);yield _m(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ja(n)})}function _E(n,e){return A(this,null,function*(){e&&jn(n).V_&&(yield function(r,i){return A(this,null,function*(){if(function(u){return KI(u)&&u!==x.ABORTED}(i.code)){let o=r.O_.shift();jn(r).s_(),yield _m(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ja(r)}})}(n,e)),wm(n)&&vm(n)})}function Mp(n,e){return A(this,null,function*(){let t=ce(n);t.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=Gs(t);t.L_.add(3),yield zs(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Qa(t)})}function wE(n,e){return A(this,null,function*(){let t=ce(n);e?(t.L_.delete(2),yield Qa(t)):e||(t.L_.add(2),yield zs(t),t.q_.set("Unknown"))})}function jn(n){return n.U_||(n.U_=function(t,r,i){let o=ce(t);return o.w_(),new yh(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mE.bind(null,n),mo:_E.bind(null,n),f_:gE.bind(null,n),g_:yE.bind(null,n)}),n.B_.push(e=>A(this,null,function*(){e?(n.U_.s_(),yield Ja(n)):(yield n.U_.stop(),n.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Ih=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let u=Date.now()+r,f=new n(e,t,u,i,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Im(n,e){if(vr("AsyncQueue",`${e}: ${n}`),Ha(n))return new q(x.UNAVAILABLE,`${e}: ${n}`);throw n}var Eh=class{constructor(){this.queries=Lp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ce(t),o=i.queries;i.queries=Lp(),o.forEach((u,f)=>{for(let p of f.j_)p.onError(r)})})(this,new q(x.ABORTED,"Firestore shutting down"))}};function Lp(){return new Bn(n=>rm(n),nm)}function vE(n){n.Y_.forEach(e=>{e.next()})}var Fp,Up;(Up=Fp||(Fp={})).ea="default",Up.Cache="cache";var bh=class{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Bn(f=>rm(f),nm),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(H.comparator),this.Na=new Map,this.La=new qs,this.Ba={},this.ka=new Map,this.qa=js.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function IE(n,e,t){return A(this,null,function*(){let r=AE(n);try{let i=yield function(u,f){let p=ce(u),_=$e.now(),S=f.reduce((O,F)=>O.add(F.key),qe()),y,k;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let F=xa(),z=qe();return p.cs.getEntries(O,S).next(L=>{F=L,F.forEach((Z,te)=>{te.isValidDocument()||(z=z.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,F)).next(L=>{y=L;let Z=[];for(let te of f){let oe=HI(te,y.get(te.key).overlayedDocument);oe!=null&&Z.push(new tn(te.key,oe,Jp(oe.value.mapValue),_r.exists(!0)))}return p.mutationQueue.addMutationBatch(O,_,Z,f)}).next(L=>{k=L;let Z=L.applyToLocalDocumentSet(y,z);return p.documentOverlayCache.saveOverlays(O,L.batchId,Z)})}).then(()=>({batchId:k.batchId,changes:sm(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,f,p){let _=u.Ba[u.currentUser.toKey()];_||(_=new rt(ae)),_=_.insert(f,p),u.Ba[u.currentUser.toKey()]=_}(r,i.batchId,t),yield Ya(r,i.changes),yield Ja(r.remoteStore)}catch(i){let o=Im(i,"Failed to persist write");t.reject(o)}})}function Bp(n,e,t){let r=ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,u)=>{let f=u.view.Z_(e);f.snapshot&&i.push(f.snapshot)}),function(u,f){let p=ce(u);p.onlineState=f;let _=!1;p.queries.forEach((S,y)=>{for(let k of y.j_)k.Z_(f)&&(_=!0)}),_&&vE(p)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EE(n,e){return A(this,null,function*(){let t=ce(n),r=e.batch.batchId;try{let i=yield uE(t.localStore,e);bm(t,r,null),Em(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ya(t,i)}catch(i){yield Gp(i)}})}function bE(n,e,t){return A(this,null,function*(){let r=ce(n);try{let i=yield function(u,f){let p=ce(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let S;return p.mutationQueue.lookupMutationBatch(_,f).next(y=>(Ce(y!==null),S=y.keys(),p.mutationQueue.removeMutationBatch(_,y))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,S,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S)).next(()=>p.localDocuments.getDocuments(_,S))})}(r.localStore,e);bm(r,e,t),Em(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ya(r,i)}catch(i){yield Gp(i)}})}function Em(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function bm(n,e,t){let r=ce(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ya(n,e,t){return A(this,null,function*(){let r=ce(n),i=[],o=[],u=[];r.Fa.isEmpty()||(r.Fa.forEach((f,p)=>{u.push(r.Ka(p,e,t).then(_=>{var S;if((_||t)&&r.isPrimaryClient){let y=_?!_.fromCache:(S=t?.targetChanges.get(p.targetId))===null||S===void 0?void 0:S.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(_){i.push(_);let y=ch.Wi(p.targetId,_);o.push(y)}}))}),yield Promise.all(u),r.Ca.d_(i),yield function(p,_){return A(this,null,function*(){let S=ce(p);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>V.forEach(_,k=>V.forEach(k.$i,O=>S.persistence.referenceDelegate.addReference(y,k.targetId,O)).next(()=>V.forEach(k.Ui,O=>S.persistence.referenceDelegate.removeReference(y,k.targetId,O)))))}catch(y){if(!Ha(y))throw y;U("LocalStore","Failed to update sequence numbers: "+y)}for(let y of _){let k=y.targetId;if(!y.fromCache){let O=S.os.get(k),F=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(F);S.os=S.os.insert(k,z)}}})}(r.localStore,o))})}function TE(n,e){return A(this,null,function*(){let t=ce(n);if(!t.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield gm(t.localStore,e);t.currentUser=e,function(o,u){o.ka.forEach(f=>{f.forEach(p=>{p.reject(new q(x.CANCELLED,u))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ya(t,r.hs)}})}function AE(n){let e=ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bE.bind(null,e),e}var Fa=class{constructor(){this.synchronizeTabs=!1}initialize(e){return A(this,null,function*(){this.serializer=Ka(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cE(this.persistence,new lh,e.initialUser,this.serializer)}createPersistence(e){return new sh(ah.Zr,this.serializer)}createSharedClientState(e){return new dh}terminate(){return A(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Th=class{initialize(e,t){return A(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TE.bind(null,this.syncEngine),yield wE(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Eh}()}createDatastore(e){let t=Ka(e.databaseInfo.databaseId),r=function(o){return new mh(o)}(e.databaseInfo);return function(o,u,f,p){return new _h(o,u,f,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,f){return new vh(r,i,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Bp(this.syncEngine,t,0),function(){return Ma.D()?new Ma:new fh}())}createSyncEngine(e,t){return function(i,o,u,f,p,_,S){let y=new bh(i,o,u,f,p,_);return S&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return A(this,null,function*(){var e,t;yield function(i){return A(this,null,function*(){let o=ce(i);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield zs(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var Ah=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ke.UNAUTHENTICATED,this.clientId=Sa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>A(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Im(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function dl(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>A(this,null,function*(){r.isEqual(i)||(yield gm(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function jp(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield SE(n);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Mp(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Mp(e.remoteStore,i)),n._onlineComponents=e})}function CE(n){return n.name==="FirebaseError"?n.code===x.FAILED_PRECONDITION||n.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function SE(n){return A(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dl(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!CE(t))throw t;Aa("Error using user provided cache. Falling back to memory cache: "+t),yield dl(n,new Fa)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield dl(n,new Fa);return n._offlineComponents})}function PE(n){return A(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield jp(n,n._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield jp(n,new Th))),n._onlineComponents})}function RE(n){return PE(n).then(e=>e.syncEngine)}function Tm(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var qp=new Map;function Am(n,e,t){if(!t)throw new q(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DE(n,e,t,r){if(e===!0&&r===!0)throw new q(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $p(n){if(!H.isDocumentKey(n))throw new q(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zp(n){if(H.isDocumentKey(n))throw new q(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":J()}function Cm(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Uh(n);throw new q(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Ua=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tm((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ri=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ua({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ua(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fl;switch(r.type){case"firstParty":return new yl(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=qp.get(t);r&&(U("ComponentProvider","Removing Datastore"),qp.delete(t),r.terminate())}(this),Promise.resolve()}};function Sm(n,e,t,r={}){var i;let o=(n=Cm(n,Ri))._getSettings(),u=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==u&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=ke.MOCK_USER;else{f=Kd(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new q(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ke(_)}n._authCredentials=new pl(new Ca(f,p))}}var Ch=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Zt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ln(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ln=class n extends Ch{constructor(e,t,r){super(e,t,xI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Pm(n,e,...t){if(n=We(n),Am("collection","path",e),n instanceof Ri){let r=be.fromString(e,...t);return zp(r),new Ln(n,null,r)}{if(!(n instanceof Zt||n instanceof Ln))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(be.fromString(e,...t));return zp(r),new Ln(n.firestore,null,r)}}function Rm(n,e,...t){if(n=We(n),arguments.length===1&&(e=Sa.newId()),Am("doc","path",e),n instanceof Ri){let r=be.fromString(e,...t);return $p(r),new Zt(n,null,new H(r))}{if(!(n instanceof Zt||n instanceof Ln))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(be.fromString(e,...t));return $p(r),new Zt(n.firestore,n instanceof Ln?n.converter:null,new H(r))}}var Sh=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new La(this,"async_queue_retry"),this.Eu=()=>{let t=hl();t&&U("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=hl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=hl();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Xt;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return A(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ha(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let i=Ih.createAndSchedule(this,e,t,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&J()}verifyOperationInProgress(){}mu(){return A(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};var Ba=class extends Ri{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new Sh}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||km(this),this._firestoreClient.terminate()}};function Dm(n,e){let t=typeof n=="object"?n:oi(),r=typeof n=="string"?n:e||"(default)",i=Is(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Hd("firestore");o&&Sm(i,...o)}return i}function kE(n){return n._firestoreClient||km(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function km(n){var e,t,r;let i=n._freezeSettings(),o=function(f,p,_,S){return new bl(f,p,_,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Tm(S.experimentalLongPollingOptions),S.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new Ah(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ja=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(en.fromBase64String(e))}catch(t){throw new q(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var qa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $a=class{constructor(e){this._methodName=e}};var za=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var Ga=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var xE=/^__.*__$/,Ph=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new tn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tr(e,this.data,t,this.fieldTransforms)}};function xm(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var Rh=class n{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Wa(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(xm(this.wu)&&xE.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Dh=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ka(e)}Nu(e,t,r,i=!1){return new Rh({wu:e,methodName:t,Ou:r,path:nt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function VE(n){let e=n._freezeSettings(),t=Ka(n._databaseId);return new Dh(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NE(n,e,t,r,i,o={}){let u=n.Nu(o.merge||o.mergeFields?2:0,e,t,i);Mm("Data must be an object, but it was:",u,r);let f=Nm(r,u),p,_;if(o.merge)p=new Mt(u.fieldMask),_=u.fieldTransforms;else if(o.mergeFields){let S=[];for(let y of o.mergeFields){let k=OE(e,y,t);if(!u.contains(k))throw new q(x.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);FE(S,k)||S.push(k)}p=new Mt(S),_=u.fieldTransforms.filter(y=>p.covers(y.field))}else p=null,_=u.fieldTransforms;return new Ph(new Ot(f),p,_)}function Vm(n,e){if(Om(n=We(n)))return Mm("Unsupported field value:",e,n),Nm(n,e);if(n instanceof $a)return function(r,i){if(!xm(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],u=0;for(let f of r){let p=Vm(f,i.Fu(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=$e.fromDate(r);return{timestampValue:$l(i.serializer,o)}}if(r instanceof $e){let o=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$l(i.serializer,o)}}if(r instanceof za)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ja)return{bytesValue:JI(i.serializer,r._byteString)};if(r instanceof Zt){let o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Mu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ga)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Mu("VectorValues must only contain numeric values.");return Fh(f.serializer,p)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Uh(r)}`)}(n,e)}function Nm(n,e){let t={};return Wp(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(n,(r,i)=>{let o=Vm(i,e.bu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Om(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $e||n instanceof za||n instanceof ja||n instanceof Zt||n instanceof $a||n instanceof Ga)}function Mm(n,e,t){if(!Om(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Uh(t);throw r==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+r)}}function OE(n,e,t){if((e=We(e))instanceof qa)return e._internalPath;if(typeof e=="string")return LE(n,e);throw Wa("Field path arguments must be of type string or ",n,!1,void 0,t)}var ME=new RegExp("[~\\*/\\[\\]]");function LE(n,e,t){if(e.search(ME)>=0)throw Wa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qa(...e.split("."))._internalPath}catch{throw Wa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wa(n,e,t,r,i){let o=r&&!r.isEmpty(),u=i!==void 0,f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${r}`),u&&(p+=` in document ${i}`),p+=")"),new q(x.INVALID_ARGUMENT,f+n+p)}function FE(n,e){return n.some(t=>t.isEqual(e))}function UE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}function Lm(n,e){let t=Cm(n.firestore,Ba),r=Rm(n),i=UE(n.converter,e);return BE(t,[NE(VE(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}function BE(n,e){return function(r,i){let o=new Xt;return r.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return IE(yield RE(r),i,o)})),o.promise}(kE(n),e)}(function(e,t=!0){(function(i){Di=i})(xn),kn(new ut("firestore",(r,{instanceIdentifier:i,options:o})=>{let u=r.getProvider("app").getImmediate(),f=new Ba(new ml(r.getProvider("auth-internal")),new wl(r.getProvider("app-check-internal")),function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new q(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(_.options.projectId,S)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),Ae(bp,"4.7.1",e),Ae(bp,"4.7.1","esm2017")})();var Ar=class{constructor(e){return e}},Fm="firestore",Bh=class{constructor(){return Es(Fm)}};var jh=new st("angularfire2.firestore-instances");function jE(n,e){let t=Xo(Fm,n,e);return t&&new Ar(t)}function qE(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ar(r)}}var $E={provide:Bh,deps:[[new ot,jh]]},zE={provide:Ar,useFactory:jE,deps:[[new ot,jh],Ht]};function Um(n,...e){return Ae("angularfire",ur.full,"fst"),Hr([zE,$E,{provide:jh,useFactory:qE(n),multi:!0,deps:[Tn,sr,ui,lr,[new ot,ks],[new ot,ci],...e]}])}var Bm=wt(Lm,!0);var jm=wt(Pm,!0);var qm=wt(Dm,!0);var qn=class n{constructor(e,t){this.auth=e;this.firestore=t}userSubject=new td(null);login(e,t){return _p(this.auth,e,t).then(r=>(this.userSubject.next(r.user),this.logLogin(e),r.user))}logout(){return wp(this.auth).then(()=>{this.userSubject.next(null)})}register(e,t){return gp(this.auth,e,t).then(r=>(this.userSubject.next(r.user),r.user))}getUser(){return this.userSubject.asObservable()}logLogin(e){let t=jm(this.firestore,"logins");Bm(t,{fecha:new Date,user:e}).then(()=>console.log("Login registrado correctamente")).catch(r=>console.log("Error al registrar el login: ",r))}static \u0275fac=function(t){return new(t||n)(rs(mr),rs(Ar))};static \u0275prov=ns({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xa=class n{constructor(e,t){this.authService=e;this.router=t}userMail="";userPWD="";mensajeError="";Login(){this.authService.login(this.userMail,this.userPWD).then(()=>{$h.default.fire({icon:"success",title:"\xA1Bienvenido!",text:"Has iniciado sesi\xF3n con \xE9xito.",timer:2e3,showConfirmButton:!1}),this.router.navigate(["/home"])}).catch(e=>{this.manejarErrores(e)})}manejarErrores(e){switch(e.code){case"auth/invalid-email":this.mensajeError="Email inv\xE1lido. Por favor, verifica el formato del correo.";break;case"auth/user-not-found":this.mensajeError="Usuario no encontrado. Por favor, revisa tus credenciales.";break;case"auth/wrong-password":this.mensajeError="Contrase\xF1a incorrecta. Vuelve a intentarlo.";break;case"auth/missing-password":this.mensajeError="Se necesita la contrase\xF1a.";break;case"auth/invalid-credential":this.mensajeError="Las credenciales no son v\xE1lidas.";break;default:this.mensajeError="Error: "+e.message;break}$h.default.fire({icon:"error",title:"Error en el inicio de sesi\xF3n",text:this.mensajeError,showConfirmButton:!0})}goTo(e){this.router.navigate([e])}CloseSession(){this.authService.logout().then(()=>console.log("Sesi\xF3n cerrada"))}setQuickAccess(e,t){this.userMail=e,this.userPWD=t,this.Login()}static \u0275fac=function(t){return new(t||n)(se(qn),se(Sn))};static \u0275cmp=at({type:n,selectors:[["app-login"]],standalone:!0,features:[ct],decls:29,vars:2,consts:[["loginForm","ngForm"],[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","email","id","nombre","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","password","placeholder","Ingrese su contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["type","button",1,"btn","quick-access-btn","mr-2",3,"click"],["type","button",1,"btn","quick-access-btn",3,"click"],["id","registrarse",1,"text-decoration-none",3,"click"]],template:function(t,r){if(t&1){let i=Kr();B(0,"div",1)(1,"div",2)(2,"h1",3),G(3,"Inicio Sesi\xF3n"),j(),B(4,"form",4,0),Me("ngSubmit",function(){return Qe(i),Je(r.Login())}),B(6,"div",5)(7,"label",6),G(8,"Email"),j(),B(9,"input",7),Yr("ngModelChange",function(u){return Qe(i),Jr(r.userMail,u)||(r.userMail=u),Je(u)}),j()(),B(10,"div",5)(11,"label",8),G(12,"Contrase\xF1a"),j(),B(13,"input",9),Yr("ngModelChange",function(u){return Qe(i),Jr(r.userPWD,u)||(r.userPWD=u),Je(u)}),j()(),B(14,"div",10)(15,"a",11),G(16,"\xBFOlvid\xF3 su contrase\xF1a?"),j()(),B(17,"button",12),G(18,"Ingresar"),j(),B(19,"div",13)(20,"button",14),Me("click",function(){return Qe(i),Je(r.setQuickAccess("lalala@gmail.com","123456"))}),G(21,"Inicio Usuario 1"),j(),B(22,"button",15),Me("click",function(){return Qe(i),Je(r.setQuickAccess("papapa@gmail.com","123456"))}),G(23,"Inicio Usuario 2"),j()(),B(24,"div",13)(25,"span"),G(26,"\xBFNo tienes una cuenta?"),j(),B(27,"a",16),Me("click",function(){return Qe(i),Je(r.goTo("/registro"))}),G(28,"Registrarse"),j()()()()()}t&2&&(Rt(9),Qr("ngModel",r.userMail),Rt(4),Qr("ngModel",r.userPWD))},dependencies:[Xr,zo,$o,ri,Bo,jo,gs,ms,ps],styles:['@charset "UTF-8";.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none;box-shadow:0 4px 8px #0003}.form-control[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 8px #ffcc0080}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;display:block}#registrarse[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin:5px 0;font-weight:700;color:#000;text-decoration:none}#registrarse[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0;cursor:pointer}span[_ngcontent-%COMP%]{font-weight:700}.alert[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border-radius:5px}.quick-access-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-radius:50px;padding:10px 20px;font-weight:700;border:none;transition:all .3s ease;box-shadow:0 4px 6px #0003}.quick-access-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05);box-shadow:0 6px 8px #0000004d}.quick-access-btn[_ngcontent-%COMP%]:focus{outline:none}']})};var Za=class n{constructor(e){this.router=e}goTo(e){this.router.navigate([`/juegos/${e}`])}static \u0275fac=function(t){return new(t||n)(se(Sn))};static \u0275cmp=at({type:n,selectors:[["app-home"]],standalone:!0,features:[ct],decls:27,vars:0,consts:[[1,"seccion-juegos"],[1,"preguntados"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfcCz3JlM4xlxLvDWPSj71xusZCerXq0QEpg&s","alt","preguntados",3,"click"],["href","scores"],[1,"mayor-menor"],["src","https://resizer.glanacion.com/resizer/v2/un-juego-con-cartas-espanolas-sin-comodines-ni-L4YAHBM6IVBLNEJA5E33NQTKHI.jpg?auth=c4b877fbfbe96ead5811742b26ba93b66a4e97730d76bc15e6920f84a1745fd4&width=768&quality=70&smart=false","alt","mayor o menor",3,"click"],[1,"ahorcado"],["src","https://cdn-icons-png.flaticon.com/512/2241/2241387.png","alt","ahorcado",3,"click"],[1,"juego-nuevo"],["src","https://img.freepik.com/vector-gratis/hoja-trabajo-juego-combinacion-creativo-animales_23-2148782846.jpg","alt","juego nuevo"]],template:function(t,r){t&1&&(B(0,"h1"),G(1,"Seccion de Juegos"),j(),B(2,"div",0)(3,"div",1)(4,"img",2),Me("click",function(){return r.goTo("preguntados")}),j(),B(5,"p"),G(6,"Preguntados"),j(),B(7,"a",3),G(8,"ver puntuacion"),j()(),B(9,"div",4)(10,"img",5),Me("click",function(){return r.goTo("mayor-menor")}),j(),B(11,"p"),G(12,"Mayor o Menor"),j(),B(13,"a",3),G(14,"ver puntuacion"),j()(),B(15,"div",6)(16,"img",7),Me("click",function(){return r.goTo("ahorcado")}),j(),B(17,"p"),G(18,"Ahorcado"),j(),B(19,"a",3),G(20,"ver puntuacion"),j()(),B(21,"div",8),zt(22,"img",9),B(23,"p"),G(24,"Juego Nuevo"),j(),B(25,"a",3),G(26,"ver puntuacion"),j()()())},styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:80px;font-size:3.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}p[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-weight:700;margin:40px 0}.seccion-juegos[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:100px;padding:20px;align-items:center}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;box-shadow:0 4px 8px #00000080;transition:transform .3s ease}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer;box-shadow:0 4px 8px #000}a[_ngcontent-%COMP%]{background-color:#deb887;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;color:#fff;padding:10px 20px;margin-left:110px;text-decoration:none;border-radius:15px;font-size:1.2em;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{background-color:#e6ab5e;transform:scale(1.05)}a[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}"]})};var ec=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=at({type:n,selectors:[["app-error"]],standalone:!0,features:[ct],decls:2,vars:0,template:function(t,r){t&1&&(B(0,"p"),G(1,"error works!"),j())}})};var tc=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=at({type:n,selectors:[["app-quien-soy"]],standalone:!0,features:[ct],decls:20,vars:0,consts:[[1,"container","mt-5","p-5","bg-light","rounded-5","shadow-lg",2,"background-size","cover","background-position","center"],[1,"row","align-items-center","bg-card","rounded-5","shadow","p-4"],[1,"col-md-4","text-center"],["src","quiensoy.jpeg","alt","Juan Pablo",1,"img-fluid","rounded-circle","shadow",2,"max-width","320px"],[1,"col-md-8"],[1,"mb-4","text-dark","display-4"],[1,"lead","text-dark"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"div",1)(2,"div",2),zt(3,"img",3),j(),B(4,"div",4)(5,"h1",5),G(6,"Me llamo Juan Pablo De Maio"),j(),B(7,"p",6)(8,"strong"),G(9,"Edad:"),j(),G(10," 19 a\xF1os"),zt(11,"br"),B(12,"strong"),G(13,"Estudios:"),j(),G(14," Actualmente estudio en la UTN, cursando la carrera de T\xE9cnico en Programaci\xF3n."),zt(15,"br"),B(16,"strong"),G(17,"Juego con Cartas o Im\xE1genes"),j(),zt(18,"br"),G(19," Descripci\xF3n: Pensaba en mostrar una serie de cartas que se van a dar vuelta, despu\xE9s se volver\xEDan a dar vuelta y el jugador deber\xEDa ir clickeando en el orden que se fueron mostrando las cartas. Se deber\xEDa subir la dificultad ocultando las cartas m\xE1s r\xE1pido e ir sumando puntos. "),j()()()())},styles:[".container[_ngcontent-%COMP%]{border-radius:30px;background-size:cover;background-position:center;overflow:hidden}.bg-card[_ngcontent-%COMP%]{background-color:#7dd86299;border:1px solid rgba(208,250,195,.8);box-shadow:0 4px 8px #0003;padding:20px}h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2.5rem;font-weight:700;color:#343a40}p.lead[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.2rem;line-height:1.8;color:#343a40}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:320px;border:5px solid #ffc107}.rounded-5[_ngcontent-%COMP%]{border-radius:30px!important}.bg-light[_ngcontent-%COMP%]{background-color:#d0fac399!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 20px #0003}"]})};var nc=Ac(Go());var rc=class n{constructor(e,t){this.authService=e;this.router=t}nuevoEmail="";nuevaClave="";loggedUser="";flagError=!1;msjError="";Register(){if(!this.nuevoEmail||!this.nuevaClave){nc.default.fire({icon:"warning",title:"Campos incompletos",text:"Por favor, completa todos los campos.",showConfirmButton:!0});return}this.authService.register(this.nuevoEmail,this.nuevaClave).then(e=>{nc.default.fire({icon:"success",title:"Registro exitoso",text:"Te has registrado con \xE9xito.",timer:2e3,showConfirmButton:!1}).then(()=>{this.router.navigate(["/home"])})}).catch(e=>{this.mensajeErrores(e)})}mensajeErrores(e){switch(e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido";break;case"auth/email-already-in-use":this.msjError="Este email ya est\xE1 en uso";break;case"auth/weak-password":this.msjError="La contrase\xF1a es muy d\xE9bil. Debe tener al menos 6 caracteres.";break;case"auth/missing-password":this.msjError="Se necesita una contrase\xF1a.";break;default:this.msjError="Error: "+e.message;break}nc.default.fire({icon:"error",title:"Error en el registro",text:this.msjError,showConfirmButton:!0}),console.log("Error en el registro: "+e.code)}goTo(e){this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)(se(qn),se(Sn))};static \u0275cmp=at({type:n,selectors:[["app-registro"]],standalone:!0,features:[ct],decls:24,vars:2,consts:[["registerForm","ngForm"],[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","placeholder","Ingrese una contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["id","iniciar-sesion",1,"text-decoration-none",3,"click"]],template:function(t,r){if(t&1){let i=Kr();B(0,"div",1)(1,"div",2)(2,"h1",3),G(3,"Registrarse"),j(),B(4,"form",4,0),Me("ngSubmit",function(){return Qe(i),Je(r.Register())}),B(6,"div",5)(7,"label",6),G(8,"Email"),j(),B(9,"input",7),Yr("ngModelChange",function(u){return Qe(i),Jr(r.nuevoEmail,u)||(r.nuevoEmail=u),Je(u)}),j()(),B(10,"div",5)(11,"label",8),G(12,"Contrase\xF1a"),j(),B(13,"input",9),Yr("ngModelChange",function(u){return Qe(i),Jr(r.nuevaClave,u)||(r.nuevaClave=u),Je(u)}),j()(),B(14,"div",10)(15,"a",11),G(16,"\xBFOlvid\xF3 su contrase\xF1a?"),j()(),B(17,"button",12),G(18," Registrarse "),j(),B(19,"div",13)(20,"span"),G(21,"\xBFYa tienes una cuenta?"),j(),B(22,"a",14),Me("click",function(){return Qe(i),Je(r.goTo("/login"))}),G(23,"Iniciar sesi\xF3n"),j()()()()()}t&2&&(Rt(9),Qr("ngModel",r.nuevoEmail),Rt(4),Qr("ngModel",r.nuevaClave))},dependencies:[Xr,zo,$o,ri,Bo,jo,gs,ms,ps],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none}.form-control[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 10px #ffcc0080}label[_ngcontent-%COMP%]{margin-left:10px;font-weight:700}#iniciar-sesion[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#000;text-decoration:none}#iniciar-sesion[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0;cursor:pointer}span[_ngcontent-%COMP%]{font-weight:700}"]})};var $m=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:Xa},{path:"home",component:Za},{path:"quien-soy",component:tc},{path:"registro",component:rc},{path:"juegos",loadChildren:()=>import("./chunk-7TPVQD7F.js").then(n=>n.JuegosModule)},{path:"**",component:ec}];var zm={projectId:"sala-juegos-ab9cb",appId:"1:639687055629:web:6ec8a897ad3ef0f988b844",storageBucket:"sala-juegos-ab9cb.appspot.com",apiKey:"AIzaSyD_AqRMAi5HFadu1U_VaF4wAZPHBskjQWs",authDomain:"sala-juegos-ab9cb.firebaseapp.com",messagingSenderId:"639687055629"};var Gm={providers:[pd({eventCoalescing:!0}),Id($m),_f(()=>wf(zm)),mp(()=>yp()),Um(()=>qm())]};var Gh=Ac(Go());function WE(n,e){n&1&&(B(0,"a",7),G(1,"PERFIL"),j())}function HE(n,e){if(n&1){let t=Kr();B(0,"a",8),Me("click",function(){Qe(t);let i=hd();return Je(i.confirmLogout())}),G(1,"CERRAR SESION"),j()}}function KE(n,e){n&1&&(B(0,"a",9),G(1,"INICIAR SESION"),j())}var ic=class n{constructor(e,t){this.authService=e;this.router=t}isLoggedIn=!1;ngOnInit(){this.authService.getUser().subscribe(e=>{this.isLoggedIn=!!e})}confirmLogout(){Gh.default.fire({title:"\xBFEst\xE1s seguro?",text:"Se cerrar\xE1 tu sesi\xF3n",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xED, cerrar sesi\xF3n",cancelButtonText:"No, cancelar"}).then(e=>{e.isConfirmed&&this.logout()})}logout(){this.authService.logout().then(()=>{Gh.default.fire("\xA1Cierre de sesi\xF3n exitoso!","Has cerrado sesi\xF3n correctamente.","success").then(()=>{this.goTo("/login")})})}goTo(e){this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)(se(qn),se(Sn))};static \u0275cmp=at({type:n,selectors:[["app-root"]],standalone:!0,features:[ct],decls:10,vars:3,consts:[[1,"navbar"],["routerLink","home","routerLinkActive","active-route",1,"nav-link"],["routerLink","quien-soy","routerLinkActive","active-route",1,"nav-link"],[1,"nav-links-derecha"],["class","nav-link-perfil",4,"ngIf"],["class","nav-link-logout",3,"click",4,"ngIf"],["class","nav-link-login","routerLink","login","routerLinkActive","active-route",4,"ngIf"],[1,"nav-link-perfil"],[1,"nav-link-logout",3,"click"],["routerLink","login","routerLinkActive","active-route",1,"nav-link-login"]],template:function(t,r){t&1&&(B(0,"nav",0)(1,"a",1),G(2,"HOME"),j(),B(3,"a",2),G(4,"QUI\xC9N SOY"),j(),B(5,"div",3),ud(6,WE,2,0,"a",4)(7,HE,2,0,"a",5)(8,KE,2,0,"a",6),j()(),zt(9,"router-outlet")),t&2&&(Rt(6),xo("ngIf",r.isLoggedIn),Rt(),xo("ngIf",r.isLoggedIn),Rt(),xo("ngIf",!r.isLoggedIn))},dependencies:[_d,wd,vd,Xr,gd],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;background-color:#deb887;border-radius:20px;padding:5px 10px;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e6ab5e}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.nav-link[_ngcontent-%COMP%]{margin:0 50px;font-size:1.5em}.nav-links-derecha[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:100px}.nav-link-login[_ngcontent-%COMP%], .nav-link-perfil[_ngcontent-%COMP%], .nav-link-logout[_ngcontent-%COMP%]{font-size:1.5em}.nav-link-login[_ngcontent-%COMP%], .nav-link-logout[_ngcontent-%COMP%]{margin-right:50px}"]})};yd(ic,Gm).catch(n=>console.error(n));
