var aR=Object.defineProperty,cR=Object.defineProperties;var uR=Object.getOwnPropertyDescriptors;var VI=Object.getOwnPropertySymbols,lR=Object.getPrototypeOf,dR=Object.prototype.hasOwnProperty,hR=Object.prototype.propertyIsEnumerable,fR=Reflect.get;var jI=(t,e,n)=>e in t?aR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})dR.call(e,n)&&jI(t,n,e[n]);if(VI)for(var n of VI(e))hR.call(e,n)&&jI(t,n,e[n]);return t},le=(t,e)=>cR(t,uR(e));var sr=(t,e,n)=>fR(lR(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function UI(t,e){return Object.is(t,e)}var Ve=null,Yc=!1,Zc=1,bn=Symbol("SIGNAL");function ye(t){let e=Ve;return Ve=t,e}function BI(){return Ve}var Ho={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function nf(t){if(Yc)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(t);let e=Ve.nextProducerIndex++;if(tu(Ve),e<Ve.producerNode.length&&Ve.producerNode[e]!==t&&$o(Ve)){let n=Ve.producerNode[e];eu(n,Ve.producerIndexOfThis[e])}Ve.producerNode[e]!==t&&(Ve.producerNode[e]=t,Ve.producerIndexOfThis[e]=$o(Ve)?zI(t,Ve,e):0),Ve.producerLastReadVersion[e]=t.version}function pR(){Zc++}function $I(t){if(!($o(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zc)){if(!t.producerMustRecompute(t)&&!sf(t)){t.dirty=!1,t.lastCleanEpoch=Zc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zc}}function HI(t){if(t.liveConsumerNode===void 0)return;let e=Yc;Yc=!0;try{for(let n of t.liveConsumerNode)n.dirty||gR(n)}finally{Yc=e}}function qI(){return Ve?.consumerAllowSignalWrites!==!1}function gR(t){t.dirty=!0,HI(t),t.consumerMarkedDirty?.(t)}function Xc(t){return t&&(t.nextProducerIndex=0),ye(t)}function rf(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($o(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)eu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sf(t){tu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($I(n),r!==n.version))return!0}return!1}function of(t){if(tu(t),$o(t))for(let e=0;e<t.producerNode.length;e++)eu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zI(t,e,n){if(GI(t),t.liveConsumerNode.length===0&&WI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=zI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function eu(t,e){if(GI(t),t.liveConsumerNode.length===1&&WI(t))for(let r=0;r<t.producerNode.length;r++)eu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];tu(i),i.producerIndexOfThis[r]=e}}function $o(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function GI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function WI(t){return t.producerNode!==void 0}function KI(t){let e=Object.create(mR);e.computation=t;let n=()=>{if($I(e),nf(e),e.value===Jc)throw e.error;return e.value};return n[bn]=e,n}var ef=Symbol("UNSET"),tf=Symbol("COMPUTING"),Jc=Symbol("ERRORED"),mR=le(O({},Ho),{value:ef,dirty:!0,error:null,equal:UI,producerMustRecompute(t){return t.value===ef||t.value===tf},producerRecomputeValue(t){if(t.value===tf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=tf;let n=Xc(t),r;try{r=t.computation()}catch(i){r=Jc,t.error=i}finally{rf(t,n)}if(e!==ef&&e!==Jc&&r!==Jc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function yR(){throw new Error}var QI=yR;function YI(){QI()}function ZI(t){QI=t}var vR=null;function JI(t){let e=Object.create(ew);e.value=t;let n=()=>(nf(e),e.value);return n[bn]=e,n}function af(t,e){qI()||YI(),t.equal(t.value,e)||(t.value=e,_R(t))}function XI(t,e){qI()||YI(),af(t,e(t.value))}var ew=le(O({},Ho),{equal:UI,value:void 0});function _R(t){t.version++,pR(),HI(t),vR?.()}function ee(t){return typeof t=="function"}function Hi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nu=Hi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Br(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){e=s instanceof nu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{tw(s)}catch(o){e=e??[],o instanceof nu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Br(n,e)}remove(e){let{_finalizers:n}=this;n&&Br(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var cf=Ne.EMPTY;function ru(t){return t instanceof Ne||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function tw(t){ee(t)?t():t.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qi={setTimeout(t,e,...n){let{delegate:r}=qi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=qi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function iu(t){qi.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(t);else throw t})}function qo(){}var nw=uf("C",void 0,void 0);function rw(t){return uf("E",void 0,t)}function iw(t){return uf("N",t,void 0)}function uf(t,e,n){return{kind:t,value:e,error:n}}var $r=null;function zi(t){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!$r;if(e&&($r={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$r;if($r=null,n)throw r}}else t()}function sw(t){Ht.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=t)}var Hr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ru(e)&&e.add(this)):this.destination=ER}static create(e,n,r){return new Gi(e,n,r)}next(e){this.isStopped?df(iw(e),this):this._next(e)}error(e){this.isStopped?df(rw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?df(nw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IR=Function.prototype.bind;function lf(t,e){return IR.call(t,e)}var hf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){su(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){su(r)}else su(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){su(n)}}},Gi=class extends Hr{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ht.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lf(e.next,s),error:e.error&&lf(e.error,s),complete:e.complete&&lf(e.complete,s)}):i=e}this.destination=new hf(i)}};function su(t){Ht.useDeprecatedSynchronousErrorHandling?sw(t):iu(t)}function wR(t){throw t}function df(t,e){let{onStoppedNotification:n}=Ht;n&&qi.setTimeout(()=>n(t,e))}var ER={closed:!0,next:qo,error:wR,complete:qo};var Wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(t){return t}function ou(...t){return ff(t)}function ff(t){return t.length===0?wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=CR(n)?n:new Gi(n,r,i);return zi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ow(r),new r((i,s)=>{let o=new Gi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wi](){return this}pipe(...n){return ff(n)(this)}toPromise(n){return n=ow(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ow(t){var e;return(e=t??Ht.Promise)!==null&&e!==void 0?e:Promise}function DR(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function CR(t){return t&&t instanceof Hr||DR(t)&&ru(t)}function pf(t){return ee(t?.lift)}function ge(t){return e=>{if(pf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new gf(t,e,n,r,i)}var gf=class extends Hr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ki(){return ge((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Qi=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Ki()(this)}};var aw=Hi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new au(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new aw}next(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?cf:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,Br(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new au(e,n),t})(),au=class extends qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cf}};var Ke=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var mf={now(){return(mf.delegate||Date).now()},delegate:void 0};var cu=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var zo={setInterval(t,e,...n){let{delegate:r}=zo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Yi=class extends cu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return zo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Br(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Zi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Zi.now=mf.now;var Ji=class extends Zi{constructor(e,n=Zi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var yf=new Ji(Yi);var uu=class extends Yi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var lu=class extends Ji{};var vf=new lu(uu);var Et=new de(t=>t.complete());function cw(t){return t&&ee(t.schedule)}function uw(t){return t[t.length-1]}function du(t){return ee(uw(t))?t.pop():void 0}function or(t){return cw(uw(t))?t.pop():void 0}function _f(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function lw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qr(t){return this instanceof qr?(this.v=t,this):new qr(t)}function hw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(M){return new Promise(function(R,F){s.push([v,M,R,F])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof qr?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function fw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof lw=="function"?lw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var hu=t=>t&&typeof t.length=="number"&&typeof t!="function";function fu(t){return ee(t?.then)}function pu(t){return ee(t[Wi])}function gu(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function mu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yu=bR();function vu(t){return ee(t?.[yu])}function _u(t){return hw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield qr(n.read());if(i)return yield qr(void 0);yield yield qr(r)}}finally{n.releaseLock()}})}function Iu(t){return ee(t?.getReader)}function ke(t){if(t instanceof de)return t;if(t!=null){if(pu(t))return TR(t);if(hu(t))return SR(t);if(fu(t))return AR(t);if(gu(t))return pw(t);if(vu(t))return RR(t);if(Iu(t))return MR(t)}throw mu(t)}function TR(t){return new de(e=>{let n=t[Wi]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SR(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function AR(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,iu)})}function RR(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function pw(t){return new de(e=>{NR(t,e).catch(n=>e.error(n))})}function MR(t){return pw(_u(t))}function NR(t,e){var n,r,i,s;return dw(this,void 0,void 0,function*(){try{for(n=fw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function gt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ar(t,e=0){return ge((n,r)=>{n.subscribe(he(r,i=>gt(r,t,()=>r.next(i),e),()=>gt(r,t,()=>r.complete(),e),i=>gt(r,t,()=>r.error(i),e)))})}function cr(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gw(t,e){return ke(t).pipe(cr(e),ar(e))}function mw(t,e){return ke(t).pipe(cr(e),ar(e))}function yw(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function vw(t,e){return new de(n=>{let r;return gt(n,e,()=>{r=t[yu](),gt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function wu(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{gt(n,e,()=>{let r=t[Symbol.asyncIterator]();gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _w(t,e){return wu(_u(t),e)}function Iw(t,e){if(t!=null){if(pu(t))return gw(t,e);if(hu(t))return yw(t,e);if(fu(t))return mw(t,e);if(gu(t))return wu(t,e);if(vu(t))return vw(t,e);if(Iu(t))return _w(t,e)}throw mu(t)}function Ae(t,e){return e?Iw(t,e):ke(t)}function Z(...t){let e=or(t);return Ae(t,e)}function Xi(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function If(t){return!!t&&(t instanceof de||ee(t.lift)&&ee(t.subscribe))}var Tn=Hi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:xR}=Array;function PR(t,e){return xR(e)?t(...e):t(e)}function Eu(t){return ie(e=>PR(t,e))}var{isArray:OR}=Array,{getPrototypeOf:kR,prototype:FR,keys:LR}=Object;function Du(t){if(t.length===1){let e=t[0];if(OR(e))return{args:e,keys:null};if(VR(e)){let n=LR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function VR(t){return t&&typeof t=="object"&&kR(t)===FR}function Cu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function bu(...t){let e=or(t),n=du(t),{args:r,keys:i}=Du(t);if(r.length===0)return Ae([],e);let s=new de(jR(r,e,i?o=>Cu(i,o):wt));return n?s.pipe(Eu(n)):s}function jR(t,e,n=wt){return r=>{ww(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)ww(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(he(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function ww(t,e,n){t?gt(n,t,e):e()}function Ew(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let R=!1;ke(n(M,h++)).subscribe(he(e,F=>{i?.(F),s?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?gt(e,o,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(he(e,v,()=>{p=!0,m()})),()=>{a?.()}}function je(t,e,n=1/0){return ee(e)?je((r,i)=>ie((s,o)=>e(r,s,i,o))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>Ew(r,i,t,n)))}function es(t=1/0){return je(wt,t)}function Dw(){return es(1)}function ts(...t){return Dw()(Ae(t,or(t)))}function Tu(t){return new de(e=>{ke(t()).subscribe(e)})}function wf(...t){let e=du(t),{args:n,keys:r}=Du(t),i=new de(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;ke(n[h]).subscribe(he(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Cu(r,a):a),s.complete())}))}});return e?i.pipe(Eu(e)):i}function Rt(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ur(t){return ge((e,n)=>{let r=null,i=!1,s;r=e.subscribe(he(n,void 0,void 0,o=>{s=ke(t(o,ur(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Cw(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(he(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ns(t,e){return ee(e)?je(t,e,1):je(t,1)}function lr(t){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Sn(t){return t<=0?()=>Et:ge((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ef(t){return ie(()=>t)}function Su(t=UR){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function UR(){return new Tn}function Go(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function tn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,s)=>t(i,s,r)):wt,Sn(1),n?lr(e):Su(()=>new Tn))}function rs(t){return t<=0?()=>Et:ge((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Df(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,s)=>t(i,s,r)):wt,rs(1),n?lr(e):Su(()=>new Tn))}function Au(t,e){return ge(Cw(t,e,arguments.length>=2,!0))}function Ru(...t){let e=or(t);return ge((n,r)=>{(e?ts(t,n,e):ts(t,n)).subscribe(r)})}function qt(t,e){return ge((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=s++;ke(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Cf(t){return ge((e,n)=>{ke(t).subscribe(he(n,()=>n.complete(),qo)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(he(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var uE="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Rp(e,n)),this.code=e}};function Rp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ra(t){return{toString:t}.toString()}var Mu="__parameters__";function BR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function $R(t,e,n){return ra(()=>{let r=BR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Mu)?u[Mu]:Object.defineProperty(u,Mu,{value:[]})[Mu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Vf=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function HR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function bw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var qR=Ce({__forward_ref__:Ce});function ii(t){return t.__forward_ref__=ii,t.toString=function(){return ht(this())},t}function dt(t){return lE(t)?t():t}function lE(t){return typeof t=="function"&&t.hasOwnProperty(qR)&&t.__forward_ref__===ii}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function si(t){return{providers:t.providers||[],imports:t.imports||[]}}function ul(t){return Tw(t,hE)||Tw(t,fE)}function dE(t){return ul(t)!==null}function Tw(t,e){return t.hasOwnProperty(e)?t[e]:null}function zR(t){let e=t&&(t[hE]||t[fE]);return e||null}function Sw(t){return t&&(t.hasOwnProperty(Aw)||t.hasOwnProperty(GR))?t[Aw]:null}var hE=Ce({\u0275prov:Ce}),Aw=Ce({\u0275inj:Ce}),fE=Ce({ngInjectableDef:Ce}),GR=Ce({ngInjectorDef:Ce}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pE(t){return t&&!!t.\u0275providers}var WR=Ce({\u0275cmp:Ce}),KR=Ce({\u0275dir:Ce}),QR=Ce({\u0275pipe:Ce}),YR=Ce({\u0275mod:Ce}),Bu=Ce({\u0275fac:Ce}),Qo=Ce({__NG_ELEMENT_ID__:Ce}),Rw=Ce({__NG_ENV_ID__:Ce});function ll(t){return typeof t=="string"?t:t==null?"":String(t)}function ZR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ll(t)}function JR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Mp(t,e){throw new $(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),jf;function gE(){return jf}function Mt(t){let e=jf;return jf=t,e}function mE(t,e,n){let r=ul(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;Mp(t,"Injector")}var XR={},Yo=XR,Uf="__NG_DI_FLAG__",$u="ngTempTokenPath",eM="ngTokenPath",tM=/\n/gm,nM="\u0275",Mw="__source",as;function rM(){return as}function dr(t){let e=as;return as=t,e}function iM(t,e=oe.Default){if(as===void 0)throw new $(-203,!1);return as===null?mE(t,void 0,e):as.get(t,e&oe.Optional?null:void 0,e)}function ae(t,e=oe.Default){return(gE()||iM)(dt(t),e)}function k(t,e=oe.Default){return ae(t,dl(e))}function dl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bf(t){let e=[];for(let n=0;n<t.length;n++){let r=dt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=oM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ae(i,s))}else e.push(ae(r))}return e}function sM(t,e){return t[Uf]=e,t.prototype[Uf]=e,t}function oM(t){return t[Uf]}function aM(t,e,n,r){let i=t[$u];throw e[Mw]&&i.unshift(e[Mw]),t.message=cM(`
`+t.message,i,n,r),t[eM]=i,t[$u]=null,t}function cM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==nM?t.slice(2):t;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ht(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tM,`
  `)}`}var yt=sM($R("Optional"),8);function us(t,e){let n=t.hasOwnProperty(Bu);return n?t[Bu]:null}function uM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function lM(t){return t.flat(Number.POSITIVE_INFINITY)}function Np(t,e){t.forEach(n=>Array.isArray(n)?Np(n,e):e(n))}function yE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function hM(t,e,n){let r=ia(t,e);return r>=0?t[r|1]=n:(r=~r,dM(t,r,e,n)),r}function bf(t,e){let n=ia(t,e);if(n>=0)return t[n|1]}function ia(t,e){return fM(t,e,1)}function fM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ls={},Nt=[],ds=new U(""),vE=new U("",-1),_E=new U(""),qu=class{get(e,n=Yo){if(n===Yo){let r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return n}},IE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(IE||{}),sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sn||{}),pr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(pr||{});function pM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function $f(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];gM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function wE(t){return t===3||t===4||t===6}function gM(t){return t.charCodeAt(0)===64}function Zo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Nw(t,n,i,null,e[++r]):Nw(t,n,i,null,null))}}return t}function Nw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var EE="ng-template";function mM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&pM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(xp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function xp(t){return t.type===4&&t.value!==EE}function yM(t,e,n){let r=t.type===4&&!n?EE:t.value;return e===r}function vM(t,e,n){let r=4,i=t.attrs,s=i!==null?wM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!zt(r)&&!zt(u))return!1;if(o&&zt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!yM(t,u,n)||u===""&&e.length===1){if(zt(r))return!1;o=!0}}else if(r&8){if(i===null||!mM(t,i,u,n)){if(zt(r))return!1;o=!0}}else{let l=e[++a],h=_M(u,i,xp(t),n);if(h===-1){if(zt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(zt(r))return!1;o=!0}}}}return zt(r)||o}function zt(t){return(t&1)===0}function _M(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return EM(e,t)}function IM(t,e,n=!1){for(let r=0;r<e.length;r++)if(vM(t,e[r],n))return!0;return!1}function wM(t){for(let e=0;e<t.length;e++){let n=t[e];if(wE(n))return e}return t.length}function EM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xw(t,e){return t?":not("+e.trim()+")":e}function DM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!zt(o)&&(e+=xw(s,i),i=""),r=o,s=s||!zt(r);n++}return i!==""&&(e+=xw(s,i)),e}function CM(t){return t.map(DM).join(",")}function bM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!zt(i))break;i=s}r++}return{attrs:e,classes:n}}function vt(t){return ra(()=>{let e=SE(t),n=le(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===IE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sn.Emulated,styles:t.styles||Nt,_:null,schemas:t.schemas||null,tView:null,id:""});AE(n);let r=t.dependencies;return n.directiveDefs=Ow(r,!1),n.pipeDefs=Ow(r,!0),n.id=AM(n),n})}function TM(t){return Kr(t)||DE(t)}function SM(t){return t!==null}function oi(t){return ra(()=>({type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Pw(t,e){if(t==null)return ls;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=pr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==pr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Qe(t){return ra(()=>{let e=SE(t);return AE(e),e})}function Kr(t){return t[WR]||null}function DE(t){return t[KR]||null}function CE(t){return t[QR]||null}function bE(t){let e=Kr(t)||DE(t)||CE(t);return e!==null?e.standalone:!1}function TE(t,e){let n=t[YR]||null;if(!n&&e===!0)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return n}function SE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ls,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pw(t.inputs,e),outputs:Pw(t.outputs),debugInfo:null}}function AE(t){t.features?.forEach(e=>e(t))}function Ow(t,e){if(!t)return null;let n=e?CE:TM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(SM)}function AM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function un(t){return{\u0275providers:t}}function RM(...t){return{\u0275providers:RE(!0,t),\u0275fromNgModule:!0}}function RE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Np(e,o=>{let a=o;Hf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ME(i,s),n}function ME(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Pp(i,s=>{e(s,r)})}}function Hf(t,e,n,r){if(t=dt(t),!t)return!1;let i=null,s=Sw(t),o=!s&&Kr(t);if(!s&&!o){let u=t.ngModule;if(s=Sw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Hf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Np(s.imports,h=>{Hf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&ME(l,e)}if(!a){let l=us(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nt},i),e({provide:_E,useValue:i,multi:!0},i),e({provide:ds,useValue:()=>ae(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Pp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Pp(t,e){for(let n of t)pE(n)&&(n=n.\u0275providers),Array.isArray(n)?Pp(n,e):e(n)}var MM=Ce({provide:String,useValue:Ce});function NE(t){return t!==null&&typeof t=="object"&&MM in t}function NM(t){return!!(t&&t.useExisting)}function xM(t){return!!(t&&t.useFactory)}function hs(t){return typeof t=="function"}function PM(t){return!!t.useClass}var hl=new U(""),ku={},OM={},Tf;function Op(){return Tf===void 0&&(Tf=new qu),Tf}var Pt=class{},Jo=class extends Pt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zf(e,o=>this.processProvider(o)),this.records.set(vE,is(void 0,this)),i.has("environment")&&this.records.set(Pt,is(void 0,this));let s=this.records.get(hl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(_E,Nt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=dr(this),r=Mt(void 0),i;try{return e()}finally{dr(n),Mt(r)}}get(e,n=Yo,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Rw))return e[Rw](this);r=dl(r);let i,s=dr(this),o=Mt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=jM(e)&&ul(e);l&&this.injectableDefInScope(l)?u=is(qf(e),ku):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?Op():this.parent;return n=r&oe.Optional&&n===Yo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[$u]=a[$u]||[]).unshift(ht(e)),s)throw a;return aM(a,e,"R3InjectorError",this.source)}else throw a}finally{Mt(o),dr(s)}}resolveInjectorInitializers(){let e=ye(null),n=dr(this),r=Mt(void 0),i;try{let s=this.get(ds,Nt,oe.Self);for(let o of s)o()}finally{dr(n),Mt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=dt(e);let n=hs(e)?e:dt(e&&e.provide),r=FM(e);if(!hs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=is(void 0,ku,!0),i.factory=()=>Bf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===ku&&(n.value=OM,n.value=n.factory()),typeof n.value=="object"&&n.value&&VM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=dt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qf(t){let e=ul(t),n=e!==null?e.factory:us(t);if(n!==null)return n;if(t instanceof U)throw new $(204,!1);if(t instanceof Function)return kM(t);throw new $(204,!1)}function kM(t){if(t.length>0)throw new $(204,!1);let n=zR(t);return n!==null?()=>n.factory(t):()=>new t}function FM(t){if(NE(t))return is(void 0,t.useValue);{let e=xE(t);return is(e,ku)}}function xE(t,e,n){let r;if(hs(t)){let i=dt(t);return us(i)||qf(i)}else if(NE(t))r=()=>dt(t.useValue);else if(xM(t))r=()=>t.useFactory(...Bf(t.deps||[]));else if(NM(t))r=()=>ae(dt(t.useExisting));else{let i=dt(t&&(t.useClass||t.provide));if(LM(t))r=()=>new i(...Bf(t.deps));else return us(i)||qf(i)}return r}function is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function LM(t){return!!t.deps}function VM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function jM(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function zf(t,e){for(let n of t)Array.isArray(n)?zf(n,e):n&&pE(n)?zf(n.\u0275providers,e):e(n)}function xn(t,e){t instanceof Jo&&t.assertNotDestroyed();let n,r=dr(t),i=Mt(void 0);try{return e()}finally{dr(r),Mt(i)}}function UM(){return gE()!==void 0||rM()!=null}function BM(t){return typeof t=="function"}var Pn=0,se=1,Q=2,nt=3,Gt=4,Kt=5,zu=6,Gu=7,Wt=8,fs=9,on=10,Be=11,Xo=12,kw=13,Is=14,an=15,Qr=16,ss=17,An=18,fl=19,PE=20,hr=21,Sf=22,xt=23,gr=25,OE=1;var Yr=7,Wu=8,ps=9,Dt=10,Ku=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ku||{});function fr(t){return Array.isArray(t)&&typeof t[OE]=="object"}function On(t){return Array.isArray(t)&&t[OE]===!0}function kE(t){return(t.flags&4)!==0}function pl(t){return t.componentOffset>-1}function kp(t){return(t.flags&1)===1}function mr(t){return!!t.template}function Gf(t){return(t[Q]&512)!==0}var Wf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function FE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function kn(){return LE}function LE(t){return t.type.prototype.ngOnChanges&&(t.setInput=HM),$M}kn.ngInherit=!0;function $M(){let t=jE(this),e=t?.current;if(e){let n=t.previous;if(n===ls)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function HM(t,e,n,r,i){let s=this.declaredInputs[r],o=jE(t)||qM(t,{previous:ls,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Wf(l&&l.currentValue,n,u===ls),FE(t,e,i,n)}var VE="__ngSimpleChanges__";function jE(t){return t[VE]||null}function qM(t,e){return t[VE]=e}var Fw=null;var nn=function(t,e,n){Fw?.(t,e,n)},zM="svg",GM="math";function cn(t){for(;Array.isArray(t);)t=t[Pn];return t}function UE(t,e){return cn(e[t])}function Ot(t,e){return cn(e[t.index])}function BE(t,e){return t.data[e]}function vr(t,e){let n=e[t];return fr(n)?n:n[Pn]}function WM(t){return(t[Q]&4)===4}function Fp(t){return(t[Q]&128)===128}function KM(t){return On(t[nt])}function Qu(t,e){return e==null?null:t[e]}function $E(t){t[ss]=0}function HE(t){t[Q]&1024||(t[Q]|=1024,Fp(t)&&ml(t))}function QM(t,e){for(;t>0;)e=e[Is],t--;return e}function gl(t){return!!(t[Q]&9216||t[xt]?.dirty)}function Kf(t){t[on].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),gl(t)&&ml(t)}function ml(t){t[on].changeDetectionScheduler?.notify(0);let e=Zr(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Fp(e)));)e=Zr(e)}function qE(t,e){if((t[Q]&256)===256)throw new $(911,!1);t[hr]===null&&(t[hr]=[]),t[hr].push(e)}function YM(t,e){if(t[hr]===null)return;let n=t[hr].indexOf(e);n!==-1&&t[hr].splice(n,1)}function Zr(t){let e=t[nt];return On(e)?e[nt]:e}var ue={lFrame:XE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zE=!1;function ZM(){return ue.lFrame.elementDepthCount}function JM(){ue.lFrame.elementDepthCount++}function XM(){ue.lFrame.elementDepthCount--}function GE(){return ue.bindingsEnabled}function eN(){return ue.skipHydrationRootTNode!==null}function tN(t){return ue.skipHydrationRootTNode===t}function nN(){ue.skipHydrationRootTNode=null}function Ee(){return ue.lFrame.lView}function ft(){return ue.lFrame.tView}function kt(t){return ue.lFrame.contextLView=t,t[Wt]}function Ft(t){return ue.lFrame.contextLView=null,t}function rt(){let t=WE();for(;t!==null&&t.type===64;)t=t.parent;return t}function WE(){return ue.lFrame.currentTNode}function rN(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function sa(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function KE(){return ue.lFrame.isParent}function iN(){ue.lFrame.isParent=!1}function QE(){return zE}function Lw(t){zE=t}function sN(t){return ue.lFrame.bindingIndex=t}function yl(){return ue.lFrame.bindingIndex++}function oN(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function aN(){return ue.lFrame.inI18n}function cN(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Qf(e)}function uN(){return ue.lFrame.currentDirectiveIndex}function Qf(t){ue.lFrame.currentDirectiveIndex=t}function lN(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YE(){return ue.lFrame.currentQueryIndex}function Lp(t){ue.lFrame.currentQueryIndex=t}function dN(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[Kt]:null}function ZE(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=dN(s),i===null||(s=s[Is],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ue.lFrame=JE();return r.currentTNode=e,r.lView=t,!0}function Vp(t){let e=JE(),n=t[se];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JE(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?XE(t):e}function XE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eD(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tD=eD;function jp(){let t=eD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hN(t){return(ue.lFrame.contextLView=QM(t,ue.lFrame.contextLView))[Wt]}function ws(){return ue.lFrame.selectedIndex}function Jr(t){ue.lFrame.selectedIndex=t}function Up(){let t=ue.lFrame;return BE(t.tView,t.selectedIndex)}function fN(){return ue.lFrame.currentNamespace}var nD=!0;function Bp(){return nD}function $p(t){nD=t}function pN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=LE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Hp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Fu(t,e,n){rD(t,e,3,n)}function Lu(t,e,n,r){(t[Q]&3)===n&&rD(t,e,n,r)}function Af(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function rD(t,e,n,r){let i=r!==void 0?t[ss]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ss]+=65536),(a<s||s==-1)&&(gN(t,n,e,u),t[ss]=(t[ss]&4294901760)+u+2),u++}function Vw(t,e){nn(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),nn(5,t,e)}}function gN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[ss]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,Vw(a,s)):Vw(a,s)}var cs=-1,Xr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function mN(t){return t instanceof Xr}function yN(t){return(t.flags&8)!==0}function vN(t){return(t.flags&16)!==0}var Rf={},Yf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=dl(r);let i=this.injector.get(e,Rf,r);return i!==Rf||n===Rf?i:this.parentInjector.get(e,n,r)}};function iD(t){return t!==cs}function Yu(t){return t&32767}function _N(t){return t>>16}function Zu(t,e){let n=_N(t),r=e;for(;n>0;)r=r[Is],n--;return r}var Zf=!0;function jw(t){let e=Zf;return Zf=t,e}var IN=256,sD=IN-1,oD=5,wN=0,rn={};function EN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qo)&&(r=n[Qo]),r==null&&(r=n[Qo]=wN++);let i=r&sD,s=1<<i;e.data[t+(i>>oD)]|=s}function Ju(t,e){let n=aD(t,e);if(n!==-1)return n;let r=e[se];r.firstCreatePass&&(t.injectorIndex=e.length,Mf(r.data,t),Mf(e,null),Mf(r.blueprint,null));let i=qp(t,e),s=t.injectorIndex;if(iD(i)){let o=Yu(i),a=Zu(i,e),u=a[se].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Mf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function qp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=hD(i),r===null)return cs;if(n++,i=i[Is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return cs}function Jf(t,e,n){EN(t,e,n)}function DN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(wE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function cD(t,e,n){if(n&oe.Optional||t!==void 0)return t;Mp(e,"NodeInjector")}function uD(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[fs],s=Mt(void 0);try{return i?i.get(e,r,n&oe.Optional):mE(e,r,n&oe.Optional)}finally{Mt(s)}}return cD(r,e,n)}function lD(t,e,n,r=oe.Default,i){if(t!==null){if(e[Q]&2048&&!(r&oe.Self)){let o=SN(t,e,n,r,rn);if(o!==rn)return o}let s=dD(t,e,n,r,rn);if(s!==rn)return s}return uD(e,n,r,i)}function dD(t,e,n,r,i){let s=bN(n);if(typeof s=="function"){if(!ZE(e,t,r))return r&oe.Host?cD(i,n,r):uD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))Mp(n);else return o}finally{tD()}}else if(typeof s=="number"){let o=null,a=aD(t,e),u=cs,l=r&oe.Host?e[an][Kt]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?qp(t,e):e[a+8],u===cs||!Bw(r,!1)?a=-1:(o=e[se],a=Yu(u),e=Zu(u,e)));a!==-1;){let h=e[se];if(Uw(s,a,h.data)){let p=CN(a,e,n,o,r,l);if(p!==rn)return p}u=e[a+8],u!==cs&&Bw(r,e[se].data[a+8]===l)&&Uw(s,a,e)?(o=h,a=Yu(u),e=Zu(u,e)):a=-1}}return i}function CN(t,e,n,r,i,s){let o=e[se],a=o.data[t+8],u=r==null?pl(a)&&Zf:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,h=Vu(a,o,n,u,l);return h!==null?ei(e,o,h,a):rn}function Vu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&mr(v)&&v.type===n)return u}return null}function ei(t,e,n,r){let i=t[n],s=e.data;if(mN(i)){let o=i;o.resolving&&JR(ZR(s[n]));let a=jw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Mt(o.injectImpl):null,h=ZE(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&pN(n,s[n],e)}finally{l!==null&&Mt(l),jw(a),o.resolving=!1,tD()}}return i}function bN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qo)?t[Qo]:void 0;return typeof e=="number"?e>=0?e&sD:TN:e}function Uw(t,e,n){let r=1<<t;return!!(n[e+(t>>oD)]&r)}function Bw(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var Wr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lD(this._tNode,this._lView,e,dl(r),n)}};function TN(){return new Wr(rt(),Ee())}function Es(t){return ra(()=>{let e=t.prototype.constructor,n=e[Bu]||Xf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Bu]||Xf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xf(t){return lE(t)?()=>{let e=Xf(dt(t));return e&&e()}:us(t)}function SN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=dD(s,o,n,r|oe.Self,rn);if(a!==rn)return a;let u=s.parent;if(!u){let l=o[PE];if(l){let h=l.get(n,rn,r);if(h!==rn)return h}u=hD(o),o=o[Is]}s=u}return i}function hD(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[Kt]:null}function zp(t){return DN(rt(),t)}function $w(t,e=null,n=null,r){let i=fD(t,e,n,r);return i.resolveInjectorInitializers(),i}function fD(t,e=null,n=null,r,i=new Set){let s=[n||Nt,RM(t)];return r=r||(typeof t=="object"?void 0:ht(t)),new Jo(s,e||Op(),r||null,i)}var zr=class zr{static create(e,n){if(Array.isArray(e))return $w({name:""},n,e,"");{let r=e.name??"";return $w({name:r},e.parent,e.providers,r)}}};zr.THROW_IF_NOT_FOUND=Yo,zr.NULL=new qu,zr.\u0275prov=G({token:zr,providedIn:"any",factory:()=>ae(vE)}),zr.__NG_ELEMENT_ID__=-1;var mt=zr;var AN=new U("");AN.__NG_ELEMENT_ID__=t=>{let e=rt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new $(204,!1)};var RN="ngOriginalError";function Nf(t){return t[RN]}var pD=!0,gD=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ep=class extends gD{constructor(e){super(),this._lView=e}onDestroy(e){return qE(this._lView,e),()=>YM(this._lView,e)}};function MN(){return new ep(Ee())}var Ds=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var tp=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,UM()&&(this.destroyRef=k(gD,{optional:!0})??void 0,this.pendingTasks=k(Ds,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=tp;function Xu(...t){}function mD(t){let e,n;function r(){t=Xu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Hw(t){return queueMicrotask(()=>t()),()=>{t=Xu}}var Gp="isAngularZone",el=Gp+"_ID",NN=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=pD}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,ON(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,xN,Xu,Xu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},xN={};function Wp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function PN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mD(()=>{t.callbackScheduled=!1,np(t),t.isCheckStableRunning=!0,Wp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),np(t)}function ON(t){let e=()=>{PN(t)},n=NN++;t._inner=t._inner.fork({name:"angular",properties:{[Gp]:!0,[el]:n,[el+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(kN(u))return r.invokeTask(s,o,a,u);try{return qw(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zw(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return qw(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!FN(u)&&e(),zw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,np(t),Wp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function np(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zw(t){t._nesting--,Wp(t)}var rp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function kN(t){return yD(t,"__ignore_ng_zone__")}function FN(t){return yD(t,"__scheduler_tick__")}function yD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Rn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Nf(e);for(;n&&Nf(n);)n=Nf(n);return n||null}},LN=new U("",{providedIn:"root",factory:()=>{let t=k(we),e=k(Rn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function VN(){return Cs(rt(),Ee())}function Cs(t,e){return new Lt(Ot(t,e))}var Lt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=VN;let t=e;return t})();function jN(t){return t instanceof Lt?t.nativeElement:t}function UN(){return this._results[Symbol.iterator]()}var ip=class t{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=UN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=lM(e);(this._changesDetected=!uM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function vD(t){return(t.flags&128)===128}var _D=new Map,BN=0;function $N(){return BN++}function HN(t){_D.set(t[fl],t)}function sp(t){_D.delete(t[fl])}var Gw="__ngContext__";function ti(t,e){fr(e)?(t[Gw]=e[fl],HN(e)):t[Gw]=e}function ID(t){return ED(t[Xo])}function wD(t){return ED(t[Gt])}function ED(t){for(;t!==null&&!On(t);)t=t[Gt];return t}var op;function DD(t){op=t}function qN(){if(op!==void 0)return op;if(typeof document<"u")return document;throw new $(210,!1)}var Kp=new U("",{providedIn:"root",factory:()=>zN}),zN="ng",Qp=new U(""),_r=new U("",{providedIn:"platform",factory:()=>"unknown"});var Yp=new U("",{providedIn:"root",factory:()=>qN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var GN="h",WN="b";var KN=()=>null;function Zp(t,e,n=!1){return KN(t,e,n)}var CD=!1,QN=new U("",{providedIn:"root",factory:()=>CD});var Nu;function YN(){if(Nu===void 0&&(Nu=null,Vf.trustedTypes))try{Nu=Vf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nu}function Ww(t){return YN()?.createScriptURL(t)||t}var tl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uE})`}};function oa(t){return t instanceof tl?t.changingThisBreaksApplicationSecurity:t}function Jp(t,e){let n=ZN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${uE})`)}return n===e}function ZN(t){return t instanceof tl&&t.getTypeName()||null}var JN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bD(t){return t=String(t),t.match(JN)?t:"unsafe:"+t}var vl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vl||{});function XN(t){let e=SD();return e?e.sanitize(vl.URL,t)||"":Jp(t,"URL")?oa(t):bD(ll(t))}function ex(t){let e=SD();if(e)return Ww(e.sanitize(vl.RESOURCE_URL,t)||"");if(Jp(t,"ResourceURL"))return Ww(oa(t));throw new $(904,!1)}function tx(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?ex:XN}function TD(t,e,n){return tx(e,n)(t)}function SD(){let t=Ee();return t&&t[on].sanitizer}function AD(t){return t instanceof Function?t():t}var Mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mn||{}),nx;function Xp(t,e){return nx(t,e)}function os(t,e,n,r,i){if(r!=null){let s,o=!1;On(r)?s=r:fr(r)&&(o=!0,r=r[Pn]);let a=cn(r);t===0&&n!==null?i==null?PD(e,n,a):nl(e,n,a,i||null,!0):t===1&&n!==null?nl(e,n,a,i||null,!0):t===2?yx(e,a,o):t===3&&e.destroyNode(a),s!=null&&_x(e,t,s,n,i)}}function rx(t,e){return t.createText(e)}function ix(t,e,n){t.setValue(e,n)}function RD(t,e,n){return t.createElement(e,n)}function sx(t,e){MD(t,e),e[Pn]=null,e[Kt]=null}function ox(t,e,n,r,i,s){r[Pn]=i,r[Kt]=e,_l(t,r,n,1,i,s)}function MD(t,e){e[on].changeDetectionScheduler?.notify(9),_l(t,e,e[Be],2,null,null)}function ax(t){let e=t[Xo];if(!e)return xf(t[se],t);for(;e;){let n=null;if(fr(e))n=e[Xo];else{let r=e[Dt];r&&(n=r)}if(!n){for(;e&&!e[Gt]&&e!==t;)fr(e)&&xf(e[se],e),e=e[nt];e===null&&(e=t),fr(e)&&xf(e[se],e),n=e&&e[Gt]}e=n}}function cx(t,e,n,r){let i=Dt+r,s=n.length;r>0&&(n[i-1][Gt]=e),r<s-Dt?(e[Gt]=n[i],yE(n,Dt+r,e)):(n.push(e),e[Gt]=null),e[nt]=n;let o=e[Qr];o!==null&&n!==o&&ND(o,e);let a=e[An];a!==null&&a.insertView(t),Kf(e),e[Q]|=128}function ND(t,e){let n=t[ps],r=e[nt];if(fr(r))t[Q]|=Ku.HasTransplantedViews;else{let i=r[nt][an];e[an]!==i&&(t[Q]|=Ku.HasTransplantedViews)}n===null?t[ps]=[e]:n.push(e)}function eg(t,e){let n=t[ps],r=n.indexOf(e);n.splice(r,1)}function ap(t,e){if(t.length<=Dt)return;let n=Dt+e,r=t[n];if(r){let i=r[Qr];i!==null&&i!==t&&eg(i,r),e>0&&(t[n-1][Gt]=r[Gt]);let s=Hu(t,Dt+e);sx(r[se],r);let o=s[An];o!==null&&o.detachView(s[se]),r[nt]=null,r[Gt]=null,r[Q]&=-129}return r}function xD(t,e){if(!(e[Q]&256)){let n=e[Be];n.destroyNode&&_l(t,e,n,3,null,null),ax(e)}}function xf(t,e){if(e[Q]&256)return;let n=ye(null);try{e[Q]&=-129,e[Q]|=256,e[xt]&&of(e[xt]),lx(t,e),ux(t,e),e[se].type===1&&e[Be].destroy();let r=e[Qr];if(r!==null&&On(e[nt])){r!==e[nt]&&eg(r,e);let i=e[An];i!==null&&i.detachView(t)}sp(e)}finally{ye(n)}}function ux(t,e){let n=t.cleanup,r=e[Gu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Gu]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function lx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Xr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];nn(4,a,u);try{u.call(a)}finally{nn(5,a,u)}}else{nn(4,i,s);try{s.call(i)}finally{nn(5,i,s)}}}}}function dx(t,e,n){return hx(t,e.parent,n)}function hx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===sn.None||s===sn.Emulated)return null}return Ot(r,n)}}function nl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PD(t,e,n){t.appendChild(e,n)}function Kw(t,e,n,r,i){r!==null?nl(t,e,n,r,i):PD(t,e,n)}function OD(t,e){return t.parentNode(e)}function fx(t,e){return t.nextSibling(e)}function px(t,e,n){return mx(t,e,n)}function gx(t,e,n){return t.type&40?Ot(t,n):null}var mx=gx,Qw;function tg(t,e,n,r){let i=dx(t,r,e),s=e[Be],o=r.parent||e[Kt],a=px(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Kw(s,i,n[u],a,!1);else Kw(s,i,n,a,!1);Qw!==void 0&&Qw(s,r,e,n,i)}function Wo(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return cp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Wo(t,r);{let i=t[e.index];return On(i)?cp(-1,i):cn(i)}}else{if(n&128)return Wo(t,e.next);if(n&32)return Xp(e,t)()||cn(t[e.index]);{let r=kD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zr(t[an]);return Wo(i,r)}else return Wo(t,e.next)}}}return null}function kD(t,e){if(e!==null){let r=t[an][Kt],i=e.projection;return r.projection[i]}return null}function cp(t,e){let n=Dt+t+1;if(n<e.length){let r=e[n],i=r[se].firstChild;if(i!==null)return Wo(r,i)}return e[Yr]}function yx(t,e,n){t.removeChild(null,e,n)}function ng(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&ti(cn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)ng(t,e,n.child,r,i,s,!1),os(e,t,i,a,s);else if(u&32){let l=Xp(n,r),h;for(;h=l();)os(e,t,i,h,s);os(e,t,i,a,s)}else u&16?vx(t,e,r,n,i,s):os(e,t,i,a,s);n=o?n.projectionNext:n.next}}function _l(t,e,n,r,i,s){ng(n,r,t.firstChild,e,i,s,!1)}function vx(t,e,n,r,i,s){let o=n[an],u=o[Kt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];os(e,t,i,h,s)}else{let l=u,h=o[nt];vD(r)&&(l.flags|=128),ng(t,e,l,h,i,s,!0)}}function _x(t,e,n,r,i){let s=n[Yr],o=cn(n);s!==o&&os(e,t,r,s,i);for(let a=Dt;a<n.length;a++){let u=n[a];_l(u[se],u,t,e,r,s)}}function Ix(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Mn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Mn.Important),t.setStyle(n,r,i,s))}}function wx(t,e,n){t.setAttribute(e,"style",n)}function FD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function LD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&$f(t,e,r),i!==null&&FD(t,e,i),s!==null&&wx(t,e,s)}var bs={};function Vt(t=1){VD(ft(),Ee(),ws()+t,!1)}function VD(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Fu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Lu(e,s,0,n)}Jr(n)}function te(t,e=oe.Default){let n=Ee();if(n===null)return ae(t,e);let r=rt();return lD(r,n,dt(t),e)}function jD(t,e,n,r,i,s){let o=ye(null);try{let a=null;i&pr.SignalBased&&(a=e[r][bn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&pr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):FE(e,a,r,s)}finally{ye(o)}}function Ex(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Jr(~i);else{let s=i,o=n[++r],a=n[++r];cN(o,s);let u=e[s];a(2,u)}}}finally{Jr(-1)}}function Il(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Pn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),$E(p),p[nt]=p[Is]=t,p[Wt]=n,p[on]=o||t&&t[on],p[Be]=a||t&&t[Be],p[fs]=u||t&&t[fs]||null,p[Kt]=s,p[fl]=$N(),p[zu]=h,p[PE]=l,p[an]=e.type==2?t[an]:p,p}function wl(t,e,n,r,i){let s=t.data[e];if(s===null)s=Dx(t,e,n,r,i),aN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=rN();s.injectorIndex=o===null?-1:o.injectorIndex}return sa(s,!0),s}function Dx(t,e,n,r,i){let s=WE(),o=KE(),a=o?s:s&&s.parent,u=t.data[e]=Rx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function UD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BD(t,e,n,r,i){let s=ws(),o=r&2;try{Jr(-1),o&&e.length>gr&&VD(t,e,gr,!1),nn(o?2:0,i),n(r,i)}finally{Jr(s),nn(o?3:1,i)}}function $D(t,e,n){if(kE(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{ye(r)}}}function HD(t,e,n){GE()&&(kx(t,e,n,Ot(n,e)),(n.flags&64)===64&&QD(t,e,n))}function qD(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function zD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=rg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function rg(t,e,n,r,i,s,o,a,u,l,h){let p=gr+r,m=p+i,v=Cx(p,m),S=typeof l=="function"?l():l;return v[se]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function Cx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:bs);return n}function bx(t,e,n,r){let s=r.get(QN,CD)||n===sn.ShadowDom,o=t.selectRootElement(e,s);return Tx(o),o}function Tx(t){Sx(t)}var Sx=()=>null;function Ax(t,e,n,r){let i=JD(e);i.push(n),t.firstCreatePass&&XD(t).push(r,i.length-1)}function Rx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return eN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=pr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Zw(r,n,l,a,u):Zw(r,n,l,a)}return r}function Zw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Mx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=Yw(0,p.inputs,h,u,v),l=Yw(1,p.outputs,h,l,S);let M=u!==null&&o!==null&&!xp(e)?Gx(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Nx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function GD(t,e,n,r,i,s,o,a){let u=Ot(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(ig(t,n,h,r,i),pl(e)&&xx(n,e.index)):e.type&3?(r=Nx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function xx(t,e){let n=vr(e,t);n[Q]&16||(n[Q]|=64)}function WD(t,e,n,r){if(GE()){let i=r===null?null:{"":-1},s=Lx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&KD(t,e,n,o,i,a),i&&Vx(n,r,i)}n.mergedAttrs=Zo(n.mergedAttrs,n.attrs)}function KD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Jf(Ju(n,e),t,r[l].type);Ux(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=UD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Zo(n.mergedAttrs,h.hostAttrs),Bx(t,n,e,u,h),jx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Mx(t,n,s)}function Px(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Ox(o)!=a&&o.push(a),o.push(n,r,s)}}function Ox(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function kx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;pl(n)&&$x(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ju(n,e),ti(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=ei(e,t,a,n);if(ti(l,e),o!==null&&zx(e,a-i,l,u,n,o),mr(u)){let h=vr(n.index,e);h[Wt]=ei(e,t,a,n)}}}function QD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=uN();try{Jr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Qf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Fx(u,l)}}finally{Jr(-1),Qf(o)}}function Fx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Lx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(IM(e,o.selectors,!1))if(r||(r=[]),mr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;up(t,e,u)}else r.unshift(o),up(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function up(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Vx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function jx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mr(e)&&(n[""]=t)}}function Ux(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Bx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=us(i.type,!0)),o=new Xr(s,mr(i),te);t.blueprint[r]=o,n[r]=o,Px(t,e,r,UD(t,n,i.hostVars,bs),i)}function $x(t,e,n){let r=Ot(e,t),i=zD(n),s=t[on].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=El(t,Il(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Hx(t,e,n,r,i,s){let o=Ot(t,e);qx(e[Be],o,s,t.value,n,r,i)}function qx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ll(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function zx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];jD(r,n,u,l,h,p)}}function Gx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function YD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ZD(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Lp(s),a.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function El(t,e){return t[Xo]?t[kw][Gt]=e:t[Xo]=e,t[kw]=e,e}function lp(t,e,n){Lp(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function JD(t){return t[Gu]??=[]}function XD(t){return t.cleanup??=[]}function eC(t,e){let n=t[fs],r=n?n.get(Rn,null):null;r&&r.handleError(e)}function ig(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];jD(h,l,r,a,u,i)}}function Wx(t,e,n){let r=UE(e,t);ix(t[Be],r,n)}function Kx(t,e){let n=vr(e,t),r=n[se];Qx(r,n);let i=n[Pn];i!==null&&n[zu]===null&&(n[zu]=Zp(i,n[fs])),sg(r,n,n[Wt])}function Qx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function sg(t,e,n){Vp(e);try{let r=t.viewQuery;r!==null&&lp(1,r,n);let i=t.template;i!==null&&BD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[An]?.finishViewCreation(t),t.staticContentQueries&&ZD(t,e),t.staticViewQueries&&lp(2,t.viewQuery,n);let s=t.components;s!==null&&Yx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,jp()}}function Yx(t,e){for(let n=0;n<e.length;n++)Kx(t,e[n])}function Zx(t,e,n,r){let i=ye(null);try{let s=e.tView,a=t[Q]&4096?4096:16,u=Il(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Qr]=l;let h=t[An];return h!==null&&(u[An]=h.createEmbeddedView(s)),sg(s,u,n),u}finally{ye(i)}}function Jw(t,e){return!e||e.firstChild===null||vD(t)}function Jx(t,e,n,r=!0){let i=e[se];if(cx(i,e,t,n),r){let o=cp(n,t),a=e[Be],u=OD(a,t[Yr]);u!==null&&ox(i,t[Kt],a,e,u,o)}let s=e[zu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function rl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(cn(s)),On(s)&&Xx(s,r);let o=n.type;if(o&8)rl(t,e,n.child,r);else if(o&32){let a=Xp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=kD(e,n);if(Array.isArray(a))r.push(...a);else{let u=Zr(e[an]);rl(u[se],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Xx(t,e){for(let n=Dt;n<t.length;n++){let r=t[n],i=r[se].firstChild;i!==null&&rl(r[se],r,i,e)}t[Yr]!==t[Pn]&&e.push(t[Yr])}var tC=[];function eP(t){return t[xt]??tP(t)}function tP(t){let e=tC.pop()??Object.create(rP);return e.lView=t,e}function nP(t){t.lView[xt]!==t&&(t.lView=null,tC.push(t))}var rP=le(O({},Ho),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ml(t.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function iP(t){let e=t[xt]??Object.create(sP);return e.lView=t,e}var sP=le(O({},Ho),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Zr(t.lView);for(;e&&!nC(e[se]);)e=Zr(e);e&&HE(e)},consumerOnSignalRead(){this.lView[xt]=this}});function nC(t){return t.type!==2}var oP=100;function rC(t,e=!0,n=0){let r=t[on],i=r.rendererFactory,s=!1;s||i.begin?.();try{aP(t,n)}catch(o){throw e&&eC(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function aP(t,e){let n=QE();try{Lw(!0),dp(t,e);let r=0;for(;gl(t);){if(r===oP)throw new $(103,!1);r++,dp(t,1)}}finally{Lw(n)}}function cP(t,e,n,r){let i=e[Q];if((i&256)===256)return;let s=!1,o=!1;!s&&e[on].inlineEffectRunner?.flush(),Vp(e);let a=!0,u=null,l=null;s||(nC(t)?(l=eP(e),u=Xc(l)):BI()===null?(a=!1,l=iP(e),u=Xc(l)):e[xt]&&(of(e[xt]),e[xt]=null));try{$E(e),sN(t.bindingStartIndex),n!==null&&BD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&Fu(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Lu(e,v,0,null),Af(e,0)}if(o||uP(e),iC(e,0),t.contentQueries!==null&&ZD(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&Fu(e,v)}else{let v=t.contentHooks;v!==null&&Lu(e,v,1),Af(e,1)}Ex(t,e);let p=t.components;p!==null&&oC(e,p,0);let m=t.viewQuery;if(m!==null&&lp(2,m,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&Fu(e,v)}else{let v=t.viewHooks;v!==null&&Lu(e,v,2),Af(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Sf]){for(let v of e[Sf])v();e[Sf]=null}s||(e[Q]&=-73)}catch(h){throw s||ml(e),h}finally{l!==null&&(rf(l,u),a&&nP(l)),jp()}}function iC(t,e){for(let n=ID(t);n!==null;n=wD(n))for(let r=Dt;r<n.length;r++){let i=n[r];sC(i,e)}}function uP(t){for(let e=ID(t);e!==null;e=wD(e)){if(!(e[Q]&Ku.HasTransplantedViews))continue;let n=e[ps];for(let r=0;r<n.length;r++){let i=n[r];HE(i)}}}function lP(t,e,n){let r=vr(e,t);sC(r,n)}function sC(t,e){Fp(t)&&dp(t,e)}function dp(t,e){let r=t[se],i=t[Q],s=t[xt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&sf(s)),o||=!1,s&&(s.dirty=!1),t[Q]&=-9217,o)cP(r,t,r.template,t[Wt]);else if(i&8192){iC(t,1);let a=r.components;a!==null&&oC(t,a,1)}}function oC(t,e,n){for(let r=0;r<e.length;r++)lP(t,e[r],n)}function og(t,e){let n=QE()?64:1088;for(t[on].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=Zr(t);if(Gf(t)&&!r)return t;t=r}return null}var ni=class{get rootNodes(){let e=this._lView,n=e[se];return rl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(On(e)){let n=e[Wu],r=n?n.indexOf(this):-1;r>-1&&(ap(e,r),Hu(n,r))}this._attachedToViewContainer=!1}xD(this._lView[se],this._lView)}onDestroy(e){qE(this._lView,e)}markForCheck(){og(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Kf(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,rC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Gf(this._lView),n=this._lView[Qr];n!==null&&!e&&eg(n,this._lView),MD(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Gf(this._lView),r=this._lView[Qr];r!==null&&!n&&ND(r,this._lView),Kf(this._lView)}},gs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fP;let t=e;return t})(),dP=gs,hP=class extends dP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Zx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ni(i)}};function fP(){return ag(rt(),Ee())}function ag(t,e){return t.type&4?new hP(e,t,Cs(t,e)):null}var y3=new RegExp(`^(\\d+)*(${WN}|${GN})*(.*)`);var pP=()=>null;function Xw(t,e){return pP(t,e)}var ms=class{},cg=new U("",{providedIn:"root",factory:()=>!1});var aC=new U(""),cC=new U(""),hp=class{},il=class{};function gP(t){let e=Error(`No component factory found for ${ht(t)}.`);return e[mP]=t,e}var mP="ngComponent";var fp=class{resolveComponentFactory(e){throw gP(e)}},mg=class mg{};mg.NULL=new fp;var ys=mg,vs=class{},Ir=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>yP();let t=e;return t})();function yP(){let t=Ee(),e=rt(),n=vr(e.index,t);return(fr(n)?n:t)[Be]}var vP=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function pp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=bw(i,a);else if(s==2){let u=a,l=e[++o];r=bw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var sl=class extends ys{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kr(e);return new ea(n,this.ngModule)}};function eE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:pr.None;e?n.push({propName:o,templateName:r,isSignal:(a&pr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function _P(t){let e=t.toLowerCase();return e==="svg"?zM:e==="math"?GM:null}var ea=class extends il{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=eE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return eE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof Pt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Yf(e,o):e,u=a.get(vs,null);if(u===null)throw new $(407,!1);let l=a.get(vP,null),h=a.get(ms,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?bx(m,r,this.componentDef.encapsulation,a):RD(m,v,_P(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=Zp(S,a,!0));let F=rg(0,null,null,1,0,null,null,null,null,null,null),B=Il(null,F,null,M,null,null,p,m,a,null,R);Vp(B);let z,ce,Re=null;try{let X=this.componentDef,D,y=null;X.findHostDirectiveDefs?(D=[],y=new Map,X.findHostDirectiveDefs(X,D,y),D.push(X)):D=[X];let _=IP(B,S);Re=wP(_,S,X,D,B,p,m),ce=BE(F,gr),S&&CP(m,X,S,r),n!==void 0&&bP(ce,this.ngContentSelectors,n),z=DP(Re,X,D,y,B,[TP]),sg(F,B,null)}catch(X){throw Re!==null&&sp(Re),sp(B),X}finally{jp()}return new gp(this.componentType,z,Cs(ce,B),B,ce)}finally{ye(s)}}},gp=class extends hp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ni(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;ig(s[se],s,i,e,n),this.previousInputValues.set(e,n);let o=vr(this._tNode.index,s);og(o,1)}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function IP(t,e){let n=t[se],r=gr;return t[r]=e,wl(n,r,2,"#host",null)}function wP(t,e,n,r,i,s,o){let a=i[se];EP(r,t,e,o);let u=null;e!==null&&(u=Zp(e,i[fs]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Il(i,zD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&up(a,t,r.length-1),El(i,p),i[t.index]=p}function EP(t,e,n,r){for(let i of t)e.mergedAttrs=Zo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pp(e,e.mergedAttrs,!0),n!==null&&LD(r,n,e))}function DP(t,e,n,r,i,s){let o=rt(),a=i[se],u=Ot(o,i);KD(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=ei(i,a,p,o);ti(m,i)}QD(a,i,o),u&&ti(u,i);let l=ei(i,a,o.directiveStart+o.componentOffset,o);if(t[Wt]=i[Wt]=l,s!==null)for(let h of s)h(l,e);return $D(a,o,i),l}function CP(t,e,n,r){if(r)$f(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:s}=bM(e.selectors[0]);i&&$f(t,n,i),s&&s.length>0&&FD(t,n,s.join(" "))}}function bP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function TP(){let t=rt();Hp(Ee()[se],t)}var ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SP;let t=e;return t})();function SP(){let t=rt();return lC(t,Ee())}var AP=ai,uC=class extends AP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let e=qp(this._hostTNode,this._hostLView);if(iD(e)){let n=Zu(e,this._hostLView),r=Yu(e),i=n[se].data[r+8];return new Wr(i,n)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=tE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Xw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Jw(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!BM(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new ea(Kr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(Pt,null);M&&(s=M)}let h=Kr(u.componentType??{}),p=Xw(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,Jw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(KM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[nt],l=new uC(u,u[Kt],u[nt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Jx(o,i,s,r),e.attachToViewContainerRef(),yE(Pf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=tE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ap(this._lContainer,n);r&&(Hu(Pf(this._lContainer),n),xD(r[se],r))}detach(e){let n=this._adjustIndex(e,-1),r=ap(this._lContainer,n);return r&&Hu(Pf(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function tE(t){return t[Wu]}function Pf(t){return t[Wu]||(t[Wu]=[])}function lC(t,e){let n,r=e[t.index];return On(r)?n=r:(n=YD(r,e,null,t),e[t.index]=n,El(e,n)),MP(n,e,t,r),new uC(n,t,e)}function RP(t,e){let n=t[Be],r=n.createComment(""),i=Ot(e,t),s=OD(n,i);return nl(n,s,r,fx(n,i),!1),r}var MP=PP,NP=()=>!1;function xP(t,e,n){return NP(t,e,n)}function PP(t,e,n,r){if(t[Yr])return;let i;n.type&8?i=cn(r):i=RP(e,n),t[Yr]=i}var mp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},yp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ug(e,n).matches!==null&&this.queries[n].setDirty()}},vp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=BP(e):this.predicate=e}},_p=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ip=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,OP(n,s)),this.matchTNodeWithReadOption(e,n,Vu(n,e,s,!1,!1))}else r===gs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Vu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Lt||i===ai||i===gs&&n.type&4)this.addMatch(n.index,-2);else{let s=Vu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function OP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function kP(t,e){return t.type&11?Cs(t,e):t.type&4?ag(t,e):null}function FP(t,e,n,r){return n===-1?kP(e,t):n===-2?LP(t,e,r):ei(t,t[se],n,e)}function LP(t,e,n){if(n===Lt)return Cs(e,t);if(n===gs)return ag(e,t);if(n===ai)return lC(e,t)}function dC(t,e,n,r){let i=e[An].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(FP(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function wp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=dC(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=Dt;p<h.length;p++){let m=h[p];m[Qr]===m[nt]&&wp(m[se],m,l,r)}if(h[ps]!==null){let p=h[ps];for(let m=0;m<p.length;m++){let v=p[m];wp(v[se],v,l,r)}}}}}return r}function VP(t,e){return t[An].queries[e].queryList}function jP(t,e,n){let r=new ip((n&4)===4);return Ax(t,e,r,r.destroy),(e[An]??=new yp).queries.push(new mp(r))-1}function UP(t,e,n,r){let i=ft();if(i.firstCreatePass){let s=rt();$P(i,new vp(e,n,r),s.index),HP(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return jP(i,Ee(),n)}function BP(t){return t.split(",").map(e=>e.trim())}function $P(t,e,n){t.queries===null&&(t.queries=new _p),t.queries.track(new Ip(e,n))}function HP(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function ug(t,e){return t.queries.getByIndex(e)}function qP(t,e){let n=t[se],r=ug(n,e);return r.crossesNgTemplate?wp(n,t,e,[]):dC(n,t,r,e)}var nE=new Set;function aa(t){nE.has(t)||(nE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function zP(t){return typeof t=="function"&&t[bn]!==void 0}function ca(t,e){aa("NgSignals");let n=JI(t),r=n[bn];return e?.equal&&(r.equal=e.equal),n.set=i=>af(r,i),n.update=i=>XI(r,i),n.asReadonly=GP.bind(n),n}function GP(){let t=this[bn];if(t.readonlyFn===void 0){let e=()=>this();e[bn]=t,t.readonlyFn=e}return t.readonlyFn}function hC(t){return zP(t)&&typeof t.set=="function"}function WP(t){return Object.getPrototypeOf(t.prototype).constructor}function Fn(t){let e=WP(t.type),n=!0,r=[t];for(;e;){let i;if(mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=xu(t.inputs),o.inputTransforms=xu(t.inputTransforms),o.declaredInputs=xu(t.declaredInputs),o.outputs=xu(t.outputs);let a=i.hostBindings;a&&JP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&YP(t,u),l&&ZP(t,l),KP(t,i),HR(t.outputs,i.outputs),mr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Fn&&(n=!1)}}e=Object.getPrototypeOf(e)}QP(r)}function KP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function QP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zo(i.hostAttrs,n=Zo(n,i.hostAttrs))}}function xu(t){return t===ls?{}:t===Nt?[]:t}function YP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function ZP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function JP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function lg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var yr=class{},ta=class{};var Ep=class extends yr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sl(this);let s=TE(e);this._bootstrapComponents=AD(s.bootstrap),this._r3Injector=fD(e,n,[{provide:yr,useValue:this},{provide:ys,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Dp=class extends ta{constructor(e){super(),this.moduleType=e}create(e){return new Ep(this.moduleType,e,[])}};var ol=class extends yr{constructor(e){super(),this.componentFactoryResolver=new sl(this),this.instance=null;let n=new Jo([...e.providers,{provide:yr,useValue:this},{provide:ys,useValue:this.componentFactoryResolver}],e.parent||Op(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function dg(t,e,n=null){return new ol({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ua(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function XP(t){return(t.flags&32)===32}function eO(t,e,n,r,i,s,o,a,u){let l=e.consts,h=wl(e,t,4,o||null,a||null);WD(e,n,h,Qu(l,u)),Hp(e,h);let p=h.tView=rg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function tO(t,e,n,r,i,s,o,a,u,l){let h=n+gr,p=e.firstCreatePass?eO(h,e,t,r,i,s,o,a,u):e.data[h];sa(p,!1);let m=nO(e,t,p,n);Bp()&&tg(e,t,m,p),ti(m,t);let v=YD(m,t,m,p);return t[h]=v,El(t,v),xP(v,p,t),kp(p)&&HD(e,t,p),u!=null&&qD(t,p,l),p}function la(t,e,n,r,i,s,o,a){let u=Ee(),l=ft(),h=Qu(l.consts,s);return tO(u,l,t,e,n,r,i,h,o,a),la}var nO=rO;function rO(t,e,n,r){return $p(!0),e[Be].createComment("")}var Ko=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ko||{}),iO=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Gr=class Gr{constructor(){this.ngZone=k(we),this.scheduler=k(ms),this.errorHandler=k(Rn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Gr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Gr.PHASES=[Ko.EarlyRead,Ko.Write,Ko.MixedReadWrite,Ko.Read],Gr.\u0275prov=G({token:Gr,providedIn:"root",factory:()=>new Gr});var rE=Gr;function da(t,e,n,r){let i=Ee(),s=yl();if(ua(i,s,e)){let o=ft(),a=Up();Hx(a,i,t,e,n,r)}return da}function sO(t,e,n,r){return ua(t,yl(),n)?e+ll(n)+r:bs}function Pu(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function oO(t){return(t&2)==2}function aO(t,e){return t&131071|e<<17}function Cp(t){return t|2}function _s(t){return(t&131068)>>2}function Of(t,e){return t&-131069|e<<2}function cO(t){return(t&1)===1}function bp(t){return t|1}function uO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ri(o),u=_s(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ia(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ri(t[a+1]);t[r+1]=Pu(m,a),m!==0&&(t[m+1]=Of(t[m+1],r)),t[a+1]=aO(t[a+1],r)}else t[r+1]=Pu(a,0),a!==0&&(t[a+1]=Of(t[a+1],r)),a=r;else t[r+1]=Pu(u,0),a===0?a=r:t[u+1]=Of(t[u+1],r),u=r;l&&(t[r+1]=Cp(t[r+1])),iE(t,h,r,!0),iE(t,h,r,!1),lO(e,h,t,r,s),o=Pu(a,u),s?e.classBindings=o:e.styleBindings=o}function lO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ia(s,e)>=0&&(n[r+1]=bp(n[r+1]))}function iE(t,e,n,r){let i=t[n+1],s=e===null,o=r?ri(i):_s(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];dO(u,e)&&(a=!0,t[o+1]=r?bp(l):Cp(l)),o=r?ri(l):_s(l)}a&&(t[n+1]=r?Cp(i):bp(i))}function dO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ia(t,e)>=0:!1}function Ts(t,e,n){let r=Ee(),i=yl();if(ua(r,i,e)){let s=ft(),o=Up();GD(s,o,r,t,e,r[Be],n,!1)}return Ts}function sE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";ig(t,n,s[o],o,r)}function Dl(t,e){return hO(t,e,null,!0),Dl}function hO(t,e,n,r){let i=Ee(),s=ft(),o=oN(2);if(s.firstUpdatePass&&pO(s,t,o,r),e!==bs&&ua(i,o,e)){let a=s.data[ws()];_O(s,a,i,i[Be],t,i[o+1]=IO(e,n),r,o)}}function fO(t,e){return e>=t.expandoStartIndex}function pO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ws()],o=fO(t,n);wO(s,r)&&e===null&&!o&&(e=!1),e=gO(i,s,e,r),uO(i,s,e,n,o,r)}}function gO(t,e,n,r){let i=lN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=kf(null,t,e,n,r),n=na(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=kf(i,t,e,n,r),s===null){let u=mO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=kf(null,t,e,u[1],r),u=na(u,e.attrs,r),yO(t,e,r,u))}else s=vO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function mO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(_s(r)!==0)return t[ri(r)]}function yO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ri(i)]=r}function vO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=na(r,o,n)}return na(r,e.attrs,n)}function kf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=na(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function na(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),hM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function _O(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=cO(l)?oE(u,e,n,i,_s(l),o):void 0;if(!al(h)){al(s)||oO(l)&&(s=oE(u,null,n,i,a,o));let p=UE(ws(),n);Ix(r,o,p,i,s)}}function oE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===bs&&(m=p?Nt:void 0);let v=p?bf(m,r):h===r?m:void 0;if(l&&!al(v)&&(v=bf(u,r)),al(v)&&(a=v,o))return a;let S=t[i+1];i=o?ri(S):_s(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=bf(u,r))}return a}function al(t){return t!==void 0}function IO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ht(oa(t)))),t}function wO(t,e){return(t.flags&(e?8:16))!==0}function EO(t,e,n,r,i,s){let o=e.consts,a=Qu(o,i),u=wl(e,t,2,r,a);return WD(e,n,u,Qu(o,s)),u.attrs!==null&&pp(u,u.attrs,!1),u.mergedAttrs!==null&&pp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function V(t,e,n,r){let i=Ee(),s=ft(),o=gr+t,a=i[Be],u=s.firstCreatePass?EO(o,s,i,e,n,r):s.data[o],l=DO(s,i,u,a,e,t);i[o]=l;let h=kp(u);return sa(u,!0),LD(a,l,u),!XP(u)&&Bp()&&tg(s,i,l,u),ZM()===0&&ti(l,i),JM(),h&&(HD(s,i,u),$D(s,u,i)),r!==null&&qD(i,u),V}function H(){let t=rt();KE()?iN():(t=t.parent,sa(t,!1));let e=t;tN(e)&&nN(),XM();let n=ft();return n.firstCreatePass&&(Hp(n,t),kE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&yN(e)&&sE(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&vN(e)&&sE(n,e,Ee(),e.stylesWithoutHost,!1),H}function pt(t,e,n,r){return V(t,e,n,r),H(),pt}var DO=(t,e,n,r,i,s)=>($p(!0),RD(r,i,fN()));function Cl(){return Ee()}var cl="en-US";var CO=cl;function bO(t){typeof t=="string"&&(CO=t.toLowerCase().replace(/_/g,"-"))}var TO=(t,e,n)=>{};function it(t,e,n,r){let i=Ee(),s=ft(),o=rt();return fC(s,i,i[Be],o,t,e,r),it}function SO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Gu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function fC(t,e,n,r,i,s,o){let a=kp(r),l=t.firstCreatePass&&XD(t),h=e[Wt],p=JD(e),m=!0;if(r.type&3||o){let M=Ot(r,e),R=o?o(M):M,F=p.length,B=o?ce=>o(cn(ce[r.index])):r.index,z=null;if(!o&&a&&(z=SO(t,e,i,r.index)),z!==null){let ce=z.__ngLastListenerFn__||z;ce.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,m=!1}else{s=cE(r,e,h,s),TO(M,i,s);let ce=n.listen(R,i,s);p.push(s,ce),l&&l.push(i,B,F,F+1)}}else s=cE(r,e,h,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],B=S[R+1],Re=e[F][B].subscribe(s),X=p.length;p.push(s,Re),l&&l.push(i,r.index,X,-(X+1))}}}function aE(t,e,n,r){let i=ye(null);try{return nn(6,e,n),n(r)!==!1}catch(s){return eC(t,s),!1}finally{nn(7,e,n),ye(i)}}function cE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?vr(t.index,e):e;og(o,5);let a=aE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=aE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function ha(t=1){return hN(t)}function pC(t,e,n,r){UP(t,e,n,r)}function gC(t){let e=Ee(),n=ft(),r=YE();Lp(r+1);let i=ug(n,r);if(t.dirty&&WM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=qP(e,r);t.reset(s,jN),t.notifyOnChanges()}return!0}return!1}function mC(){return VP(Ee(),YE())}function Y(t,e=""){let n=Ee(),r=ft(),i=t+gr,s=r.firstCreatePass?wl(r,i,1,e,null):r.data[i],o=AO(r,n,s,e,t);n[i]=o,Bp()&&tg(r,n,o,s),sa(s,!1)}var AO=(t,e,n,r,i)=>($p(!0),rx(e[Be],r));function hg(t){return Ss("",t,""),hg}function Ss(t,e,n){let r=Ee(),i=sO(r,t,e,n);return i!==bs&&Wx(r,ws(),i),Ss}function ci(t,e,n){hC(e)&&(e=e());let r=Ee(),i=yl();if(ua(r,i,e)){let s=ft(),o=Up();GD(s,o,r,t,e,r[Be],n,!1)}return ci}function As(t,e){let n=hC(t);return n&&t.set(e),n}function ui(t,e){let n=Ee(),r=ft(),i=rt();return fC(r,n,n[Be],i,t,e),ui}function RO(t,e,n){let r=ft();if(r.firstCreatePass){let i=mr(t);Tp(n,r.data,r.blueprint,i,!0),Tp(e,r.data,r.blueprint,i,!1)}}function Tp(t,e,n,r,i){if(t=dt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Tp(t[s],e,n,r,i);else{let s=ft(),o=Ee(),a=rt(),u=hs(t)?t:dt(t.provide),l=xE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(hs(t)||!t.multi){let v=new Xr(l,i,te),S=Lf(u,e,i?h:h+m,p);S===-1?(Jf(Ju(a,o),s,u),Ff(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=Lf(u,e,h+m,p),S=Lf(u,e,h,h+m),M=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!M){Jf(Ju(a,o),s,u);let F=xO(i?NO:MO,n.length,i,r,l);!i&&R&&(n[S].providerFactory=F),Ff(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=yC(n[i?S:v],l,!i&&r);Ff(s,t,v>-1?v:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function Ff(t,e,n,r){let i=hs(e),s=PM(e);if(i||s){let u=(s?dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function yC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function MO(t,e,n,r){return Sp(this.multi,[])}function NO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ei(n,n[se],this.providerFactory.index,r);s=a.slice(0,o),Sp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Sp(i,s);return s}function Sp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function xO(t,e,n,r,i){let s=new Xr(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,yC(s,i,r&&!n),s}function fa(t,e=[]){return n=>{n.providersResolver=(r,i)=>RO(r,i?i(t):t,e)}}var PO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=RE(!1,r.type),s=i.length>0?dg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(ae(Pt))});let t=e;return t})();function _t(t){aa("NgStandalone"),t.getStandaloneInjector=e=>e.get(PO).getOrCreateStandaloneInjector(t)}var Nn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},vC=new Nn("18.2.4");var bl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var _C=new U("");function li(t){return!!t&&typeof t.then=="function"}function IC(t){return!!t&&typeof t.subscribe=="function"}var wC=new U(""),EC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(wC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(li(o))r.push(o);else if(IC(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fg=new U("");function OO(){ZI(()=>{throw new $(600,!1)})}function kO(t){return t.isBoundToModule}var FO=10;function LO(t,e,n){try{let r=n();return li(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var di=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(LN),this.afterRenderManager=k(iO),this.zonelessEnabled=k(cg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=k(Ds).hasPendingTasks.pipe(ie(r=>!r)),this._injector=k(Pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof il;if(!this._injector.get(EC).done){let v=!s&&bE(r),S=!1;throw new $(405,S)}let a;s?a=r:a=this._injector.get(ys).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=kO(a)?void 0:this._injector.get(yr),l=i||a.selector,h=a.create(mt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(_C,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),ju(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let r=ye(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ye(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(vs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<FO;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)VO(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>gl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ju(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(fg,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ju(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ju(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function VO(t,e,n,r){if(!n&&!gl(t))return;rC(t,e,n&&!r?0:1)}var Ap=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},pg=(()=>{let e=class e{compileModuleSync(r){return new Dp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=TE(r),o=AD(s.declarations).reduce((a,u)=>{let l=Kr(u);return l&&a.push(new ea(l)),a},[]);return new Ap(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jO=(()=>{let e=class e{constructor(){this.zone=k(we),this.changeDetectionScheduler=k(ms),this.applicationRef=k(di)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UO=new U("",{factory:()=>!1});function DC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(le(O({},bC()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:ds,multi:!0,useFactory:()=>{let r=k(jO,{optional:!0});return()=>r.initialize()}},{provide:ds,multi:!0,useFactory:()=>{let r=k(BO);return()=>{r.initialize()}}},e===!0?{provide:aC,useValue:!0}:[],{provide:cC,useValue:n??pD}]}function CC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=DC({ngZoneFactory:()=>{let i=bC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&aa("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return un([{provide:UO,useValue:!0},{provide:cg,useValue:!1},r])}function bC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var BO=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(Ds)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $O=(()=>{let e=class e{constructor(){this.appRef=k(di),this.taskService=k(Ds),this.ngZone=k(we),this.zonelessEnabled=k(cg),this.disableScheduling=k(aC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(el):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(cC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof rp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Hw:mD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(el+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HO(){return typeof $localize<"u"&&$localize.locale||cl}var gg=new U("",{providedIn:"root",factory:()=>k(gg,oe.Optional|oe.SkipSelf)||HO()});var TC=new U("");function Ou(t){return!!t.platformInjector}function qO(t){let e=Ou(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Ou(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Rn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Ou(t)){let s=()=>e.destroy(),o=t.platformInjector.get(TC);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{ju(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return LO(r,n,()=>{let s=e.get(EC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(gg,cl);if(bO(o||cl),Ou(t)){let a=e.get(di);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return zO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function zO(t,e){let n=t.injector.get(di);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var Uu=null;function GO(t=[],e){return mt.create({name:e,providers:[{provide:hl,useValue:"platform"},{provide:TC,useValue:new Set([()=>Uu=null])},...t]})}function WO(t=[]){if(Uu)return Uu;let e=GO(t);return Uu=e,OO(),KO(e),e}function KO(t){t.get(Qp,null)?.forEach(n=>n())}var wr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QO;let t=e;return t})();function QO(t){return YO(rt(),Ee(),(t&16)===16)}function YO(t,e,n){if(pl(t)&&!n){let r=vr(t.index,e);return new ni(r,r)}else if(t.type&175){let r=e[an];return new ni(r,e)}return null}function SC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=WO(r),s=[DC({}),{provide:ms,useExisting:$O},...n||[]],o=new ol({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return qO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var AC=new U("");function Er(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function pa(t,e){aa("NgSignals");let n=KI(t);return e?.equal&&(n[bn].equal=e.equal),n}function Ln(t){let e=ye(null);try{return t()}finally{ye(e)}}var xC=null;function Vn(){return xC}function PC(t){xC??=t}var Tl=class{};var Ct=new U(""),OC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(ZO),providedIn:"platform"});let t=e;return t})();var ZO=(()=>{let e=class e extends OC{constructor(){super(),this._doc=k(Ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vn().getBaseHref(this._doc)}onPopState(r){let i=Vn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Vn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function kC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function RC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function hi(t){return t&&t[0]!=="?"?"?"+t:t}var Rs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(FC),providedIn:"root"});let t=e;return t})(),JO=new U(""),FC=(()=>{let e=class e extends Rs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return kC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+hi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+hi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+hi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ae(OC),ae(JO,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ga=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=tk(RC(MC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+hi(i))}normalize(r){return e.stripTrailingSlash(ek(this._basePath,MC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+hi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+hi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=hi,e.joinWithSlash=kC,e.stripTrailingSlash=RC,e.\u0275fac=function(i){return new(i||e)(ae(Rs))},e.\u0275prov=G({token:e,factory:()=>XO(),providedIn:"root"});let t=e;return t})();function XO(){return new ga(ae(Rs))}function ek(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function MC(t){return t.replace(/\/index.html$/,"")}function tk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function LC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Al=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new yg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){NC("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){NC("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(te(ai),te(gs))},e.\u0275dir=Qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),yg=class{constructor(){this.$implicit=null,this.ngIf=null}};function NC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ht(e)}'.`)}var ma=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=si({});let t=e;return t})(),VC="browser",nk="server";function vg(t){return t===nk}var Sl=class{};var Eg=class extends Tl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Dg=class t extends Eg{static makeCurrent(){PC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=rk();return n==null?null:ik(n)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return LC(document.cookie,e)}},ya=null;function rk(){return ya=ya||document.querySelector("base"),ya?ya.getAttribute("href"):null}function ik(t){return new URL(t,document.baseURI).pathname}var sk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Rl=new U(""),$C=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ae(Rl),ae(we))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),va=class{constructor(e){this._doc=e}},Ig="ng-app-id",HC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ig}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Ig),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ig,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ae(Ct),ae(Kp),ae(Yp,8),ae(_r))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),wg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bg=/%COMP%/g,qC="%COMP%",ok=`_nghost-${qC}`,ak=`_ngcontent-${qC}`,ck=!0,uk=new U("",{providedIn:"root",factory:()=>ck});function lk(t){return ak.replace(bg,t)}function dk(t){return ok.replace(bg,t)}function zC(t,e){return e.map(n=>n.replace(bg,t))}var jC=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=vg(u),this.defaultRenderer=new _a(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===sn.ShadowDom&&(i=le(O({},i),{encapsulation:sn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Ml?s.applyToHost(r):s instanceof Ia&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case sn.Emulated:o=new Ml(l,h,i,this.appId,p,a,u,m);break;case sn.ShadowDom:return new Cg(l,h,r,i,a,u,this.nonce,m);default:o=new Ia(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ae($C),ae(HC),ae(Kp),ae(uk),ae(Ct),ae(_r),ae(we),ae(Yp))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),_a=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(wg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(UC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(UC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=wg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=wg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(n,r,i&Mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Vn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function UC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Cg=class extends _a{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=zC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ia=class extends _a{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?zC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ml=class extends Ia{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=lk(l),this.hostAttr=dk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},hk=(()=>{let e=class e extends va{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),fk=(()=>{let e=class e extends va{constructor(r){super(r),this.delegate=k(AC,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),BC=["alt","control","meta","shift"],pk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},mk=(()=>{let e=class e extends va{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),BC.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=pk[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),BC.forEach(a=>{if(a!==s){let u=gk[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function GC(t,e){return SC(O({rootComponent:t},yk(e)))}function yk(t){return{appProviders:[...Ek,...t?.providers??[]],platformProviders:wk}}function vk(){Dg.makeCurrent()}function _k(){return new Rn}function Ik(){return DD(document),document}var wk=[{provide:_r,useValue:VC},{provide:Qp,useValue:vk,multi:!0},{provide:Ct,useFactory:Ik,deps:[]}];var Ek=[{provide:hl,useValue:"root"},{provide:Rn,useFactory:_k,deps:[]},{provide:Rl,useClass:hk,multi:!0,deps:[Ct,we,_r]},{provide:Rl,useClass:mk,multi:!0,deps:[Ct]},{provide:Rl,useClass:fk,multi:!0},jC,HC,$C,{provide:vs,useExisting:jC},{provide:Sl,useClass:sk,deps:[]},[]];var WC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",Fa=Symbol("RouteTitle"),Mg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ks(t){return new Mg(t)}function Ck(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function bk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}function ln(t,e){let n=t?Ng(t):void 0,r=e?Ng(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!tb(t[i],e[i]))return!1;return!0}function Ng(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function tb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function nb(t){return t.length>0?t[t.length-1]:null}function Dr(t){return If(t)?t:li(t)?Ae(Promise.resolve(t)):Z(t)}var Tk={exact:ib,subset:sb},rb={exact:Sk,subset:Ak,ignored:()=>!0};function KC(t,e,n){return Tk[n.paths](t.root,e.root,n.matrixParams)&&rb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Sk(t,e){return ln(t,e)}function ib(t,e,n){if(!pi(t.segments,e.segments)||!Pl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ib(t.children[r],e.children[r],n))return!1;return!0}function Ak(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tb(t[n],e[n]))}function sb(t,e,n){return ob(t,e,e.segments,n)}function ob(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!pi(i,n)||e.hasChildren()||!Pl(i,n,r))}else if(t.segments.length===n.length){if(!pi(t.segments,n)||!Pl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!sb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!pi(t.segments,i)||!Pl(t.segments,i,r)||!t.children[re]?!1:ob(t.children[re],e,s,r)}}function Pl(t,e,n){return e.every((r,i)=>rb[n](t[i].parameters,r.parameters))}var Un=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ks(this.queryParams),this._queryParamMap}toString(){return Nk.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ol(this)}},fi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ks(this.parameters),this._parameterMap}toString(){return cb(this)}};function Rk(t,e){return pi(t,e)&&t.every((n,r)=>ln(n.parameters,e[r].parameters))}function pi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Mk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var rm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new Sa,providedIn:"root"});let t=e;return t})(),Sa=class{parse(e){let n=new Pg(e);return new Un(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${wa(e.root,!0)}`,r=Ok(e.queryParams),i=typeof e.fragment=="string"?`#${xk(e.fragment)}`:"";return`${n}${r}${i}`}},Nk=new Sa;function Ol(t){return t.segments.map(e=>cb(e)).join("/")}function wa(t,e){if(!t.hasChildren())return Ol(t);if(e){let n=t.children[re]?wa(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${wa(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Mk(t,(r,i)=>i===re?[wa(t.children[re],!1)]:[`${i}:${wa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Ol(t)}/${n[0]}`:`${Ol(t)}/(${n.join("//")})`}}function ab(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nl(t){return ab(t).replace(/%3B/gi,";")}function xk(t){return encodeURI(t)}function xg(t){return ab(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kl(t){return decodeURIComponent(t)}function QC(t){return kl(t.replace(/\+/g,"%20"))}function cb(t){return`${xg(t.path)}${Pk(t.parameters)}`}function Pk(t){return Object.entries(t).map(([e,n])=>`;${xg(e)}=${xg(n)}`).join("")}function Ok(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nl(n)}=${Nl(i)}`).join("&"):`${Nl(n)}=${Nl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var kk=/^[^\/()?;#]+/;function Tg(t){let e=t.match(kk);return e?e[0]:""}var Fk=/^[^\/()?;=#]+/;function Lk(t){let e=t.match(Fk);return e?e[0]:""}var Vk=/^[^=?&#]+/;function jk(t){let e=t.match(Vk);return e?e[0]:""}var Uk=/^[^&#]+/;function Bk(t){let e=t.match(Uk);return e?e[0]:""}var Pg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ie(e,n)),r}parseSegment(){let e=Tg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new fi(kl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Lk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Tg(this.remaining);i&&(r=i,this.capture(r))}e[kl(n)]=kl(r)}parseQueryParam(e){let n=jk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Bk(this.remaining);o&&(r=o,this.capture(r))}let i=QC(n),s=QC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Tg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function ub(t){return t.segments.length>0?new Ie([],{[re]:t}):t}function lb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=lb(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return $k(n)}function $k(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ie(t.segments.concat(e.segments),e.children)}return t}function gi(t){return t instanceof Un}function Hk(t,e,n=null,r=null){let i=db(t);return hb(i,e,n,r)}function db(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=ub(r);return e??i}function hb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Sg(i,i,i,n,r);let s=qk(e);if(s.toRoot())return Sg(i,i,new Ie([],{}),n,r);let o=zk(s,i,t),a=o.processChildren?Ca(o.segmentGroup,o.index,s.commands):pb(o.segmentGroup,o.index,s.commands);return Sg(i,o.segmentGroup,a,n,r)}function Fl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Aa(t){return typeof t=="object"&&t!=null&&t.outlets}function Sg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=fb(t,e,n);let a=ub(lb(o));return new Un(a,s,i)}function fb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=fb(s,e,n)}),new Ie(t.segments,r)}var Ll=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Fl(r[0]))throw new $(4003,!1);let i=r.find(Aa);if(i&&i!==nb(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ll(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ll(n,e,r)}var xs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function zk(t,e,n){if(t.isAbsolute)return new xs(e,!0,0);if(!n)return new xs(e,!1,NaN);if(n.parent===null)return new xs(n,!0,0);let r=Fl(t.commands[0])?0:1,i=n.segments.length-1+r;return Gk(n,i,t.numberOfDoubleDots)}function Gk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new xs(r,!1,i-s)}function Wk(t){return Aa(t[0])?t[0].outlets:{[re]:t}}function pb(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return Ca(t,e,n);let r=Kk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ie(t.segments.slice(r.pathIndex),t.children),Ca(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?Og(t,e,n):r.match?Ca(t,0,i):Og(t,e,n)}function Ca(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=Wk(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let s=Ca(t.children[re],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=pb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function Kk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Aa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ZC(u,l,o))return s;r+=2}else{if(!ZC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Og(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Aa(s)){let u=Qk(s.outlets);return new Ie(r,u)}if(i===0&&Fl(n[0])){let u=t.segments[e];r.push(new fi(u.path,YC(n[0]))),i++;continue}let o=Aa(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Fl(a)?(r.push(new fi(o,YC(a))),i+=2):(r.push(new fi(o,{})),i++)}return new Ie(r,{})}function Qk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Og(new Ie([],{}),0,r))}),e}function YC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZC(t,e,n){return t==n.path&&ln(e,n.parameters)}var ba="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),jt=class{constructor(e,n){this.id=e,this.url=n}},Ra=class extends jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ye.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bn=class extends jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Tt||{}),kg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(kg||{}),jn=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationSkipped}},Ma=class extends jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vl=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class extends jt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Vg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ug=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bg=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$g=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hg=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qg=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zg=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Na=class{},Fs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Yk(t,e){return t.providers&&!t._injector&&(t._injector=dg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yt(t){return t.outlet||re}function Zk(t,e){let n=t.filter(r=>Yt(r)===e);return n.push(...t.filter(r=>Yt(r)!==e)),n}function La(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Gg=class{get injector(){return La(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Gl(this.rootInjector),this.attachRef=null}},Gl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Gg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ae(Pt))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Wg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Wg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Kg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Kg(e,this._root).map(n=>n.value)}};function Wg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Wg(t,n);if(r)return r}return null}function Kg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Kg(t,n);if(r.length)return r.unshift(e),r}return[]}var bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ns(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ul=class extends jl{constructor(e,n){super(e),this.snapshot=n,im(this,e)}toString(){return this.snapshot.toString()}};function gb(t){let e=Jk(t),n=new Ke([new fi("",{})]),r=new Ke({}),i=new Ke({}),s=new Ke({}),o=new Ke(""),a=new yi(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new Ul(new bt(a,[]),e)}function Jk(t){let e={},n={},r={},i="",s=new Ps([],e,r,i,n,re,t,null,{});return new $l("",new bt(s,[]))}var yi=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Fa]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>ks(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>ks(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&yb(i)&&(r.resolve[Fa]=i.title),r}var Ps=class{get title(){return this.data?.[Fa]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ks(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ks(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},$l=class extends jl{constructor(e,n){super(n),this.url=e,im(this,n)}toString(){return mb(this._root)}};function im(t,e){e.value._routerState=t,e.children.forEach(n=>im(t,n))}function mb(t){let e=t.children.length>0?` { ${t.children.map(mb).join(", ")} } `:"";return`${t.value}${e}`}function Ag(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ln(e.params,n.params)||t.paramsSubject.next(n.params),bk(e.url,n.url)||t.urlSubject.next(n.url),ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qg(t,e){let n=ln(t.params,e.params)&&Rk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Qg(t.parent,e.parent))}function yb(t){return typeof t.title=="string"||t.title===null}var sm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=k(Gl),this.location=k(ai),this.changeDetector=k(wr),this.inputBinder=k(om,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Yg(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]});let t=e;return t})(),Yg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===yi?this.route:e===Gl?this.childContexts:this.parent.get(e,n)}},om=new U("");function Xk(t,e,n){let r=xa(t,e._root,n?n._root:void 0);return new Ul(r,e)}function xa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=e1(t,e,n);return new bt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>xa(t,a)),o}}let r=t1(e.value),i=e.children.map(s=>xa(t,s));return new bt(r,i)}}function e1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xa(t,r,i);return xa(t,r)})}function t1(t){return new yi(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var Pa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},vb="ngNavigationCancelingError";function Hl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=gi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_b(!1,Tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function _b(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[vb]=!0,n.cancellationCode=e,n}function n1(t){return Ib(t)&&gi(t.url)}function Ib(t){return!!t&&t[vb]}var r1=(t,e,n,r)=>ie(i=>(new Zg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Zg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ag(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ns(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ns(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ns(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ns(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new zg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Hg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Ag(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ag(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},ql=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Os=class{constructor(e,n){this.component=e,this.route=n}};function i1(t,e,n){let r=t._root,i=e?e._root:null;return Ea(r,i,n,[r.value])}function s1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Vs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!dE(t)?t:e.get(t):r}function Ea(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ns(e);return t.children.forEach(o=>{o1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ta(a,n.getContext(o),i)),i}function o1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=a1(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ql(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ea(t,e,a?a.children:null,r,i):Ea(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Os(a.outlet.component,o))}else o&&Ta(e,a,i),i.canActivateChecks.push(new ql(r)),s.component?Ea(t,null,a?a.children:null,r,i):Ea(t,null,n,r,i);return i}function a1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!pi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pi(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qg(t,e)||!ln(t.queryParams,e.queryParams);case"paramsChange":default:return!Qg(t,e)}}function Ta(t,e,n){let r=Ns(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ta(o,e.children.getContext(s),n):Ta(o,null,n):Ta(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Os(e.outlet.component,i)):n.canDeactivateChecks.push(new Os(null,i)):n.canDeactivateChecks.push(new Os(null,i))}function Va(t){return typeof t=="function"}function c1(t){return typeof t=="boolean"}function u1(t){return t&&Va(t.canLoad)}function l1(t){return t&&Va(t.canActivate)}function d1(t){return t&&Va(t.canActivateChild)}function h1(t){return t&&Va(t.canDeactivate)}function f1(t){return t&&Va(t.canMatch)}function wb(t){return t instanceof Tn||t?.name==="EmptyError"}var xl=Symbol("INITIAL_VALUE");function Ls(){return qt(t=>bu(t.map(e=>e.pipe(Sn(1),Ru(xl)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===xl)return xl;if(n===!1||p1(n))return n}return!0}),Rt(e=>e!==xl),Sn(1)))}function p1(t){return gi(t)||t instanceof Pa}function g1(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(le(O({},n),{guardsResult:!0})):m1(o,r,i,t).pipe(je(a=>a&&c1(a)?y1(r,s,t,e):Z(a)),ie(a=>le(O({},n),{guardsResult:a})))})}function m1(t,e,n,r){return Ae(t).pipe(je(i=>E1(i.component,i.route,n,e,r)),tn(i=>i!==!0,!0))}function y1(t,e,n,r){return Ae(e).pipe(ns(i=>ts(_1(i.route.parent,r),v1(i.route,r),w1(t,i.path,n),I1(t,i.route,n))),tn(i=>i!==!0,!0))}function v1(t,e){return t!==null&&e&&e(new qg(t)),Z(!0)}function _1(t,e){return t!==null&&e&&e(new $g(t)),Z(!0)}function I1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(s=>Tu(()=>{let o=La(e)??n,a=Vs(s,o),u=l1(a)?a.canActivate(e,t):xn(o,()=>a(e,t));return Dr(u).pipe(tn())}));return Z(i).pipe(Ls())}function w1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>s1(o)).filter(o=>o!==null).map(o=>Tu(()=>{let a=o.guards.map(u=>{let l=La(o.node)??n,h=Vs(u,l),p=d1(h)?h.canActivateChild(r,t):xn(l,()=>h(r,t));return Dr(p).pipe(tn())});return Z(a).pipe(Ls())}));return Z(s).pipe(Ls())}function E1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let u=La(e)??i,l=Vs(a,u),h=h1(l)?l.canDeactivate(t,e,n,r):xn(u,()=>l(t,e,n,r));return Dr(h).pipe(tn())});return Z(o).pipe(Ls())}function D1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let s=i.map(o=>{let a=Vs(o,t),u=u1(a)?a.canLoad(e,n):xn(t,()=>a(e,n));return Dr(u)});return Z(s).pipe(Ls(),Eb(r))}function Eb(t){return ou(Ue(e=>{if(typeof e!="boolean")throw Hl(t,e)}),ie(e=>e===!0))}function C1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let s=i.map(o=>{let a=Vs(o,t),u=f1(a)?a.canMatch(e,n):xn(t,()=>a(e,n));return Dr(u)});return Z(s).pipe(Ls(),Eb(r))}var Oa=class{constructor(e){this.segmentGroup=e||null}},ka=class extends Error{constructor(e){super(),this.urlTree=e}};function Ms(t){return Xi(new Oa(t))}function b1(t){return Xi(new $(4e3,!1))}function T1(t){return Xi(_b(!1,Tt.GuardRejected))}var Jg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[re])return b1(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:M}=i,R=xn(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Un)throw new ka(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ka(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Un(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Xg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S1(t,e,n,r,i){let s=Db(t,e,n);return s.matched?(r=Yk(e,r),C1(r,e,n,i).pipe(ie(o=>o===!0?s:O({},Xg)))):Z(s)}function Db(t,e,n){if(e.path==="**")return A1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Xg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ck)(n,t,e);if(!i)return O({},Xg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function A1(t){return{matched:!0,parameters:t.length>0?nb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function JC(t,e,n,r){return n.length>0&&N1(t,n,r)?{segmentGroup:new Ie(e,M1(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&x1(t,n,r)?{segmentGroup:new Ie(t.segments,R1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function R1(t,e,n,r){let i={};for(let s of n)if(Wl(t,e,s)&&!r[Yt(s)]){let o=new Ie([],{});i[Yt(s)]=o}return O(O({},r),i)}function M1(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Yt(r)!==re){let i=new Ie([],{});n[Yt(r)]=i}return n}function N1(t,e,n){return n.some(r=>Wl(t,e,r)&&Yt(r)!==re)}function x1(t,e,n){return n.some(r=>Wl(t,e,r))}function Wl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function P1(t,e,n){return e.length===0&&!t.children[n]}var em=class{};function O1(t,e,n,r,i,s,o="emptyOnly"){return new tm(t,e,n,r,i,o,s).recognize()}var k1=31,tm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Jg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=JC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new bt(r,n),s=new $l("",i),o=Hk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ps([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(ie(r=>({children:r,rootSnapshot:n})),ur(r=>{if(r instanceof ka)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Oa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ie(o=>o instanceof bt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(ns(o=>{let a=r.children[o],u=Zk(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Au((o,a)=>(o.push(...a),o)),lr(null),Df(),je(o=>{if(o===null)return Ms(r);let a=Cb(o);return F1(a),Z(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(ns(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(ur(l=>{if(l instanceof Oa)return Z(null);throw l}))),tn(u=>!!u),ur(u=>{if(wb(u))return P1(r,i,s)?Z(new em):Ms(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Yt(r)!==o&&(o===re||!Wl(i,s,r))?Ms(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ms(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Db(n,i,s);if(!u)return Ms(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>k1&&(this.allowRedirects=!1));let v=new Ps(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,XC(i),Yt(i),i.component??i._loadedComponent??null,i,eb(i)),S=Bl(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(je(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=S1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(qt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new Ps(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,XC(r),Yt(r),r.component??r._loadedComponent??null,r,eb(r)),M=Bl(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=JC(n,m,v,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(ie(z=>new bt(S,z)));if(l.length===0&&F.length===0)return Z(new bt(S,[]));let B=Yt(r)===s;return this.processSegment(h,l,R,F,B?re:s,!0,S).pipe(ie(z=>new bt(S,z instanceof bt?[z]:[])))}))):Ms(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):D1(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):T1(n))):Z({routes:[],injector:e})}};function F1(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function L1(t){let e=t.value.routeConfig;return e&&e.path===""}function Cb(t){let e=[],n=new Set;for(let r of t){if(!L1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Cb(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!n.has(r))}function XC(t){return t.data||{}}function eb(t){return t.resolve||{}}function V1(t,e,n,r,i,s){return je(o=>O1(t,e,n,r,o.extractedUrl,i,s).pipe(ie(({state:a,tree:u})=>le(O({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function j1(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of bb(u))o.add(l);let a=0;return Ae(o).pipe(ns(u=>s.has(u)?U1(u,r,t,e):(u.data=Bl(u,u.parent,t).resolve,Z(void 0))),Ue(()=>a++),rs(1),je(u=>a===o.size?Z(n):Et))})}function bb(t){let e=t.children.map(n=>bb(n)).flat();return[t,...e]}function U1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!yb(i)&&(s[Fa]=i.title),B1(s,t,e,r).pipe(ie(o=>(t._resolvedData=o,t.data=Bl(t,t.parent,n).resolve,null)))}function B1(t,e,n,r){let i=Ng(t);if(i.length===0)return Z({});let s={};return Ae(i).pipe(je(o=>$1(t[o],e,n,r).pipe(tn(),Ue(a=>{if(a instanceof Pa)throw Hl(new Sa,a);s[o]=a}))),rs(1),Ef(s),ur(o=>wb(o)?Et:Xi(o)))}function $1(t,e,n,r){let i=La(e)??r,s=Vs(t,i),o=s.resolve?s.resolve(e,n):xn(i,()=>s(e,n));return Dr(o)}function Rg(t){return qt(e=>{let n=t(e);return n?Ae(n).pipe(ie(()=>e)):Z(e)})}var Tb=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[Fa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(H1),providedIn:"root"});let t=e;return t})(),H1=(()=>{let e=class e extends Tb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ae(WC))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),am=new U("",{providedIn:"root",factory:()=>({})}),q1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=vt({type:e,selectors:[["ng-component"]],standalone:!0,features:[_t],decls:1,vars:0,template:function(i,s){i&1&&pt(0,"router-outlet")},dependencies:[sm],encapsulation:2});let t=e;return t})();function cm(t){let e=t.children&&t.children.map(cm),n=e?le(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=q1),n}var um=new U(""),z1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(pg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Dr(r.loadComponent()).pipe(ie(Sb),Ue(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Go(()=>{this.componentLoaders.delete(r)})),s=new Qi(i,()=>new qe).pipe(Ki());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=G1(i,this.compiler,r,this.onLoadEndListener).pipe(Go(()=>{this.childrenLoaders.delete(i)})),a=new Qi(o,()=>new qe).pipe(Ki());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function G1(t,e,n,r){return Dr(t.loadChildren()).pipe(ie(Sb),je(i=>i instanceof ta||Array.isArray(i)?Z(i):Ae(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(um,[],{optional:!0,self:!0}).flat()),{routes:o.map(cm),injector:s}}))}function W1(t){return t&&typeof t=="object"&&"default"in t}function Sb(t){return W1(t)?t.default:t}var lm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(K1),providedIn:"root"});let t=e;return t})(),K1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Q1=new U("");var Y1=new U(""),Z1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=k(z1),this.environmentInjector=k(Pt),this.urlSerializer=k(rm),this.rootContexts=k(Gl),this.location=k(ga),this.inputBindingEnabled=k(om,{optional:!0})!==null,this.titleStrategy=k(Tb),this.options=k(am,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(lm),this.createViewTransition=k(Q1,{optional:!0}),this.navigationErrorHandler=k(Y1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Ug(s)),i=s=>this.events.next(new Bg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(le(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ba,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rt(o=>o.id!==0),ie(o=>le(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qt(o=>{let a=!1,u=!1;return Z(o).pipe(qt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),Et;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?le(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.rawUrl),m,kg.IgnoredSameUrlNavigation)),l.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(qt(m=>{let v=this.transitions?.getValue();return this.events.next(new Ra(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Et:Promise.resolve(m)}),V1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=le(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Vl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:M,extras:R}=l,F=new Ra(m,this.urlSerializer.serialize(v),S,M);this.events.next(F);let B=gb(this.rootComponentType).snapshot;return this.currentTransition=o=le(O({},l),{targetSnapshot:B,urlAfterRedirects:v,extras:le(O({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Z(o)}else{let m="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,kg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Et}}),Ue(l=>{let h=new Fg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ie(l=>(this.currentTransition=o=le(O({},l),{guards:i1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),g1(this.environmentInjector,l=>this.events.next(l)),Ue(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Hl(this.urlSerializer,l.guardsResult);let h=new Lg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Rt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Tt.GuardRejected),!1)),Rg(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(Ue(h=>{let p=new Vg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),qt(h=>{let p=!1;return Z(h).pipe(j1(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Tt.NoDataFromResolver)}}))}),Ue(h=>{let p=new jg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Rg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ue(v=>{p.component=v}),ie(()=>{})));for(let v of p.children)m.push(...h(v));return m};return bu(h(l.targetSnapshot.root)).pipe(lr(null),Sn(1))}),Rg(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ae(p).pipe(ie(()=>o)):Z(o)}),ie(l=>{let h=Xk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=le(O({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Ue(()=>{this.events.next(new Na)}),r1(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Sn(1),Ue({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Cf(this.transitionAbortSubject.pipe(Ue(l=>{throw l}))),Go(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ur(l=>{if(u=!0,Ib(l))this.events.next(new jn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),n1(l)?this.events.next(new Fs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new Ma(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=xn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Pa){let{message:m,cancellationCode:v}=Hl(this.urlSerializer,p);this.events.next(new jn(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new Fs(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Et}))}))}cancelNavigationTransition(r,i,s){let o=new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J1(t){return t!==ba}var X1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(eF),providedIn:"root"});let t=e;return t})(),nm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},eF=(()=>{let e=class e extends nm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Es(e)))(s||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ab=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(tF),providedIn:"root"});let t=e;return t})(),tF=(()=>{let e=class e extends Ab{constructor(){super(...arguments),this.location=k(ga),this.urlSerializer=k(rm),this.options=k(am,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(lm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Un,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ra)this.stateMemento=this.createStateMemento();else if(r instanceof mi)this.rawUrlTree=i.initialUrl;else if(r instanceof Vl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Na?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof jn&&(r.code===Tt.GuardRejected||r.code===Tt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ma?this.restoreHistory(i,!0):r instanceof Bn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Un?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Es(e)))(s||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Da=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Da||{});function nF(t,e){t.events.pipe(Rt(n=>n instanceof Bn||n instanceof jn||n instanceof Ma||n instanceof mi),ie(n=>n instanceof Bn||n instanceof mi?Da.COMPLETE:(n instanceof jn?n.code===Tt.Redirect||n.code===Tt.SupersededByNewNavigation:!1)?Da.REDIRECTING:Da.FAILED),Rt(n=>n!==Da.REDIRECTING),Sn(1)).subscribe(()=>{e()})}function rF(t){throw t}var iF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},dn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(bl),this.stateManager=k(Ab),this.options=k(am,{optional:!0})||{},this.pendingTasks=k(Ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Z1),this.urlSerializer=k(rm),this.location=k(ga),this.urlHandlingStrategy=k(lm),this._events=new qe,this.errorHandler=this.options.errorHandler||rF,this.navigated=!1,this.routeReuseStrategy=k(X1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(um,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(om,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof jn&&i.code!==Tt.Redirect&&i.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bn)this.navigated=!0;else if(i instanceof Fs){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||J1(s.source)},a);this.scheduleNavigation(u,ba,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}aF(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ba,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(cm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=db(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return hb(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=gi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ba,null,i)}navigate(r,i={skipLocationChange:!1}){return oF(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},iF):i===!1?s=O({},sF):s=i,gi(r))return KC(this.currentUrlTree,r,s);let o=this.parseUrl(r);return KC(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return nF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function aF(t){return!(t instanceof Na)&&!(t instanceof Fs)}var zl=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(gi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:TD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:gi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(te(dn),te(yi),zp("tabindex"),te(Ir),te(Lt),te(Rs))},e.\u0275dir=Qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&it("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&da("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Er],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Er],replaceUrl:[2,"replaceUrl","replaceUrl",Er],routerLink:"routerLink"},standalone:!0,features:[lg,kn]});let t=e;return t})(),Rb=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Bn&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(es()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ae(r).pipe(es()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=cF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(te(dn),te(Lt),te(Ir),te(wr),te(zl,8))},e.\u0275dir=Qe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&pC(o,zl,5),i&2){let a;gC(a=mC())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[kn]});let t=e;return t})();function cF(t){return!!t.paths}var uF=new U("");function Mb(t,...e){return un([{provide:um,multi:!0,useValue:t},[],{provide:yi,useFactory:lF,deps:[dn]},{provide:fg,multi:!0,useFactory:dF},e.map(n=>n.\u0275providers)])}function lF(t){return t.routerState.root}function dF(){let t=k(mt);return e=>{let n=t.get(di);if(e!==n.components[0])return;let r=t.get(dn),i=t.get(hF);t.get(fF)===1&&r.initialNavigation(),t.get(pF,null,oe.Optional)?.setUpPreloading(),t.get(uF,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hF=new U("",{factory:()=>new qe}),fF=new U("",{providedIn:"root",factory:()=>1});var pF=new U("");var jb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(te(Ir),te(Lt))},e.\u0275dir=Qe({type:e});let t=e;return t})(),gF=(()=>{let e=class e extends jb{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Es(e)))(s||e)}})(),e.\u0275dir=Qe({type:e,features:[Fn]});let t=e;return t})(),Ub=new U("");var mF={provide:Ub,useExisting:ii(()=>Hs),multi:!0};function yF(){let t=Vn()?Vn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var vF=new U(""),Hs=(()=>{let e=class e extends jb{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(te(Ir),te(Lt),te(vF,8))},e.\u0275dir=Qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&it("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[fa([mF]),Fn]});let t=e;return t})();function _F(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var fm=new U(""),Bb=new U("");function IF(t){return _F(t.value)?{required:!0}:null}function Nb(t){return null}function $b(t){return t!=null}function Hb(t){return li(t)?Ae(t):t}function qb(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function zb(t,e){return e.map(n=>n(t))}function wF(t){return!t.validate}function Gb(t){return t.map(e=>wF(e)?e:n=>e.validate(n))}function EF(t){if(!t)return null;let e=t.filter($b);return e.length==0?null:function(n){return qb(zb(n,e))}}function pm(t){return t!=null?EF(Gb(t)):null}function DF(t){if(!t)return null;let e=t.filter($b);return e.length==0?null:function(n){let r=zb(n,e).map(Hb);return wf(r).pipe(ie(qb))}}function gm(t){return t!=null?DF(Gb(t)):null}function xb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CF(t){return t._rawValidators}function bF(t){return t._rawAsyncValidators}function hm(t){return t?Array.isArray(t)?t:[t]:[]}function Ql(t,e){return Array.isArray(t)?t.includes(e):t===e}function Pb(t,e){let n=hm(e);return hm(t).forEach(i=>{Ql(n,i)||n.push(i)}),n}function Ob(t,e){return hm(e).filter(n=>!Ql(t,n))}var Yl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Bs=class extends Yl{get formDirective(){return null}get path(){return null}},qa=class extends Yl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},TF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nW=le(O({},TF),{"[class.ng-submitted]":"isSubmitted"}),td=(()=>{let e=class e extends Zl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(te(qa,2))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Dl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Fn]});let t=e;return t})(),nd=(()=>{let e=class e extends Zl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(te(Bs,10))},e.\u0275dir=Qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Dl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Fn]});let t=e;return t})();var ja="VALID",Kl="INVALID",js="PENDING",Ua="DISABLED",$s=class{},Jl=class extends $s{constructor(e,n){super(),this.value=e,this.source=n}},$a=class extends $s{constructor(e,n){super(),this.pristine=e,this.source=n}},Ha=class extends $s{constructor(e,n){super(),this.touched=e,this.source=n}},Us=class extends $s{constructor(e,n){super(),this.status=e,this.source=n}};function Wb(t){return(rd(t)?t.validators:t)||null}function SF(t){return Array.isArray(t)?pm(t):t||null}function Kb(t,e){return(rd(e)?e.asyncValidators:t)||null}function AF(t){return Array.isArray(t)?gm(t):t||null}function rd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function RF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function MF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Xl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pa(()=>this.statusReactive()),this.statusReactive=ca(void 0),this._pristine=pa(()=>this.pristineReactive()),this.pristineReactive=ca(!0),this._touched=pa(()=>this.touchedReactive()),this.touchedReactive=ca(!1),this._events=new qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ln(this.statusReactive)}set status(e){Ln(()=>this.statusReactive.set(e))}get valid(){return this.status===ja}get invalid(){return this.status===Kl}get pending(){return this.status==js}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}get pristine(){return Ln(this.pristineReactive)}set pristine(e){Ln(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ln(this.touchedReactive)}set touched(e){Ln(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Pb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Pb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ob(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ob(e,this._rawAsyncValidators))}hasValidator(e){return Ql(this._rawValidators,e)}hasAsyncValidator(e){return Ql(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ha(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ha(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new $a(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new $a(!0,r))}markAsPending(e={}){this.status=js;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Us(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(i=>{i.disable(le(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jl(this.value,r)),this._events.next(new Us(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ja,this._forEachChild(r=>{r.enable(le(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ja||this.status===js)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jl(this.value,n)),this._events.next(new Us(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=js,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Hb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Us(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?Kl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(js)?js:this._anyControlsHaveStatus(Kl)?Kl:ja}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new $a(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ha(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=SF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=AF(this._rawAsyncValidators)}},ed=class extends Xl{constructor(e,n,r){super(Wb(n),Kb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){MF(this,!0,e),Object.keys(e).forEach(r=>{RF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var mm=new U("CallSetDisabledState",{providedIn:"root",factory:()=>ym}),ym="always";function NF(t,e){return[...e.path,t]}function Qb(t,e,n=ym){Yb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),PF(t,e),kF(t,e),OF(t,e),xF(t,e)}function kb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function xF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Yb(t,e){let n=CF(t);e.validator!==null?t.setValidators(xb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=bF(t);e.asyncValidator!==null?t.setAsyncValidators(xb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();kb(e._rawValidators,i),kb(e._rawAsyncValidators,i)}function PF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Zb(t,e)})}function OF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Zb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Zb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function kF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function FF(t,e){t==null,Yb(t,e)}function LF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function VF(t){return Object.getPrototypeOf(t.constructor)===gF}function jF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function UF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Hs?n=s:VF(s)?r=s:i=s}),i||r||n||null}var BF={provide:Bs,useExisting:ii(()=>za)},Ba=Promise.resolve(),za=(()=>{let e=class e extends Bs{get submitted(){return Ln(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=pa(()=>this.submittedReactive()),this.submittedReactive=ca(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new ed({},pm(r),gm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ba.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Qb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ba.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ba.then(()=>{let i=this._findContainer(r.path),s=new ed({});FF(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ba.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ba.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),jF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(te(fm,10),te(Bb,10),te(mm,8))},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&it("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fa([BF]),Fn]});let t=e;return t})();function Fb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Lb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var $F=class extends Xl{constructor(e=null,n,r){super(Wb(n),Kb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Lb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Lb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var HF={provide:qa,useExisting:ii(()=>Ga)},Vb=Promise.resolve(),Ga=(()=>{let e=class e extends qa{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new $F,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=UF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),LF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Qb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Vb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Er(i);Vb.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?NF(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(te(Bs,9),te(fm,10),te(Bb,10),te(Ub,10),te(wr,8),te(mm,8))},e.\u0275dir=Qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fa([HF]),Fn,kn]});let t=e;return t})(),id=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var qF=(()=>{let e=class e{constructor(){this._validator=Nb}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Nb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,features:[kn]});let t=e;return t})();var zF={provide:fm,useExisting:ii(()=>Wa),multi:!0};var Wa=(()=>{let e=class e extends qF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Er,this.createValidator=r=>IF}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Es(e)))(s||e)}})(),e.\u0275dir=Qe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&da("required",s._enabled?"":null)},inputs:{required:"required"},features:[fa([zF]),Fn]});let t=e;return t})();var GF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=si({});let t=e;return t})();var sd=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:mm,useValue:r.callSetDisabledState??ym}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=si({imports:[GF]});let t=e;return t})();var e0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},t0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new _m;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_m=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},KF=function(t){let e=e0(t);return t0.encodeByteArray(e,!0)},Ka=function(t){return KF(t).replace(/\./g,"")},wm=function(t){try{return t0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YF=()=>QF().__FIREBASE_DEFAULTS__,ZF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wm(t[1]);return e&&JSON.parse(e)},ad=()=>{try{return YF()||ZF()||JF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Em=t=>{var e,n;return(n=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},n0=t=>{let e=Em(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dm=()=>{var t;return(t=ad())===null||t===void 0?void 0:t.config},Cm=t=>{var e;return(e=ad())===null||e===void 0?void 0:e[`_${t}`]};var od=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function r0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ka(JSON.stringify(n)),Ka(JSON.stringify(o)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function XF(){var t;let e=(t=ad())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function o0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a0(){let t=ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c0(){return!XF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bm(){try{return typeof indexedDB=="object"}catch{return!1}}function u0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var eL="FirebaseError",St=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$n.prototype.create)}},$n=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new St(i,a,r)}};function tL(t,e){return t.replace(nL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var nL=/\{\$([^}]+)}/g;function l0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Xb(s)&&Xb(o)){if(!vi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Xb(t){return t!==null&&typeof t=="object"}function Qa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d0(t,e){let n=new Im(t,e);return n.subscribe.bind(n)}var Im=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vm),i.error===void 0&&(i.error=vm),i.complete===void 0&&(i.complete=vm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function rL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vm(){}var sW=4*60*60*1e3;function st(t){return t&&t._delegate?t._delegate:t}var Ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _i="[DEFAULT]";var Tm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new od;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sL(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iL(t){return t===_i?void 0:t}function sL(t){return t.instantiationMode==="EAGER"}var cd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Tm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var oL=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),aL={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},cL=fe.INFO,uL={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},lL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=uL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cr=class{constructor(e){this.name=e,this._logLevel=cL,this._logHandler=lL,this._userLogHandler=null,oL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var dL=(t,e)=>e.some(n=>t instanceof n),h0,f0;function hL(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fL(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var p0=new WeakMap,Am=new WeakMap,g0=new WeakMap,Sm=new WeakMap,Mm=new WeakMap;function pL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&p0.set(n,t)}).catch(()=>{}),Mm.set(e,t),e}function gL(t){if(Am.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Am.set(t,e)}var Rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m0(t){Rm=t(Rm)}function mL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ud(this),e,...n);return g0.set(r,e.sort?e.sort():[e]),hn(r)}:fL().includes(t)?function(...e){return t.apply(ud(this),e),hn(p0.get(this))}:function(...e){return hn(t.apply(ud(this),e))}}function yL(t){return typeof t=="function"?mL(t):(t instanceof IDBTransaction&&gL(t),dL(t,hL())?new Proxy(t,Rm):t)}function hn(t){if(t instanceof IDBRequest)return pL(t);if(Sm.has(t))return Sm.get(t);let e=yL(t);return e!==t&&(Sm.set(t,e),Mm.set(e,t)),e}var ud=t=>Mm.get(t);function v0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=hn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(hn(o.result),u.oldVersion,u.newVersion,hn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var vL=["get","getKey","getAll","getAllKeys","count"],_L=["put","add","delete","clear"],Nm=new Map;function y0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_L.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vL.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Nm.set(e,s),s}m0(t=>le(O({},t),{get:(e,n,r)=>y0(e,n)||t.get(e,n,r),has:(e,n)=>!!y0(e,n)||t.has(e,n)}));var Pm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function IL(t){let e=t.getComponent();return e?.type==="VERSION"}var Om="@firebase/app",_0="0.10.10";var Hn=new Cr("@firebase/app"),wL="@firebase/app-compat",EL="@firebase/analytics-compat",DL="@firebase/analytics",CL="@firebase/app-check-compat",bL="@firebase/app-check",TL="@firebase/auth",SL="@firebase/auth-compat",AL="@firebase/database",RL="@firebase/database-compat",ML="@firebase/functions",NL="@firebase/functions-compat",xL="@firebase/installations",PL="@firebase/installations-compat",OL="@firebase/messaging",kL="@firebase/messaging-compat",FL="@firebase/performance",LL="@firebase/performance-compat",VL="@firebase/remote-config",jL="@firebase/remote-config-compat",UL="@firebase/storage",BL="@firebase/storage-compat",$L="@firebase/firestore",HL="@firebase/vertexai-preview",qL="@firebase/firestore-compat",zL="firebase",GL="10.13.1";var km="[DEFAULT]",WL={[Om]:"fire-core",[wL]:"fire-core-compat",[DL]:"fire-analytics",[EL]:"fire-analytics-compat",[bL]:"fire-app-check",[CL]:"fire-app-check-compat",[TL]:"fire-auth",[SL]:"fire-auth-compat",[AL]:"fire-rtdb",[RL]:"fire-rtdb-compat",[ML]:"fire-fn",[NL]:"fire-fn-compat",[xL]:"fire-iid",[PL]:"fire-iid-compat",[OL]:"fire-fcm",[kL]:"fire-fcm-compat",[FL]:"fire-perf",[LL]:"fire-perf-compat",[VL]:"fire-rc",[jL]:"fire-rc-compat",[UL]:"fire-gcs",[BL]:"fire-gcs-compat",[$L]:"fire-fst",[qL]:"fire-fst-compat",[HL]:"fire-vertex","fire-js":"fire-js",[zL]:"fire-js-all"};var Ya=new Map,KL=new Map,Fm=new Map;function I0(t,e){try{t.container.addComponent(e)}catch(n){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){let e=t.name;if(Fm.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,t);for(let n of Ya.values())I0(n,t);for(let n of KL.values())I0(n,t);return!0}function Ja(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zt(t){return t.settings!==void 0}var QL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new $n("app","Firebase",QL);var Lm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};var Sr=GL;function Um(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:km,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=Dm()),!n)throw br.create("no-options");let s=Ya.get(i);if(s){if(vi(n,s.options)&&vi(r,s.config))return s;throw br.create("duplicate-app",{appName:i})}let o=new cd(i);for(let u of Fm.values())o.addComponent(u);let a=new Lm(n,r,o);return Ya.set(i,a),a}function Gs(t=km){let e=Ya.get(t);if(!e&&t===km&&Dm())return Um();if(!e)throw br.create("no-app",{appName:t});return e}function ld(){return Array.from(Ya.values())}function $e(t,e,n){var r;let i=(r=WL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(a.join(" "));return}Tr(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var YL="firebase-heartbeat-database",ZL=1,Za="firebase-heartbeat-store",xm=null;function C0(){return xm||(xm=v0(YL,ZL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Za)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),xm}function JL(t){return w(this,null,function*(){try{let n=(yield C0()).transaction(Za),r=yield n.objectStore(Za).get(b0(t));return yield n.done,r}catch(e){if(e instanceof St)Hn.warn(e.message);else{let n=br.create("idb-get",{originalErrorMessage:e?.message});Hn.warn(n.message)}}})}function w0(t,e){return w(this,null,function*(){try{let r=(yield C0()).transaction(Za,"readwrite");yield r.objectStore(Za).put(e,b0(t)),yield r.done}catch(n){if(n instanceof St)Hn.warn(n.message);else{let r=br.create("idb-set",{originalErrorMessage:n?.message});Hn.warn(r.message)}}})}function b0(t){return`${t.name}!${t.options.appId}`}var XL=1024,eV=30*24*60*60*1e3,Vm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=eV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Hn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=E0(),{heartbeatsToSend:r,unsentEntries:i}=tV(this._heartbeatsCache.heartbeats),s=Ka(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hn.warn(n),""}})}};function E0(){return new Date().toISOString().substring(0,10)}function tV(t,e=XL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),D0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),D0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return bm()?u0().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield JL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return w0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return w0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function D0(t){return Ka(JSON.stringify({version:2,heartbeats:t})).length}function nV(t){Tr(new Ut("platform-logger",e=>new Pm(e),"PRIVATE")),Tr(new Ut("heartbeat",e=>new Vm(e),"PRIVATE")),$e(Om,_0,t),$e(Om,_0,"esm2017"),$e("fire-js","")}nV("");var rV="firebase",iV="10.13.1";$e(rV,iV,"app");var wi=new Nn("ANGULARFIRE2_VERSION");function hd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xa=(t,e)=>{let n=e?[e]:ld(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ks=class{constructor(){return Xa(sV)}},sV="app-check";function Ws(){}var dd=class{zone;delegate;constructor(e,n=vf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Bm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ws,{},Ws,Ws)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new dd(Zone.current)),this.insideAngular=n.run(()=>new dd(Zone.current,yf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ae(we))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function oV(t){return fd().ngZone.runOutsideAngular(()=>t())}function Ii(t){return fd().ngZone.run(()=>t())}function aV(t){return cV(fd())(t)}function cV(t){return function(n){return n=n.lift(new Bm(t.ngZone)),n.pipe(cr(t.outsideAngular),ar(t.insideAngular))}}var uV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ii(()=>t.apply(void 0,r))},Jt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ii(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ws,{},Ws,Ws))),r[s]=uV(r[s],n));let i=oV(()=>t.apply(this,r));if(!e)if(i instanceof de){let s=fd();return i.pipe(cr(s.outsideAngular),ar(s.insideAngular))}else return Ii(()=>i);return i instanceof de?i.pipe(aV):i instanceof Promise?Ii(()=>new Promise((s,o)=>i.then(a=>Ii(()=>s(a)),a=>Ii(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ii(()=>i)};var qn=class{constructor(e){return e}},Ei=class{constructor(){return ld()}};function lV(t){return t&&t.length===1?t[0]:new qn(Gs())}var $m=new U("angularfire2._apps"),dV={provide:qn,useFactory:lV,deps:[[new yt,$m]]},hV={provide:Ei,deps:[[new yt,$m]]};function fV(t){return(e,n)=>{let r=n.get(_r);$e("angularfire",wi.full,"core"),$e("angularfire",wi.full,"app"),$e("angular",vC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new qn(i)}}function T0(t,...e){return un([dV,hV,{provide:$m,useFactory:fV(t),multi:!0,deps:[we,mt,Qs,...e]}])}var S0=Jt(Um,!0);function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var z0=q0,G0=new $n("auth","Firebase",q0());var _d=new Cr("@firebase/auth");function pV(t,...e){_d.logLevel<=fe.WARN&&_d.warn(`Auth (${Sr}): ${t}`,...e)}function gd(t,...e){_d.logLevel<=fe.ERROR&&_d.error(`Auth (${Sr}): ${t}`,...e)}function pn(t,...e){throw dy(t,...e)}function Di(t,...e){return dy(t,...e)}function W0(t,e,n){let r=Object.assign(Object.assign({},z0()),{[e]:n});return new $n("auth","Firebase",r).create(e,{appName:t.name})}function Wn(t){return W0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return G0.create(t,...e)}function W(t,e,...n){if(!t)throw dy(e,...n)}function zn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function Rr(t,e){t||zn(e)}function Gm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gV(){return A0()==="http:"||A0()==="https:"}function A0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function mV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gV()||s0()||"connection"in navigator)?navigator.onLine:!0}function yV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ci=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rr(n>e,"Short delay should be less than long delay!"),this.isMobile=i0()||o0()}get(){return mV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function hy(t,e){Rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Id=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _V=new Ci(3e4,6e4);function Mr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Nr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return K0(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Qa(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Id.fetch()(Q0(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function K0(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},vV),e);try{let i=new Wm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw pd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw pd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw pd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw W0(t,h,l);pn(t,h)}}catch(i){if(i instanceof St)throw i;pn(t,"network-request-failed",{message:String(i)})}})}function ac(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Nr(t,e,n,r,i);return"mfaPendingCredential"in l&&pn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Q0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?hy(t.config,i):`${t.config.apiScheme}://${i}`}function IV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Wm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),_V.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Di(t,e,r);return i.customData._tokenResponse=n,i}function R0(t){return t!==void 0&&t.enterprise!==void 0}var Km=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function wV(t,e){return w(this,null,function*(){return Nr(t,"GET","/v2/recaptchaConfig",Mr(t,e))})}function EV(t,e){return w(this,null,function*(){return Nr(t,"POST","/v1/accounts:delete",e)})}function Y0(t,e){return w(this,null,function*(){return Nr(t,"POST","/v1/accounts:lookup",e)})}function ec(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fy(t,e=!1){return w(this,null,function*(){let n=st(t),r=yield n.getIdToken(e),i=py(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ec(Hm(i.auth_time)),issuedAtTime:ec(Hm(i.iat)),expirationTime:ec(Hm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Hm(t){return Number(t)*1e3}function py(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{let i=wm(n);return i?JSON.parse(i):(gd("Failed to decode base64 JWT payload"),null)}catch(i){return gd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function M0(t){let e=py(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof St&&DV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function DV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Qm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var rc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield nc(t,Y0(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Z0(s.providerUserInfo):[],a=CV(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function gy(t){return w(this,null,function*(){let e=st(t);yield wd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function CV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z0(t){return t.map(e=>{var{providerId:n}=e,r=_f(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bV(t,e){return w(this,null,function*(){let n=yield K0(t,{},()=>w(this,null,function*(){let r=Qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Q0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Id.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function TV(t,e){return w(this,null,function*(){return Nr(t,"POST","/v2/accounts:revokeToken",Mr(t,e))})}var tc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=M0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield bV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return zn("not implemented")}};function Ar(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ys=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield nc(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return fy(this,e)}reload(){return gy(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield wd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Zt(this.auth.app))return Promise.reject(Wn(this.auth));let e=yield this.getIdToken();return yield nc(this,EV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,B=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:ce,isAnonymous:Re,providerData:X,stsTokenManager:D}=n;W(z&&D,e,"internal-error");let y=tc.fromJSON(this.name,D);W(typeof z=="string",e,"internal-error"),Ar(p,e.name),Ar(m,e.name),W(typeof ce=="boolean",e,"internal-error"),W(typeof Re=="boolean",e,"internal-error"),Ar(v,e.name),Ar(S,e.name),Ar(M,e.name),Ar(R,e.name),Ar(F,e.name),Ar(B,e.name);let _=new t({uid:z,auth:e,email:m,emailVerified:ce,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:F,lastLoginAt:B});return X&&Array.isArray(X)&&(_.providerData=X.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new tc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Z0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new tc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var N0=new Map;function Gn(t){Rr(t instanceof Function,"Expected a class definition");let e=N0.get(t);return e?(Rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N0.set(t,e),e)}var SV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ym=SV;function md(t,e,n){return`firebase:${t}:${e}:${n}`}var Ed=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=md(this.userKey,i.apiKey,s),this.fullPersistenceKey=md("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ys._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Gn(Ym),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Gn(Ym),o=md(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Ys._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function x0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rT(e))return"Blackberry";if(iT(e))return"Webos";if(X0(e))return"Safari";if((e.includes("chrome/")||eT(e))&&!e.includes("edge/"))return"Chrome";if(nT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function J0(t=ze()){return/firefox\//i.test(t)}function X0(t=ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eT(t=ze()){return/crios\//i.test(t)}function tT(t=ze()){return/iemobile/i.test(t)}function nT(t=ze()){return/android/i.test(t)}function rT(t=ze()){return/blackberry/i.test(t)}function iT(t=ze()){return/webos/i.test(t)}function my(t=ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AV(t=ze()){var e;return my(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RV(){return a0()&&document.documentMode===10}function sT(t=ze()){return my(t)||nT(t)||iT(t)||rT(t)||/windows phone/i.test(t)||tT(t)}function oT(t,e=[]){let n;switch(t){case"Browser":n=x0(ze());break;case"Worker":n=`${x0(ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sr}/${r}`}var Zm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function MV(n){return w(this,arguments,function*(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",Mr(t,e))})}var NV=6,Jm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:NV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Xm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dd(this),this.idTokenSubscription=new Dd(this),this.beforeStateQueue=new Zm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ed.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield Y0(this,{idToken:e}),r=yield Ys._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Zt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield wd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=yV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Zt(this.app))return Promise.reject(Wn(this));let n=e?st(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Zt(this.app)?Promise.reject(Wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zt(this.app)?Promise.reject(Wn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield MV(this),n=new Jm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $n("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield TV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Ed.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&pV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ti(t){return st(t)}var Dd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=d0(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Md={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xV(t){Md=t}function aT(t){return Md.loadJS(t)}function PV(){return Md.recaptchaEnterpriseScript}function OV(){return Md.gapiScript}function cT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var kV="recaptcha-enterprise",FV="NO_RECAPTCHA",ey=class{constructor(e){this.type=kV,this.auth=Ti(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){wV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Km(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;R0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(FV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&R0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=PV();u.length!==0&&(u+=a),aT(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function P0(t,e,n,r=!1){return w(this,null,function*(){let i=new ey(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function ty(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield P0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield P0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function yy(t,e){let n=Ja(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(vi(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function LV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function vy(t,e,n){let r=Ti(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=uT(e),{host:o,port:a}=VV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||jV()}function uT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VV(t){let e=uT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:O0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:O0(o)}}}function O0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function jV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ic=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}};function UV(t,e){return w(this,null,function*(){return Nr(t,"POST","/v1/accounts:signUp",e)})}function BV(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithPassword",Mr(t,e))})}function $V(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))})}function HV(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))})}var sc=class t extends ic{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,n,"signInWithPassword",BV);case"emailLink":return $V(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,r,"signUpPassword",UV);case"emailLink":return HV(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qm(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithIdp",Mr(t,e))})}function qV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zV(t){let e=qs(zs(t)).link,n=e?qs(zs(e)).deep_link_id:null,r=qs(zs(t)).deep_link_id;return(r?qs(zs(r)).link:null)||r||n||e||t}var Cd=class t{constructor(e){var n,r,i,s,o,a;let u=qs(zs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=qV((i=u.mode)!==null&&i!==void 0?i:null);W(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=zV(e);try{return new t(n)}catch{return null}}};var lT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return sc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Cd.parseLink(r);return W(i,"argument-error"),sc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),bd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ny=class extends bd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function GV(t,e){return w(this,null,function*(){return ac(t,"POST","/v1/accounts:signUp",Mr(t,e))})}var Zs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Ys._fromIdTokenResponse(e,r,i),o=k0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=k0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function k0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ry=class t extends St{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function dT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ry._fromErrorAndOperation(t,s,e,r):s})}function WV(t,e,n=!1){return w(this,null,function*(){let r=yield nc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Zs._forOperation(t,"link",r)})}function KV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Zt(r.app))return Promise.reject(Wn(r));let i="reauthenticate";try{let s=yield nc(t,dT(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=py(s.idToken);W(o,r,"internal-error");let{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Zs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&pn(r,"user-mismatch"),s}})}function hT(t,e,n=!1){return w(this,null,function*(){if(Zt(t.app))return Promise.reject(Wn(t));let r="signIn",i=yield dT(t,r,e),s=yield Zs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function _y(t,e){return w(this,null,function*(){return hT(Ti(t),e)})}function fT(t){return w(this,null,function*(){let e=Ti(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Iy(t,e,n){return w(this,null,function*(){if(Zt(t.app))return Promise.reject(Wn(t));let r=Ti(t),o=yield ty(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&fT(t),u}),a=yield Zs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function wy(t,e,n){return Zt(t.app)?Promise.reject(Wn(t)):_y(st(t),lT.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&fT(t),r}))}function Ey(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function Dy(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function Cy(t){return st(t).signOut()}var Td="__sak";var Sd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var QV=1e3,YV=10,ZV=(()=>{class t extends Sd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);RV()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,YV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},QV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield sr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield sr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield sr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),pT=ZV;var JV=(()=>{class t extends Sd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),by=JV;function XV(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var ej=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield XV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function gT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var iy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=gT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function fn(){return window}function tj(t){fn().location.href=t}function mT(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}function nj(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function rj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ij(){return mT()?self:null}var yT="firebaseLocalStorageDb",sj=1,Ad="firebaseLocalStorage",vT="fbase_key",bi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Nd(t,e){return t.transaction([Ad],e?"readwrite":"readonly").objectStore(Ad)}function oj(){let t=indexedDB.deleteDatabase(yT);return new bi(t).toPromise()}function sy(){let t=indexedDB.open(yT,sj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ad,{keyPath:vT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ad)?e(r):(r.close(),yield oj(),e(yield sy()))}))})}function F0(t,e,n){return w(this,null,function*(){let r=Nd(t,!0).put({[vT]:e,value:n});return new bi(r).toPromise()})}function aj(t,e){return w(this,null,function*(){let n=Nd(t,!1).get(e),r=yield new bi(n).toPromise();return r===void 0?null:r.value})}function L0(t,e){let n=Nd(t,!0).delete(e);return new bi(n).toPromise()}var cj=800,uj=3,lj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield sy(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>uj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return mT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=ej._getInstance(ij()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield nj(),!this.activeServiceWorker)return;this.sender=new iy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||rj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield sy();return yield F0(n,Td,"1"),yield L0(n,Td),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>F0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>aj(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>L0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Nd(s,!1).getAll();return new bi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),cj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_T=lj;var JW=cT("rcb"),XW=new Ci(3e4,6e4);function dj(t,e){return e?Gn(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var oc=class extends ic{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function hj(t){return hT(t.auth,new oc(t),t.bypassAuthState)}function fj(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),KV(n,new oc(t),t.bypassAuthState)}function pj(t){return w(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),WV(n,new oc(t),t.bypassAuthState)})}var oy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hj;case"linkViaPopup":case"linkViaRedirect":return pj;case"reauthViaPopup":case"reauthViaRedirect":return fj;default:pn(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var e6=new Ci(2e3,1e4);var gj="pendingRedirect",yd=new Map,ay=class t extends oy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=yd.get(this.auth._key());if(!e){try{let r=(yield mj(this.resolver,this.auth))?yield sr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return sr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,sr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function mj(t,e){return w(this,null,function*(){let n=_j(e),r=vj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function yj(t,e){yd.set(t._key(),e)}function vj(t){return Gn(t._redirectPersistence)}function _j(t){return md(gj,t.config.apiKey,t.name)}function Ij(t,e,n=!1){return w(this,null,function*(){if(Zt(t.app))return Promise.reject(Wn(t));let r=Ti(t),i=dj(r,e),o=yield new ay(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var wj=10*60*1e3,cy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ej(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wj&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(e))}saveEventToCache(e){this.cachedEventUids.add(V0(e)),this.lastProcessedEventTime=Date.now()}};function V0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Ej(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(t);default:return!1}}function Dj(n){return w(this,arguments,function*(t,e={}){return Nr(t,"GET","/v1/projects",e)})}var Cj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bj=/^https?/;function Tj(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Dj(t);for(let n of e)try{if(Sj(n))return}catch{}pn(t,"unauthorized-domain")})}function Sj(t){let e=Gm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bj.test(n))return!1;if(Cj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Aj=new Ci(3e4,6e4);function j0(){let t=fn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rj(t){return new Promise((e,n)=>{var r,i,s;function o(){j0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j0(),n(Di(t,"network-request-failed"))},timeout:Aj.get()})}if(!((i=(r=fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fn().gapi)===null||s===void 0)&&s.load)o();else{let a=cT("iframefcb");return fn()[a]=()=>{gapi.load?o():n(Di(t,"network-request-failed"))},aT(`${OV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw vd=null,e})}var vd=null;function Mj(t){return vd=vd||Rj(t),vd}var Nj=new Ci(5e3,15e3),xj="__/auth/iframe",Pj="emulator/auth/iframe",Oj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fj(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?hy(e,Pj):`https://${t.config.authDomain}/${xj}`,r={apiKey:e.apiKey,appName:t.name,v:Sr},i=kj.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qa(r).slice(1)}`}function Lj(t){return w(this,null,function*(){let e=yield Mj(t),n=fn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:Fj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oj,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Di(t,"network-request-failed"),a=fn().setTimeout(()=>{s(o)},Nj.get());function u(){fn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Vj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jj=500,Uj=600,Bj="_blank",$j="http://localhost",Rd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Hj(t,e,n,r=jj,i=Uj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Vj),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ze().toLowerCase();n&&(a=eT(l)?Bj:n),J0(l)&&(e=e||$j,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(AV(l)&&a!=="_self")return qj(e||"",a),new Rd(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Rd(p)}function qj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zj="__/auth/handler",Gj="emulator/auth/handler",Wj=encodeURIComponent("fac");function U0(t,e,n,r,i,s){return w(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sr,eventId:i};if(e instanceof bd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",l0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof ny){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Wj}=${encodeURIComponent(u)}`:"";return`${Kj(t)}?${Qa(a).slice(1)}${l}`})}function Kj({config:t}){return t.emulator?hy(t,Gj):`https://${t.authDomain}/${zj}`}var zm="webStorageSupport",uy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=by,this._completeRedirectFn=Ij,this._overrideRedirectResult=yj}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield U0(e,n,r,Gm(),i);return Hj(e,o,gT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield U0(e,n,r,Gm(),i);return tj(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield Lj(e),r=new cy(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zm,{type:zm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[zm];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sT()||X0()||my()}},wT=uy;var B0="@firebase/auth",$0="1.7.8";var ly=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Qj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yj(t){Tr(new Ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oT(t)},l=new Xm(r,i,s,u);return LV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tr(new Ut("auth-internal",e=>{let n=Ti(e.getProvider("auth").getImmediate());return(r=>new ly(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(B0,$0,Qj(t)),$e(B0,$0,"esm2017")}var Zj=5*60,Jj=Cm("authIdTokenMaxAge")||Zj,H0=null,Xj=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Jj)return;let i=n?.token;H0!==i&&(H0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ty(t=Gs()){let e=Ja(t,"auth");if(e.isInitialized())return e.getImmediate();let n=yy(t,{popupRedirectResolver:wT,persistence:[_T,pT,by]}),r=Cm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Xj(s.toString());Dy(n,o,()=>o(n.currentUser)),Ey(n,a=>o(a))}}let i=Em("auth");return i&&vy(n,`http://${i}`),n}function eU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Di("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",eU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yj("Browser");var ET="auth",Kn=class{constructor(e){return e}},cc=class{constructor(){return Xa(ET)}};var Sy=new U("angularfire2.auth-instances");function qU(t,e){let n=hd(ET,t,e);return n&&new Kn(n)}function zU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kn(r)}}var GU={provide:cc,deps:[[new yt,Sy]]},WU={provide:Kn,useFactory:qU,deps:[[new yt,Sy],qn]};function DT(t,...e){return $e("angularfire",wi.full,"auth"),un([WU,GU,{provide:Sy,useFactory:zU(t),multi:!0,deps:[we,mt,Qs,Ei,[new yt,Ks],...e]}])}var CT=Jt(Iy,!0);var bT=Jt(Ty,!0);var TT=Jt(wy,!0);var ST=Jt(Cy,!0);var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},MT={};var xr,Ay;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,C,T){for(var I=Array(arguments.length-2),En=2;En<arguments.length;En++)I[En-2]=arguments[En];return y.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],C=D.g[2];var T=D.g[3],I=y+(T^_&(C^T))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[2]+606105819&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[6]+2821735955&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[10]+4294925233&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[14]+2792965006&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^T&(_^C))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[11]+643717713&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[15]+3634488961&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[3]+4107603335&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[7]+1735328473&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^T)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[11]+1839030562&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[7]+4139469664&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[3]+3572445317&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[15]+530742520&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~T))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[14]+2878612391&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[10]+4293915773&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[6]+2734768916&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[2]+718787259&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<y;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==y||(_[C]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),I=parseInt(D.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var C=ce(_,y).g;_=F(_,C.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=C,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,C=0;C<=y;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),I=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=I>>>16,T&=65535,I&=65535,_[C]=I<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,I=this.i(E)&65535,En=D.i(C)>>>16,Do=D.i(C)&65535;_[2*E+2*C]+=I*Do,B(_,2*E+2*C),_[2*E+2*C+1]+=T*Do,B(_,2*E+2*C+1),_[2*E+2*C+1]+=I*En,B(_,2*E+2*C+1),_[2*E+2*C+2]+=T*En,B(_,2*E+2*C+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function B(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function z(D,y){this.g=D,this.h=y}function ce(D,y){if(S(y))throw Error("division by zero");if(S(D))return new z(p,p);if(M(D))return y=ce(R(D),y),new z(R(y.g),R(y.h));if(M(y))return y=ce(D,R(y)),new z(R(y.g),y.h);if(30<D.g.length){if(M(D)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Re(_),E=Re(E);var C=X(_,1),T=X(E,1);for(E=X(E,2),_=X(_,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(C=C.add(_),T=I),E=X(E,1),_=X(_,1)}return y=F(D,C.j(y)),new z(C,y)}for(C=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(y);M(I)||0<I.l(D);)_-=E,T=l(_),I=T.j(y);S(T)&&(T=m),C=C.add(T),D=F(D,I)}return new z(C,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Re(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function X(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,C=[],T=0;T<E;T++)C[T]=0<y?D.i(T+_)>>>y|D.i(T+_+1)<<32-y:D.i(T+_);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ay=MT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,xr=MT.Integer=o}).apply(typeof RT<"u"?RT:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qn={};var Ry,My,Js,Ny,uc,Pd,xy,Py,Oy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var P=Array(arguments.length-2),De=2;De<arguments.length;De++)P[De-2]=arguments[De];return d.prototype[b].apply(g,P)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let P=0;P<A;P++)c[b+P]=g[P]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Re=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function X(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Rh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class En{constructor(){this.h=this.g=null}add(d,f){let g=Do.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Do=new F(()=>new SA,c=>c.reset());class SA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Co,bo=!1,Rh=new En,L_=()=>{let c=a.Promise.resolve(void 0);Co=()=>{c.then(AA)}};var AA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=Do;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}bo=!1};function tr(){this.s=this.s,this.C=this.C}tr.prototype.s=!1,tr.prototype.ma=function(){this.s||(this.s=!0,this.N())},tr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var RA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function To(c,d){if(Je.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{ce(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:MA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&To.aa.h.call(this)}}S(To,Je);var MA={2:"touch",3:"pen",4:"mouse"};To.prototype.h=function(){To.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var So="closure_listenable_"+(1e6*Math.random()|0),NA=0;function xA(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++NA,this.da=this.fa=!1}function Pc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Oc(c){this.src=c,this.g={},this.h=0}Oc.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Nh(c,d,g,b);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new xA(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function Mh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Pc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Nh(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var xh="closure_lm_"+(1e6*Math.random()|0),Ph={};function V_(c,d,f,g,b){if(g&&g.once)return U_(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)V_(c,d[A],f,g,b);return null}return f=Lh(f),c&&c[So]?c.K(d,f,l(g)?!!g.capture:!!g,b):j_(c,d,f,!1,g,b)}function j_(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,De=kh(c);if(De||(c[xh]=De=new Oc(c)),f=De.add(d,f,g,P,A),f.proxy)return f;if(g=PA(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)RA||(b=P),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent($_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function PA(){function c(f){return d.call(c.src,c.listener,f)}let d=OA;return c}function U_(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)U_(c,d[A],f,g,b);return null}return f=Lh(f),c&&c[So]?c.L(d,f,l(g)?!!g.capture:!!g,b):j_(c,d,f,!0,g,b)}function B_(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)B_(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Lh(f),c&&c[So]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Nh(A,f,g,b),-1<f&&(Pc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=kh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Nh(d,f,g,b)),(f=-1<c?d[c]:null)&&Oh(f))}function Oh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[So])Mh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent($_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=kh(d))?(Mh(f,c),f.h==0&&(f.src=null,d[xh]=null)):Pc(c)}}}function $_(c){return c in Ph?Ph[c]:Ph[c]="on"+c}function OA(c,d){if(c.da)c=!0;else{d=new To(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Oh(c),c=f.call(g,d)}return c}function kh(c){return c=c[xh],c instanceof Oc?c:null}var Fh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lh(c){return typeof c=="function"?c:(c[Fh]||(c[Fh]=function(d){return c.handleEvent(d)}),c[Fh])}function Xe(){tr.call(this),this.i=new Oc(this),this.M=this,this.F=null}S(Xe,tr),Xe.prototype[So]=!0,Xe.prototype.removeEventListener=function(c,d,f,g){B_(this,c,d,f,g)};function ut(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Je(d,c);else if(d instanceof Je)d.target=d.target||c;else{var b=d;d=new Je(g,c),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];b=kc(P,g,!0,d)&&b}if(P=d.g=c,b=kc(P,g,!0,d)&&b,b=kc(P,g,!1,d)&&b,f)for(A=0;A<f.length;A++)P=d.g=f[A],b=kc(P,g,!1,d)&&b}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Pc(f[g]);delete c.g[d],c.h--}}this.F=null},Xe.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Xe.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function kc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var De=P.listener,We=P.ha||P.src;P.fa&&Mh(c.i,P),b=De.call(We,g)!==!1&&b}}return b&&!g.defaultPrevented}function H_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function q_(c){c.g=H_(()=>{c.g=null,c.i&&(c.i=!1,q_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class kA extends tr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:q_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(c){tr.call(this),this.h=c,this.g={}}S(Ao,tr);var z_=[];function G_(c){X(c.g,function(d,f){this.g.hasOwnProperty(f)&&Oh(d)},c),c.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),G_(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vh=a.JSON.stringify,FA=a.JSON.parse,LA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function jh(){}jh.prototype.h=null;function W_(c){return c.h||(c.h=c.i())}function K_(){}var Ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uh(){Je.call(this,"d")}S(Uh,Je);function Bh(){Je.call(this,"c")}S(Bh,Je);var Lr={},Q_=null;function Fc(){return Q_=Q_||new Xe}Lr.La="serverreachability";function Y_(c){Je.call(this,Lr.La,c)}S(Y_,Je);function Mo(c){let d=Fc();ut(d,new Y_(d))}Lr.STAT_EVENT="statevent";function Z_(c,d){Je.call(this,Lr.STAT_EVENT,c),this.stat=d}S(Z_,Je);function lt(c){let d=Fc();ut(d,new Z_(d,c))}Lr.Ma="timingevent";function J_(c,d){Je.call(this,Lr.Ma,c),this.size=d}S(J_,Je);function No(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function xo(){this.g=!0}xo.prototype.xa=function(){this.g=!1};function VA(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var P="",De=A.split("&"),We=0;We<De.length;We++){var ve=De[We].split("=");if(1<ve.length){var et=ve[0];ve=ve[1];var tt=et.split("_");P=2<=tt.length&&tt[1]=="type"?P+(et+"="+ve+"&"):P+(et+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+P})}function jA(c,d,f,g,b,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+P})}function ji(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+BA(c,f)+(g?" "+g:"")})}function UA(c,d){c.info(function(){return"TIMEOUT: "+d})}xo.prototype.info=function(){};function BA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return Vh(f)}catch{return d}}var Lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},X_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$h;function Vc(){}S(Vc,jh),Vc.prototype.g=function(){return new XMLHttpRequest},Vc.prototype.i=function(){return{}},$h=new Vc;function nr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eI}function eI(){this.i=null,this.g="",this.h=!1}var tI={},Hh={};function qh(c,d,f){c.L=1,c.v=$c(Dn(d)),c.m=f,c.P=!0,nI(c,null)}function nI(c,d){c.F=Date.now(),jc(c),c.A=Dn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),mI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new eI,c.g=OI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new kA(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(z_[0]=b.toString()),b=z_);for(var A=0;A<b.length;A++){var P=V_(f,b[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Mo(),VA(c.i,c.u,c.A,c.l,c.R,c.m)}nr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cn(c)==3?d.j():this.Y(c)},nr.prototype.Y=function(c){try{if(c==this.g)e:{let tt=Cn(this.g);var d=this.g.Ba();let $i=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||DI(this.g)))){this.J||tt!=4||d==7||(d==8||0>=$i?Mo(3):Mo(2)),zh(this);var f=this.g.Z();this.X=f;t:if(rI(this)){var g=DI(this.g);c="";var b=g.length,A=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),Po(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,jA(this.i,this.u,this.A,this.l,this.R,tt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,We=this.g;if((De=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(De)){var ve=De;break t}}ve=null}if(f=ve)ji(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gh(this,f);else{this.o=!1,this.s=3,lt(12),Vr(this),Po(this);break e}}if(this.P){f=!0;let $t;for(;!this.J&&this.C<P.length;)if($t=$A(this,P),$t==Hh){tt==4&&(this.s=4,lt(14),f=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if($t==tI){this.s=4,lt(15),ji(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else ji(this.i,this.l,$t,null),Gh(this,$t);if(rI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||P.length!=0||this.h.h||(this.s=1,lt(16),f=!1),this.o=this.o&&f,!f)ji(this.i,this.l,P,"[Invalid Chunked Response]"),Vr(this),Po(this);else if(0<P.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Jh(et),et.M=!0,lt(11))}}else ji(this.i,this.l,P,null),Gh(this,P);tt==4&&Vr(this),this.o&&!this.J&&(tt==4?MI(this.j,this):(this.o=!1,jc(this)))}else sR(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Vr(this),Po(this)}}}catch{}finally{}};function rI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $A(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Hh:(f=Number(d.substring(f,g)),isNaN(f)?tI:(g+=1,g+f>d.length?Hh:(d=d.slice(g,g+f),c.C=g+f,d)))}nr.prototype.cancel=function(){this.J=!0,Vr(this)};function jc(c){c.S=Date.now()+c.I,iI(c,c.I)}function iI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=No(m(c.ba,c),d)}function zh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}nr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(UA(this.i,this.A),this.L!=2&&(Mo(),lt(17)),Vr(this),this.s=2,Po(this)):iI(this,this.S-c)};function Po(c){c.j.G==0||c.J||MI(c.j,c)}function Vr(c){zh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,G_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Gh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Wh(f.h,c))){if(!c.K&&Wh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Wc(f),zc(f);else break e;Zh(f),lt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=No(m(f.Za,f),6e3));if(1>=aI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ur(f,11)}else if((c.K||f.g==c)&&Wc(f),!B(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let et=ve[3];et!=null&&(f.la=et,f.j.info("VER="+f.la));let tt=ve[4];tt!=null&&(f.Aa=tt,f.j.info("SVER="+f.Aa));let $i=ve[5];$i!=null&&typeof $i=="number"&&0<$i&&(g=1.5*$i,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let $t=c.g;if($t){let Qc=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qc){var A=g.h;A.g||Qc.indexOf("spdy")==-1&&Qc.indexOf("quic")==-1&&Qc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Kh(A,A.h),A.h=null))}if(g.D){let Xh=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;Xh&&(g.ya=Xh,Te(g.I,g.D,Xh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=PI(g,g.J?g.ia:null,g.W),P.K){cI(g.h,P);var De=P,We=g.L;We&&(De.I=We),De.B&&(zh(De),jc(De)),g.g=P}else AI(g);0<f.i.length&&Gc(f)}else ve[0]!="stop"&&ve[0]!="close"||Ur(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Ur(f,7):Yh(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}Mo(4)}catch{}}var HA=class{constructor(c,d){this.g=c,this.map=d}};function sI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aI(c){return c.h?1:c.g?c.g.size:0}function Wh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Kh(c,d){c.g?c.g.add(d):c.h=d}function cI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}sI.prototype.cancel=function(){if(this.i=uI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function uI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function qA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function zA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function lI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=zA(c),g=qA(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var dI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof jr){this.h=c.h,Uc(this,c.j),this.o=c.o,this.g=c.g,Bc(this,c.s),this.l=c.l;var d=c.i,f=new Fo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),hI(this,f),this.m=c.m}else c&&(d=String(c).match(dI))?(this.h=!1,Uc(this,d[1]||"",!0),this.o=Oo(d[2]||""),this.g=Oo(d[3]||"",!0),Bc(this,d[4]),this.l=Oo(d[5]||"",!0),hI(this,d[6]||"",!0),this.m=Oo(d[7]||"")):(this.h=!1,this.i=new Fo(null,this.h))}jr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ko(d,fI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ko(d,fI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ko(f,f.charAt(0)=="/"?QA:KA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ko(f,ZA)),c.join("")};function Dn(c){return new jr(c)}function Uc(c,d,f){c.j=f?Oo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Bc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function hI(c,d,f){d instanceof Fo?(c.i=d,JA(c.i,c.h)):(f||(d=ko(d,YA)),c.i=new Fo(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function $c(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ko(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,WA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function WA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fI=/[#\/\?@]/g,KA=/[#\?:]/g,QA=/[#\?]/g,YA=/[#\?@]/g,ZA=/#/g;function Fo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&GA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Fo.prototype,t.add=function(c,d){rr(this),this.i=null,c=Ui(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function pI(c,d){rr(c),d=Ui(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function gI(c,d){return rr(c),d=Ui(c,d),c.g.has(d)}t.forEach=function(c,d){rr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){rr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(c){rr(this);let d=[];if(typeof c=="string")gI(this,c)&&(d=d.concat(this.g.get(Ui(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return rr(this),this.i=null,c=Ui(this,c),gI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function mI(c,d,f){pI(c,d),0<f.length&&(c.i=null,c.g.set(Ui(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=A;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),c.push(b)}}return this.i=c.join("&")};function Ui(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function JA(c,d){d&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(pI(this,g),mI(this,b,f))},c)),c.j=d}function XA(c,d){let f=new xo;if(a.Image){let g=new Image;g.onload=v(ir,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(ir,f,"TestLoadImage: error",!1,d,g),g.onabort=v(ir,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(ir,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function eR(c,d){let f=new xo,g=new AbortController,b=setTimeout(()=>{g.abort(),ir(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?ir(f,"TestPingServer: ok",!0,d):ir(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),ir(f,"TestPingServer: error",!1,d)})}function ir(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function tR(){this.g=new LA}function nR(c,d,f){let g=f||"";try{lI(c,function(b,A){let P=b;l(b)&&(P=Vh(b)),d.push(g+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Lo(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Lo,jh),Lo.prototype.g=function(){return new Hc(this.l,this.j)},Lo.prototype.i=function(c){return function(){return c}}({});function Hc(c,d){Xe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Hc,Xe),t=Hc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,jo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,jo(this)),this.g&&(this.readyState=3,jo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Vo(this):jo(this),this.readyState==3&&yI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Vo(this))},t.Qa=function(c){this.g&&(this.response=c,Vo(this))},t.ga=function(){this.g&&Vo(this)};function Vo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,jo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function jo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vI(c){let d="";return X(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Qh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=vI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Me(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,Xe);var rR=/^https?$/i,iR=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$h.g(),this.v=this.o?W_(this.o):W_($h),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){_I(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iR,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{EI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){_I(this,A)}};function _I(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,II(c),qc(c)}function II(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ut(this,"complete"),ut(this,"abort"),qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wI(this):this.bb())},t.bb=function(){wI(this)};function wI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)H_(c.Ea,0,c);else if(ut(c,"readystatechange"),Cn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var b=String(c.D).match(dI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!rR.test(b?b.toLowerCase():"")}f=g}if(f)ut(c,"complete"),ut(c,"success");else{c.m=6;try{var A=2<Cn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",II(c)}}finally{qc(c)}}}}function qc(c,d){if(c.g){EI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ut(c,"ready");try{f.onreadystatechange=g}catch{}}}function EI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),FA(d)}};function DI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sR(c){let d={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(B(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function CI(c){this.Aa=0,this.i=[],this.j=new xo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uo("baseRetryDelayMs",5e3,c),this.cb=Uo("retryDelaySeedMs",1e4,c),this.Wa=Uo("forwardChannelMaxRetries",2,c),this.wa=Uo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sI(c&&c.concurrentRequestLimit),this.Da=new tR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=CI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){lt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=PI(this,null,this.W),Gc(this)};function Yh(c){if(bI(c),c.G==3){var d=c.U++,f=Dn(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),Bo(c,f),d=new nr(c,c.j,d),d.L=2,d.v=$c(Dn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=OI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),jc(d)}xI(c)}function zc(c){c.g&&(Jh(c),c.g.cancel(),c.g=null)}function bI(c){zc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gc(c){if(!oI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Co||L_(),bo||(Co(),bo=!0),Rh.add(d,c),c.B=0}}function oR(c,d){return aI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=No(m(c.Ga,c,d),NI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new nr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=SI(this,b,d),f=Dn(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),Bo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(vI(A)))+"&"+d:this.m&&Qh(f,this.m,A)),Kh(this.h,b),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),b.T=!0,qh(b,f,null)):qh(b,f,d),this.G=2}}else this.G==3&&(c?TI(this,c):this.i.length==0||oI(this.h)||TI(this))};function TI(c,d){var f;d?f=d.l:f=c.U++;let g=Dn(c.I);Te(g,"SID",c.K),Te(g,"RID",f),Te(g,"AID",c.T),Bo(c,g),c.m&&c.o&&Qh(g,c.m,c.o),f=new nr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=SI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Kh(c.h,f),qh(f,g,d)}function Bo(c,d){c.H&&X(c.H,function(f,g){Te(d,g,f)}),c.l&&lI({},function(f,g){Te(d,g,f)})}function SI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let De=!0;for(let We=0;We<f;We++){let ve=b[We].g,et=b[We].map;if(ve-=A,0>ve)A=Math.max(0,b[We].g-100),De=!1;else try{nR(et,P,"req"+ve+"_")}catch{g&&g(et)}}if(De){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function AI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Co||L_(),bo||(Co(),bo=!0),Rh.add(d,c),c.v=0}}function Zh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=No(m(c.Fa,c),NI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,RI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=No(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),zc(this),RI(this))};function Jh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function RI(c){c.g=new nr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Dn(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),Bo(c,d),c.m&&c.o&&Qh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=$c(Dn(d)),f.m=null,f.P=!0,nI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,zc(this),Zh(this),lt(19))};function Wc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function MI(c,d){var f=null;if(c.g==d){Wc(c),Jh(c),c.g=null;var g=2}else if(Wh(c.h,d))f=d.D,cI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Fc(),ut(g,new J_(g,f)),Gc(c)}else AI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&oR(c,d)||g==2&&Zh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function NI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ur(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new jr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uc(g,"https"),$c(g),b?XA(g.toString(),f):eR(g.toString(),f)}else lt(2);c.G=0,c.l&&c.l.sa(d),xI(c),bI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function xI(c){if(c.G=0,c.ka=[],c.l){let d=uI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function PI(c,d,f){var g=f instanceof jr?Dn(f):new jr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Bc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new jr(null);g&&Uc(A,g),d&&(A.g=d),b&&Bc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Te(g,f,d),Te(g,"VER",c.la),Bo(c,g),g}function OI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new Lo({eb:f})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kI(){}t=kI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kc(){}Kc.prototype.g=function(c,d){return new It(c,d)};function It(c,d){Xe.call(this),this.g=new CI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!B(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!B(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Bi(this)}S(It,Xe),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Yh(this.g)},It.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Vh(c),c=f);d.i.push(new HA(d.Ya++,c)),d.G==3&&Gc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,Yh(this.g),delete this.g,It.aa.N.call(this)};function FI(c){Uh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(FI,Uh);function LI(){Bh.call(this),this.status=1}S(LI,Bh);function Bi(c){this.g=c}S(Bi,kI),Bi.prototype.ua=function(){ut(this.g,"a")},Bi.prototype.ta=function(c){ut(this.g,new FI(c))},Bi.prototype.sa=function(c){ut(this.g,new LI)},Bi.prototype.ra=function(){ut(this.g,"b")},Kc.prototype.createWebChannel=Kc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,Oy=Qn.createWebChannelTransport=function(){return new Kc},Py=Qn.getStatEventTarget=function(){return Fc()},xy=Qn.Event=Lr,Pd=Qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,uc=Qn.ErrorCode=Lc,X_.COMPLETE="complete",Ny=Qn.EventType=X_,K_.EventType=Ro,Ro.OPEN="a",Ro.CLOSE="b",Ro.ERROR="c",Ro.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Js=Qn.WebChannel=K_,My=Qn.FetchXmlHttpFactory=Lo,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Ry=Qn.XhrIo=Me}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});var NT="@firebase/firestore";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var Io="10.13.1";var Ni=new Cr("@firebase/firestore");function lc(){return Ni.logLevel}function L(t,...e){if(Ni.logLevel<=fe.DEBUG){let n=e.map(y_);Ni.debug(`Firestore (${Io}): ${t}`,...n)}}function Zn(t,...e){if(Ni.logLevel<=fe.ERROR){let n=e.map(y_);Ni.error(`Firestore (${Io}): ${t}`,...n)}}function so(t,...e){if(Ni.logLevel<=fe.WARN){let n=e.map(y_);Ni.warn(`Firestore (${Io}): ${t}`,...n)}}function y_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+t;throw Zn(e),new Error(e)}function be(t,e){t||K()}function J(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends St{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},Uy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},By=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new Vd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ge(e)}},$y=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Hy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $y(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},qy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},zy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new qy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function KU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=KU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function oo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ze(0,0))}static max(){return new t(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ud=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends Ud{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},QU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,At=class t extends Ud{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return QU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Gy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Gy.UNKNOWN_ID=-1;function YU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new xi(i,q.empty(),e)}function ZU(t){return new xi(t.readTime,t.key,-1)}var xi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),q.empty(),-1)}static max(){return new t(ne.max(),q.empty(),-1)}};function JU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var XU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ac(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==XU)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function e2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rc(t){return t.name==="IndexedDbTransactionError"}var uS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function gh(t){return t==null}function yc(t){return t===0&&1/t==-1/0}function t2(t){return typeof t=="number"&&Number.isInteger(t)&&!yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var n2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Q6=[...n2,"documentOverlays"],r2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],i2=r2,s2=[...i2,"indexConfiguration","indexState","indexEntries"];var Y6=[...s2,"globals"];function xT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new no(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new no(this.root,e,this.comparator,!1)}getReverseIterator(){return new no(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new no(this.root,e,this.comparator,!0)}},no=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bd(this.data.getIterator())}getIteratorFrom(e){return new Bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mn=class t{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new t([])}unionWith(e){let n=new at(At.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var $d=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $d("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var o2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jn(t){if(be(!!t),typeof t=="string"){let e=0,n=o2.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Or(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}function v_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function __(t){let e=t.mapValue.fields.__previous_value__;return v_(e)?__(e):e}function vc(t){let e=Jn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}var Ky=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Hd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Od={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?v_(t)?4:hS(t)?9007199254740991:dS(t)?10:11:K()}function In(t,e){if(t===e)return!0;let n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Jn(i.timestampValue),a=Jn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Or(i.bytesValue).isEqual(Or(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Se(i.doubleValue),a=Se(s.doubleValue);return o===a?yc(o)===yc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oo(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xT(o)!==xT(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!In(o[u],a[u])))return!1;return!0}(t,e);default:return K()}}function _c(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function ao(t,e){if(t===e)return 0;let n=Pi(t),r=Pi(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return PT(t.timestampValue,e.timestampValue);case 4:return PT(vc(t),vc(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Or(s),u=Or(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=_e(a[l],u[l]);if(h!==0)return h}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=_e(Se(s.latitude),Se(o.latitude));return a!==0?a:_e(Se(s.longitude),Se(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return OT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=_e(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:OT(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Od.mapValue&&o===Od.mapValue)return 0;if(s===Od.mapValue)return 1;if(o===Od.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=_e(u[p],h[p]);if(m!==0)return m;let v=ao(a[u[p]],l[h[p]]);if(v!==0)return v}return _e(u.length,h.length)}(t.mapValue,e.mapValue);default:throw K()}}function PT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=Jn(t),r=Jn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function OT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ao(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function co(t){return Qy(t)}function Qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Jn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Qy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Qy(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function Yy(t){return!!t&&"integerValue"in t}function I_(t){return!!t&&"arrayValue"in t}function kT(t){return!!t&&"nullValue"in t}function FT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function dS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Xt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(hc(this.value))}};function fS(t){let e=[];return wo(t.fields,(n,r)=>{let i=new At([n]);if(Fd(r)){let s=fS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}var en=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var uo=class{constructor(e,n){this.position=e,this.inclusive=n}};function LT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function VT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}var lo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function a2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var qd=class{},He=class t extends qd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Jy(e,n,r):n==="array-contains"?new tv(e,r):n==="in"?new nv(e,r):n==="not-in"?new rv(e,r):n==="array-contains-any"?new iv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Xy(e,r):new ev(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},wn=class t extends qd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return pS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function pS(t){return t.op==="and"}function gS(t){return c2(t)&&pS(t)}function c2(t){for(let e of t.filters)if(e instanceof wn)return!1;return!0}function Zy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+co(t.value);if(gS(t))return t.filters.map(e=>Zy(e)).join(",");{let e=t.filters.map(n=>Zy(n)).join(",");return`${t.op}(${e})`}}function mS(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mS(o,i.filters[a]),!0):!1}(t,e):void K()}function yS(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(yS).join(" ,")+"}"}(t):"Filter"}var Jy=class extends He{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},Xy=class extends He{constructor(e,n){super(e,"in",n),this.keys=vS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ev=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=vS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function vS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var tv=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return I_(n)&&_c(n.arrayValue,this.value)}},nv=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}},rv=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!_c(this.value.arrayValue,n)}},iv=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!I_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_c(this.value.arrayValue,r))}};var sv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function jT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sv(t,e,n,r,i,s,o)}function w_(t){let e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ue=n}return e.ue}function E_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VT(t.startAt,e.startAt)&&VT(t.endAt,e.endAt)}function ov(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ho=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function u2(t,e,n,r,i,s,o,a){return new ho(t,e,n,r,i,s,o,a)}function D_(t){return new ho(t)}function UT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l2(t){return t.collectionGroup!==null}function fc(t){let e=J(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new lo(s,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new lo(At.keyField(),r))}return e.ce}function vn(t){let e=J(t);return e.le||(e.le=d2(e,fc(t))),e.le}function d2(t,e){if(t.limitType==="F")return jT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new lo(i.field,s)});let n=t.endAt?new uo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uo(t.startAt.position,t.startAt.inclusive):null;return jT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function av(t,e,n){return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return E_(vn(t),vn(e))&&t.limitType===e.limitType}function _S(t){return`${w_(vn(t))}|lt:${t.limitType}`}function Xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yS(i)).join(", ")}]`),gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of fc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=LT(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,fc(r),i)||r.endAt&&!function(o,a,u){let l=LT(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,fc(r),i))}(t,e)}function h2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IS(t){return(e,n)=>{let r=!1;for(let i of fc(t)){let s=f2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function f2(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ao(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var kr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return lS(this.inner)}size(){return this.innerSize}};var p2=new Oe(q.comparator);function Xn(){return p2}var wS=new Oe(q.comparator);function dc(...t){let e=wS;for(let n of t)e=e.insert(n.key,n);return e}function ES(t){let e=wS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return pc()}function DS(){return pc()}function pc(){return new kr(t=>t.toString(),(t,e)=>t.isEqual(e))}var g2=new Oe(q.comparator),m2=new at(q.comparator);function pe(...t){let e=m2;for(let n of t)e=e.add(n);return e}var y2=new at(_e);function v2(){return y2}function C_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function CS(t){return{integerValue:""+t}}function _2(t,e){return t2(e)?CS(e):C_(t,e)}var fo=class{constructor(){this._=void 0}};function I2(t,e,n){return t instanceof po?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&v_(s)&&(s=__(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Oi?TS(t,e):t instanceof ki?SS(t,e):function(i,s){let o=bS(i,s),a=BT(o)+BT(i.Pe);return Yy(o)&&Yy(i.Pe)?CS(a):C_(i.serializer,a)}(t,e)}function w2(t,e,n){return t instanceof Oi?TS(t,e):t instanceof ki?SS(t,e):n}function bS(t,e){return t instanceof go?function(r){return Yy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var po=class extends fo{},Oi=class extends fo{constructor(e){super(),this.elements=e}};function TS(t,e){let n=AS(e);for(let r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}var ki=class extends fo{constructor(e){super(),this.elements=e}};function SS(t,e){let n=AS(e);for(let r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}var go=class extends fo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function BT(t){return Se(t.integerValue||t.doubleValue)}function AS(t){return I_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oi&&i instanceof Oi||r instanceof ki&&i instanceof ki?oo(r.elements,i.elements,In):r instanceof go&&i instanceof go?In(r.Pe,i.Pe):r instanceof po&&i instanceof po}(t.transform,e.transform)}var cv=class{constructor(e,n){this.version=e,this.transformResults=n}},Mi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var mo=class{};function RS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zd(t.key,Mi.none()):new Fi(t.key,t.data,Mi.none());{let n=t.data,r=Xt.empty(),i=new at(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new er(t.key,r,new mn(i.toArray()),Mi.none())}}function D2(t,e,n){t instanceof Fi?function(i,s,o){let a=i.value.clone(),u=HT(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof er?function(i,s,o){if(!Ld(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=HT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(MS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gc(t,e,n,r){return t instanceof Fi?function(s,o,a,u){if(!Ld(s.precondition,o))return a;let l=s.value.clone(),h=qT(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof er?function(s,o,a,u){if(!Ld(s.precondition,o))return a;let l=qT(s.fieldTransforms,u,o),h=o.data;return h.setAll(MS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Ld(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function C2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=bS(r.transform,i||null);s!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function $T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oo(r,i,(s,o)=>E2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fi=class extends mo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},er=class extends mo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function MS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function HT(t,e,n){let r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,w2(o,a,n[i]))}return r}function qT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,I2(s,o,e))}return r}var zd=class extends mo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},uv=class extends mo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var lv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&D2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=DS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=RS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,r)=>$T(n,r))&&oo(this.baseMutations,e.baseMutations,(n,r)=>$T(n,r))}},dv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return g2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var hv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Fe,me;function b2(t){switch(t){default:return K();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function NS(t){if(t===void 0)return Zn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Fe.OK:return N.OK;case Fe.CANCELLED:return N.CANCELLED;case Fe.UNKNOWN:return N.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return N.INTERNAL;case Fe.UNAVAILABLE:return N.UNAVAILABLE;case Fe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Fe.NOT_FOUND:return N.NOT_FOUND;case Fe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Fe.ABORTED:return N.ABORTED;case Fe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Fe.DATA_LOSS:return N.DATA_LOSS;default:return K()}}(me=Fe||(Fe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var zT=null;function T2(){return new TextEncoder}var S2=new xr([4294967295,4294967295],0);function GT(t){let e=T2().encode(t),n=new Ay;return n.update(e),new Uint8Array(n.digest())}function WT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xr([n,r],0),new xr([i,s],0)]}var pv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ai(`Invalid padding: ${n}`);if(r<0)throw new Ai(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ai(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ai(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xr.fromNumber(r)));return i.compare(S2)===1&&(i=new xr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=GT(e),[r,i]=WT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=GT(e),[r,i]=WT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ai=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Oe(_e),Xn(),pe())}},Ic=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var ro=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Wd=class{constructor(e,n){this.targetId=e,this.me=n}},Kd=class{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Qd=class{constructor(){this.fe=0,this.ge=QT(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new Ic(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=QT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},gv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xn(),this.qe=KT(),this.Qe=new Oe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(ov(s))if(r===0){let o=new q(s.path);this.Ue(n,o,en.newNoDocument(o,ne.min()))}else be(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}zT?.et(function(h,p,m,v,S){var M,R,F,B,z,ce;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},X=p.unchangedNames;return X&&(Re.bloomFilter={applied:S===0,hashCount:(M=X?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(B=(F=(R=X?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&B!==void 0?B:0,padding:(ce=(z=X?.bits)===null||z===void 0?void 0:z.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Re}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Or(r).toUint8Array()}catch(u){if(u instanceof $d)return so("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pv(o,i,s)}catch(u){return so(u instanceof Ai?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&ov(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,en.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Gd(e,n,this.Qe,this.ke,r);return this.ke=Xn(),this.qe=KT(),this.Qe=new Oe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Qd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function KT(){return new Oe(q.comparator)}function QT(){return new Oe(q.comparator)}var A2={asc:"ASCENDING",desc:"DESCENDING"},R2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M2={and:"AND",or:"OR"},mv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function yv(t,e){return t.useProto3Json||gh(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N2(t,e){return Yd(t,e.toTimestamp())}function _n(t){return be(!!t),ne.fromTimestamp(function(n){let r=Jn(n);return new Ze(r.seconds,r.nanos)}(t))}function b_(t,e){return vv(t,e).canonicalString()}function vv(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PS(t){let e=Pe.fromString(t);return be(VS(e)),e}function _v(t,e){return b_(t.databaseId,e.path)}function ky(t,e){let n=PS(e);if(n.get(1)!==t.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(kS(n))}function OS(t,e){return b_(t.databaseId,e)}function x2(t){let e=PS(t);return e.length===4?Pe.emptyPath():kS(e)}function Iv(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kS(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YT(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function P2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(be(h===void 0||typeof h=="string"),ct.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?N.UNKNOWN:NS(l.code);return new j(h,l.message||"")}(o);n=new Kd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ky(t,r.document.name),s=_n(r.document.updateTime),o=r.document.createTime?_n(r.document.createTime):ne.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=en.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ro(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ky(t,r.document),s=r.readTime?_n(r.readTime):ne.min(),o=en.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ro([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ky(t,r.document),s=r.removedTargetIds||[];n=new ro([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new fv(i,s),a=r.targetId;n=new Wd(a,o)}}return n}function O2(t,e){let n;if(e instanceof Fi)n={update:YT(t,e.key,e.value)};else if(e instanceof zd)n={delete:_v(t,e.key)};else if(e instanceof er)n={update:YT(t,e.key,e.data),updateMask:H2(e.fieldMask)};else{if(!(e instanceof uv))return K();n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof po)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ki)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof go)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:N2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function k2(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?_n(i.updateTime):_n(s);return o.isEqual(ne.min())&&(o=_n(s)),new cv(o,i.transformResults||[])}(n,e))):[]}function F2(t,e){return{documents:[OS(t,e.path)]}}function L2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OS(t,i);let s=function(l){if(l.length!==0)return LS(wn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:eo(m.field),direction:U2(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=yv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function V2(t){let e=x2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=FS(p);return m instanceof wn&&gS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new lo(to(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,gh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new uo(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new uo(v,m)}(n.endAt)),u2(e,i,o,s,a,"F",u,l)}function j2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=to(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=to(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=to(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=to(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return He.create(to(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wn.create(n.compositeFilter.filters.map(r=>FS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function U2(t){return A2[t]}function B2(t){return R2[t]}function $2(t){return M2[t]}function eo(t){return{fieldPath:t.canonicalString()}}function to(t){return At.fromServerFormat(t.fieldPath)}function LS(t){return t instanceof He?function(n){if(n.op==="=="){if(FT(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(kT(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FT(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(kT(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:B2(n.op),value:n.value}}}(t):t instanceof wn?function(n){let r=n.getFilters().map(i=>LS(i));return r.length===1?r[0]:{compositeFilter:{op:$2(n.op),filters:r}}}(t):K()}function H2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var wc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var wv=class{constructor(e){this.ct=e}};function q2(t){let e=V2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?av(e,e.limit,"L"):e}var Zd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),yc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Jn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Or(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?hS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):dS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):K()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Zd.vt=new Zd;var Ev=class{constructor(){this.un=new Dv}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(xi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Dv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Pe.comparator)).toArray()}};var J6=new Uint8Array(0);var gn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);var Ec=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Cv=class{constructor(){this.changes=new kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var bv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Tv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gc(r.mutation,i,mn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=Si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=dc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xn(),o=pc(),a=function(){return pc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof er)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),gc(h.mutation,l,h.mutation.getFieldMask(),Ze.now())):o.set(l.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new bv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=pc(),i=new Oe((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||mn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=DS();h.forEach(m=>{if(!s.has(m)){let v=RS(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Si()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:ES(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=dc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=dc();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new ho(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,en.newInvalidDocument(h)))});let a=dc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&gc(h.mutation,l,mn.empty(),Ze.now()),yh(n,l)&&(a=a.insert(u,l))}),a})}};var Sv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_n(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:q2(i.bundledQuery),readTime:_n(i.readTime)}}(n)),x.resolve()}};var Av=class{constructor(){this.overlays=new Oe(q.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Si();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Si(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Si(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Si(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hv(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Rv=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var Dc=class{constructor(){this.Tr=new at(Le.Er),this.dr=new at(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Le(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Le(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Le(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||q.comparator(e.key,n.key)}};var Mv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(Le.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new lv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Le(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(_e);return n.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new Le(new q(s),0),a=new at(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Le(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Le(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Nv=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xn(),o=n.path,a=new q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||JU(ZU(h),r)<=0||(i.has(h.key)||yh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xv(this)}getSize(e){return x.resolve(this.size)}},xv=class extends Cv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Pv=class{constructor(e){this.persistence=e,this.Nr=new kr(n=>w_(n),E_),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Dc,this.targetCount=0,this.kr=Ec.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ec(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Ov=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new uS(0),this.Kr=!1,this.Kr=!0,this.$r=new Rv,this.referenceDelegate=e(this),this.Ur=new Pv(this),this.indexManager=new Ev,this.remoteDocumentCache=function(i){return new Nv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wv(n),this.Gr=new Sv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Av,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Mv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new kv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},kv=class extends Wy{constructor(e){super(),this.currentSequenceNumber=e}},Fv=class t{constructor(e){this.persistence=e,this.Jr=new Dc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw K()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Lv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Vv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var jv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return c0()?8:e2(ze())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Vv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(lc()<=fe.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(lc()<=fe.DEBUG&&L("QueryEngine","Query:",Xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(lc()<=fe.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):x.resolve())}Yi(e,n){if(UT(n))return x.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=av(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,av(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return UT(n)||i.isEqual(ne.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(lc()<=fe.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xs(n)),this.rs(e,o,n,YU(i,-1)).next(a=>a))})}ts(e,n){let r=new at(IS(e));return n.forEach((i,s)=>{yh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return lc()<=fe.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Xs(n)),this.Ji.getDocumentsMatchingQuery(e,n,xi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Uv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(_e),this._s=new kr(s=>w_(s),E_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function z2(t,e,n,r){return new Uv(t,e,n,r)}function jS(t,e){return w(this,null,function*(){let n=J(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=pe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function G2(t,e){let n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);be(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function US(t){let e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function W2(t,e){let n=J(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ct.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=Xn(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(K2(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function K2(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function Q2(t,e){let n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y2(t,e){let n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new wc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Bv(t,e,n){return w(this,null,function*(){let r=J(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Rc(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function ZT(t,e,n){let r=J(t),i=ne.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=J(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:pe())).next(a=>(Z2(r,h2(e),a),{documents:a,Ts:s})))}function Z2(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Jd=class{constructor(){this.activeTargetIds=v2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var $v=class{constructor(){this.so=new Jd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Jd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Hv=class{_o(e){}shutdown(){}};var Xd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kd=null;function Fy(){return kd===null?kd=function(){return 268435456+Math.round(2147483648*Math.random())}():kd++,"0x"+kd.toString(16)}var J2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var qv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",zv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Fy(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(L("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw so("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=J2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Fy();return new Promise((o,a)=>{let u=new Ry;u.setWithCredentials(!0),u.listenOnce(Ny.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uc.NO_ERROR:let h=u.getResponseJson();L(ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case uc.TIMEOUT:L(ot,`RPC '${e}' ${s} timed out`),a(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:let p=u.getStatus();if(L(ot,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(v.status);a(new j(S,v.message))}else a(new j(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new j(N.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{L(ot,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(ot,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Fy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Oy(),a=Py(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new My({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");L(ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,S=new qv({Io:R=>{v?L(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(ot,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,B)=>{R.listen(F,z=>{try{B(z)}catch(ce){setTimeout(()=>{throw ce},0)}})};return M(p,Js.EventType.OPEN,()=>{v||(L(ot,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,Js.EventType.CLOSE,()=>{v||(v=!0,L(ot,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,Js.EventType.ERROR,R=>{v||(v=!0,so(ot,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new j(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Js.EventType.MESSAGE,R=>{var F;if(!v){let B=R.data[0];be(!!B);let z=B,ce=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(ce){L(ot,`RPC '${e}' stream ${i} received error:`,ce);let Re=ce.status,X=function(_){let E=Fe[_];if(E!==void 0)return NS(E)}(Re),D=ce.message;X===void 0&&(X=N.INTERNAL,D="Unknown error status: "+Re+" with message "+ce.message),v=!0,S.So(new j(X,D)),p.close()}else L(ot,`RPC '${e}' stream ${i} received:`,B),S.bo(B)}}),M(a,xy.STAT_EVENT,R=>{R.stat===Pd.PROXY?L(ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Pd.NOPROXY&&L(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Ly(){return typeof document<"u"?document:null}function vh(t){return new mv(t,!0)}var eh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var th=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Gv=class extends th{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=P2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?_n(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Iv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=ov(u)?{documents:F2(s,u)}:{query:L2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xS(s,o.resumeToken);let l=yv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Yd(s,o.snapshotVersion.toTimestamp());let l=yv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=j2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Iv(this.serializer),n.removeTarget=e,this.a_(n)}},Wv=class extends th{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=k2(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Iv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>O2(this.serializer,r))};this.a_(n)}};var Kv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,vv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,vv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Qv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zn(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Yv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Li(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=J(u);l.L_.add(4),yield Mc(l),l.q_.set("Unknown"),l.L_.delete(4),yield _h(l)})}(this))}))}),this.q_=new Qv(r,i)}};function _h(t){return w(this,null,function*(){if(Li(t))for(let e of t.B_)yield e(!0)})}function Mc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function BS(t,e){let n=J(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),R_(n)?A_(n):Eo(n).r_()&&S_(n,e))}function T_(t,e){let n=J(t),r=Eo(n);n.N_.delete(e),r.r_()&&$S(n,e),n.N_.size===0&&(r.r_()?r.o_():Li(n)&&n.q_.set("Unknown"))}function S_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(t).A_(e)}function $S(t,e){t.Q_.xe(e),Eo(t).R_(e)}function A_(t){t.Q_=new gv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Eo(t).start(),t.q_.v_()}function R_(t){return Li(t)&&!Eo(t).n_()&&t.N_.size>0}function Li(t){return J(t).L_.size===0}function HS(t){t.Q_=void 0}function X2(t){return w(this,null,function*(){t.q_.set("Online")})}function eB(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{S_(t,e)})})}function tB(t,e){return w(this,null,function*(){HS(t),R_(t)?(t.q_.M_(e),A_(t)):t.q_.set("Unknown")})}function nB(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Kd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nh(t,r)}else if(e instanceof ro?t.Q_.Ke(e):e instanceof Wd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield US(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ct.EMPTY_BYTE_STRING,h.snapshotVersion)),$S(s,u);let p=new wc(h.target,u,l,h.sequenceNumber);S_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield nh(t,r)}})}function nh(t,e,n){return w(this,null,function*(){if(!Rc(e))throw e;t.L_.add(1),yield Mc(t),t.q_.set("Offline"),n||(n=()=>US(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield _h(t)}))})}function qS(t,e){return e().catch(n=>nh(t,n,e))}function Ih(t){return w(this,null,function*(){let e=J(t),n=Fr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;rB(e);)try{let i=yield Q2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,iB(e,i)}catch(i){yield nh(e,i)}zS(e)&&GS(e)})}function rB(t){return Li(t)&&t.O_.length<10}function iB(t,e){t.O_.push(e);let n=Fr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function zS(t){return Li(t)&&!Fr(t).n_()&&t.O_.length>0}function GS(t){Fr(t).start()}function sB(t){return w(this,null,function*(){Fr(t).p_()})}function oB(t){return w(this,null,function*(){let e=Fr(t);for(let n of t.O_)e.m_(n.mutations)})}function aB(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=dv.from(r,e,n);yield qS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ih(t)})}function cB(t,e){return w(this,null,function*(){e&&Fr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return b2(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Fr(r).s_(),yield qS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ih(r)}})}(t,e)),zS(t)&&GS(t)})}function JT(t,e){return w(this,null,function*(){let n=J(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Li(n);n.L_.add(3),yield Mc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield _h(n)})}function uB(t,e){return w(this,null,function*(){let n=J(t);e?(n.L_.delete(2),yield _h(n)):e||(n.L_.add(2),yield Mc(n),n.q_.set("Unknown"))})}function Eo(t){return t.K_||(t.K_=function(n,r,i){let s=J(n);return s.w_(),new Gv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:X2.bind(null,t),Ro:eB.bind(null,t),mo:tB.bind(null,t),d_:nB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),R_(t)?A_(t):t.q_.set("Unknown")):(yield t.K_.stop(),HS(t))}))),t.K_}function Fr(t){return t.U_||(t.U_=function(n,r,i){let s=J(n);return s.w_(),new Wv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sB.bind(null,t),mo:cB.bind(null,t),f_:oB.bind(null,t),g_:aB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Ih(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Zv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function M_(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),Rc(t))return new j(N.UNAVAILABLE,`${e}: ${t}`);throw t}var rh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=dc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ih=class{constructor(){this.W_=new Oe(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):K():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},yo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,rh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Jv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Xv=class{constructor(){this.queries=XT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=J(n),s=i.queries;i.queries=XT(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new j(N.ABORTED,"Firestore shutting down"))}};function XT(){return new kr(t=>_S(t),mh)}function lB(t,e){return w(this,null,function*(){let n=J(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Jv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=M_(o,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&N_(n)})}function dB(t,e){return w(this,null,function*(){let n=J(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function hB(t,e){let n=J(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&N_(n)}function fB(t,e,n){let r=J(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function N_(t){t.Y_.forEach(e=>{e.next()})}var e_,eS;(eS=e_||(e_={})).ea="default",eS.Cache="cache";var t_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==e_.Cache}};var sh=class{constructor(e){this.key=e}},oh=class{constructor(e){this.key=e}},n_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=IS(e),this.Ra=new rh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new ih,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=yh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return M(v)-M(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new yo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ih,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new oh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sh(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},r_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},i_=class{constructor(e){this.key=e,this.va=!1}},s_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new kr(a=>_S(a),mh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(q.comparator),this.Na=new Map,this.La=new Dc,this.Ba={},this.ka=new Map,this.qa=Ec.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function pB(t,e,n=!0){return w(this,null,function*(){let r=JS(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield WS(r,e,n,!0),i})}function gB(t,e){return w(this,null,function*(){let n=JS(t);yield WS(n,e,!0,!1)})}function WS(t,e,n,r){return w(this,null,function*(){let i=yield Y2(t.localStore,vn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield mB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&BS(t.remoteStore,i),a})}function mB(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(M,R,F,B){return w(this,null,function*(){let z=R.view.ma(F);z.ns&&(z=yield ZT(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,z)));let ce=B&&B.targetChanges.get(R.targetId),Re=B&&B.targetMismatches.get(R.targetId)!=null,X=R.view.applyChanges(z,M.isPrimaryClient,ce,Re);return nS(M,R.targetId,X.wa),X.snapshot})}(t,p,m,v);let s=yield ZT(t.localStore,e,!0),o=new n_(e,s.Ts),a=o.ma(s.documents),u=Ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);nS(t,n,l.wa);let h=new r_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function yB(t,e,n){return w(this,null,function*(){let r=J(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!mh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Bv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&T_(r.remoteStore,i.targetId),o_(r,i.targetId)}).catch(Ac))):(o_(r,i.targetId),yield Bv(r.localStore,i.targetId,!0))})}function vB(t,e){return w(this,null,function*(){let n=J(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),T_(n.remoteStore,r.targetId))})}function _B(t,e,n){return w(this,null,function*(){let r=TB(t);try{let i=yield function(o,a){let u=J(o),l=Ze.now(),h=a.reduce((v,S)=>v.add(S.key),pe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Xn(),M=pe();return u.cs.getEntries(v,h).next(R=>{S=R,S.forEach((F,B)=>{B.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let F=[];for(let B of a){let z=C2(B,p.get(B.key).overlayedDocument);z!=null&&F.push(new er(B.key,z,fS(z.value.mapValue),Mi.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:ES(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(_e)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Nc(r,i.changes),yield Ih(r.remoteStore)}catch(i){let s=M_(i,"Failed to persist write");n.reject(s)}})}function KS(t,e){return w(this,null,function*(){let n=J(t);try{let r=yield W2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?be(o.va):i.removedDocuments.size>0&&(be(o.va),o.va=!1))}),yield Nc(n,r,e)}catch(r){yield Ac(r)}})}function tS(t,e,n){let r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=J(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&N_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function IB(t,e,n){return w(this,null,function*(){let r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(q.comparator);o=o.insert(s,en.newNoDocument(s,ne.min()));let a=pe().add(s),u=new Gd(ne.min(),new Map,new Oe(_e),o,a);yield KS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),x_(r)}else yield Bv(r.localStore,e,!1).then(()=>o_(r,e,n)).catch(Ac)})}function wB(t,e){return w(this,null,function*(){let n=J(t),r=e.batch.batchId;try{let i=yield G2(n.localStore,e);YS(n,r,null),QS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Nc(n,i)}catch(i){yield Ac(i)}})}function EB(t,e,n){return w(this,null,function*(){let r=J(t);try{let i=yield function(o,a){let u=J(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);YS(r,e,n),QS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Nc(r,i)}catch(i){yield Ac(i)}})}function QS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function YS(t,e,n){let r=J(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function o_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ZS(t,r)})}function ZS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(T_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),x_(t))}function nS(t,e,n){for(let r of n)r instanceof sh?(t.La.addReference(r.key,e),DB(t,r)):r instanceof oh?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ZS(t,r.key)):K()}function DB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),x_(t))}function x_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new i_(n)),t.Oa=t.Oa.insert(n,r),BS(t.remoteStore,new wc(vn(D_(n.path)),r,"TargetPurposeLimboResolution",uS.oe))}}function Nc(t,e,n){return w(this,null,function*(){let r=J(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Lv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=J(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Rc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function CB(t,e){return w(this,null,function*(){let n=J(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield jS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new j(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nc(n,r.hs)}})}function bB(t,e){let n=J(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function JS(t){let e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IB.bind(null,e),e.Ca.d_=hB.bind(null,e.eventManager),e.Ca.$a=fB.bind(null,e.eventManager),e}function TB(t){let e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EB.bind(null,e),e}var ah=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return z2(this.persistence,new jv,e.initialUser,this.serializer)}createPersistence(e){return new Ov(Fv.Zr,this.serializer)}createSharedClientState(e){return new $v}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var a_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CB.bind(null,this.syncEngine),yield uB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Xv}()}createDatastore(e){let n=vh(e.databaseInfo.databaseId),r=function(s){return new zv(s)}(e.databaseInfo);return function(s,o,a,u){return new Kv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Yv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>tS(this.syncEngine,n,0),function(){return Xd.D()?new Xd:new Hv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new s_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=J(i);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Mc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var c_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var u_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=M_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Vy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield jS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function rS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield AB(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JT(e.remoteStore,i)),t._onlineComponents=e})}function SB(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function AB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!SB(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),yield Vy(t,new ah)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Vy(t,new ah);return t._offlineComponents})}function XS(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield rS(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield rS(t,new a_))),t._onlineComponents})}function RB(t){return XS(t).then(e=>e.syncEngine)}function iS(t){return w(this,null,function*(){let e=yield XS(t),n=e.eventManager;return n.onListen=pB.bind(null,e.syncEngine),n.onUnlisten=yB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vB.bind(null,e.syncEngine),n})}function eA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var sS=new Map;function tA(t,e,n){if(!n)throw new j(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MB(t,e,n,r){if(e===!0&&r===!0)throw new j(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oS(t){if(!q.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aS(t){if(q.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function P_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function mc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=P_(t);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ch=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},vo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ch({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ch(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jy;switch(r.type){case"firstParty":return new Hy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=sS.get(n);r&&(L("ComponentProvider","Removing Datastore"),sS.delete(n),r.terminate())}(this),Promise.resolve()}};function nA(t,e,n,r={}){var i;let s=(t=mc(t,vo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ge.MOCK_USER;else{a=r0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ge(l)}t._authCredentials=new Uy(new Vd(a,u))}}var uh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Pr=class t extends uh{constructor(e,n,r){super(e,n,D_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function wh(t,e,...n){if(t=st(t),tA("collection","path",e),t instanceof vo){let r=Pe.fromString(e,...n);return aS(r),new Pr(t,null,r)}{if(!(t instanceof Bt||t instanceof Pr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return aS(r),new Pr(t.firestore,null,r)}}function rA(t,e,...n){if(t=st(t),arguments.length===1&&(e=jd.newId()),tA("doc","path",e),t instanceof vo){let r=Pe.fromString(e,...n);return oS(r),new Bt(t,null,new q(r))}{if(!(t instanceof Bt||t instanceof Pr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return oS(r),new Bt(t.firestore,t instanceof Pr?t.converter:null,new q(r))}}var l_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new eh(this,"async_queue_retry"),this.Eu=()=>{let n=Ly();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Ly();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Yn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Rc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Zv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&K()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function cS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var _o=class extends vo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new l_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oA(this),this._firestoreClient.terminate()}};function iA(t,e){let n=typeof t=="object"?t:Gs(),r=typeof t=="string"?t:e||"(default)",i=Ja(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=n0("firestore");s&&nA(i,...s)}return i}function sA(t){return t._firestoreClient||oA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Ky(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,eA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new u_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Cc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ct.fromBase64String(e))}catch(n){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var lh=class{constructor(e){this._methodName=e}};var Tc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Sc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var NB=/^__.*__$/,d_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new er(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fi(e,this.data,n,this.fieldTransforms)}};function aA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var h_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return dh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(aA(this.wu)&&NB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},f_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vh(e)}Nu(e,n,r,i=!1){return new h_({wu:e,methodName:n,Ou:r,path:At.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xB(t){let e=t._freezeSettings(),n=vh(t._databaseId);return new f_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PB(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);dA("Data must be an object, but it was:",o,r);let a=uA(r,o),u,l;if(s.merge)u=new mn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=OB(e,p,n);if(!o.contains(m))throw new j(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);FB(h,m)||h.push(m)}u=new mn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new d_(new Xt(a),u,l)}function cA(t,e){if(lA(t=st(t)))return dA("Unsupported field value:",e,t),uA(t,e);if(t instanceof lh)return function(r,i){if(!aA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=cA(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ze.fromDate(r);return{timestampValue:Yd(i.serializer,s)}}if(r instanceof Ze){let s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,s)}}if(r instanceof Tc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cc)return{bytesValue:xS(i.serializer,r._byteString)};if(r instanceof Bt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return C_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${P_(r)}`)}(t,e)}function uA(t,e){let n={};return lS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,i)=>{let s=cA(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Tc||t instanceof Cc||t instanceof Bt||t instanceof lh||t instanceof Sc)}function dA(t,e,n){if(!lA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=P_(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function OB(t,e,n){if((e=st(e))instanceof bc)return e._internalPath;if(typeof e=="string")return hA(t,e);throw dh("Field path arguments must be of type string or ",t,!1,void 0,n)}var kB=new RegExp("[~\\*/\\[\\]]");function hA(t,e,n){if(e.search(kB)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bc(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new j(N.INVALID_ARGUMENT,a+t+u)}function FB(t,e){return t.some(n=>n.isEqual(e))}var hh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new p_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(fA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},p_=class extends hh{data(){return super.data()}};function fA(t,e){return typeof e=="string"?hA(t,e):e instanceof bc?e._internalPath:e._delegate._internalPath}function LB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var g_=class{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return wo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new Sc(s)}convertGeoPoint(e){return new Tc(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=__(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){let n=Jn(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);be(VS(r));let i=new Hd(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Zn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function VB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ri=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},fh=class extends hh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new io(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(fA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},io=class extends fh{data(e={}){return super.data(e)}},m_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ri(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new io(this._firestore,this._userDataWriter,r.key,r,new Ri(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:jB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function jB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}var ph=class extends g_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}};function pA(t,e){let n=mc(t.firestore,_o),r=rA(t),i=VB(t.converter,e);return UB(n,[PB(xB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mi.exists(!1))]).then(()=>r)}function O_(t,...e){var n,r,i;t=st(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||cS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(cS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Bt)l=mc(t.firestore,_o),h=D_(t._key.path),u={next:p=>{e[o]&&e[o](BB(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=mc(t,uh);l=mc(p.firestore,_o),h=p._query;let m=new ph(l);u={next:v=>{e[o]&&e[o](new m_(l,m,p,v))},error:e[o+1],complete:e[o+2]},LB(t._query)}return function(m,v,S,M){let R=new c_(M),F=new t_(v,R,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return lB(yield iS(m),F)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return dB(yield iS(m),F)}))}}(sA(l),h,a,u)}function UB(t,e){return function(r,i){let s=new Yn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return _B(yield RB(r),i,s)})),s.promise}(sA(t),e)}function BB(t,e,n){let r=n.docs.get(e._key),i=new ph(t);return new fh(t,i,e._key,r,new Ri(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Io=i})(Sr),Tr(new Ut("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new _o(new By(r.getProvider("auth-internal")),new zy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$e(NT,"4.7.1",e),$e(NT,"4.7.1","esm2017")})();var Eh=function(){return Eh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Eh.apply(this,arguments)};var qB={includeMetadataChanges:!1};function gA(t,e){return e===void 0&&(e=qB),new de(function(n){var r=O_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function mA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Eh(Eh({},r),(n={},n[e.idField]=t.id,n))}function yA(t){return gA(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function vA(t,e){return e===void 0&&(e={}),yA(t).pipe(ie(function(n){return n.map(function(r){return mA(r,e)})}))}var Vi=class{constructor(e){return e}},_A="firestore",k_=class{constructor(){return Xa(_A)}};var F_=new U("angularfire2.firestore-instances");function zB(t,e){let n=hd(_A,t,e);return n&&new Vi(n)}function GB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vi(r)}}var WB={provide:k_,deps:[[new yt,F_]]},KB={provide:Vi,useFactory:zB,deps:[[new yt,F_],qn]};function IA(t,...e){return $e("angularfire",wi.full,"fst"),un([KB,WB,{provide:F_,useFactory:GB(t),multi:!0,deps:[we,mt,Qs,Ei,[new yt,cc],[new yt,Ks],...e]}])}var wA=Jt(vA,!0);var EA=Jt(pA,!0);var DA=Jt(iA,!0);function YB(t,e){if(t&1&&(V(0,"div",18),Y(1),H()),t&2){let n=ha();Vt(),Ss(" ",n.msjError," ")}}var Dh=class t{constructor(e,n,r){this.router=e;this.firestore=n;this.auth=r}nombreIngresado="carlos";claveIngresada=123;userMail="";userPWD="";loggedUser="";user="";errorLogin=!1;msjError="";loginsCollection=[];countLogins=0;sub;Login(){TT(this.auth,this.userMail,this.userPWD).then(e=>{this.errorLogin=!1,this.loggedUser=e.user.email||"",this.logLogin(),this.goTo("/home")}).catch(e=>{this.errorLogin=!0,this.manejarErrores(e)})}manejarErrores(e){switch(e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido. Por favor, verifica el formato del correo.";break;case"auth/user-not-found":this.msjError="Usuario no encontrado. Por favor, revisa tus credenciales.";break;case"auth/wrong-password":this.msjError="Contrase\xF1a incorrecta. Vuelve a intentarlo.";break;default:this.msjError="Error: "+e.message;break}console.log("Error en el login: "+e.code)}CloseSession(){ST(this.auth).then(()=>{console.log(this.auth.currentUser?.email)})}goTo(e){this.router.navigate([e])}setQuickAccess(e,n){this.userMail=e,this.userPWD=n,this.Login()}logLogin(){let e=wh(this.firestore,"logins");EA(e,{fecha:new Date,user:this.user})}GetData(){let e=wh(this.firestore,"logins"),n=wA(e);this.sub=n.subscribe(r=>{this.loginsCollection=r,this.countLogins=this.loginsCollection.length,console.log(r)})}static \u0275fac=function(n){return new(n||t)(te(dn),te(Vi),te(Kn))};static \u0275cmp=vt({type:t,selectors:[["app-login"]],standalone:!0,features:[_t],decls:30,vars:3,consts:[["loginForm","ngForm"],[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","email","id","nombre","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","password","placeholder","Ingrese su contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger text-center","role","alert",4,"ngIf"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["type","button",1,"btn","btn-secondary","mr-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["id","registrarse",1,"text-decoration-none",3,"click"],["role","alert",1,"alert","alert-danger","text-center"]],template:function(n,r){if(n&1){let i=Cl();V(0,"div",1)(1,"div",2)(2,"h1",3),Y(3,"Inicio Sesi\xF3n"),H(),V(4,"form",4,0),it("ngSubmit",function(){return kt(i),Ft(r.Login())}),V(6,"div",5)(7,"label",6),Y(8,"Email"),H(),V(9,"input",7),ui("ngModelChange",function(o){return kt(i),As(r.userMail,o)||(r.userMail=o),Ft(o)}),H()(),V(10,"div",5)(11,"label",8),Y(12,"Contrase\xF1a"),H(),V(13,"input",9),ui("ngModelChange",function(o){return kt(i),As(r.userPWD,o)||(r.userPWD=o),Ft(o)}),H()(),la(14,YB,2,1,"div",10),V(15,"div",11)(16,"a",12),Y(17,"\xBFOlvid\xF3 su contrase\xF1a?"),H()(),V(18,"button",13),Y(19,"Ingresar"),H(),V(20,"div",14)(21,"button",15),it("click",function(){return kt(i),Ft(r.setQuickAccess("lalala@gmail.com","123456"))}),Y(22,"Login User 1"),H(),V(23,"button",16),it("click",function(){return kt(i),Ft(r.setQuickAccess("papapa@gmail.com","123456"))}),Y(24,"Login User 2"),H()(),V(25,"div",14)(26,"span"),Y(27,"\xBFNo tienes una cuenta?"),H(),V(28,"a",17),it("click",function(){return kt(i),Ft(r.goTo("/registro"))}),Y(29,"Registrarse"),H()()()()()}n&2&&(Vt(9),ci("ngModel",r.userMail),Vt(4),ci("ngModel",r.userPWD),Vt(),Ts("ngIf",r.errorLogin))},dependencies:[ma,Al,sd,id,Hs,td,nd,Wa,Ga,za],styles:['@charset "UTF-8";.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none;box-shadow:0 4px 8px #0003}.form-control[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 8px #ffcc0080}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;display:block}#registrarse[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin:5px 0;font-weight:700;color:#000;text-decoration:none}#registrarse[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0;cursor:pointer}span[_ngcontent-%COMP%]{font-weight:700}.alert[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border-radius:5px}']})};var Ch=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=vt({type:t,selectors:[["app-home"]],standalone:!0,features:[_t],decls:27,vars:0,consts:[[1,"seccion-juegos"],[1,"preguntados"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfcCz3JlM4xlxLvDWPSj71xusZCerXq0QEpg&s","alt","preguntados"],["href","scores"],[1,"mayor-menor"],["src","https://resizer.glanacion.com/resizer/v2/un-juego-con-cartas-espanolas-sin-comodines-ni-L4YAHBM6IVBLNEJA5E33NQTKHI.jpg?auth=c4b877fbfbe96ead5811742b26ba93b66a4e97730d76bc15e6920f84a1745fd4&width=768&quality=70&smart=false","alt","mayor o menor"],[1,"ahorcado"],["src","https://cdn-icons-png.flaticon.com/512/2241/2241387.png","alt","ahorcado"],[1,"juego-nuevo"],["src","https://img.freepik.com/vector-gratis/hoja-trabajo-juego-combinacion-creativo-animales_23-2148782846.jpg","alt","juego nuevo"]],template:function(n,r){n&1&&(V(0,"h1"),Y(1,"Seccion de Juegos"),H(),V(2,"div",0)(3,"div",1),pt(4,"img",2),V(5,"p"),Y(6,"Preguntados"),H(),V(7,"a",3),Y(8,"ver puntuacion"),H()(),V(9,"div",4),pt(10,"img",5),V(11,"p"),Y(12,"Mayor o Menor"),H(),V(13,"a",3),Y(14,"ver puntuacion"),H()(),V(15,"div",6),pt(16,"img",7),V(17,"p"),Y(18,"Ahorcado"),H(),V(19,"a",3),Y(20,"ver puntuacion"),H()(),V(21,"div",8),pt(22,"img",9),V(23,"p"),Y(24,"Juego Nuevo"),H(),V(25,"a",3),Y(26,"ver puntuacion"),H()()())},styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:80px;font-size:3.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}p[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-weight:700;margin:40px 0}.seccion-juegos[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:100px;padding:20px;align-items:center}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;box-shadow:0 4px 8px #00000080;transition:transform .3s ease}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer;box-shadow:0 4px 8px #000}a[_ngcontent-%COMP%]{background-color:#deb887;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;color:#fff;padding:10px 20px;margin-left:110px;text-decoration:none;border-radius:15px;font-size:1.2em;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{background-color:#e6ab5e;transform:scale(1.05)}a[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}"]})};var bh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=vt({type:t,selectors:[["app-error"]],standalone:!0,features:[_t],decls:2,vars:0,template:function(n,r){n&1&&(V(0,"p"),Y(1,"error works!"),H())}})};var Th=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=vt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[_t],decls:20,vars:0,consts:[[1,"container","mt-5","p-5","bg-light","rounded-5","shadow-lg",2,"background-size","cover","background-position","center"],[1,"row","align-items-center","bg-card","rounded-5","shadow","p-4"],[1,"col-md-4","text-center"],["src","../../../../public/quiensoy.jpeg","alt","Juan Pablo",1,"img-fluid","rounded-circle","shadow",2,"max-width","320px"],[1,"col-md-8"],[1,"mb-4","text-dark","display-4"],[1,"lead","text-dark"]],template:function(n,r){n&1&&(V(0,"div",0)(1,"div",1)(2,"div",2),pt(3,"img",3),H(),V(4,"div",4)(5,"h1",5),Y(6,"Me llamo Juan Pablo De Maio"),H(),V(7,"p",6)(8,"strong"),Y(9,"Edad:"),H(),Y(10," 19 a\xF1os"),pt(11,"br"),V(12,"strong"),Y(13,"Estudios:"),H(),Y(14," Actualmente estudio en la UTN, cursando la carrera de T\xE9cnico en Programaci\xF3n."),pt(15,"br"),V(16,"strong"),Y(17,"Juego con Cartas o Im\xE1genes"),H(),pt(18,"br"),Y(19," Descripci\xF3n: Pensaba en mostrar una serie de cartas que se van a dar vuelta, despu\xE9s se volver\xEDan a dar vuelta y el jugador deber\xEDa ir clickeando en el orden que se fueron mostrando las cartas. Se deber\xEDa subir la dificultad ocultando las cartas m\xE1s r\xE1pido e ir sumando puntos. "),H()()()())},styles:[".container[_ngcontent-%COMP%]{border-radius:30px;background-size:cover;background-position:center;overflow:hidden}.bg-card[_ngcontent-%COMP%]{background-color:#7dd86299;border:1px solid rgba(208,250,195,.8);box-shadow:0 4px 8px #0003;padding:20px}h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2.5rem;font-weight:700;color:#343a40}p.lead[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.2rem;line-height:1.8;color:#343a40}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:320px;border:5px solid #ffc107}.rounded-5[_ngcontent-%COMP%]{border-radius:30px!important}.bg-light[_ngcontent-%COMP%]{background-color:#d0fac399!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 20px #0003}"]})};function ZB(t,e){if(t&1&&(V(0,"h2",17),Y(1),H()),t&2){let n=ha();Vt(),Ss("Usuario registrado: ",n.loggedUser,"")}}function JB(t,e){if(t&1&&(V(0,"p",18),Y(1),H()),t&2){let n=ha();Vt(),hg(n.msjError)}}var Sh=class t{constructor(e,n){this.auth=e;this.router=n}nuevoEmail="";nuevaClave="";loggedUser="";flagError=!1;msjError="";goTo(e){this.router.navigate([e])}Register(){CT(this.auth,this.nuevoEmail,this.nuevaClave).then(e=>{e.user.email!==null&&(this.loggedUser=e.user.email),this.flagError=!1,this.router.navigate(["/home"])}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido";break;case"auth/email-already-in-use":this.msjError="Este email ya est\xE1 en uso";break;case"auth/weak-password":this.msjError="La contrase\xF1a es muy d\xE9bil. Debe tener al menos 6 caracteres.";break;default:this.msjError="Error: "+e.message;break}console.log("Error en el registro: "+e.code)})}static \u0275fac=function(n){return new(n||t)(te(Kn),te(dn))};static \u0275cmp=vt({type:t,selectors:[["app-registro"]],standalone:!0,features:[_t],decls:26,vars:4,consts:[["registerForm","ngForm"],[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","placeholder","Ingrese una contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["id","iniciar-sesion",1,"text-decoration-none",3,"click"],["class","text-center text-primary",4,"ngIf"],["class","text-center text-danger",4,"ngIf"],[1,"text-center","text-primary"],[1,"text-center","text-danger"]],template:function(n,r){if(n&1){let i=Cl();V(0,"div",1)(1,"div",2)(2,"h1",3),Y(3,"Registrarse"),H(),V(4,"form",4,0),it("ngSubmit",function(){return kt(i),Ft(r.Register())}),V(6,"div",5)(7,"label",6),Y(8,"Email"),H(),V(9,"input",7),ui("ngModelChange",function(o){return kt(i),As(r.nuevoEmail,o)||(r.nuevoEmail=o),Ft(o)}),H()(),V(10,"div",5)(11,"label",8),Y(12,"Contrase\xF1a"),H(),V(13,"input",9),ui("ngModelChange",function(o){return kt(i),As(r.nuevaClave,o)||(r.nuevaClave=o),Ft(o)}),H()(),V(14,"div",10)(15,"a",11),Y(16,"\xBFOlvid\xF3 su contrase\xF1a?"),H()(),V(17,"button",12),Y(18," Registrarse "),H(),V(19,"div",13)(20,"span"),Y(21,"\xBFYa tienes una cuenta?"),H(),V(22,"a",14),it("click",function(){return kt(i),Ft(r.goTo("/login"))}),Y(23,"Iniciar sesi\xF3n"),H()()(),la(24,ZB,2,1,"h2",15)(25,JB,2,1,"p",16),H()()}n&2&&(Vt(9),ci("ngModel",r.nuevoEmail),Vt(4),ci("ngModel",r.nuevaClave),Vt(11),Ts("ngIf",r.loggedUser!==""),Vt(),Ts("ngIf",r.flagError))},dependencies:[ma,Al,sd,id,Hs,td,nd,Wa,Ga,za],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none}.form-control[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 10px #ffcc0080}label[_ngcontent-%COMP%]{margin-left:10px;font-weight:700}#iniciar-sesion[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#000;text-decoration:none}#iniciar-sesion[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0;cursor:pointer}span[_ngcontent-%COMP%]{font-weight:700}"]})};var CA=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:Dh},{path:"home",component:Ch},{path:"quien-soy",component:Th},{path:"registro",component:Sh},{path:"**",component:bh}];var bA={projectId:"sala-juegos-ab9cb",appId:"1:639687055629:web:6ec8a897ad3ef0f988b844",storageBucket:"sala-juegos-ab9cb.appspot.com",apiKey:"AIzaSyD_AqRMAi5HFadu1U_VaF4wAZPHBskjQWs",authDomain:"sala-juegos-ab9cb.firebaseapp.com",messagingSenderId:"639687055629"};var TA={providers:[CC({eventCoalescing:!0}),Mb(CA),T0(()=>S0(bA)),DT(()=>bT()),IA(()=>DA())]};var Ah=class t{constructor(e){this.router=e}title="sala-de-juegos";goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(te(dn))};static \u0275cmp=vt({type:t,selectors:[["app-root"]],standalone:!0,features:[_t],decls:11,vars:0,consts:[[1,"navbar"],["routerLink","home","routerLinkActive","active-route",1,"nav-link"],["routerLink","quien-soy","routerLinkActive","active-route",1,"nav-link"],[1,"nav-links-derecha"],[1,"nav-link-perfil"],["routerLink","login","routerLinkActive","active-route",1,"nav-link-login",3,"click"]],template:function(n,r){n&1&&(V(0,"nav",0)(1,"a",1),Y(2,"HOME"),H(),V(3,"a",2),Y(4,"QUIEN SOY"),H(),V(5,"div",3)(6,"a",4),Y(7,"PERFIL"),H(),V(8,"a",5),it("click",function(){return r.goTo("login")}),Y(9,"LOGIN"),H()()(),pt(10,"router-outlet"))},dependencies:[sm,zl,Rb],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;background-color:#deb887;border-radius:20px;padding:5px 10px;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e6ab5e}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.nav-link[_ngcontent-%COMP%]{margin:0 50px;font-size:1.5em}.nav-links-derecha[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:100px}.nav-link-login[_ngcontent-%COMP%], .nav-link-perfil[_ngcontent-%COMP%]{font-size:1.5em}.nav-link-login[_ngcontent-%COMP%]{margin-right:50px}"]})};GC(Ah,TA).catch(t=>console.error(t));
