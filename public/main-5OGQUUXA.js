var cR=Object.defineProperty,uR=Object.defineProperties;var lR=Object.getOwnPropertyDescriptors;var FI=Object.getOwnPropertySymbols,dR=Object.getPrototypeOf,hR=Object.prototype.hasOwnProperty,fR=Object.prototype.propertyIsEnumerable,pR=Reflect.get;var LI=(t,e,n)=>e in t?cR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})hR.call(e,n)&&LI(t,n,e[n]);if(FI)for(var n of FI(e))fR.call(e,n)&&LI(t,n,e[n]);return t},le=(t,e)=>uR(t,lR(e));var or=(t,e,n)=>pR(dR(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function VI(t,e){return Object.is(t,e)}var Ve=null,Wc=!1,Kc=1,bn=Symbol("SIGNAL");function ye(t){let e=Ve;return Ve=t,e}function jI(){return Ve}var Bo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xh(t){if(Wc)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(t);let e=Ve.nextProducerIndex++;if(Jc(Ve),e<Ve.producerNode.length&&Ve.producerNode[e]!==t&&Uo(Ve)){let n=Ve.producerNode[e];Zc(n,Ve.producerIndexOfThis[e])}Ve.producerNode[e]!==t&&(Ve.producerNode[e]=t,Ve.producerIndexOfThis[e]=Uo(Ve)?HI(t,Ve,e):0),Ve.producerLastReadVersion[e]=t.version}function gR(){Kc++}function UI(t){if(!(Uo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kc)){if(!t.producerMustRecompute(t)&&!tf(t)){t.dirty=!1,t.lastCleanEpoch=Kc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Kc}}function BI(t){if(t.liveConsumerNode===void 0)return;let e=Wc;Wc=!0;try{for(let n of t.liveConsumerNode)n.dirty||mR(n)}finally{Wc=e}}function $I(){return Ve?.consumerAllowSignalWrites!==!1}function mR(t){t.dirty=!0,BI(t),t.consumerMarkedDirty?.(t)}function Yc(t){return t&&(t.nextProducerIndex=0),ye(t)}function ef(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Uo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Zc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tf(t){Jc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(UI(n),r!==n.version))return!0}return!1}function nf(t){if(Jc(t),Uo(t))for(let e=0;e<t.producerNode.length;e++)Zc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function HI(t,e,n){if(qI(t),t.liveConsumerNode.length===0&&zI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=HI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Zc(t,e){if(qI(t),t.liveConsumerNode.length===1&&zI(t))for(let r=0;r<t.producerNode.length;r++)Zc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Jc(i),i.producerIndexOfThis[r]=e}}function Uo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function qI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function zI(t){return t.producerNode!==void 0}function GI(t){let e=Object.create(yR);e.computation=t;let n=()=>{if(UI(e),Xh(e),e.value===Qc)throw e.error;return e.value};return n[bn]=e,n}var Zh=Symbol("UNSET"),Jh=Symbol("COMPUTING"),Qc=Symbol("ERRORED"),yR=le(O({},Bo),{value:Zh,dirty:!0,error:null,equal:VI,producerMustRecompute(t){return t.value===Zh||t.value===Jh},producerRecomputeValue(t){if(t.value===Jh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Jh;let n=Yc(t),r;try{r=t.computation()}catch(i){r=Qc,t.error=i}finally{ef(t,n)}if(e!==Zh&&e!==Qc&&r!==Qc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function vR(){throw new Error}var WI=vR;function KI(){WI()}function QI(t){WI=t}var _R=null;function YI(t){let e=Object.create(JI);e.value=t;let n=()=>(Xh(e),e.value);return n[bn]=e,n}function rf(t,e){$I()||KI(),t.equal(t.value,e)||(t.value=e,IR(t))}function ZI(t,e){$I()||KI(),rf(t,e(t.value))}var JI=le(O({},Bo),{equal:VI,value:void 0});function IR(t){t.version++,gR(),BI(t),_R?.()}function X(t){return typeof t=="function"}function Hi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Xc=Hi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Br(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof Xc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{XI(s)}catch(o){e=e??[],o instanceof Xc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Xc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)XI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Br(n,e)}remove(e){let{_finalizers:n}=this;n&&Br(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var sf=Ne.EMPTY;function eu(t){return t instanceof Ne||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function XI(t){X(t)?t():t.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qi={setTimeout(t,e,...n){let{delegate:r}=qi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=qi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function tu(t){qi.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(t);else throw t})}function $o(){}var ew=of("C",void 0,void 0);function tw(t){return of("E",void 0,t)}function nw(t){return of("N",t,void 0)}function of(t,e,n){return{kind:t,value:e,error:n}}var $r=null;function zi(t){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!$r;if(e&&($r={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$r;if($r=null,n)throw r}}else t()}function rw(t){Ut.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=t)}var Hr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eu(e)&&e.add(this)):this.destination=DR}static create(e,n,r){return new Gi(e,n,r)}next(e){this.isStopped?cf(nw(e),this):this._next(e)}error(e){this.isStopped?cf(tw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cf(ew,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wR=Function.prototype.bind;function af(t,e){return wR.call(t,e)}var uf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){nu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){nu(r)}else nu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){nu(n)}}},Gi=class extends Hr{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ut.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&af(e.next,s),error:e.error&&af(e.error,s),complete:e.complete&&af(e.complete,s)}):i=e}this.destination=new uf(i)}};function nu(t){Ut.useDeprecatedSynchronousErrorHandling?rw(t):tu(t)}function ER(t){throw t}function cf(t,e){let{onStoppedNotification:n}=Ut;n&&qi.setTimeout(()=>n(t,e))}var DR={closed:!0,next:$o,error:ER,complete:$o};var Wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(t){return t}function ru(...t){return lf(t)}function lf(t){return t.length===0?wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=bR(n)?n:new Gi(n,r,i);return zi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=iw(r),new r((i,s)=>{let o=new Gi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wi](){return this}pipe(...n){return lf(n)(this)}toPromise(n){return n=iw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function iw(t){var e;return(e=t??Ut.Promise)!==null&&e!==void 0?e:Promise}function CR(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function bR(t){return t&&t instanceof Hr||CR(t)&&eu(t)}function df(t){return X(t?.lift)}function ge(t){return e=>{if(df(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new hf(t,e,n,r,i)}var hf=class extends Hr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ki(){return ge((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Qi=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,df(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Ki()(this)}};var sw=Hi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new iu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sw}next(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?sf:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,Br(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new iu(e,n),t})(),iu=class extends qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:sf}};var Ke=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ff={now(){return(ff.delegate||Date).now()},delegate:void 0};var su=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var Ho={setInterval(t,e,...n){let{delegate:r}=Ho;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ho;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Yi=class extends su{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ho.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ho.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Br(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Zi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Zi.now=ff.now;var Ji=class extends Zi{constructor(e,n=Zi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var pf=new Ji(Yi);var ou=class extends Yi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var au=class extends Ji{};var gf=new au(ou);var Et=new de(t=>t.complete());function ow(t){return t&&X(t.schedule)}function aw(t){return t[t.length-1]}function cu(t){return X(aw(t))?t.pop():void 0}function ar(t){return ow(aw(t))?t.pop():void 0}function mf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function cw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qr(t){return this instanceof qr?(this.v=t,this):new qr(t)}function lw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(M){return new Promise(function(R,F){s.push([v,M,R,F])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof qr?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function dw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cw=="function"?cw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var uu=t=>t&&typeof t.length=="number"&&typeof t!="function";function lu(t){return X(t?.then)}function du(t){return X(t[Wi])}function hu(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function fu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pu=TR();function gu(t){return X(t?.[pu])}function mu(t){return lw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield qr(n.read());if(i)return yield qr(void 0);yield yield qr(r)}}finally{n.releaseLock()}})}function yu(t){return X(t?.getReader)}function ke(t){if(t instanceof de)return t;if(t!=null){if(du(t))return SR(t);if(uu(t))return AR(t);if(lu(t))return RR(t);if(hu(t))return hw(t);if(gu(t))return MR(t);if(yu(t))return NR(t)}throw fu(t)}function SR(t){return new de(e=>{let n=t[Wi]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AR(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RR(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,tu)})}function MR(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function hw(t){return new de(e=>{xR(t,e).catch(n=>e.error(n))})}function NR(t){return hw(mu(t))}function xR(t,e){var n,r,i,s;return uw(this,void 0,void 0,function*(){try{for(n=dw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function pt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function cr(t,e=0){return ge((n,r)=>{n.subscribe(he(r,i=>pt(r,t,()=>r.next(i),e),()=>pt(r,t,()=>r.complete(),e),i=>pt(r,t,()=>r.error(i),e)))})}function ur(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fw(t,e){return ke(t).pipe(ur(e),cr(e))}function pw(t,e){return ke(t).pipe(ur(e),cr(e))}function gw(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function mw(t,e){return new de(n=>{let r;return pt(n,e,()=>{r=t[pu](),pt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function vu(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{pt(n,e,()=>{let r=t[Symbol.asyncIterator]();pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yw(t,e){return vu(mu(t),e)}function vw(t,e){if(t!=null){if(du(t))return fw(t,e);if(uu(t))return gw(t,e);if(lu(t))return pw(t,e);if(hu(t))return vu(t,e);if(gu(t))return mw(t,e);if(yu(t))return yw(t,e)}throw fu(t)}function Ae(t,e){return e?vw(t,e):ke(t)}function Y(...t){let e=ar(t);return Ae(t,e)}function Xi(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function yf(t){return!!t&&(t instanceof de||X(t.lift)&&X(t.subscribe))}var Tn=Hi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:PR}=Array;function OR(t,e){return PR(e)?t(...e):t(e)}function _u(t){return ie(e=>OR(t,e))}var{isArray:kR}=Array,{getPrototypeOf:FR,prototype:LR,keys:VR}=Object;function Iu(t){if(t.length===1){let e=t[0];if(kR(e))return{args:e,keys:null};if(jR(e)){let n=VR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function jR(t){return t&&typeof t=="object"&&FR(t)===LR}function wu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Eu(...t){let e=ar(t),n=cu(t),{args:r,keys:i}=Iu(t);if(r.length===0)return Ae([],e);let s=new de(UR(r,e,i?o=>wu(i,o):wt));return n?s.pipe(_u(n)):s}function UR(t,e,n=wt){return r=>{_w(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)_w(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(he(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function _w(t,e,n){t?pt(n,t,e):e()}function Iw(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let R=!1;ke(n(M,h++)).subscribe(he(e,F=>{i?.(F),s?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?pt(e,o,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(he(e,v,()=>{p=!0,m()})),()=>{a?.()}}function je(t,e,n=1/0){return X(e)?je((r,i)=>ie((s,o)=>e(r,s,i,o))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>Iw(r,i,t,n)))}function es(t=1/0){return je(wt,t)}function ww(){return es(1)}function ts(...t){return ww()(Ae(t,ar(t)))}function Du(t){return new de(e=>{ke(t()).subscribe(e)})}function vf(...t){let e=cu(t),{args:n,keys:r}=Iu(t),i=new de(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;ke(n[h]).subscribe(he(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?wu(r,a):a),s.complete())}))}});return e?i.pipe(_u(e)):i}function Rt(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,s=>t.call(e,s,i++)&&r.next(s)))})}function lr(t){return ge((e,n)=>{let r=null,i=!1,s;r=e.subscribe(he(n,void 0,void 0,o=>{s=ke(t(o,lr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Ew(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(he(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ns(t,e){return X(e)?je(t,e,1):je(t,1)}function dr(t){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Sn(t){return t<=0?()=>Et:ge((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function _f(t){return ie(()=>t)}function Cu(t=BR){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function BR(){return new Tn}function qo(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Xt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,s)=>t(i,s,r)):wt,Sn(1),n?dr(e):Cu(()=>new Tn))}function rs(t){return t<=0?()=>Et:ge((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function If(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,s)=>t(i,s,r)):wt,rs(1),n?dr(e):Cu(()=>new Tn))}function bu(t,e){return ge(Ew(t,e,arguments.length>=2,!0))}function Tu(...t){let e=ar(t);return ge((n,r)=>{(e?ts(t,n,e):ts(t,n)).subscribe(r)})}function Bt(t,e){return ge((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=s++;ke(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function wf(t){return ge((e,n)=>{ke(t).subscribe(he(n,()=>n.complete(),$o)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(he(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var aE="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Tp(e,n)),this.code=e}};function Tp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ta(t){return{toString:t}.toString()}var Su="__parameters__";function $R(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function HR(t,e,n){return ta(()=>{let r=$R(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Su)?u[Su]:Object.defineProperty(u,Su,{value:[]})[Su];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var kf=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function qR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Dw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var zR=Ce({__forward_ref__:Ce});function ii(t){return t.__forward_ref__=ii,t.toString=function(){return dt(this())},t}function lt(t){return cE(t)?t():t}function cE(t){return typeof t=="function"&&t.hasOwnProperty(zR)&&t.__forward_ref__===ii}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function si(t){return{providers:t.providers||[],imports:t.imports||[]}}function ol(t){return Cw(t,lE)||Cw(t,dE)}function uE(t){return ol(t)!==null}function Cw(t,e){return t.hasOwnProperty(e)?t[e]:null}function GR(t){let e=t&&(t[lE]||t[dE]);return e||null}function bw(t){return t&&(t.hasOwnProperty(Tw)||t.hasOwnProperty(WR))?t[Tw]:null}var lE=Ce({\u0275prov:Ce}),Tw=Ce({\u0275inj:Ce}),dE=Ce({ngInjectableDef:Ce}),WR=Ce({ngInjectorDef:Ce}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hE(t){return t&&!!t.\u0275providers}var KR=Ce({\u0275cmp:Ce}),QR=Ce({\u0275dir:Ce}),YR=Ce({\u0275pipe:Ce}),ZR=Ce({\u0275mod:Ce}),Vu=Ce({\u0275fac:Ce}),Wo=Ce({__NG_ELEMENT_ID__:Ce}),Sw=Ce({__NG_ENV_ID__:Ce});function al(t){return typeof t=="string"?t:t==null?"":String(t)}function JR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():al(t)}function XR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Sp(t,e){throw new $(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),Ff;function fE(){return Ff}function Mt(t){let e=Ff;return Ff=t,e}function pE(t,e,n){let r=ol(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;Sp(t,"Injector")}var eM={},Ko=eM,Lf="__NG_DI_FLAG__",ju="ngTempTokenPath",tM="ngTokenPath",nM=/\n/gm,rM="\u0275",Aw="__source",as;function iM(){return as}function hr(t){let e=as;return as=t,e}function sM(t,e=oe.Default){if(as===void 0)throw new $(-203,!1);return as===null?pE(t,void 0,e):as.get(t,e&oe.Optional?null:void 0,e)}function ae(t,e=oe.Default){return(fE()||sM)(lt(t),e)}function k(t,e=oe.Default){return ae(t,cl(e))}function cl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Vf(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=aM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ae(i,s))}else e.push(ae(r))}return e}function oM(t,e){return t[Lf]=e,t.prototype[Lf]=e,t}function aM(t){return t[Lf]}function cM(t,e,n,r){let i=t[ju];throw e[Aw]&&i.unshift(e[Aw]),t.message=uM(`
`+t.message,i,n,r),t[tM]=i,t[ju]=null,t}function uM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==rM?t.slice(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):dt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nM,`
  `)}`}var mt=oM(HR("Optional"),8);function us(t,e){let n=t.hasOwnProperty(Vu);return n?t[Vu]:null}function lM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function dM(t){return t.flat(Number.POSITIVE_INFINITY)}function Ap(t,e){t.forEach(n=>Array.isArray(n)?Ap(n,e):e(n))}function gE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function fM(t,e,n){let r=na(t,e);return r>=0?t[r|1]=n:(r=~r,hM(t,r,e,n)),r}function Ef(t,e){let n=na(t,e);if(n>=0)return t[n|1]}function na(t,e){return pM(t,e,1)}function pM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ls={},Nt=[],ds=new j(""),mE=new j("",-1),yE=new j(""),Bu=class{get(e,n=Ko){if(n===Ko){let r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return n}},vE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vE||{}),nn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nn||{}),gr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(gr||{});function gM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function jf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];mM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function _E(t){return t===3||t===4||t===6}function mM(t){return t.charCodeAt(0)===64}function Qo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Rw(t,n,i,null,e[++r]):Rw(t,n,i,null,null))}}return t}function Rw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var IE="ng-template";function yM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Rp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Rp(t){return t.type===4&&t.value!==IE}function vM(t,e,n){let r=t.type===4&&!n?IE:t.value;return e===r}function _M(t,e,n){let r=4,i=t.attrs,s=i!==null?EM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!$t(r)&&!$t(u))return!1;if(o&&$t(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!vM(t,u,n)||u===""&&e.length===1){if($t(r))return!1;o=!0}}else if(r&8){if(i===null||!yM(t,i,u,n)){if($t(r))return!1;o=!0}}else{let l=e[++a],h=IM(u,i,Rp(t),n);if(h===-1){if($t(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if($t(r))return!1;o=!0}}}}return $t(r)||o}function $t(t){return(t&1)===0}function IM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return DM(e,t)}function wM(t,e,n=!1){for(let r=0;r<e.length;r++)if(_M(t,e[r],n))return!0;return!1}function EM(t){for(let e=0;e<t.length;e++){let n=t[e];if(_E(n))return e}return t.length}function DM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Mw(t,e){return t?":not("+e.trim()+")":e}function CM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!$t(o)&&(e+=Mw(s,i),i=""),r=o,s=s||!$t(r);n++}return i!==""&&(e+=Mw(s,i)),e}function bM(t){return t.map(CM).join(",")}function TM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!$t(i))break;i=s}r++}return{attrs:e,classes:n}}function yt(t){return ta(()=>{let e=bE(t),n=le(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nn.Emulated,styles:t.styles||Nt,_:null,schemas:t.schemas||null,tView:null,id:""});TE(n);let r=t.dependencies;return n.directiveDefs=xw(r,!1),n.pipeDefs=xw(r,!0),n.id=RM(n),n})}function SM(t){return Kr(t)||wE(t)}function AM(t){return t!==null}function oi(t){return ta(()=>({type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Nw(t,e){if(t==null)return ls;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=gr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==gr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Qe(t){return ta(()=>{let e=bE(t);return TE(e),e})}function Kr(t){return t[KR]||null}function wE(t){return t[QR]||null}function EE(t){return t[YR]||null}function DE(t){let e=Kr(t)||wE(t)||EE(t);return e!==null?e.standalone:!1}function CE(t,e){let n=t[ZR]||null;if(!n&&e===!0)throw new Error(`Type ${dt(t)} does not have '\u0275mod' property.`);return n}function bE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ls,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Nw(t.inputs,e),outputs:Nw(t.outputs),debugInfo:null}}function TE(t){t.features?.forEach(e=>e(t))}function xw(t,e){if(!t)return null;let n=e?EE:SM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(AM)}function RM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function an(t){return{\u0275providers:t}}function MM(...t){return{\u0275providers:SE(!0,t),\u0275fromNgModule:!0}}function SE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Ap(e,o=>{let a=o;Uf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&AE(i,s),n}function AE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Mp(i,s=>{e(s,r)})}}function Uf(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,s=bw(t),o=!s&&Kr(t);if(!s&&!o){let u=t.ngModule;if(s=bw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Uf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Ap(s.imports,h=>{Uf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&AE(l,e)}if(!a){let l=us(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nt},i),e({provide:yE,useValue:i,multi:!0},i),e({provide:ds,useValue:()=>ae(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Mp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Mp(t,e){for(let n of t)hE(n)&&(n=n.\u0275providers),Array.isArray(n)?Mp(n,e):e(n)}var NM=Ce({provide:String,useValue:Ce});function RE(t){return t!==null&&typeof t=="object"&&NM in t}function xM(t){return!!(t&&t.useExisting)}function PM(t){return!!(t&&t.useFactory)}function hs(t){return typeof t=="function"}function OM(t){return!!t.useClass}var ul=new j(""),xu={},kM={},Df;function Np(){return Df===void 0&&(Df=new Bu),Df}var Pt=class{},Yo=class extends Pt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$f(e,o=>this.processProvider(o)),this.records.set(mE,is(void 0,this)),i.has("environment")&&this.records.set(Pt,is(void 0,this));let s=this.records.get(ul);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yE,Nt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hr(this),r=Mt(void 0),i;try{return e()}finally{hr(n),Mt(r)}}get(e,n=Ko,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Sw))return e[Sw](this);r=cl(r);let i,s=hr(this),o=Mt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=UM(e)&&ol(e);l&&this.injectableDefInScope(l)?u=is(Bf(e),xu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?Np():this.parent;return n=r&oe.Optional&&n===Ko?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ju]=a[ju]||[]).unshift(dt(e)),s)throw a;return cM(a,e,"R3InjectorError",this.source)}else throw a}finally{Mt(o),hr(s)}}resolveInjectorInitializers(){let e=ye(null),n=hr(this),r=Mt(void 0),i;try{let s=this.get(ds,Nt,oe.Self);for(let o of s)o()}finally{hr(n),Mt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=lt(e);let n=hs(e)?e:lt(e&&e.provide),r=LM(e);if(!hs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=is(void 0,xu,!0),i.factory=()=>Vf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===xu&&(n.value=kM,n.value=n.factory()),typeof n.value=="object"&&n.value&&jM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Bf(t){let e=ol(t),n=e!==null?e.factory:us(t);if(n!==null)return n;if(t instanceof j)throw new $(204,!1);if(t instanceof Function)return FM(t);throw new $(204,!1)}function FM(t){if(t.length>0)throw new $(204,!1);let n=GR(t);return n!==null?()=>n.factory(t):()=>new t}function LM(t){if(RE(t))return is(void 0,t.useValue);{let e=ME(t);return is(e,xu)}}function ME(t,e,n){let r;if(hs(t)){let i=lt(t);return us(i)||Bf(i)}else if(RE(t))r=()=>lt(t.useValue);else if(PM(t))r=()=>t.useFactory(...Vf(t.deps||[]));else if(xM(t))r=()=>ae(lt(t.useExisting));else{let i=lt(t&&(t.useClass||t.provide));if(VM(t))r=()=>new i(...Vf(t.deps));else return us(i)||Bf(i)}return r}function is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function VM(t){return!!t.deps}function jM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function UM(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function $f(t,e){for(let n of t)Array.isArray(n)?$f(n,e):n&&hE(n)?$f(n.\u0275providers,e):e(n)}function Pn(t,e){t instanceof Yo&&t.assertNotDestroyed();let n,r=hr(t),i=Mt(void 0);try{return e()}finally{hr(r),Mt(i)}}function BM(){return fE()!==void 0||iM()!=null}function $M(t){return typeof t=="function"}var On=0,se=1,Q=2,nt=3,Ht=4,zt=5,$u=6,Hu=7,qt=8,fs=9,rn=10,Be=11,Zo=12,Pw=13,Is=14,sn=15,Qr=16,ss=17,An=18,ll=19,NE=20,fr=21,Cf=22,xt=23,Rn=25,xE=1;var Yr=7,qu=8,ps=9,Dt=10,zu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(zu||{});function pr(t){return Array.isArray(t)&&typeof t[xE]=="object"}function kn(t){return Array.isArray(t)&&t[xE]===!0}function PE(t){return(t.flags&4)!==0}function dl(t){return t.componentOffset>-1}function xp(t){return(t.flags&1)===1}function mr(t){return!!t.template}function Hf(t){return(t[Q]&512)!==0}var qf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function OE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Fn(){return kE}function kE(t){return t.type.prototype.ngOnChanges&&(t.setInput=qM),HM}Fn.ngInherit=!0;function HM(){let t=LE(this),e=t?.current;if(e){let n=t.previous;if(n===ls)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function qM(t,e,n,r,i){let s=this.declaredInputs[r],o=LE(t)||zM(t,{previous:ls,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new qf(l&&l.currentValue,n,u===ls),OE(t,e,i,n)}var FE="__ngSimpleChanges__";function LE(t){return t[FE]||null}function zM(t,e){return t[FE]=e}var Ow=null;var en=function(t,e,n){Ow?.(t,e,n)},GM="svg",WM="math";function on(t){for(;Array.isArray(t);)t=t[On];return t}function VE(t,e){return on(e[t])}function Ot(t,e){return on(e[t.index])}function jE(t,e){return t.data[e]}function KM(t,e){return t[e]}function vr(t,e){let n=e[t];return pr(n)?n:n[On]}function QM(t){return(t[Q]&4)===4}function Pp(t){return(t[Q]&128)===128}function YM(t){return kn(t[nt])}function Gu(t,e){return e==null?null:t[e]}function UE(t){t[ss]=0}function BE(t){t[Q]&1024||(t[Q]|=1024,Pp(t)&&fl(t))}function ZM(t,e){for(;t>0;)e=e[Is],t--;return e}function hl(t){return!!(t[Q]&9216||t[xt]?.dirty)}function zf(t){t[rn].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),hl(t)&&fl(t)}function fl(t){t[rn].changeDetectionScheduler?.notify(0);let e=Zr(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Pp(e)));)e=Zr(e)}function $E(t,e){if((t[Q]&256)===256)throw new $(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(e)}function JM(t,e){if(t[fr]===null)return;let n=t[fr].indexOf(e);n!==-1&&t[fr].splice(n,1)}function Zr(t){let e=t[nt];return kn(e)?e[nt]:e}var ce={lFrame:ZE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var HE=!1;function XM(){return ce.lFrame.elementDepthCount}function eN(){ce.lFrame.elementDepthCount++}function tN(){ce.lFrame.elementDepthCount--}function qE(){return ce.bindingsEnabled}function nN(){return ce.skipHydrationRootTNode!==null}function rN(t){return ce.skipHydrationRootTNode===t}function iN(){ce.skipHydrationRootTNode=null}function Ee(){return ce.lFrame.lView}function ht(){return ce.lFrame.tView}function cn(t){return ce.lFrame.contextLView=t,t[qt]}function un(t){return ce.lFrame.contextLView=null,t}function rt(){let t=zE();for(;t!==null&&t.type===64;)t=t.parent;return t}function zE(){return ce.lFrame.currentTNode}function sN(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ra(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function GE(){return ce.lFrame.isParent}function oN(){ce.lFrame.isParent=!1}function aN(){return ce.lFrame.contextLView}function WE(){return HE}function kw(t){HE=t}function cN(t){return ce.lFrame.bindingIndex=t}function pl(){return ce.lFrame.bindingIndex++}function uN(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function lN(){return ce.lFrame.inI18n}function dN(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Gf(e)}function hN(){return ce.lFrame.currentDirectiveIndex}function Gf(t){ce.lFrame.currentDirectiveIndex=t}function fN(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function KE(){return ce.lFrame.currentQueryIndex}function Op(t){ce.lFrame.currentQueryIndex=t}function pN(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[zt]:null}function QE(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=pN(s),i===null||(s=s[Is],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ce.lFrame=YE();return r.currentTNode=e,r.lView=t,!0}function kp(t){let e=YE(),n=t[se];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function YE(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?ZE(t):e}function ZE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function JE(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var XE=JE;function Fp(){let t=JE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gN(t){return(ce.lFrame.contextLView=ZM(t,ce.lFrame.contextLView))[qt]}function ws(){return ce.lFrame.selectedIndex}function Jr(t){ce.lFrame.selectedIndex=t}function Lp(){let t=ce.lFrame;return jE(t.tView,t.selectedIndex)}function mN(){return ce.lFrame.currentNamespace}var eD=!0;function Vp(){return eD}function jp(t){eD=t}function yN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=kE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Up(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Pu(t,e,n){tD(t,e,3,n)}function Ou(t,e,n,r){(t[Q]&3)===n&&tD(t,e,n,r)}function bf(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function tD(t,e,n,r){let i=r!==void 0?t[ss]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ss]+=65536),(a<s||s==-1)&&(vN(t,n,e,u),t[ss]=(t[ss]&4294901760)+u+2),u++}function Fw(t,e){en(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),en(5,t,e)}}function vN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[ss]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,Fw(a,s)):Fw(a,s)}var cs=-1,Xr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function _N(t){return t instanceof Xr}function IN(t){return(t.flags&8)!==0}function wN(t){return(t.flags&16)!==0}var Tf={},Wf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=cl(r);let i=this.injector.get(e,Tf,r);return i!==Tf||n===Tf?i:this.parentInjector.get(e,n,r)}};function nD(t){return t!==cs}function Wu(t){return t&32767}function EN(t){return t>>16}function Ku(t,e){let n=EN(t),r=e;for(;n>0;)r=r[Is],n--;return r}var Kf=!0;function Lw(t){let e=Kf;return Kf=t,e}var DN=256,rD=DN-1,iD=5,CN=0,tn={};function bN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wo)&&(r=n[Wo]),r==null&&(r=n[Wo]=CN++);let i=r&rD,s=1<<i;e.data[t+(i>>iD)]|=s}function Qu(t,e){let n=sD(t,e);if(n!==-1)return n;let r=e[se];r.firstCreatePass&&(t.injectorIndex=e.length,Sf(r.data,t),Sf(e,null),Sf(r.blueprint,null));let i=Bp(t,e),s=t.injectorIndex;if(nD(i)){let o=Wu(i),a=Ku(i,e),u=a[se].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Sf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=lD(i),r===null)return cs;if(n++,i=i[Is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return cs}function Qf(t,e,n){bN(t,e,n)}function TN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(_E(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function oD(t,e,n){if(n&oe.Optional||t!==void 0)return t;Sp(e,"NodeInjector")}function aD(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[fs],s=Mt(void 0);try{return i?i.get(e,r,n&oe.Optional):pE(e,r,n&oe.Optional)}finally{Mt(s)}}return oD(r,e,n)}function cD(t,e,n,r=oe.Default,i){if(t!==null){if(e[Q]&2048&&!(r&oe.Self)){let o=MN(t,e,n,r,tn);if(o!==tn)return o}let s=uD(t,e,n,r,tn);if(s!==tn)return s}return aD(e,n,r,i)}function uD(t,e,n,r,i){let s=AN(n);if(typeof s=="function"){if(!QE(e,t,r))return r&oe.Host?oD(i,n,r):aD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))Sp(n);else return o}finally{XE()}}else if(typeof s=="number"){let o=null,a=sD(t,e),u=cs,l=r&oe.Host?e[sn][zt]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?Bp(t,e):e[a+8],u===cs||!jw(r,!1)?a=-1:(o=e[se],a=Wu(u),e=Ku(u,e)));a!==-1;){let h=e[se];if(Vw(s,a,h.data)){let p=SN(a,e,n,o,r,l);if(p!==tn)return p}u=e[a+8],u!==cs&&jw(r,e[se].data[a+8]===l)&&Vw(s,a,e)?(o=h,a=Wu(u),e=Ku(u,e)):a=-1}}return i}function SN(t,e,n,r,i,s){let o=e[se],a=o.data[t+8],u=r==null?dl(a)&&Kf:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,h=ku(a,o,n,u,l);return h!==null?ei(e,o,h,a):tn}function ku(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&mr(v)&&v.type===n)return u}return null}function ei(t,e,n,r){let i=t[n],s=e.data;if(_N(i)){let o=i;o.resolving&&XR(JR(s[n]));let a=Lw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Mt(o.injectImpl):null,h=QE(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&yN(n,s[n],e)}finally{l!==null&&Mt(l),Lw(a),o.resolving=!1,XE()}}return i}function AN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Wo)?t[Wo]:void 0;return typeof e=="number"?e>=0?e&rD:RN:e}function Vw(t,e,n){let r=1<<t;return!!(n[e+(t>>iD)]&r)}function jw(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var Wr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cD(this._tNode,this._lView,e,cl(r),n)}};function RN(){return new Wr(rt(),Ee())}function Es(t){return ta(()=>{let e=t.prototype.constructor,n=e[Vu]||Yf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Vu]||Yf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Yf(t){return cE(t)?()=>{let e=Yf(lt(t));return e&&e()}:us(t)}function MN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=uD(s,o,n,r|oe.Self,tn);if(a!==tn)return a;let u=s.parent;if(!u){let l=o[NE];if(l){let h=l.get(n,tn,r);if(h!==tn)return h}u=lD(o),o=o[Is]}s=u}return i}function lD(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[zt]:null}function $p(t){return TN(rt(),t)}function Uw(t,e=null,n=null,r){let i=dD(t,e,n,r);return i.resolveInjectorInitializers(),i}function dD(t,e=null,n=null,r,i=new Set){let s=[n||Nt,MM(t)];return r=r||(typeof t=="object"?void 0:dt(t)),new Yo(s,e||Np(),r||null,i)}var zr=class zr{static create(e,n){if(Array.isArray(e))return Uw({name:""},n,e,"");{let r=e.name??"";return Uw({name:r},e.parent,e.providers,r)}}};zr.THROW_IF_NOT_FOUND=Ko,zr.NULL=new Bu,zr.\u0275prov=G({token:zr,providedIn:"any",factory:()=>ae(mE)}),zr.__NG_ELEMENT_ID__=-1;var gt=zr;var NN=new j("");NN.__NG_ELEMENT_ID__=t=>{let e=rt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new $(204,!1)};var xN="ngOriginalError";function Af(t){return t[xN]}var hD=!0,fD=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Zf=class extends fD{constructor(e){super(),this._lView=e}onDestroy(e){return $E(this._lView,e),()=>JM(this._lView,e)}};function PN(){return new Zf(Ee())}var Ds=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Jf=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,BM()&&(this.destroyRef=k(fD,{optional:!0})??void 0,this.pendingTasks=k(Ds,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=Jf;function Yu(...t){}function pD(t){let e,n;function r(){t=Yu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Bw(t){return queueMicrotask(()=>t()),()=>{t=Yu}}var Hp="isAngularZone",Zu=Hp+"_ID",ON=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=hD}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,LN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Hp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,kN,Yu,Yu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},kN={};function qp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function FN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){pD(()=>{t.callbackScheduled=!1,Xf(t),t.isCheckStableRunning=!0,qp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Xf(t)}function LN(t){let e=()=>{FN(t)},n=ON++;t._inner=t._inner.fork({name:"angular",properties:{[Hp]:!0,[Zu]:n,[Zu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(VN(u))return r.invokeTask(s,o,a,u);try{return $w(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Hw(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return $w(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!jN(u)&&e(),Hw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Xf(t),qp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Xf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $w(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Hw(t){t._nesting--,qp(t)}var ep=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function VN(t){return gD(t,"__ignore_ng_zone__")}function jN(t){return gD(t,"__scheduler_tick__")}function gD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Mn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Af(e);for(;n&&Af(n);)n=Af(n);return n||null}},UN=new j("",{providedIn:"root",factory:()=>{let t=k(we),e=k(Mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function BN(){return Cs(rt(),Ee())}function Cs(t,e){return new kt(Ot(t,e))}var kt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=BN;let t=e;return t})();function $N(t){return t instanceof kt?t.nativeElement:t}function HN(){return this._results[Symbol.iterator]()}var tp=class t{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=HN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=dM(e);(this._changesDetected=!lM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function mD(t){return(t.flags&128)===128}var yD=new Map,qN=0;function zN(){return qN++}function GN(t){yD.set(t[ll],t)}function np(t){yD.delete(t[ll])}var qw="__ngContext__";function ti(t,e){pr(e)?(t[qw]=e[ll],GN(e)):t[qw]=e}function vD(t){return ID(t[Zo])}function _D(t){return ID(t[Ht])}function ID(t){for(;t!==null&&!kn(t);)t=t[Ht];return t}var rp;function wD(t){rp=t}function WN(){if(rp!==void 0)return rp;if(typeof document<"u")return document;throw new $(210,!1)}var zp=new j("",{providedIn:"root",factory:()=>KN}),KN="ng",Gp=new j(""),_r=new j("",{providedIn:"platform",factory:()=>"unknown"});var Wp=new j("",{providedIn:"root",factory:()=>WN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QN="h",YN="b";var ZN=()=>null;function Kp(t,e,n=!1){return ZN(t,e,n)}var ED=!1,JN=new j("",{providedIn:"root",factory:()=>ED});var Au;function XN(){if(Au===void 0&&(Au=null,kf.trustedTypes))try{Au=kf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Au}function zw(t){return XN()?.createScriptURL(t)||t}var Ju=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aE})`}};function ia(t){return t instanceof Ju?t.changingThisBreaksApplicationSecurity:t}function Qp(t,e){let n=ex(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${aE})`)}return n===e}function ex(t){return t instanceof Ju&&t.getTypeName()||null}var tx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function DD(t){return t=String(t),t.match(tx)?t:"unsafe:"+t}var gl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gl||{});function nx(t){let e=bD();return e?e.sanitize(gl.URL,t)||"":Qp(t,"URL")?ia(t):DD(al(t))}function rx(t){let e=bD();if(e)return zw(e.sanitize(gl.RESOURCE_URL,t)||"");if(Qp(t,"ResourceURL"))return zw(ia(t));throw new $(904,!1)}function ix(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?rx:nx}function CD(t,e,n){return ix(e,n)(t)}function bD(){let t=Ee();return t&&t[rn].sanitizer}function TD(t){return t instanceof Function?t():t}var Nn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Nn||{}),sx;function Yp(t,e){return sx(t,e)}function os(t,e,n,r,i){if(r!=null){let s,o=!1;kn(r)?s=r:pr(r)&&(o=!0,r=r[On]);let a=on(r);t===0&&n!==null?i==null?ND(e,n,a):Xu(e,n,a,i||null,!0):t===1&&n!==null?Xu(e,n,a,i||null,!0):t===2?Ix(e,a,o):t===3&&e.destroyNode(a),s!=null&&Ex(e,t,s,n,i)}}function ox(t,e){return t.createText(e)}function ax(t,e,n){t.setValue(e,n)}function SD(t,e,n){return t.createElement(e,n)}function cx(t,e){AD(t,e),e[On]=null,e[zt]=null}function ux(t,e,n,r,i,s){r[On]=i,r[zt]=e,ml(t,r,n,1,i,s)}function AD(t,e){e[rn].changeDetectionScheduler?.notify(9),ml(t,e,e[Be],2,null,null)}function lx(t){let e=t[Zo];if(!e)return Rf(t[se],t);for(;e;){let n=null;if(pr(e))n=e[Zo];else{let r=e[Dt];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)pr(e)&&Rf(e[se],e),e=e[nt];e===null&&(e=t),pr(e)&&Rf(e[se],e),n=e&&e[Ht]}e=n}}function dx(t,e,n,r){let i=Dt+r,s=n.length;r>0&&(n[i-1][Ht]=e),r<s-Dt?(e[Ht]=n[i],gE(n,Dt+r,e)):(n.push(e),e[Ht]=null),e[nt]=n;let o=e[Qr];o!==null&&n!==o&&RD(o,e);let a=e[An];a!==null&&a.insertView(t),zf(e),e[Q]|=128}function RD(t,e){let n=t[ps],r=e[nt];if(pr(r))t[Q]|=zu.HasTransplantedViews;else{let i=r[nt][sn];e[sn]!==i&&(t[Q]|=zu.HasTransplantedViews)}n===null?t[ps]=[e]:n.push(e)}function Zp(t,e){let n=t[ps],r=n.indexOf(e);n.splice(r,1)}function ip(t,e){if(t.length<=Dt)return;let n=Dt+e,r=t[n];if(r){let i=r[Qr];i!==null&&i!==t&&Zp(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let s=Uu(t,Dt+e);cx(r[se],r);let o=s[An];o!==null&&o.detachView(s[se]),r[nt]=null,r[Ht]=null,r[Q]&=-129}return r}function MD(t,e){if(!(e[Q]&256)){let n=e[Be];n.destroyNode&&ml(t,e,n,3,null,null),lx(e)}}function Rf(t,e){if(e[Q]&256)return;let n=ye(null);try{e[Q]&=-129,e[Q]|=256,e[xt]&&nf(e[xt]),fx(t,e),hx(t,e),e[se].type===1&&e[Be].destroy();let r=e[Qr];if(r!==null&&kn(e[nt])){r!==e[nt]&&Zp(r,e);let i=e[An];i!==null&&i.detachView(t)}np(e)}finally{ye(n)}}function hx(t,e){let n=t.cleanup,r=e[Hu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Hu]=null);let i=e[fr];if(i!==null){e[fr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function fx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Xr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];en(4,a,u);try{u.call(a)}finally{en(5,a,u)}}else{en(4,i,s);try{s.call(i)}finally{en(5,i,s)}}}}}function px(t,e,n){return gx(t,e.parent,n)}function gx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[On];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===nn.None||s===nn.Emulated)return null}return Ot(r,n)}}function Xu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ND(t,e,n){t.appendChild(e,n)}function Gw(t,e,n,r,i){r!==null?Xu(t,e,n,r,i):ND(t,e,n)}function xD(t,e){return t.parentNode(e)}function mx(t,e){return t.nextSibling(e)}function yx(t,e,n){return _x(t,e,n)}function vx(t,e,n){return t.type&40?Ot(t,n):null}var _x=vx,Ww;function Jp(t,e,n,r){let i=px(t,r,e),s=e[Be],o=r.parent||e[zt],a=yx(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Gw(s,i,n[u],a,!1);else Gw(s,i,n,a,!1);Ww!==void 0&&Ww(s,r,e,n,i)}function zo(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return sp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return zo(t,r);{let i=t[e.index];return kn(i)?sp(-1,i):on(i)}}else{if(n&128)return zo(t,e.next);if(n&32)return Yp(e,t)()||on(t[e.index]);{let r=PD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zr(t[sn]);return zo(i,r)}else return zo(t,e.next)}}}return null}function PD(t,e){if(e!==null){let r=t[sn][zt],i=e.projection;return r.projection[i]}return null}function sp(t,e){let n=Dt+t+1;if(n<e.length){let r=e[n],i=r[se].firstChild;if(i!==null)return zo(r,i)}return e[Yr]}function Ix(t,e,n){t.removeChild(null,e,n)}function Xp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&ti(on(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Xp(t,e,n.child,r,i,s,!1),os(e,t,i,a,s);else if(u&32){let l=Yp(n,r),h;for(;h=l();)os(e,t,i,h,s);os(e,t,i,a,s)}else u&16?wx(t,e,r,n,i,s):os(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ml(t,e,n,r,i,s){Xp(n,r,t.firstChild,e,i,s,!1)}function wx(t,e,n,r,i,s){let o=n[sn],u=o[zt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];os(e,t,i,h,s)}else{let l=u,h=o[nt];mD(r)&&(l.flags|=128),Xp(t,e,l,h,i,s,!0)}}function Ex(t,e,n,r,i){let s=n[Yr],o=on(n);s!==o&&os(e,t,r,s,i);for(let a=Dt;a<n.length;a++){let u=n[a];ml(u[se],u,t,e,r,s)}}function Dx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Nn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Nn.Important),t.setStyle(n,r,i,s))}}function Cx(t,e,n){t.setAttribute(e,"style",n)}function OD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function kD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&jf(t,e,r),i!==null&&OD(t,e,i),s!==null&&Cx(t,e,s)}var bs={};function Gt(t=1){FD(ht(),Ee(),ws()+t,!1)}function FD(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Pu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ou(e,s,0,n)}Jr(n)}function ee(t,e=oe.Default){let n=Ee();if(n===null)return ae(t,e);let r=rt();return cD(r,n,lt(t),e)}function LD(t,e,n,r,i,s){let o=ye(null);try{let a=null;i&gr.SignalBased&&(a=e[r][bn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&gr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):OE(e,a,r,s)}finally{ye(o)}}function bx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Jr(~i);else{let s=i,o=n[++r],a=n[++r];dN(o,s);let u=e[s];a(2,u)}}}finally{Jr(-1)}}function yl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[On]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),UE(p),p[nt]=p[Is]=t,p[qt]=n,p[rn]=o||t&&t[rn],p[Be]=a||t&&t[Be],p[fs]=u||t&&t[fs]||null,p[zt]=s,p[ll]=zN(),p[$u]=h,p[NE]=l,p[sn]=e.type==2?t[sn]:p,p}function vl(t,e,n,r,i){let s=t.data[e];if(s===null)s=Tx(t,e,n,r,i),lN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=sN();s.injectorIndex=o===null?-1:o.injectorIndex}return ra(s,!0),s}function Tx(t,e,n,r,i){let s=zE(),o=GE(),a=o?s:s&&s.parent,u=t.data[e]=xx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function VD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function jD(t,e,n,r,i){let s=ws(),o=r&2;try{Jr(-1),o&&e.length>Rn&&FD(t,e,Rn,!1),en(o?2:0,i),n(r,i)}finally{Jr(s),en(o?3:1,i)}}function UD(t,e,n){if(PE(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{ye(r)}}}function BD(t,e,n){qE()&&(Vx(t,e,n,Ot(n,e)),(n.flags&64)===64&&WD(t,e,n))}function $D(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function HD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=eg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function eg(t,e,n,r,i,s,o,a,u,l,h){let p=Rn+r,m=p+i,v=Sx(p,m),S=typeof l=="function"?l():l;return v[se]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function Sx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:bs);return n}function Ax(t,e,n,r){let s=r.get(JN,ED)||n===nn.ShadowDom,o=t.selectRootElement(e,s);return Rx(o),o}function Rx(t){Mx(t)}var Mx=()=>null;function Nx(t,e,n,r){let i=YD(e);i.push(n),t.firstCreatePass&&ZD(t).push(r,i.length-1)}function xx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return nN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Kw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=gr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Qw(r,n,l,a,u):Qw(r,n,l,a)}return r}function Qw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Px(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=Kw(0,p.inputs,h,u,v),l=Kw(1,p.outputs,h,l,S);let M=u!==null&&o!==null&&!Rp(e)?Qx(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Ox(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function qD(t,e,n,r,i,s,o,a){let u=Ot(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(tg(t,n,h,r,i),dl(e)&&kx(n,e.index)):e.type&3?(r=Ox(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function kx(t,e){let n=vr(e,t);n[Q]&16||(n[Q]|=64)}function zD(t,e,n,r){if(qE()){let i=r===null?null:{"":-1},s=Ux(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&GD(t,e,n,o,i,a),i&&Bx(n,r,i)}n.mergedAttrs=Qo(n.mergedAttrs,n.attrs)}function GD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Qf(Qu(n,e),t,r[l].type);Hx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=VD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Qo(n.mergedAttrs,h.hostAttrs),qx(t,n,e,u,h),$x(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Px(t,n,s)}function Fx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Lx(o)!=a&&o.push(a),o.push(n,r,s)}}function Lx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Vx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;dl(n)&&zx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Qu(n,e),ti(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=ei(e,t,a,n);if(ti(l,e),o!==null&&Kx(e,a-i,l,u,n,o),mr(u)){let h=vr(n.index,e);h[qt]=ei(e,t,a,n)}}}function WD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=hN();try{Jr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Gf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&jx(u,l)}}finally{Jr(-1),Gf(o)}}function jx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ux(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(wM(e,o.selectors,!1))if(r||(r=[]),mr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;op(t,e,u)}else r.unshift(o),op(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function op(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Bx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function $x(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mr(e)&&(n[""]=t)}}function Hx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=us(i.type,!0)),o=new Xr(s,mr(i),ee);t.blueprint[r]=o,n[r]=o,Fx(t,e,r,VD(t,n,i.hostVars,bs),i)}function zx(t,e,n){let r=Ot(e,t),i=HD(n),s=t[rn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=_l(t,yl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Gx(t,e,n,r,i,s){let o=Ot(t,e);Wx(e[Be],o,s,t.value,n,r,i)}function Wx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?al(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Kx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];LD(r,n,u,l,h,p)}}function Qx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function KD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function QD(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Op(s),a.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function _l(t,e){return t[Zo]?t[Pw][Ht]=e:t[Zo]=e,t[Pw]=e,e}function ap(t,e,n){Op(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function YD(t){return t[Hu]??=[]}function ZD(t){return t.cleanup??=[]}function JD(t,e){let n=t[fs],r=n?n.get(Mn,null):null;r&&r.handleError(e)}function tg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];LD(h,l,r,a,u,i)}}function Yx(t,e,n){let r=VE(e,t);ax(t[Be],r,n)}function Zx(t,e){let n=vr(e,t),r=n[se];Jx(r,n);let i=n[On];i!==null&&n[$u]===null&&(n[$u]=Kp(i,n[fs])),ng(r,n,n[qt])}function Jx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ng(t,e,n){kp(e);try{let r=t.viewQuery;r!==null&&ap(1,r,n);let i=t.template;i!==null&&jD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[An]?.finishViewCreation(t),t.staticContentQueries&&QD(t,e),t.staticViewQueries&&ap(2,t.viewQuery,n);let s=t.components;s!==null&&Xx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Fp()}}function Xx(t,e){for(let n=0;n<e.length;n++)Zx(t,e[n])}function eP(t,e,n,r){let i=ye(null);try{let s=e.tView,a=t[Q]&4096?4096:16,u=yl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Qr]=l;let h=t[An];return h!==null&&(u[An]=h.createEmbeddedView(s)),ng(s,u,n),u}finally{ye(i)}}function Yw(t,e){return!e||e.firstChild===null||mD(t)}function tP(t,e,n,r=!0){let i=e[se];if(dx(i,e,t,n),r){let o=sp(n,t),a=e[Be],u=xD(a,t[Yr]);u!==null&&ux(i,t[zt],a,e,u,o)}let s=e[$u];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function el(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(on(s)),kn(s)&&nP(s,r);let o=n.type;if(o&8)el(t,e,n.child,r);else if(o&32){let a=Yp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=PD(e,n);if(Array.isArray(a))r.push(...a);else{let u=Zr(e[sn]);el(u[se],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nP(t,e){for(let n=Dt;n<t.length;n++){let r=t[n],i=r[se].firstChild;i!==null&&el(r[se],r,i,e)}t[Yr]!==t[On]&&e.push(t[Yr])}var XD=[];function rP(t){return t[xt]??iP(t)}function iP(t){let e=XD.pop()??Object.create(oP);return e.lView=t,e}function sP(t){t.lView[xt]!==t&&(t.lView=null,XD.push(t))}var oP=le(O({},Bo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fl(t.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function aP(t){let e=t[xt]??Object.create(cP);return e.lView=t,e}var cP=le(O({},Bo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Zr(t.lView);for(;e&&!eC(e[se]);)e=Zr(e);e&&BE(e)},consumerOnSignalRead(){this.lView[xt]=this}});function eC(t){return t.type!==2}var uP=100;function tC(t,e=!0,n=0){let r=t[rn],i=r.rendererFactory,s=!1;s||i.begin?.();try{lP(t,n)}catch(o){throw e&&JD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function lP(t,e){let n=WE();try{kw(!0),cp(t,e);let r=0;for(;hl(t);){if(r===uP)throw new $(103,!1);r++,cp(t,1)}}finally{kw(n)}}function dP(t,e,n,r){let i=e[Q];if((i&256)===256)return;let s=!1,o=!1;!s&&e[rn].inlineEffectRunner?.flush(),kp(e);let a=!0,u=null,l=null;s||(eC(t)?(l=rP(e),u=Yc(l)):jI()===null?(a=!1,l=aP(e),u=Yc(l)):e[xt]&&(nf(e[xt]),e[xt]=null));try{UE(e),cN(t.bindingStartIndex),n!==null&&jD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&Pu(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Ou(e,v,0,null),bf(e,0)}if(o||hP(e),nC(e,0),t.contentQueries!==null&&QD(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&Pu(e,v)}else{let v=t.contentHooks;v!==null&&Ou(e,v,1),bf(e,1)}bx(t,e);let p=t.components;p!==null&&iC(e,p,0);let m=t.viewQuery;if(m!==null&&ap(2,m,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&Pu(e,v)}else{let v=t.viewHooks;v!==null&&Ou(e,v,2),bf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Cf]){for(let v of e[Cf])v();e[Cf]=null}s||(e[Q]&=-73)}catch(h){throw s||fl(e),h}finally{l!==null&&(ef(l,u),a&&sP(l)),Fp()}}function nC(t,e){for(let n=vD(t);n!==null;n=_D(n))for(let r=Dt;r<n.length;r++){let i=n[r];rC(i,e)}}function hP(t){for(let e=vD(t);e!==null;e=_D(e)){if(!(e[Q]&zu.HasTransplantedViews))continue;let n=e[ps];for(let r=0;r<n.length;r++){let i=n[r];BE(i)}}}function fP(t,e,n){let r=vr(e,t);rC(r,n)}function rC(t,e){Pp(t)&&cp(t,e)}function cp(t,e){let r=t[se],i=t[Q],s=t[xt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&tf(s)),o||=!1,s&&(s.dirty=!1),t[Q]&=-9217,o)dP(r,t,r.template,t[qt]);else if(i&8192){nC(t,1);let a=r.components;a!==null&&iC(t,a,1)}}function iC(t,e,n){for(let r=0;r<e.length;r++)fP(t,e[r],n)}function rg(t,e){let n=WE()?64:1088;for(t[rn].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=Zr(t);if(Hf(t)&&!r)return t;t=r}return null}var ni=class{get rootNodes(){let e=this._lView,n=e[se];return el(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(kn(e)){let n=e[qu],r=n?n.indexOf(this):-1;r>-1&&(ip(e,r),Uu(n,r))}this._attachedToViewContainer=!1}MD(this._lView[se],this._lView)}onDestroy(e){$E(this._lView,e)}markForCheck(){rg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){zf(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,tC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Hf(this._lView),n=this._lView[Qr];n!==null&&!e&&Zp(n,this._lView),AD(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Hf(this._lView),r=this._lView[Qr];r!==null&&!n&&RD(r,this._lView),zf(this._lView)}},gs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mP;let t=e;return t})(),pP=gs,gP=class extends pP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=eP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ni(i)}};function mP(){return ig(rt(),Ee())}function ig(t,e){return t.type&4?new gP(e,t,Cs(t,e)):null}var _3=new RegExp(`^(\\d+)*(${YN}|${QN})*(.*)`);var yP=()=>null;function Zw(t,e){return yP(t,e)}var ms=class{},sg=new j("",{providedIn:"root",factory:()=>!1});var sC=new j(""),oC=new j(""),up=class{},tl=class{};function vP(t){let e=Error(`No component factory found for ${dt(t)}.`);return e[_P]=t,e}var _P="ngComponent";var lp=class{resolveComponentFactory(e){throw vP(e)}},gg=class gg{};gg.NULL=new lp;var ys=gg,vs=class{},Ir=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>IP();let t=e;return t})();function IP(){let t=Ee(),e=rt(),n=vr(e.index,t);return(pr(n)?n:t)[Be]}var wP=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function dp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Dw(i,a);else if(s==2){let u=a,l=e[++o];r=Dw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var nl=class extends ys{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kr(e);return new Jo(n,this.ngModule)}};function Jw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:gr.None;e?n.push({propName:o,templateName:r,isSignal:(a&gr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function EP(t){let e=t.toLowerCase();return e==="svg"?GM:e==="math"?WM:null}var Jo=class extends tl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Jw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Jw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=bM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof Pt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Wf(e,o):e,u=a.get(vs,null);if(u===null)throw new $(407,!1);let l=a.get(wP,null),h=a.get(ms,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?Ax(m,r,this.componentDef.encapsulation,a):SD(m,v,EP(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=Kp(S,a,!0));let F=eg(0,null,null,1,0,null,null,null,null,null,null),B=yl(null,F,null,M,null,null,p,m,a,null,R);kp(B);let q,ue,Re=null;try{let J=this.componentDef,D,y=null;J.findHostDirectiveDefs?(D=[],y=new Map,J.findHostDirectiveDefs(J,D,y),D.push(J)):D=[J];let _=DP(B,S);Re=CP(_,S,J,D,B,p,m),ue=jE(F,Rn),S&&SP(m,J,S,r),n!==void 0&&AP(ue,this.ngContentSelectors,n),q=TP(Re,J,D,y,B,[RP]),ng(F,B,null)}catch(J){throw Re!==null&&np(Re),np(B),J}finally{Fp()}return new hp(this.componentType,q,Cs(ue,B),B,ue)}finally{ye(s)}}},hp=class extends up{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ni(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;tg(s[se],s,i,e,n),this.previousInputValues.set(e,n);let o=vr(this._tNode.index,s);rg(o,1)}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function DP(t,e){let n=t[se],r=Rn;return t[r]=e,vl(n,r,2,"#host",null)}function CP(t,e,n,r,i,s,o){let a=i[se];bP(r,t,e,o);let u=null;e!==null&&(u=Kp(e,i[fs]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=yl(i,HD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&op(a,t,r.length-1),_l(i,p),i[t.index]=p}function bP(t,e,n,r){for(let i of t)e.mergedAttrs=Qo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(dp(e,e.mergedAttrs,!0),n!==null&&kD(r,n,e))}function TP(t,e,n,r,i,s){let o=rt(),a=i[se],u=Ot(o,i);GD(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=ei(i,a,p,o);ti(m,i)}WD(a,i,o),u&&ti(u,i);let l=ei(i,a,o.directiveStart+o.componentOffset,o);if(t[qt]=i[qt]=l,s!==null)for(let h of s)h(l,e);return UD(a,o,i),l}function SP(t,e,n,r){if(r)jf(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:s}=TM(e.selectors[0]);i&&jf(t,n,i),s&&s.length>0&&OD(t,n,s.join(" "))}}function AP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function RP(){let t=rt();Up(Ee()[se],t)}var ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MP;let t=e;return t})();function MP(){let t=rt();return cC(t,Ee())}var NP=ai,aC=class extends NP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bp(this._hostTNode,this._hostLView);if(nD(e)){let n=Ku(e,this._hostLView),r=Wu(e),i=n[se].data[r+8];return new Wr(i,n)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Xw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Zw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Yw(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!$M(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Jo(Kr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(Pt,null);M&&(s=M)}let h=Kr(u.componentType??{}),p=Zw(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,Yw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(YM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[nt],l=new aC(u,u[zt],u[nt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return tP(o,i,s,r),e.attachToViewContainerRef(),gE(Mf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Xw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ip(this._lContainer,n);r&&(Uu(Mf(this._lContainer),n),MD(r[se],r))}detach(e){let n=this._adjustIndex(e,-1),r=ip(this._lContainer,n);return r&&Uu(Mf(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Xw(t){return t[qu]}function Mf(t){return t[qu]||(t[qu]=[])}function cC(t,e){let n,r=e[t.index];return kn(r)?n=r:(n=KD(r,e,null,t),e[t.index]=n,_l(e,n)),PP(n,e,t,r),new aC(n,t,e)}function xP(t,e){let n=t[Be],r=n.createComment(""),i=Ot(e,t),s=xD(n,i);return Xu(n,s,r,mx(n,i),!1),r}var PP=FP,OP=()=>!1;function kP(t,e,n){return OP(t,e,n)}function FP(t,e,n,r){if(t[Yr])return;let i;n.type&8?i=on(r):i=xP(e,n),t[Yr]=i}var fp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},pp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)og(e,n).matches!==null&&this.queries[n].setDirty()}},gp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=qP(e):this.predicate=e}},mp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},yp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,LP(n,s)),this.matchTNodeWithReadOption(e,n,ku(n,e,s,!1,!1))}else r===gs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ku(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===kt||i===ai||i===gs&&n.type&4)this.addMatch(n.index,-2);else{let s=ku(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function LP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function VP(t,e){return t.type&11?Cs(t,e):t.type&4?ig(t,e):null}function jP(t,e,n,r){return n===-1?VP(e,t):n===-2?UP(t,e,r):ei(t,t[se],n,e)}function UP(t,e,n){if(n===kt)return Cs(e,t);if(n===gs)return ig(e,t);if(n===ai)return cC(e,t)}function uC(t,e,n,r){let i=e[An].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(jP(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function vp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=uC(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=Dt;p<h.length;p++){let m=h[p];m[Qr]===m[nt]&&vp(m[se],m,l,r)}if(h[ps]!==null){let p=h[ps];for(let m=0;m<p.length;m++){let v=p[m];vp(v[se],v,l,r)}}}}}return r}function BP(t,e){return t[An].queries[e].queryList}function $P(t,e,n){let r=new tp((n&4)===4);return Nx(t,e,r,r.destroy),(e[An]??=new pp).queries.push(new fp(r))-1}function HP(t,e,n,r){let i=ht();if(i.firstCreatePass){let s=rt();zP(i,new gp(e,n,r),s.index),GP(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return $P(i,Ee(),n)}function qP(t){return t.split(",").map(e=>e.trim())}function zP(t,e,n){t.queries===null&&(t.queries=new mp),t.queries.track(new yp(e,n))}function GP(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function og(t,e){return t.queries.getByIndex(e)}function WP(t,e){let n=t[se],r=og(n,e);return r.crossesNgTemplate?vp(n,t,e,[]):uC(n,t,r,e)}var eE=new Set;function sa(t){eE.has(t)||(eE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function KP(t){return typeof t=="function"&&t[bn]!==void 0}function oa(t,e){sa("NgSignals");let n=YI(t),r=n[bn];return e?.equal&&(r.equal=e.equal),n.set=i=>rf(r,i),n.update=i=>ZI(r,i),n.asReadonly=QP.bind(n),n}function QP(){let t=this[bn];if(t.readonlyFn===void 0){let e=()=>this();e[bn]=t,t.readonlyFn=e}return t.readonlyFn}function lC(t){return KP(t)&&typeof t.set=="function"}function YP(t){return Object.getPrototypeOf(t.prototype).constructor}function Ln(t){let e=YP(t.type),n=!0,r=[t];for(;e;){let i;if(mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Ru(t.inputs),o.inputTransforms=Ru(t.inputTransforms),o.declaredInputs=Ru(t.declaredInputs),o.outputs=Ru(t.outputs);let a=i.hostBindings;a&&tO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&XP(t,u),l&&eO(t,l),ZP(t,i),qR(t.outputs,i.outputs),mr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ln&&(n=!1)}}e=Object.getPrototypeOf(e)}JP(r)}function ZP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function JP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qo(i.hostAttrs,n=Qo(n,i.hostAttrs))}}function Ru(t){return t===ls?{}:t===Nt?[]:t}function XP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function eO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function tO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ag(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var yr=class{},Xo=class{};var _p=class extends yr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nl(this);let s=CE(e);this._bootstrapComponents=TD(s.bootstrap),this._r3Injector=dD(e,n,[{provide:yr,useValue:this},{provide:ys,useValue:this.componentFactoryResolver},...r],dt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ip=class extends Xo{constructor(e){super(),this.moduleType=e}create(e){return new _p(this.moduleType,e,[])}};var rl=class extends yr{constructor(e){super(),this.componentFactoryResolver=new nl(this),this.instance=null;let n=new Yo([...e.providers,{provide:yr,useValue:this},{provide:ys,useValue:this.componentFactoryResolver}],e.parent||Np(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cg(t,e,n=null){return new rl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function aa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function nO(t){return(t.flags&32)===32}function rO(t,e,n,r,i,s,o,a,u){let l=e.consts,h=vl(e,t,4,o||null,a||null);zD(e,n,h,Gu(l,u)),Up(e,h);let p=h.tView=eg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function iO(t,e,n,r,i,s,o,a,u,l){let h=n+Rn,p=e.firstCreatePass?rO(h,e,t,r,i,s,o,a,u):e.data[h];ra(p,!1);let m=sO(e,t,p,n);Vp()&&Jp(e,t,m,p),ti(m,t);let v=KD(m,t,m,p);return t[h]=v,_l(t,v),kP(v,p,t),xp(p)&&BD(e,t,p),u!=null&&$D(t,p,l),p}function ug(t,e,n,r,i,s,o,a){let u=Ee(),l=ht(),h=Gu(l.consts,s);return iO(u,l,t,e,n,r,i,h,o,a),ug}var sO=oO;function oO(t,e,n,r){return jp(!0),e[Be].createComment("")}var Go=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Go||{}),aO=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Gr=class Gr{constructor(){this.ngZone=k(we),this.scheduler=k(ms),this.errorHandler=k(Mn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Gr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Gr.PHASES=[Go.EarlyRead,Go.Write,Go.MixedReadWrite,Go.Read],Gr.\u0275prov=G({token:Gr,providedIn:"root",factory:()=>new Gr});var tE=Gr;function ca(t,e,n,r){let i=Ee(),s=pl();if(aa(i,s,e)){let o=ht(),a=Lp();Gx(a,i,t,e,n,r)}return ca}function cO(t,e,n,r){return aa(t,pl(),n)?e+al(n)+r:bs}function Mu(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function uO(t){return(t&2)==2}function lO(t,e){return t&131071|e<<17}function wp(t){return t|2}function _s(t){return(t&131068)>>2}function Nf(t,e){return t&-131069|e<<2}function dO(t){return(t&1)===1}function Ep(t){return t|1}function hO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ri(o),u=_s(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||na(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ri(t[a+1]);t[r+1]=Mu(m,a),m!==0&&(t[m+1]=Nf(t[m+1],r)),t[a+1]=lO(t[a+1],r)}else t[r+1]=Mu(a,0),a!==0&&(t[a+1]=Nf(t[a+1],r)),a=r;else t[r+1]=Mu(u,0),a===0?a=r:t[u+1]=Nf(t[u+1],r),u=r;l&&(t[r+1]=wp(t[r+1])),nE(t,h,r,!0),nE(t,h,r,!1),fO(e,h,t,r,s),o=Mu(a,u),s?e.classBindings=o:e.styleBindings=o}function fO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&na(s,e)>=0&&(n[r+1]=Ep(n[r+1]))}function nE(t,e,n,r){let i=t[n+1],s=e===null,o=r?ri(i):_s(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];pO(u,e)&&(a=!0,t[o+1]=r?Ep(l):wp(l)),o=r?ri(l):_s(l)}a&&(t[n+1]=r?wp(i):Ep(i))}function pO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?na(t,e)>=0:!1}function ua(t,e,n){let r=Ee(),i=pl();if(aa(r,i,e)){let s=ht(),o=Lp();qD(s,o,r,t,e,r[Be],n,!1)}return ua}function rE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";tg(t,n,s[o],o,r)}function Il(t,e){return gO(t,e,null,!0),Il}function gO(t,e,n,r){let i=Ee(),s=ht(),o=uN(2);if(s.firstUpdatePass&&yO(s,t,o,r),e!==bs&&aa(i,o,e)){let a=s.data[ws()];EO(s,a,i,i[Be],t,i[o+1]=DO(e,n),r,o)}}function mO(t,e){return e>=t.expandoStartIndex}function yO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ws()],o=mO(t,n);CO(s,r)&&e===null&&!o&&(e=!1),e=vO(i,s,e,r),hO(i,s,e,n,o,r)}}function vO(t,e,n,r){let i=fN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=xf(null,t,e,n,r),n=ea(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=xf(i,t,e,n,r),s===null){let u=_O(t,e,r);u!==void 0&&Array.isArray(u)&&(u=xf(null,t,e,u[1],r),u=ea(u,e.attrs,r),IO(t,e,r,u))}else s=wO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function _O(t,e,n){let r=n?e.classBindings:e.styleBindings;if(_s(r)!==0)return t[ri(r)]}function IO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ri(i)]=r}function wO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ea(r,o,n)}return ea(r,e.attrs,n)}function xf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ea(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ea(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function EO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=dO(l)?iE(u,e,n,i,_s(l),o):void 0;if(!il(h)){il(s)||uO(l)&&(s=iE(u,null,n,i,a,o));let p=VE(ws(),n);Dx(r,o,p,i,s)}}function iE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===bs&&(m=p?Nt:void 0);let v=p?Ef(m,r):h===r?m:void 0;if(l&&!il(v)&&(v=Ef(u,r)),il(v)&&(a=v,o))return a;let S=t[i+1];i=o?ri(S):_s(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Ef(u,r))}return a}function il(t){return t!==void 0}function DO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dt(ia(t)))),t}function CO(t,e){return(t.flags&(e?8:16))!==0}function bO(t,e,n,r,i,s){let o=e.consts,a=Gu(o,i),u=vl(e,t,2,r,a);return zD(e,n,u,Gu(o,s)),u.attrs!==null&&dp(u,u.attrs,!1),u.mergedAttrs!==null&&dp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function U(t,e,n,r){let i=Ee(),s=ht(),o=Rn+t,a=i[Be],u=s.firstCreatePass?bO(o,s,i,e,n,r):s.data[o],l=TO(s,i,u,a,e,t);i[o]=l;let h=xp(u);return ra(u,!0),kD(a,l,u),!nO(u)&&Vp()&&Jp(s,i,l,u),XM()===0&&ti(l,i),eN(),h&&(BD(s,i,u),UD(s,u,i)),r!==null&&$D(i,u),U}function z(){let t=rt();GE()?oN():(t=t.parent,ra(t,!1));let e=t;rN(e)&&iN(),tN();let n=ht();return n.firstCreatePass&&(Up(n,t),PE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&IN(e)&&rE(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&wN(e)&&rE(n,e,Ee(),e.stylesWithoutHost,!1),z}function ft(t,e,n,r){return U(t,e,n,r),z(),ft}var TO=(t,e,n,r,i,s)=>(jp(!0),SD(r,i,mN()));function wl(){return Ee()}var sl="en-US";var SO=sl;function AO(t){typeof t=="string"&&(SO=t.toLowerCase().replace(/_/g,"-"))}var RO=(t,e,n)=>{};function vt(t,e,n,r){let i=Ee(),s=ht(),o=rt();return dC(s,i,i[Be],o,t,e,r),vt}function MO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Hu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function dC(t,e,n,r,i,s,o){let a=xp(r),l=t.firstCreatePass&&ZD(t),h=e[qt],p=YD(e),m=!0;if(r.type&3||o){let M=Ot(r,e),R=o?o(M):M,F=p.length,B=o?ue=>o(on(ue[r.index])):r.index,q=null;if(!o&&a&&(q=MO(t,e,i,r.index)),q!==null){let ue=q.__ngLastListenerFn__||q;ue.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,m=!1}else{s=oE(r,e,h,s),RO(M,i,s);let ue=n.listen(R,i,s);p.push(s,ue),l&&l.push(i,B,F,F+1)}}else s=oE(r,e,h,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],B=S[R+1],Re=e[F][B].subscribe(s),J=p.length;p.push(s,Re),l&&l.push(i,r.index,J,-(J+1))}}}function sE(t,e,n,r){let i=ye(null);try{return en(6,e,n),n(r)!==!1}catch(s){return JD(t,s),!1}finally{en(7,e,n),ye(i)}}function oE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?vr(t.index,e):e;rg(o,5);let a=sE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=sE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function lg(t=1){return gN(t)}function hC(t,e,n,r){HP(t,e,n,r)}function fC(t){let e=Ee(),n=ht(),r=KE();Op(r+1);let i=og(n,r);if(t.dirty&&QM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=WP(e,r);t.reset(s,$N),t.notifyOnChanges()}return!0}return!1}function pC(){return BP(Ee(),KE())}function gC(t){let e=aN();return KM(e,Rn+t)}function te(t,e=""){let n=Ee(),r=ht(),i=t+Rn,s=r.firstCreatePass?vl(r,i,1,e,null):r.data[i],o=NO(r,n,s,e,t);n[i]=o,Vp()&&Jp(r,n,o,s),ra(s,!1)}var NO=(t,e,n,r,i)=>(jp(!0),ox(e[Be],r));function dg(t){return El("",t,""),dg}function El(t,e,n){let r=Ee(),i=cO(r,t,e,n);return i!==bs&&Yx(r,ws(),i),El}function ci(t,e,n){lC(e)&&(e=e());let r=Ee(),i=pl();if(aa(r,i,e)){let s=ht(),o=Lp();qD(s,o,r,t,e,r[Be],n,!1)}return ci}function Ts(t,e){let n=lC(t);return n&&t.set(e),n}function ui(t,e){let n=Ee(),r=ht(),i=rt();return dC(r,n,n[Be],i,t,e),ui}function xO(t,e,n){let r=ht();if(r.firstCreatePass){let i=mr(t);Dp(n,r.data,r.blueprint,i,!0),Dp(e,r.data,r.blueprint,i,!1)}}function Dp(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Dp(t[s],e,n,r,i);else{let s=ht(),o=Ee(),a=rt(),u=hs(t)?t:lt(t.provide),l=ME(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(hs(t)||!t.multi){let v=new Xr(l,i,ee),S=Of(u,e,i?h:h+m,p);S===-1?(Qf(Qu(a,o),s,u),Pf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=Of(u,e,h+m,p),S=Of(u,e,h,h+m),M=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!M){Qf(Qu(a,o),s,u);let F=kO(i?OO:PO,n.length,i,r,l);!i&&R&&(n[S].providerFactory=F),Pf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=mC(n[i?S:v],l,!i&&r);Pf(s,t,v>-1?v:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function Pf(t,e,n,r){let i=hs(e),s=OM(e);if(i||s){let u=(s?lt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function mC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Of(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function PO(t,e,n,r){return Cp(this.multi,[])}function OO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ei(n,n[se],this.providerFactory.index,r);s=a.slice(0,o),Cp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Cp(i,s);return s}function Cp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function kO(t,e,n,r,i){let s=new Xr(t,n,ee);return s.multi=[],s.index=e,s.componentProviders=0,mC(s,i,r&&!n),s}function la(t,e=[]){return n=>{n.providersResolver=(r,i)=>xO(r,i?i(t):t,e)}}var FO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=SE(!1,r.type),s=i.length>0?cg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(ae(Pt))});let t=e;return t})();function _t(t){sa("NgStandalone"),t.getStandaloneInjector=e=>e.get(FO).getOrCreateStandaloneInjector(t)}var xn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},yC=new xn("18.2.4");var Dl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var vC=new j("");function li(t){return!!t&&typeof t.then=="function"}function _C(t){return!!t&&typeof t.subscribe=="function"}var IC=new j(""),wC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(IC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(li(o))r.push(o);else if(_C(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hg=new j("");function LO(){QI(()=>{throw new $(600,!1)})}function VO(t){return t.isBoundToModule}var jO=10;function UO(t,e,n){try{let r=n();return li(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var di=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(UN),this.afterRenderManager=k(aO),this.zonelessEnabled=k(sg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=k(Ds).hasPendingTasks.pipe(ie(r=>!r)),this._injector=k(Pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof tl;if(!this._injector.get(wC).done){let v=!s&&DE(r),S=!1;throw new $(405,S)}let a;s?a=r:a=this._injector.get(ys).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=VO(a)?void 0:this._injector.get(yr),l=i||a.selector,h=a.create(gt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(vC,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Fu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let r=ye(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ye(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(vs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<jO;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)BO(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>hl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Fu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(hg,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Fu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function BO(t,e,n,r){if(!n&&!hl(t))return;tC(t,e,n&&!r?0:1)}var bp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},fg=(()=>{let e=class e{compileModuleSync(r){return new Ip(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=CE(r),o=TD(s.declarations).reduce((a,u)=>{let l=Kr(u);return l&&a.push(new Jo(l)),a},[]);return new bp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $O=(()=>{let e=class e{constructor(){this.zone=k(we),this.changeDetectionScheduler=k(ms),this.applicationRef=k(di)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HO=new j("",{factory:()=>!1});function EC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(le(O({},CC()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:ds,multi:!0,useFactory:()=>{let r=k($O,{optional:!0});return()=>r.initialize()}},{provide:ds,multi:!0,useFactory:()=>{let r=k(qO);return()=>{r.initialize()}}},e===!0?{provide:sC,useValue:!0}:[],{provide:oC,useValue:n??hD}]}function DC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=EC({ngZoneFactory:()=>{let i=CC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&sa("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return an([{provide:HO,useValue:!0},{provide:sg,useValue:!1},r])}function CC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var qO=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(Ds)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zO=(()=>{let e=class e{constructor(){this.appRef=k(di),this.taskService=k(Ds),this.ngZone=k(we),this.zonelessEnabled=k(sg),this.disableScheduling=k(sC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(oC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ep||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Bw:pD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Bw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GO(){return typeof $localize<"u"&&$localize.locale||sl}var pg=new j("",{providedIn:"root",factory:()=>k(pg,oe.Optional|oe.SkipSelf)||GO()});var bC=new j("");function Nu(t){return!!t.platformInjector}function WO(t){let e=Nu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Nu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Mn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Nu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(bC);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Fu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return UO(r,n,()=>{let s=e.get(wC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(pg,sl);if(AO(o||sl),Nu(t)){let a=e.get(di);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return KO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function KO(t,e){let n=t.injector.get(di);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var Lu=null;function QO(t=[],e){return gt.create({name:e,providers:[{provide:ul,useValue:"platform"},{provide:bC,useValue:new Set([()=>Lu=null])},...t]})}function YO(t=[]){if(Lu)return Lu;let e=QO(t);return Lu=e,LO(),ZO(e),e}function ZO(t){t.get(Gp,null)?.forEach(n=>n())}var wr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JO;let t=e;return t})();function JO(t){return XO(rt(),Ee(),(t&16)===16)}function XO(t,e,n){if(dl(t)&&!n){let r=vr(t.index,e);return new ni(r,r)}else if(t.type&175){let r=e[sn];return new ni(r,e)}return null}function TC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=YO(r),s=[EC({}),{provide:ms,useExisting:zO},...n||[]],o=new rl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return WO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var SC=new j("");function Er(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function da(t,e){sa("NgSignals");let n=GI(t);return e?.equal&&(n[bn].equal=e.equal),n}function Vn(t){let e=ye(null);try{return t()}finally{ye(e)}}var NC=null;function jn(){return NC}function xC(t){NC??=t}var Cl=class{};var Ct=new j(""),PC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(ek),providedIn:"platform"});let t=e;return t})();var ek=(()=>{let e=class e extends PC{constructor(){super(),this._doc=k(Ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jn().getBaseHref(this._doc)}onPopState(r){let i=jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function OC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function AC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function hi(t){return t&&t[0]!=="?"?"?"+t:t}var Ss=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(kC),providedIn:"root"});let t=e;return t})(),tk=new j(""),kC=(()=>{let e=class e extends Ss{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return OC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+hi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+hi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+hi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ae(PC),ae(tk,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ha=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=ik(AC(RC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+hi(i))}normalize(r){return e.stripTrailingSlash(rk(this._basePath,RC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+hi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+hi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=hi,e.joinWithSlash=OC,e.stripTrailingSlash=AC,e.\u0275fac=function(i){return new(i||e)(ae(Ss))},e.\u0275prov=G({token:e,factory:()=>nk(),providedIn:"root"});let t=e;return t})();function nk(){return new ha(ae(Ss))}function rk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function RC(t){return t.replace(/\/index.html$/,"")}function ik(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function FC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var LC=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new mg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){MC("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){MC("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ee(ai),ee(gs))},e.\u0275dir=Qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),mg=class{constructor(){this.$implicit=null,this.ngIf=null}};function MC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${dt(e)}'.`)}var fa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=si({});let t=e;return t})(),VC="browser",sk="server";function yg(t){return t===sk}var bl=class{};var Ig=class extends Cl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},wg=class t extends Ig{static makeCurrent(){xC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ok();return n==null?null:ak(n)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return FC(document.cookie,e)}},pa=null;function ok(){return pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null}function ak(t){return new URL(t,document.baseURI).pathname}var ck=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Tl=new j(""),HC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ae(Tl),ae(we))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),ga=class{constructor(e){this._doc=e}},vg="ng-app-id",qC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${vg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(vg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(vg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ae(Ct),ae(zp),ae(Wp,8),ae(_r))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),_g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dg=/%COMP%/g,zC="%COMP%",uk=`_nghost-${zC}`,lk=`_ngcontent-${zC}`,dk=!0,hk=new j("",{providedIn:"root",factory:()=>dk});function fk(t){return lk.replace(Dg,t)}function pk(t){return uk.replace(Dg,t)}function GC(t,e){return e.map(n=>n.replace(Dg,t))}var UC=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=yg(u),this.defaultRenderer=new ma(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===nn.ShadowDom&&(i=le(O({},i),{encapsulation:nn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Sl?s.applyToHost(r):s instanceof ya&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case nn.Emulated:o=new Sl(l,h,i,this.appId,p,a,u,m);break;case nn.ShadowDom:return new Eg(l,h,r,i,a,u,this.nonce,m);default:o=new ya(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ae(HC),ae(qC),ae(zp),ae(hk),ae(Ct),ae(_r),ae(we),ae(Wp))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),ma=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_g[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(BC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(BC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=_g[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=_g[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Nn.DashCase|Nn.Important)?e.style.setProperty(n,r,i&Nn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Nn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function BC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Eg=class extends ma{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=GC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ya=class extends ma{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?GC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sl=class extends ya{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=fk(l),this.hostAttr=pk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},gk=(()=>{let e=class e extends ga{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),mk=(()=>{let e=class e extends ga{constructor(r){super(r),this.delegate=k(SC,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),$C=["alt","control","meta","shift"],yk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_k=(()=>{let e=class e extends ga{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),$C.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=yk[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),$C.forEach(a=>{if(a!==s){let u=vk[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function WC(t,e){return TC(O({rootComponent:t},Ik(e)))}function Ik(t){return{appProviders:[...bk,...t?.providers??[]],platformProviders:Ck}}function wk(){wg.makeCurrent()}function Ek(){return new Mn}function Dk(){return wD(document),document}var Ck=[{provide:_r,useValue:VC},{provide:Gp,useValue:wk,multi:!0},{provide:Ct,useFactory:Dk,deps:[]}];var bk=[{provide:ul,useValue:"root"},{provide:Mn,useFactory:Ek,deps:[]},{provide:Tl,useClass:gk,multi:!0,deps:[Ct,we,_r]},{provide:Tl,useClass:_k,multi:!0,deps:[Ct]},{provide:Tl,useClass:mk,multi:!0},UC,qC,HC,{provide:vs,useExisting:UC},{provide:bl,useClass:ck,deps:[]},[]];var KC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ae(Ct))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",Pa=Symbol("RouteTitle"),Ag=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ps(t){return new Ag(t)}function Sk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ak(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}function ln(t,e){let n=t?Rg(t):void 0,r=e?Rg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!nb(t[i],e[i]))return!1;return!0}function Rg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function rb(t){return t.length>0?t[t.length-1]:null}function Dr(t){return yf(t)?t:li(t)?Ae(Promise.resolve(t)):Y(t)}var Rk={exact:sb,subset:ob},ib={exact:Mk,subset:Nk,ignored:()=>!0};function QC(t,e,n){return Rk[n.paths](t.root,e.root,n.matrixParams)&&ib[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Mk(t,e){return ln(t,e)}function sb(t,e,n){if(!pi(t.segments,e.segments)||!Ml(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!sb(t.children[r],e.children[r],n))return!1;return!0}function Nk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nb(t[n],e[n]))}function ob(t,e,n){return ab(t,e,e.segments,n)}function ab(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!pi(i,n)||e.hasChildren()||!Ml(i,n,r))}else if(t.segments.length===n.length){if(!pi(t.segments,n)||!Ml(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ob(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!pi(t.segments,i)||!Ml(t.segments,i,r)||!t.children[re]?!1:ab(t.children[re],e,s,r)}}function Ml(t,e,n){return e.every((r,i)=>ib[n](t[i].parameters,r.parameters))}var Bn=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){return Ok.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nl(this)}},fi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ps(this.parameters),this._parameterMap}toString(){return ub(this)}};function xk(t,e){return pi(t,e)&&t.every((n,r)=>ln(n.parameters,e[r].parameters))}function pi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Pk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var tm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new Ca,providedIn:"root"});let t=e;return t})(),Ca=class{parse(e){let n=new Ng(e);return new Bn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${va(e.root,!0)}`,r=Lk(e.queryParams),i=typeof e.fragment=="string"?`#${kk(e.fragment)}`:"";return`${n}${r}${i}`}},Ok=new Ca;function Nl(t){return t.segments.map(e=>ub(e)).join("/")}function va(t,e){if(!t.hasChildren())return Nl(t);if(e){let n=t.children[re]?va(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${va(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Pk(t,(r,i)=>i===re?[va(t.children[re],!1)]:[`${i}:${va(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Nl(t)}/${n[0]}`:`${Nl(t)}/(${n.join("//")})`}}function cb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Al(t){return cb(t).replace(/%3B/gi,";")}function kk(t){return encodeURI(t)}function Mg(t){return cb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xl(t){return decodeURIComponent(t)}function YC(t){return xl(t.replace(/\+/g,"%20"))}function ub(t){return`${Mg(t.path)}${Fk(t.parameters)}`}function Fk(t){return Object.entries(t).map(([e,n])=>`;${Mg(e)}=${Mg(n)}`).join("")}function Lk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Al(n)}=${Al(i)}`).join("&"):`${Al(n)}=${Al(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Vk=/^[^\/()?;#]+/;function Cg(t){let e=t.match(Vk);return e?e[0]:""}var jk=/^[^\/()?;=#]+/;function Uk(t){let e=t.match(jk);return e?e[0]:""}var Bk=/^[^=?&#]+/;function $k(t){let e=t.match(Bk);return e?e[0]:""}var Hk=/^[^&#]+/;function qk(t){let e=t.match(Hk);return e?e[0]:""}var Ng=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ie(e,n)),r}parseSegment(){let e=Cg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new fi(xl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Uk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Cg(this.remaining);i&&(r=i,this.capture(r))}e[xl(n)]=xl(r)}parseQueryParam(e){let n=$k(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=qk(this.remaining);o&&(r=o,this.capture(r))}let i=YC(n),s=YC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function lb(t){return t.segments.length>0?new Ie([],{[re]:t}):t}function db(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=db(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return zk(n)}function zk(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ie(t.segments.concat(e.segments),e.children)}return t}function gi(t){return t instanceof Bn}function Gk(t,e,n=null,r=null){let i=hb(t);return fb(i,e,n,r)}function hb(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=lb(r);return e??i}function fb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bg(i,i,i,n,r);let s=Wk(e);if(s.toRoot())return bg(i,i,new Ie([],{}),n,r);let o=Kk(s,i,t),a=o.processChildren?wa(o.segmentGroup,o.index,s.commands):gb(o.segmentGroup,o.index,s.commands);return bg(i,o.segmentGroup,a,n,r)}function Pl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ba(t){return typeof t=="object"&&t!=null&&t.outlets}function bg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=pb(t,e,n);let a=lb(db(o));return new Bn(a,s,i)}function pb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=pb(s,e,n)}),new Ie(t.segments,r)}var Ol=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pl(r[0]))throw new $(4003,!1);let i=r.find(ba);if(i&&i!==rb(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Wk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ol(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ol(n,e,r)}var Ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Kk(t,e,n){if(t.isAbsolute)return new Ms(e,!0,0);if(!n)return new Ms(e,!1,NaN);if(n.parent===null)return new Ms(n,!0,0);let r=Pl(t.commands[0])?0:1,i=n.segments.length-1+r;return Qk(n,i,t.numberOfDoubleDots)}function Qk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Ms(r,!1,i-s)}function Yk(t){return ba(t[0])?t[0].outlets:{[re]:t}}function gb(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return wa(t,e,n);let r=Zk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ie(t.segments.slice(r.pathIndex),t.children),wa(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?xg(t,e,n):r.match?wa(t,0,i):xg(t,e,n)}function wa(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=Yk(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let s=wa(t.children[re],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=gb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function Zk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ba(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!JC(u,l,o))return s;r+=2}else{if(!JC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ba(s)){let u=Jk(s.outlets);return new Ie(r,u)}if(i===0&&Pl(n[0])){let u=t.segments[e];r.push(new fi(u.path,ZC(n[0]))),i++;continue}let o=ba(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Pl(a)?(r.push(new fi(o,ZC(a))),i+=2):(r.push(new fi(o,{})),i++)}return new Ie(r,{})}function Jk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=xg(new Ie([],{}),0,r))}),e}function ZC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function JC(t,e,n){return t==n.path&&ln(e,n.parameters)}var Ea="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),Ft=class{constructor(e,n){this.id=e,this.url=n}},Ta=class extends Ft{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ye.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$n=class extends Ft{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Tt||{}),Pg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pg||{}),Un=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationSkipped}},Sa=class extends Ft{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kl=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class extends Ft{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vg=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jg=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ug=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$g=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hg=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Aa=class{},Os=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Xk(t,e){return t.providers&&!t._injector&&(t._injector=cg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Kt(t){return t.outlet||re}function e1(t,e){let n=t.filter(r=>Kt(r)===e);return n.push(...t.filter(r=>Kt(r)!==e)),n}function Oa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var qg=class{get injector(){return Oa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Hl(this.rootInjector),this.attachRef=null}},Hl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new qg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ae(Pt))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=zg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=zg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gg(e,this._root).map(n=>n.value)}};function zg(t,e){if(t===e.value)return e;for(let n of e.children){let r=zg(t,n);if(r)return r}return null}function Gg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gg(t,n);if(r.length)return r.unshift(e),r}return[]}var bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Rs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ll=class extends Fl{constructor(e,n){super(e),this.snapshot=n,nm(this,e)}toString(){return this.snapshot.toString()}};function mb(t){let e=t1(t),n=new Ke([new fi("",{})]),r=new Ke({}),i=new Ke({}),s=new Ke({}),o=new Ke(""),a=new yi(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new Ll(new bt(a,[]),e)}function t1(t){let e={},n={},r={},i="",s=new Ns([],e,r,i,n,re,t,null,{});return new jl("",new bt(s,[]))}var yi=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Pa]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ps(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ps(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&vb(i)&&(r.resolve[Pa]=i.title),r}var Ns=class{get title(){return this.data?.[Pa]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ps(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jl=class extends Fl{constructor(e,n){super(n),this.url=e,nm(this,n)}toString(){return yb(this._root)}};function nm(t,e){e.value._routerState=t,e.children.forEach(n=>nm(t,n))}function yb(t){let e=t.children.length>0?` { ${t.children.map(yb).join(", ")} } `:"";return`${t.value}${e}`}function Tg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ln(e.params,n.params)||t.paramsSubject.next(n.params),Ak(e.url,n.url)||t.urlSubject.next(n.url),ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wg(t,e){let n=ln(t.params,e.params)&&xk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wg(t.parent,e.parent))}function vb(t){return typeof t.title=="string"||t.title===null}var rm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=k(Hl),this.location=k(ai),this.changeDetector=k(wr),this.inputBinder=k(im,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Kg(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]});let t=e;return t})(),Kg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===yi?this.route:e===Hl?this.childContexts:this.parent.get(e,n)}},im=new j("");function n1(t,e,n){let r=Ra(t,e._root,n?n._root:void 0);return new Ll(r,e)}function Ra(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=r1(t,e,n);return new bt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ra(t,a)),o}}let r=i1(e.value),i=e.children.map(s=>Ra(t,s));return new bt(r,i)}}function r1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ra(t,r,i);return Ra(t,r)})}function i1(t){return new yi(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var Ma=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},_b="ngNavigationCancelingError";function Ul(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=gi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ib(!1,Tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ib(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[_b]=!0,n.cancellationCode=e,n}function s1(t){return wb(t)&&gi(t.url)}function wb(t){return!!t&&t[_b]}var o1=(t,e,n,r)=>ie(i=>(new Qg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Rs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Rs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Rs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Rs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Hg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Bg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Tg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Tg(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Bl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xs=class{constructor(e,n){this.component=e,this.route=n}};function a1(t,e,n){let r=t._root,i=e?e._root:null;return _a(r,i,n,[r.value])}function c1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Fs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!uE(t)?t:e.get(t):r}function _a(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Rs(e);return t.children.forEach(o=>{u1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Da(a,n.getContext(o),i)),i}function u1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=l1(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Bl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?_a(t,e,a?a.children:null,r,i):_a(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xs(a.outlet.component,o))}else o&&Da(e,a,i),i.canActivateChecks.push(new Bl(r)),s.component?_a(t,null,a?a.children:null,r,i):_a(t,null,n,r,i);return i}function l1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!pi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pi(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wg(t,e)||!ln(t.queryParams,e.queryParams);case"paramsChange":default:return!Wg(t,e)}}function Da(t,e,n){let r=Rs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Da(o,e.children.getContext(s),n):Da(o,null,n):Da(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new xs(e.outlet.component,i)):n.canDeactivateChecks.push(new xs(null,i)):n.canDeactivateChecks.push(new xs(null,i))}function ka(t){return typeof t=="function"}function d1(t){return typeof t=="boolean"}function h1(t){return t&&ka(t.canLoad)}function f1(t){return t&&ka(t.canActivate)}function p1(t){return t&&ka(t.canActivateChild)}function g1(t){return t&&ka(t.canDeactivate)}function m1(t){return t&&ka(t.canMatch)}function Eb(t){return t instanceof Tn||t?.name==="EmptyError"}var Rl=Symbol("INITIAL_VALUE");function ks(){return Bt(t=>Eu(t.map(e=>e.pipe(Sn(1),Tu(Rl)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Rl)return Rl;if(n===!1||y1(n))return n}return!0}),Rt(e=>e!==Rl),Sn(1)))}function y1(t){return gi(t)||t instanceof Ma}function v1(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Y(le(O({},n),{guardsResult:!0})):_1(o,r,i,t).pipe(je(a=>a&&d1(a)?I1(r,s,t,e):Y(a)),ie(a=>le(O({},n),{guardsResult:a})))})}function _1(t,e,n,r){return Ae(t).pipe(je(i=>b1(i.component,i.route,n,e,r)),Xt(i=>i!==!0,!0))}function I1(t,e,n,r){return Ae(e).pipe(ns(i=>ts(E1(i.route.parent,r),w1(i.route,r),C1(t,i.path,n),D1(t,i.route,n))),Xt(i=>i!==!0,!0))}function w1(t,e){return t!==null&&e&&e(new $g(t)),Y(!0)}function E1(t,e){return t!==null&&e&&e(new Ug(t)),Y(!0)}function D1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(s=>Du(()=>{let o=Oa(e)??n,a=Fs(s,o),u=f1(a)?a.canActivate(e,t):Pn(o,()=>a(e,t));return Dr(u).pipe(Xt())}));return Y(i).pipe(ks())}function C1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>c1(o)).filter(o=>o!==null).map(o=>Du(()=>{let a=o.guards.map(u=>{let l=Oa(o.node)??n,h=Fs(u,l),p=p1(h)?h.canActivateChild(r,t):Pn(l,()=>h(r,t));return Dr(p).pipe(Xt())});return Y(a).pipe(ks())}));return Y(s).pipe(ks())}function b1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let o=s.map(a=>{let u=Oa(e)??i,l=Fs(a,u),h=g1(l)?l.canDeactivate(t,e,n,r):Pn(u,()=>l(t,e,n,r));return Dr(h).pipe(Xt())});return Y(o).pipe(ks())}function T1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let s=i.map(o=>{let a=Fs(o,t),u=h1(a)?a.canLoad(e,n):Pn(t,()=>a(e,n));return Dr(u)});return Y(s).pipe(ks(),Db(r))}function Db(t){return ru(Ue(e=>{if(typeof e!="boolean")throw Ul(t,e)}),ie(e=>e===!0))}function S1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let s=i.map(o=>{let a=Fs(o,t),u=m1(a)?a.canMatch(e,n):Pn(t,()=>a(e,n));return Dr(u)});return Y(s).pipe(ks(),Db(r))}var Na=class{constructor(e){this.segmentGroup=e||null}},xa=class extends Error{constructor(e){super(),this.urlTree=e}};function As(t){return Xi(new Na(t))}function A1(t){return Xi(new $(4e3,!1))}function R1(t){return Xi(Ib(!1,Tt.GuardRejected))}var Yg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[re])return A1(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:M}=i,R=Pn(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Bn)throw new xa(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new xa(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Bn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Zg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function M1(t,e,n,r,i){let s=Cb(t,e,n);return s.matched?(r=Xk(e,r),S1(r,e,n,i).pipe(ie(o=>o===!0?s:O({},Zg)))):Y(s)}function Cb(t,e,n){if(e.path==="**")return N1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Zg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Sk)(n,t,e);if(!i)return O({},Zg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function N1(t){return{matched:!0,parameters:t.length>0?rb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function XC(t,e,n,r){return n.length>0&&O1(t,n,r)?{segmentGroup:new Ie(e,P1(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&k1(t,n,r)?{segmentGroup:new Ie(t.segments,x1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function x1(t,e,n,r){let i={};for(let s of n)if(ql(t,e,s)&&!r[Kt(s)]){let o=new Ie([],{});i[Kt(s)]=o}return O(O({},r),i)}function P1(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Kt(r)!==re){let i=new Ie([],{});n[Kt(r)]=i}return n}function O1(t,e,n){return n.some(r=>ql(t,e,r)&&Kt(r)!==re)}function k1(t,e,n){return n.some(r=>ql(t,e,r))}function ql(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function F1(t,e,n){return e.length===0&&!t.children[n]}var Jg=class{};function L1(t,e,n,r,i,s,o="emptyOnly"){return new Xg(t,e,n,r,i,o,s).recognize()}var V1=31,Xg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Yg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=XC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new bt(r,n),s=new jl("",i),o=Gk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ns([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(ie(r=>({children:r,rootSnapshot:n})),lr(r=>{if(r instanceof xa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Na?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ie(o=>o instanceof bt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(ns(o=>{let a=r.children[o],u=e1(n,o);return this.processSegmentGroup(e,u,a,o,i)}),bu((o,a)=>(o.push(...a),o)),dr(null),If(),je(o=>{if(o===null)return As(r);let a=bb(o);return j1(a),Y(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(ns(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(lr(l=>{if(l instanceof Na)return Y(null);throw l}))),Xt(u=>!!u),lr(u=>{if(Eb(u))return F1(r,i,s)?Y(new Jg):As(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Kt(r)!==o&&(o===re||!ql(i,s,r))?As(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):As(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Cb(n,i,s);if(!u)return As(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>V1&&(this.allowRedirects=!1));let v=new Ns(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,eb(i),Kt(i),i.component??i._loadedComponent??null,i,tb(i)),S=Vl(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(je(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=M1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Bt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new Ns(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,eb(r),Kt(r),r.component??r._loadedComponent??null,r,tb(r)),M=Vl(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=XC(n,m,v,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(ie(q=>new bt(S,q)));if(l.length===0&&F.length===0)return Y(new bt(S,[]));let B=Kt(r)===s;return this.processSegment(h,l,R,F,B?re:s,!0,S).pipe(ie(q=>new bt(S,q instanceof bt?[q]:[])))}))):As(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):T1(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):R1(n))):Y({routes:[],injector:e})}};function j1(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function U1(t){let e=t.value.routeConfig;return e&&e.path===""}function bb(t){let e=[],n=new Set;for(let r of t){if(!U1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=bb(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!n.has(r))}function eb(t){return t.data||{}}function tb(t){return t.resolve||{}}function B1(t,e,n,r,i,s){return je(o=>L1(t,e,n,r,o.extractedUrl,i,s).pipe(ie(({state:a,tree:u})=>le(O({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function $1(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of Tb(u))o.add(l);let a=0;return Ae(o).pipe(ns(u=>s.has(u)?H1(u,r,t,e):(u.data=Vl(u,u.parent,t).resolve,Y(void 0))),Ue(()=>a++),rs(1),je(u=>a===o.size?Y(n):Et))})}function Tb(t){let e=t.children.map(n=>Tb(n)).flat();return[t,...e]}function H1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!vb(i)&&(s[Pa]=i.title),q1(s,t,e,r).pipe(ie(o=>(t._resolvedData=o,t.data=Vl(t,t.parent,n).resolve,null)))}function q1(t,e,n,r){let i=Rg(t);if(i.length===0)return Y({});let s={};return Ae(i).pipe(je(o=>z1(t[o],e,n,r).pipe(Xt(),Ue(a=>{if(a instanceof Ma)throw Ul(new Ca,a);s[o]=a}))),rs(1),_f(s),lr(o=>Eb(o)?Et:Xi(o)))}function z1(t,e,n,r){let i=Oa(e)??r,s=Fs(t,i),o=s.resolve?s.resolve(e,n):Pn(i,()=>s(e,n));return Dr(o)}function Sg(t){return Bt(e=>{let n=t(e);return n?Ae(n).pipe(ie(()=>e)):Y(e)})}var Sb=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[Pa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(G1),providedIn:"root"});let t=e;return t})(),G1=(()=>{let e=class e extends Sb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ae(KC))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sm=new j("",{providedIn:"root",factory:()=>({})}),W1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=yt({type:e,selectors:[["ng-component"]],standalone:!0,features:[_t],decls:1,vars:0,template:function(i,s){i&1&&ft(0,"router-outlet")},dependencies:[rm],encapsulation:2});let t=e;return t})();function om(t){let e=t.children&&t.children.map(om),n=e?le(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=W1),n}var am=new j(""),K1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(fg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Dr(r.loadComponent()).pipe(ie(Ab),Ue(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),qo(()=>{this.componentLoaders.delete(r)})),s=new Qi(i,()=>new qe).pipe(Ki());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Q1(i,this.compiler,r,this.onLoadEndListener).pipe(qo(()=>{this.childrenLoaders.delete(i)})),a=new Qi(o,()=>new qe).pipe(Ki());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Q1(t,e,n,r){return Dr(t.loadChildren()).pipe(ie(Ab),je(i=>i instanceof Xo||Array.isArray(i)?Y(i):Ae(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(am,[],{optional:!0,self:!0}).flat()),{routes:o.map(om),injector:s}}))}function Y1(t){return t&&typeof t=="object"&&"default"in t}function Ab(t){return Y1(t)?t.default:t}var cm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(Z1),providedIn:"root"});let t=e;return t})(),Z1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J1=new j("");var X1=new j(""),eF=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=k(K1),this.environmentInjector=k(Pt),this.urlSerializer=k(tm),this.rootContexts=k(Hl),this.location=k(ha),this.inputBindingEnabled=k(im,{optional:!0})!==null,this.titleStrategy=k(Sb),this.options=k(sm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(cm),this.createViewTransition=k(J1,{optional:!0}),this.navigationErrorHandler=k(X1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Vg(s)),i=s=>this.events.next(new jg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(le(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ea,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rt(o=>o.id!==0),ie(o=>le(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bt(o=>{let a=!1,u=!1;return Y(o).pipe(Bt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),Et;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?le(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.rawUrl),m,Pg.IgnoredSameUrlNavigation)),l.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y(l).pipe(Bt(m=>{let v=this.transitions?.getValue();return this.events.next(new Ta(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Et:Promise.resolve(m)}),B1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=le(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new kl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:M,extras:R}=l,F=new Ta(m,this.urlSerializer.serialize(v),S,M);this.events.next(F);let B=mb(this.rootComponentType).snapshot;return this.currentTransition=o=le(O({},l),{targetSnapshot:B,urlAfterRedirects:v,extras:le(O({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Y(o)}else{let m="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Pg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Et}}),Ue(l=>{let h=new Og(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ie(l=>(this.currentTransition=o=le(O({},l),{guards:a1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),v1(this.environmentInjector,l=>this.events.next(l)),Ue(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ul(this.urlSerializer,l.guardsResult);let h=new kg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Rt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Tt.GuardRejected),!1)),Sg(l=>{if(l.guards.canActivateChecks.length)return Y(l).pipe(Ue(h=>{let p=new Fg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Bt(h=>{let p=!1;return Y(h).pipe($1(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Tt.NoDataFromResolver)}}))}),Ue(h=>{let p=new Lg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Sg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ue(v=>{p.component=v}),ie(()=>{})));for(let v of p.children)m.push(...h(v));return m};return Eu(h(l.targetSnapshot.root)).pipe(dr(null),Sn(1))}),Sg(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ae(p).pipe(ie(()=>o)):Y(o)}),ie(l=>{let h=n1(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=le(O({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Ue(()=>{this.events.next(new Aa)}),o1(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Sn(1),Ue({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $n(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),wf(this.transitionAbortSubject.pipe(Ue(l=>{throw l}))),qo(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),lr(l=>{if(u=!0,wb(l))this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),s1(l)?this.events.next(new Os(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new Sa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=Pn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Ma){let{message:m,cancellationCode:v}=Ul(this.urlSerializer,p);this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new Os(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Et}))}))}cancelNavigationTransition(r,i,s){let o=new Un(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tF(t){return t!==Ea}var nF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(rF),providedIn:"root"});let t=e;return t})(),em=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rF=(()=>{let e=class e extends em{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Es(e)))(s||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>k(iF),providedIn:"root"});let t=e;return t})(),iF=(()=>{let e=class e extends Rb{constructor(){super(...arguments),this.location=k(ha),this.urlSerializer=k(tm),this.options=k(sm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(cm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Bn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ta)this.stateMemento=this.createStateMemento();else if(r instanceof mi)this.rawUrlTree=i.initialUrl;else if(r instanceof kl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Aa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Un&&(r.code===Tt.GuardRejected||r.code===Tt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Sa?this.restoreHistory(i,!0):r instanceof $n&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Bn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Es(e)))(s||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ia=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ia||{});function sF(t,e){t.events.pipe(Rt(n=>n instanceof $n||n instanceof Un||n instanceof Sa||n instanceof mi),ie(n=>n instanceof $n||n instanceof mi?Ia.COMPLETE:(n instanceof Un?n.code===Tt.Redirect||n.code===Tt.SupersededByNewNavigation:!1)?Ia.REDIRECTING:Ia.FAILED),Rt(n=>n!==Ia.REDIRECTING),Sn(1)).subscribe(()=>{e()})}function oF(t){throw t}var aF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},dn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Dl),this.stateManager=k(Rb),this.options=k(sm,{optional:!0})||{},this.pendingTasks=k(Ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(eF),this.urlSerializer=k(tm),this.location=k(ha),this.urlHandlingStrategy=k(cm),this._events=new qe,this.errorHandler=this.options.errorHandler||oF,this.navigated=!1,this.routeReuseStrategy=k(nF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(am,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(im,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Un&&i.code!==Tt.Redirect&&i.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof $n)this.navigated=!0;else if(i instanceof Os){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tF(s.source)},a);this.scheduleNavigation(u,Ea,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}lF(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(om),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=hb(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return fb(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=gi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ea,null,i)}navigate(r,i={skipLocationChange:!1}){return uF(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},aF):i===!1?s=O({},cF):s=i,gi(r))return QC(this.currentUrlTree,r,s);let o=this.parseUrl(r);return QC(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return sF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function lF(t){return!(t instanceof Aa)&&!(t instanceof Os)}var $l=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof $n&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(gi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:CD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:gi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ee(dn),ee(yi),$p("tabindex"),ee(Ir),ee(kt),ee(Ss))},e.\u0275dir=Qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&vt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ca("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Er],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Er],replaceUrl:[2,"replaceUrl","replaceUrl",Er],routerLink:"routerLink"},standalone:!0,features:[ag,Fn]});let t=e;return t})(),Mb=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof $n&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(es()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ae(r).pipe(es()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=dF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(ee(dn),ee(kt),ee(Ir),ee(wr),ee($l,8))},e.\u0275dir=Qe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&hC(o,$l,5),i&2){let a;fC(a=pC())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fn]});let t=e;return t})();function dF(t){return!!t.paths}var hF=new j("");function Nb(t,...e){return an([{provide:am,multi:!0,useValue:t},[],{provide:yi,useFactory:fF,deps:[dn]},{provide:hg,multi:!0,useFactory:pF},e.map(n=>n.\u0275providers)])}function fF(t){return t.routerState.root}function pF(){let t=k(gt);return e=>{let n=t.get(di);if(e!==n.components[0])return;let r=t.get(dn),i=t.get(gF);t.get(mF)===1&&r.initialNavigation(),t.get(yF,null,oe.Optional)?.setUpPreloading(),t.get(hF,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gF=new j("",{factory:()=>new qe}),mF=new j("",{providedIn:"root",factory:()=>1});var yF=new j("");var Ub=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ee(Ir),ee(kt))},e.\u0275dir=Qe({type:e});let t=e;return t})(),vF=(()=>{let e=class e extends Ub{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Es(e)))(s||e)}})(),e.\u0275dir=Qe({type:e,features:[Ln]});let t=e;return t})(),Bb=new j("");var _F={provide:Bb,useExisting:ii(()=>Bs),multi:!0};function IF(){let t=jn()?jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var wF=new j(""),Bs=(()=>{let e=class e extends Ub{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!IF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ee(Ir),ee(kt),ee(wF,8))},e.\u0275dir=Qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&vt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[la([_F]),Ln]});let t=e;return t})();function EF(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var dm=new j(""),$b=new j("");function DF(t){return EF(t.value)?{required:!0}:null}function xb(t){return null}function Hb(t){return t!=null}function qb(t){return li(t)?Ae(t):t}function zb(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function Gb(t,e){return e.map(n=>n(t))}function CF(t){return!t.validate}function Wb(t){return t.map(e=>CF(e)?e:n=>e.validate(n))}function bF(t){if(!t)return null;let e=t.filter(Hb);return e.length==0?null:function(n){return zb(Gb(n,e))}}function hm(t){return t!=null?bF(Wb(t)):null}function TF(t){if(!t)return null;let e=t.filter(Hb);return e.length==0?null:function(n){let r=Gb(n,e).map(qb);return vf(r).pipe(ie(zb))}}function fm(t){return t!=null?TF(Wb(t)):null}function Pb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function SF(t){return t._rawValidators}function AF(t){return t._rawAsyncValidators}function lm(t){return t?Array.isArray(t)?t:[t]:[]}function Gl(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ob(t,e){let n=lm(e);return lm(t).forEach(i=>{Gl(n,i)||n.push(i)}),n}function kb(t,e){return lm(e).filter(n=>!Gl(t,n))}var Wl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},js=class extends Wl{get formDirective(){return null}get path(){return null}},Ba=class extends Wl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},RF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},iW=le(O({},RF),{"[class.ng-submitted]":"isSubmitted"}),Jl=(()=>{let e=class e extends Kl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(Ba,2))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Il("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ln]});let t=e;return t})(),Xl=(()=>{let e=class e extends Kl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(js,10))},e.\u0275dir=Qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Il("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ln]});let t=e;return t})();var Fa="VALID",zl="INVALID",Ls="PENDING",La="DISABLED",Us=class{},Ql=class extends Us{constructor(e,n){super(),this.value=e,this.source=n}},ja=class extends Us{constructor(e,n){super(),this.pristine=e,this.source=n}},Ua=class extends Us{constructor(e,n){super(),this.touched=e,this.source=n}},Vs=class extends Us{constructor(e,n){super(),this.status=e,this.source=n}};function Kb(t){return(ed(t)?t.validators:t)||null}function MF(t){return Array.isArray(t)?hm(t):t||null}function Qb(t,e){return(ed(e)?e.asyncValidators:t)||null}function NF(t){return Array.isArray(t)?fm(t):t||null}function ed(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function xF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function PF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Yl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=da(()=>this.statusReactive()),this.statusReactive=oa(void 0),this._pristine=da(()=>this.pristineReactive()),this.pristineReactive=oa(!0),this._touched=da(()=>this.touchedReactive()),this.touchedReactive=oa(!1),this._events=new qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vn(this.statusReactive)}set status(e){Vn(()=>this.statusReactive.set(e))}get valid(){return this.status===Fa}get invalid(){return this.status===zl}get pending(){return this.status==Ls}get disabled(){return this.status===La}get enabled(){return this.status!==La}get pristine(){return Vn(this.pristineReactive)}set pristine(e){Vn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Vn(this.touchedReactive)}set touched(e){Vn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ob(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ob(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kb(e,this._rawAsyncValidators))}hasValidator(e){return Gl(this._rawValidators,e)}hasAsyncValidator(e){return Gl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ua(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ua(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ja(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ja(!0,r))}markAsPending(e={}){this.status=Ls;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=La,this.errors=null,this._forEachChild(i=>{i.disable(le(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ql(this.value,r)),this._events.next(new Vs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this._forEachChild(r=>{r.enable(le(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fa||this.status===Ls)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ql(this.value,n)),this._events.next(new Vs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?La:Fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ls,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=qb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Vs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?La:this.errors?zl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ls)?Ls:this._anyControlsHaveStatus(zl)?zl:Fa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ja(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ua(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ed(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=MF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=NF(this._rawAsyncValidators)}},Zl=class extends Yl{constructor(e,n,r){super(Kb(n),Qb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){PF(this,!0,e),Object.keys(e).forEach(r=>{xF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var pm=new j("CallSetDisabledState",{providedIn:"root",factory:()=>gm}),gm="always";function OF(t,e){return[...e.path,t]}function Yb(t,e,n=gm){Zb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),FF(t,e),VF(t,e),LF(t,e),kF(t,e)}function Fb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function kF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Zb(t,e){let n=SF(t);e.validator!==null?t.setValidators(Pb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=AF(t);e.asyncValidator!==null?t.setAsyncValidators(Pb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Fb(e._rawValidators,i),Fb(e._rawAsyncValidators,i)}function FF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Jb(t,e)})}function LF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Jb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Jb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function VF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function jF(t,e){t==null,Zb(t,e)}function UF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function BF(t){return Object.getPrototypeOf(t.constructor)===vF}function $F(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function HF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Bs?n=s:BF(s)?r=s:i=s}),i||r||n||null}var qF={provide:js,useExisting:ii(()=>$a)},Va=Promise.resolve(),$a=(()=>{let e=class e extends js{get submitted(){return Vn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=da(()=>this.submittedReactive()),this.submittedReactive=oa(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new Zl({},hm(r),fm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Va.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Yb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Va.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Va.then(()=>{let i=this._findContainer(r.path),s=new Zl({});jF(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Va.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Va.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),$F(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(ee(dm,10),ee($b,10),ee(pm,8))},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&vt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[la([qF]),Ln]});let t=e;return t})();function Lb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Vb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var zF=class extends Yl{constructor(e=null,n,r){super(Kb(n),Qb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ed(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Vb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Vb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var GF={provide:Ba,useExisting:ii(()=>Ha)},jb=Promise.resolve(),Ha=(()=>{let e=class e extends Ba{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new zF,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=HF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),UF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){jb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Er(i);jb.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?OF(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ee(js,9),ee(dm,10),ee($b,10),ee(Bb,10),ee(wr,8),ee(pm,8))},e.\u0275dir=Qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[la([GF]),Ln,Fn]});let t=e;return t})(),td=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var WF=(()=>{let e=class e{constructor(){this._validator=xb}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):xb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,features:[Fn]});let t=e;return t})();var KF={provide:dm,useExisting:ii(()=>qa),multi:!0};var qa=(()=>{let e=class e extends WF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Er,this.createValidator=r=>DF}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Es(e)))(s||e)}})(),e.\u0275dir=Qe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&ca("required",s._enabled?"":null)},inputs:{required:"required"},features:[la([KF]),Ln]});let t=e;return t})();var QF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=si({});let t=e;return t})();var nd=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:pm,useValue:r.callSetDisabledState??gm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=si({imports:[QF]});let t=e;return t})();var t0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new ym;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ym=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZF=function(t){let e=t0(t);return n0.encodeByteArray(e,!0)},za=function(t){return ZF(t).replace(/\./g,"")},_m=function(t){try{return n0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var XF=()=>JF().__FIREBASE_DEFAULTS__,eL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&_m(t[1]);return e&&JSON.parse(e)},id=()=>{try{return XF()||eL()||tL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Im=t=>{var e,n;return(n=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},r0=t=>{let e=Im(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wm=()=>{var t;return(t=id())===null||t===void 0?void 0:t.config},Em=t=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${t}`]};var rd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function i0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[za(JSON.stringify(n)),za(JSON.stringify(o)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function nL(){var t;let e=(t=id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c0(){let t=ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u0(){return!nL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dm(){try{return typeof indexedDB=="object"}catch{return!1}}function l0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var rL="FirebaseError",St=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hn.prototype.create)}},Hn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new St(i,a,r)}};function iL(t,e){return t.replace(sL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sL=/\{\$([^}]+)}/g;function d0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(e0(s)&&e0(o)){if(!vi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function e0(t){return t!==null&&typeof t=="object"}function Ga(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $s(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function h0(t,e){let n=new vm(t,e);return n.subscribe.bind(n)}var vm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mm),i.error===void 0&&(i.error=mm),i.complete===void 0&&(i.complete=mm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function oL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mm(){}var aW=4*60*60*1e3;function it(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _i="[DEFAULT]";var Cm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cL(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aL(t){return t===_i?void 0:t}function cL(t){return t.instantiationMode==="EAGER"}var sd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Cm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uL=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),lL={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},dL=fe.INFO,hL={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},fL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cr=class{constructor(e){this.name=e,this._logLevel=dL,this._logHandler=fL,this._userLogHandler=null,uL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var pL=(t,e)=>e.some(n=>t instanceof n),f0,p0;function gL(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mL(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var g0=new WeakMap,Tm=new WeakMap,m0=new WeakMap,bm=new WeakMap,Am=new WeakMap;function yL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&g0.set(n,t)}).catch(()=>{}),Am.set(e,t),e}function vL(t){if(Tm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tm.set(t,e)}var Sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y0(t){Sm=t(Sm)}function _L(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(od(this),e,...n);return m0.set(r,e.sort?e.sort():[e]),hn(r)}:mL().includes(t)?function(...e){return t.apply(od(this),e),hn(g0.get(this))}:function(...e){return hn(t.apply(od(this),e))}}function IL(t){return typeof t=="function"?_L(t):(t instanceof IDBTransaction&&vL(t),pL(t,gL())?new Proxy(t,Sm):t)}function hn(t){if(t instanceof IDBRequest)return yL(t);if(bm.has(t))return bm.get(t);let e=IL(t);return e!==t&&(bm.set(t,e),Am.set(e,t)),e}var od=t=>Am.get(t);function _0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=hn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(hn(o.result),u.oldVersion,u.newVersion,hn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var wL=["get","getKey","getAll","getAllKeys","count"],EL=["put","add","delete","clear"],Rm=new Map;function v0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=EL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wL.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Rm.set(e,s),s}y0(t=>le(O({},t),{get:(e,n,r)=>v0(e,n)||t.get(e,n,r),has:(e,n)=>!!v0(e,n)||t.has(e,n)}));var Nm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function DL(t){let e=t.getComponent();return e?.type==="VERSION"}var xm="@firebase/app",I0="0.10.10";var qn=new Cr("@firebase/app"),CL="@firebase/app-compat",bL="@firebase/analytics-compat",TL="@firebase/analytics",SL="@firebase/app-check-compat",AL="@firebase/app-check",RL="@firebase/auth",ML="@firebase/auth-compat",NL="@firebase/database",xL="@firebase/database-compat",PL="@firebase/functions",OL="@firebase/functions-compat",kL="@firebase/installations",FL="@firebase/installations-compat",LL="@firebase/messaging",VL="@firebase/messaging-compat",jL="@firebase/performance",UL="@firebase/performance-compat",BL="@firebase/remote-config",$L="@firebase/remote-config-compat",HL="@firebase/storage",qL="@firebase/storage-compat",zL="@firebase/firestore",GL="@firebase/vertexai-preview",WL="@firebase/firestore-compat",KL="firebase",QL="10.13.1";var Pm="[DEFAULT]",YL={[xm]:"fire-core",[CL]:"fire-core-compat",[TL]:"fire-analytics",[bL]:"fire-analytics-compat",[AL]:"fire-app-check",[SL]:"fire-app-check-compat",[RL]:"fire-auth",[ML]:"fire-auth-compat",[NL]:"fire-rtdb",[xL]:"fire-rtdb-compat",[PL]:"fire-fn",[OL]:"fire-fn-compat",[kL]:"fire-iid",[FL]:"fire-iid-compat",[LL]:"fire-fcm",[VL]:"fire-fcm-compat",[jL]:"fire-perf",[UL]:"fire-perf-compat",[BL]:"fire-rc",[$L]:"fire-rc-compat",[HL]:"fire-gcs",[qL]:"fire-gcs-compat",[zL]:"fire-fst",[WL]:"fire-fst-compat",[GL]:"fire-vertex","fire-js":"fire-js",[KL]:"fire-js-all"};var Wa=new Map,ZL=new Map,Om=new Map;function w0(t,e){try{t.container.addComponent(e)}catch(n){qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){let e=t.name;if(Om.has(e))return qn.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,t);for(let n of Wa.values())w0(n,t);for(let n of ZL.values())w0(n,t);return!0}function Qa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t.settings!==void 0}var JL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Hn("app","Firebase",JL);var km=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};var Sr=QL;function Vm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=wm()),!n)throw br.create("no-options");let s=Wa.get(i);if(s){if(vi(n,s.options)&&vi(r,s.config))return s;throw br.create("duplicate-app",{appName:i})}let o=new sd(i);for(let u of Om.values())o.addComponent(u);let a=new km(n,r,o);return Wa.set(i,a),a}function qs(t=Pm){let e=Wa.get(t);if(!e&&t===Pm&&wm())return Vm();if(!e)throw br.create("no-app",{appName:t});return e}function ad(){return Array.from(Wa.values())}function $e(t,e,n){var r;let i=(r=YL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qn.warn(a.join(" "));return}Tr(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var XL="firebase-heartbeat-database",eV=1,Ka="firebase-heartbeat-store",Mm=null;function b0(){return Mm||(Mm=_0(XL,eV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Mm}function tV(t){return w(this,null,function*(){try{let n=(yield b0()).transaction(Ka),r=yield n.objectStore(Ka).get(T0(t));return yield n.done,r}catch(e){if(e instanceof St)qn.warn(e.message);else{let n=br.create("idb-get",{originalErrorMessage:e?.message});qn.warn(n.message)}}})}function E0(t,e){return w(this,null,function*(){try{let r=(yield b0()).transaction(Ka,"readwrite");yield r.objectStore(Ka).put(e,T0(t)),yield r.done}catch(n){if(n instanceof St)qn.warn(n.message);else{let r=br.create("idb-set",{originalErrorMessage:n?.message});qn.warn(r.message)}}})}function T0(t){return`${t.name}!${t.options.appId}`}var nV=1024,rV=30*24*60*60*1e3,Fm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Lm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=D0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=rV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=D0(),{heartbeatsToSend:r,unsentEntries:i}=iV(this._heartbeatsCache.heartbeats),s=za(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return qn.warn(n),""}})}};function D0(){return new Date().toISOString().substring(0,10)}function iV(t,e=nV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),C0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),C0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Lm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Dm()?l0().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield tV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return E0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return E0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function C0(t){return za(JSON.stringify({version:2,heartbeats:t})).length}function sV(t){Tr(new Lt("platform-logger",e=>new Nm(e),"PRIVATE")),Tr(new Lt("heartbeat",e=>new Fm(e),"PRIVATE")),$e(xm,I0,t),$e(xm,I0,"esm2017"),$e("fire-js","")}sV("");var oV="firebase",aV="10.13.1";$e(oV,aV,"app");var wi=new xn("ANGULARFIRE2_VERSION");function ud(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ya=(t,e)=>{let n=e?[e]:ad(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Gs=class{constructor(){return Ya(cV)}},cV="app-check";function zs(){}var cd=class{zone;delegate;constructor(e,n=gf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},jm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ws=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new cd(Zone.current)),this.insideAngular=n.run(()=>new cd(Zone.current,pf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ae(we))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ld(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function uV(t){return ld().ngZone.runOutsideAngular(()=>t())}function Ii(t){return ld().ngZone.run(()=>t())}function lV(t){return dV(ld())(t)}function dV(t){return function(n){return n=n.lift(new jm(t.ngZone)),n.pipe(ur(t.outsideAngular),cr(t.insideAngular))}}var hV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ii(()=>t.apply(void 0,r))},Yt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ii(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs))),r[s]=hV(r[s],n));let i=uV(()=>t.apply(this,r));if(!e)if(i instanceof de){let s=ld();return i.pipe(ur(s.outsideAngular),cr(s.insideAngular))}else return Ii(()=>i);return i instanceof de?i.pipe(lV):i instanceof Promise?Ii(()=>new Promise((s,o)=>i.then(a=>Ii(()=>s(a)),a=>Ii(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ii(()=>i)};var zn=class{constructor(e){return e}},Ei=class{constructor(){return ad()}};function fV(t){return t&&t.length===1?t[0]:new zn(qs())}var Um=new j("angularfire2._apps"),pV={provide:zn,useFactory:fV,deps:[[new mt,Um]]},gV={provide:Ei,deps:[[new mt,Um]]};function mV(t){return(e,n)=>{let r=n.get(_r);$e("angularfire",wi.full,"core"),$e("angularfire",wi.full,"app"),$e("angular",yC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new zn(i)}}function S0(t,...e){return an([pV,gV,{provide:Um,useFactory:mV(t),multi:!0,deps:[we,gt,Ws,...e]}])}var A0=Yt(Vm,!0);function z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var G0=z0,W0=new Hn("auth","Firebase",z0());var md=new Cr("@firebase/auth");function yV(t,...e){md.logLevel<=fe.WARN&&md.warn(`Auth (${Sr}): ${t}`,...e)}function hd(t,...e){md.logLevel<=fe.ERROR&&md.error(`Auth (${Sr}): ${t}`,...e)}function pn(t,...e){throw uy(t,...e)}function Di(t,...e){return uy(t,...e)}function K0(t,e,n){let r=Object.assign(Object.assign({},G0()),{[e]:n});return new Hn("auth","Firebase",r).create(e,{appName:t.name})}function Kn(t){return K0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return W0.create(t,...e)}function W(t,e,...n){if(!t)throw uy(e,...n)}function Gn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw hd(e),new Error(e)}function Rr(t,e){t||Gn(e)}function qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vV(){return R0()==="http:"||R0()==="https:"}function R0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function _V(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vV()||o0()||"connection"in navigator)?navigator.onLine:!0}function IV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ci=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rr(n>e,"Short delay should be less than long delay!"),this.isMobile=s0()||a0()}get(){return _V()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ly(t,e){Rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var yd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var EV=new Ci(3e4,6e4);function Mr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Nr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return Q0(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ga(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),yd.fetch()(Y0(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function Q0(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},wV),e);try{let i=new zm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw dd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw dd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw dd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw K0(t,h,l);pn(t,h)}}catch(i){if(i instanceof St)throw i;pn(t,"network-request-failed",{message:String(i)})}})}function ic(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Nr(t,e,n,r,i);return"mfaPendingCredential"in l&&pn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Y0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ly(t.config,i):`${t.config.apiScheme}://${i}`}function DV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var zm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),EV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function dd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Di(t,e,r);return i.customData._tokenResponse=n,i}function M0(t){return t!==void 0&&t.enterprise!==void 0}var Gm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function CV(t,e){return w(this,null,function*(){return Nr(t,"GET","/v2/recaptchaConfig",Mr(t,e))})}function bV(t,e){return w(this,null,function*(){return Nr(t,"POST","/v1/accounts:delete",e)})}function Z0(t,e){return w(this,null,function*(){return Nr(t,"POST","/v1/accounts:lookup",e)})}function Za(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dy(t,e=!1){return w(this,null,function*(){let n=it(t),r=yield n.getIdToken(e),i=hy(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Za(Bm(i.auth_time)),issuedAtTime:Za(Bm(i.iat)),expirationTime:Za(Bm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bm(t){return Number(t)*1e3}function hy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{let i=_m(n);return i?JSON.parse(i):(hd("Failed to decode base64 JWT payload"),null)}catch(i){return hd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function N0(t){let e=hy(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xa(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof St&&TV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function TV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Wm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ec=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Xa(t,Z0(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?J0(s.providerUserInfo):[],a=SV(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ec(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function fy(t){return w(this,null,function*(){let e=it(t);yield vd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function SV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function J0(t){return t.map(e=>{var{providerId:n}=e,r=mf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function AV(t,e){return w(this,null,function*(){let n=yield Q0(t,{},()=>w(this,null,function*(){let r=Ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Y0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function RV(t,e){return w(this,null,function*(){return Nr(t,"POST","/v2/accounts:revokeToken",Mr(t,e))})}var Ja=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=N0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield AV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Gn("not implemented")}};function Ar(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ks=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=mf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ec(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Xa(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return dy(this,e)}reload(){return fy(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield vd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Qt(this.auth.app))return Promise.reject(Kn(this.auth));let e=yield this.getIdToken();return yield Xa(this,bV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,B=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:ue,isAnonymous:Re,providerData:J,stsTokenManager:D}=n;W(q&&D,e,"internal-error");let y=Ja.fromJSON(this.name,D);W(typeof q=="string",e,"internal-error"),Ar(p,e.name),Ar(m,e.name),W(typeof ue=="boolean",e,"internal-error"),W(typeof Re=="boolean",e,"internal-error"),Ar(v,e.name),Ar(S,e.name),Ar(M,e.name),Ar(R,e.name),Ar(F,e.name),Ar(B,e.name);let _=new t({uid:q,auth:e,email:m,emailVerified:ue,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:F,lastLoginAt:B});return J&&Array.isArray(J)&&(_.providerData=J.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Ja;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?J0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ja;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ec(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var x0=new Map;function Wn(t){Rr(t instanceof Function,"Expected a class definition");let e=x0.get(t);return e?(Rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x0.set(t,e),e)}var MV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Km=MV;function fd(t,e,n){return`firebase:${t}:${e}:${n}`}var _d=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=fd(this.userKey,i.apiKey,s),this.fullPersistenceKey=fd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ks._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Wn(Km),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Wn(Km),o=fd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Ks._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function P0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iT(e))return"Blackberry";if(sT(e))return"Webos";if(eT(e))return"Safari";if((e.includes("chrome/")||tT(e))&&!e.includes("edge/"))return"Chrome";if(rT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function X0(t=ze()){return/firefox\//i.test(t)}function eT(t=ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tT(t=ze()){return/crios\//i.test(t)}function nT(t=ze()){return/iemobile/i.test(t)}function rT(t=ze()){return/android/i.test(t)}function iT(t=ze()){return/blackberry/i.test(t)}function sT(t=ze()){return/webos/i.test(t)}function py(t=ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NV(t=ze()){var e;return py(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xV(){return c0()&&document.documentMode===10}function oT(t=ze()){return py(t)||rT(t)||sT(t)||iT(t)||/windows phone/i.test(t)||nT(t)}function aT(t,e=[]){let n;switch(t){case"Browser":n=P0(ze());break;case"Worker":n=`${P0(ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sr}/${r}`}var Qm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function PV(n){return w(this,arguments,function*(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",Mr(t,e))})}var OV=6,Ym=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:OV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Zm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Id(this),this.idTokenSubscription=new Id(this),this.beforeStateQueue=new Qm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield _d.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield Z0(this,{idToken:e}),r=yield Ks._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Qt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield vd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=IV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Qt(this.app))return Promise.reject(Kn(this));let n=e?it(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Qt(this.app)?Promise.reject(Kn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qt(this.app)?Promise.reject(Kn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Wn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield PV(this),n=new Ym(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield RV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Wn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield _d.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&yV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ti(t){return it(t)}var Id=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=h0(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Sd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kV(t){Sd=t}function cT(t){return Sd.loadJS(t)}function FV(){return Sd.recaptchaEnterpriseScript}function LV(){return Sd.gapiScript}function uT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var VV="recaptcha-enterprise",jV="NO_RECAPTCHA",Jm=class{constructor(e){this.type=VV,this.auth=Ti(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){CV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Gm(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;M0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(jV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&M0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=FV();u.length!==0&&(u+=a),cT(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function O0(t,e,n,r=!1){return w(this,null,function*(){let i=new Jm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Xm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield O0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield O0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function gy(t,e){let n=Qa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(vi(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function UV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function my(t,e,n){let r=Ti(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=lT(e),{host:o,port:a}=BV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||$V()}function lT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BV(t){let e=lT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:k0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:k0(o)}}}function k0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function $V(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var tc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}};function HV(t,e){return w(this,null,function*(){return Nr(t,"POST","/v1/accounts:signUp",e)})}function qV(t,e){return w(this,null,function*(){return ic(t,"POST","/v1/accounts:signInWithPassword",Mr(t,e))})}function zV(t,e){return w(this,null,function*(){return ic(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))})}function GV(t,e){return w(this,null,function*(){return ic(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))})}var nc=class t extends tc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,n,"signInWithPassword",qV);case"emailLink":return zV(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,r,"signUpPassword",HV);case"emailLink":return GV(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function $m(t,e){return w(this,null,function*(){return ic(t,"POST","/v1/accounts:signInWithIdp",Mr(t,e))})}function WV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KV(t){let e=$s(Hs(t)).link,n=e?$s(Hs(e)).deep_link_id:null,r=$s(Hs(t)).deep_link_id;return(r?$s(Hs(r)).link:null)||r||n||e||t}var wd=class t{constructor(e){var n,r,i,s,o,a;let u=$s(Hs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=WV((i=u.mode)!==null&&i!==void 0?i:null);W(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=KV(e);try{return new t(n)}catch{return null}}};var dT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return nc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=wd.parseLink(r);return W(i,"argument-error"),nc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ed=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ey=class extends Ed{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function QV(t,e){return w(this,null,function*(){return ic(t,"POST","/v1/accounts:signUp",Mr(t,e))})}var Qs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Ks._fromIdTokenResponse(e,r,i),o=F0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=F0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function F0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ty=class t extends St{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function hT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ty._fromErrorAndOperation(t,s,e,r):s})}function YV(t,e,n=!1){return w(this,null,function*(){let r=yield Xa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Qs._forOperation(t,"link",r)})}function ZV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Qt(r.app))return Promise.reject(Kn(r));let i="reauthenticate";try{let s=yield Xa(t,hT(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=hy(s.idToken);W(o,r,"internal-error");let{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Qs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&pn(r,"user-mismatch"),s}})}function fT(t,e,n=!1){return w(this,null,function*(){if(Qt(t.app))return Promise.reject(Kn(t));let r="signIn",i=yield hT(t,r,e),s=yield Qs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function yy(t,e){return w(this,null,function*(){return fT(Ti(t),e)})}function pT(t){return w(this,null,function*(){let e=Ti(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function vy(t,e,n){return w(this,null,function*(){if(Qt(t.app))return Promise.reject(Kn(t));let r=Ti(t),o=yield Xm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&pT(t),u}),a=yield Qs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function _y(t,e,n){return Qt(t.app)?Promise.reject(Kn(t)):yy(it(t),dT.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&pT(t),r}))}function Iy(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function wy(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function Ey(t){return it(t).signOut()}var Dd="__sak";var Cd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dd,"1"),this.storage.removeItem(Dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var JV=1e3,XV=10,ej=(()=>{class t extends Cd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);xV()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,XV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},JV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield or(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield or(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield or(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),gT=ej;var tj=(()=>{class t extends Cd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Dy=tj;function nj(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var rj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield nj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function mT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ny=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=mT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function fn(){return window}function ij(t){fn().location.href=t}function yT(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}function sj(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function oj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aj(){return yT()?self:null}var vT="firebaseLocalStorageDb",cj=1,bd="firebaseLocalStorage",_T="fbase_key",bi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ad(t,e){return t.transaction([bd],e?"readwrite":"readonly").objectStore(bd)}function uj(){let t=indexedDB.deleteDatabase(vT);return new bi(t).toPromise()}function ry(){let t=indexedDB.open(vT,cj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(bd,{keyPath:_T})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(bd)?e(r):(r.close(),yield uj(),e(yield ry()))}))})}function L0(t,e,n){return w(this,null,function*(){let r=Ad(t,!0).put({[_T]:e,value:n});return new bi(r).toPromise()})}function lj(t,e){return w(this,null,function*(){let n=Ad(t,!1).get(e),r=yield new bi(n).toPromise();return r===void 0?null:r.value})}function V0(t,e){let n=Ad(t,!0).delete(e);return new bi(n).toPromise()}var dj=800,hj=3,fj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield ry(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>hj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return yT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=rj._getInstance(aj()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield sj(),!this.activeServiceWorker)return;this.sender=new ny(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||oj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ry();return yield L0(n,Dd,"1"),yield V0(n,Dd),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>L0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>lj(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>V0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Ad(s,!1).getAll();return new bi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),IT=fj;var e6=uT("rcb"),t6=new Ci(3e4,6e4);function pj(t,e){return e?Wn(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var rc=class extends tc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $m(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $m(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $m(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function gj(t){return fT(t.auth,new rc(t),t.bypassAuthState)}function mj(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),ZV(n,new rc(t),t.bypassAuthState)}function yj(t){return w(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),YV(n,new rc(t),t.bypassAuthState)})}var iy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gj;case"linkViaPopup":case"linkViaRedirect":return yj;case"reauthViaPopup":case"reauthViaRedirect":return mj;default:pn(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var n6=new Ci(2e3,1e4);var vj="pendingRedirect",pd=new Map,sy=class t extends iy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=pd.get(this.auth._key());if(!e){try{let r=(yield _j(this.resolver,this.auth))?yield or(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return or(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,or(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function _j(t,e){return w(this,null,function*(){let n=Ej(e),r=wj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Ij(t,e){pd.set(t._key(),e)}function wj(t){return Wn(t._redirectPersistence)}function Ej(t){return fd(vj,t.config.apiKey,t.name)}function Dj(t,e,n=!1){return w(this,null,function*(){if(Qt(t.app))return Promise.reject(Kn(t));let r=Ti(t),i=pj(r,e),o=yield new sy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Cj=10*60*1e3,oy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cj&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(e))}saveEventToCache(e){this.cachedEventUids.add(j0(e)),this.lastProcessedEventTime=Date.now()}};function j0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function bj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wT(t);default:return!1}}function Tj(n){return w(this,arguments,function*(t,e={}){return Nr(t,"GET","/v1/projects",e)})}var Sj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aj=/^https?/;function Rj(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Tj(t);for(let n of e)try{if(Mj(n))return}catch{}pn(t,"unauthorized-domain")})}function Mj(t){let e=qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Aj.test(n))return!1;if(Sj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Nj=new Ci(3e4,6e4);function U0(){let t=fn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xj(t){return new Promise((e,n)=>{var r,i,s;function o(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(Di(t,"network-request-failed"))},timeout:Nj.get()})}if(!((i=(r=fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fn().gapi)===null||s===void 0)&&s.load)o();else{let a=uT("iframefcb");return fn()[a]=()=>{gapi.load?o():n(Di(t,"network-request-failed"))},cT(`${LV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw gd=null,e})}var gd=null;function Pj(t){return gd=gd||xj(t),gd}var Oj=new Ci(5e3,15e3),kj="__/auth/iframe",Fj="emulator/auth/iframe",Lj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jj(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ly(e,Fj):`https://${t.config.authDomain}/${kj}`,r={apiKey:e.apiKey,appName:t.name,v:Sr},i=Vj.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ga(r).slice(1)}`}function Uj(t){return w(this,null,function*(){let e=yield Pj(t),n=fn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:jj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lj,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Di(t,"network-request-failed"),a=fn().setTimeout(()=>{s(o)},Oj.get());function u(){fn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Bj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$j=500,Hj=600,qj="_blank",zj="http://localhost",Td=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Gj(t,e,n,r=$j,i=Hj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Bj),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ze().toLowerCase();n&&(a=tT(l)?qj:n),X0(l)&&(e=e||zj,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(NV(l)&&a!=="_self")return Wj(e||"",a),new Td(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Td(p)}function Wj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Kj="__/auth/handler",Qj="emulator/auth/handler",Yj=encodeURIComponent("fac");function B0(t,e,n,r,i,s){return w(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sr,eventId:i};if(e instanceof Ed){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",d0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof ey){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Yj}=${encodeURIComponent(u)}`:"";return`${Zj(t)}?${Ga(a).slice(1)}${l}`})}function Zj({config:t}){return t.emulator?ly(t,Qj):`https://${t.authDomain}/${Kj}`}var Hm="webStorageSupport",ay=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dy,this._completeRedirectFn=Dj,this._overrideRedirectResult=Ij}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield B0(e,n,r,qm(),i);return Gj(e,o,mT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield B0(e,n,r,qm(),i);return ij(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield Uj(e),r=new oy(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Hm];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oT()||eT()||py()}},ET=ay;var $0="@firebase/auth",H0="1.7.8";var cy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Jj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xj(t){Tr(new Lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(t)},l=new Zm(r,i,s,u);return UV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tr(new Lt("auth-internal",e=>{let n=Ti(e.getProvider("auth").getImmediate());return(r=>new cy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e($0,H0,Jj(t)),$e($0,H0,"esm2017")}var eU=5*60,tU=Em("authIdTokenMaxAge")||eU,q0=null,nU=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tU)return;let i=n?.token;q0!==i&&(q0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Cy(t=qs()){let e=Qa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gy(t,{popupRedirectResolver:ET,persistence:[IT,gT,Dy]}),r=Em("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=nU(s.toString());wy(n,o,()=>o(n.currentUser)),Iy(n,a=>o(a))}}let i=Im("auth");return i&&my(n,`http://${i}`),n}function rU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Di("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xj("Browser");var DT="auth",Qn=class{constructor(e){return e}},sc=class{constructor(){return Ya(DT)}};var by=new j("angularfire2.auth-instances");function WU(t,e){let n=ud(DT,t,e);return n&&new Qn(n)}function KU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Qn(r)}}var QU={provide:sc,deps:[[new mt,by]]},YU={provide:Qn,useFactory:WU,deps:[[new mt,by],zn]};function CT(t,...e){return $e("angularfire",wi.full,"auth"),an([YU,QU,{provide:by,useFactory:KU(t),multi:!0,deps:[we,gt,Ws,Ei,[new mt,Gs],...e]}])}var bT=Yt(vy,!0);var TT=Yt(Cy,!0);var ST=Yt(_y,!0);var AT=Yt(Ey,!0);var MT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},NT={};var xr,Ty;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,C,T){for(var I=Array(arguments.length-2),En=2;En<arguments.length;En++)I[En-2]=arguments[En];return y.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],C=D.g[2];var T=D.g[3],I=y+(T^_&(C^T))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[2]+606105819&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[6]+2821735955&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[10]+4294925233&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[14]+2792965006&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^T&(_^C))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[11]+643717713&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[15]+3634488961&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[3]+4107603335&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[7]+1735328473&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^T)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[11]+1839030562&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[7]+4139469664&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[3]+3572445317&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[15]+530742520&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~T))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[14]+2878612391&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[10]+4293915773&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[6]+2734768916&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[2]+718787259&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<y;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==y||(_[C]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),I=parseInt(D.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var C=ue(_,y).g;_=F(_,C.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=C,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,C=0;C<=y;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),I=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=I>>>16,T&=65535,I&=65535,_[C]=I<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,I=this.i(E)&65535,En=D.i(C)>>>16,wo=D.i(C)&65535;_[2*E+2*C]+=I*wo,B(_,2*E+2*C),_[2*E+2*C+1]+=T*wo,B(_,2*E+2*C+1),_[2*E+2*C+1]+=I*En,B(_,2*E+2*C+1),_[2*E+2*C+2]+=T*En,B(_,2*E+2*C+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function B(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function q(D,y){this.g=D,this.h=y}function ue(D,y){if(S(y))throw Error("division by zero");if(S(D))return new q(p,p);if(M(D))return y=ue(R(D),y),new q(R(y.g),R(y.h));if(M(y))return y=ue(D,R(y)),new q(R(y.g),y.h);if(30<D.g.length){if(M(D)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Re(_),E=Re(E);var C=J(_,1),T=J(E,1);for(E=J(E,2),_=J(_,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(C=C.add(_),T=I),E=J(E,1),_=J(_,1)}return y=F(D,C.j(y)),new q(C,y)}for(C=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(y);M(I)||0<I.l(D);)_-=E,T=l(_),I=T.j(y);S(T)&&(T=m),C=C.add(T),D=F(D,I)}return new q(C,D)}t.A=function(D){return ue(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Re(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function J(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,C=[],T=0;T<E;T++)C[T]=0<y?D.i(T+_)>>>y|D.i(T+_+1)<<32-y:D.i(T+_);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ty=NT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,xr=NT.Integer=o}).apply(typeof MT<"u"?MT:typeof self<"u"?self:typeof window<"u"?window:{});var Rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yn={};var Sy,Ay,Ys,Ry,oc,Md,My,Ny,xy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rd=="object"&&Rd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var P=Array(arguments.length-2),De=2;De<arguments.length;De++)P[De-2]=arguments[De];return d.prototype[b].apply(g,P)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let P=0;P<A;P++)c[b+P]=g[P]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var Re=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function J(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Th;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class En{constructor(){this.h=this.g=null}add(d,f){let g=wo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var wo=new F(()=>new AA,c=>c.reset());class AA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Eo,Do=!1,Th=new En,k_=()=>{let c=a.Promise.resolve(void 0);Eo=()=>{c.then(RA)}};var RA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=wo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Do=!1};function nr(){this.s=this.s,this.C=this.C}nr.prototype.s=!1,nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var MA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Co(c,d){if(Je.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{ue(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:NA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Co.aa.h.call(this)}}S(Co,Je);var NA={2:"touch",3:"pen",4:"mouse"};Co.prototype.h=function(){Co.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bo="closure_listenable_"+(1e6*Math.random()|0),xA=0;function PA(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++xA,this.da=this.fa=!1}function Mc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nc(c){this.src=c,this.g={},this.h=0}Nc.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Ah(c,d,g,b);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new PA(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function Sh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Mc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ah(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var Rh="closure_lm_"+(1e6*Math.random()|0),Mh={};function F_(c,d,f,g,b){if(g&&g.once)return V_(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)F_(c,d[A],f,g,b);return null}return f=Oh(f),c&&c[bo]?c.K(d,f,l(g)?!!g.capture:!!g,b):L_(c,d,f,!1,g,b)}function L_(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,De=xh(c);if(De||(c[Rh]=De=new Nc(c)),f=De.add(d,f,g,P,A),f.proxy)return f;if(g=OA(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)MA||(b=P),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(U_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function OA(){function c(f){return d.call(c.src,c.listener,f)}let d=kA;return c}function V_(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)V_(c,d[A],f,g,b);return null}return f=Oh(f),c&&c[bo]?c.L(d,f,l(g)?!!g.capture:!!g,b):L_(c,d,f,!0,g,b)}function j_(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)j_(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Oh(f),c&&c[bo]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ah(A,f,g,b),-1<f&&(Mc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=xh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ah(d,f,g,b)),(f=-1<c?d[c]:null)&&Nh(f))}function Nh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[bo])Sh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(U_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=xh(d))?(Sh(f,c),f.h==0&&(f.src=null,d[Rh]=null)):Mc(c)}}}function U_(c){return c in Mh?Mh[c]:Mh[c]="on"+c}function kA(c,d){if(c.da)c=!0;else{d=new Co(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Nh(c),c=f.call(g,d)}return c}function xh(c){return c=c[Rh],c instanceof Nc?c:null}var Ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oh(c){return typeof c=="function"?c:(c[Ph]||(c[Ph]=function(d){return c.handleEvent(d)}),c[Ph])}function Xe(){nr.call(this),this.i=new Nc(this),this.M=this,this.F=null}S(Xe,nr),Xe.prototype[bo]=!0,Xe.prototype.removeEventListener=function(c,d,f,g){j_(this,c,d,f,g)};function ct(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Je(d,c);else if(d instanceof Je)d.target=d.target||c;else{var b=d;d=new Je(g,c),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];b=xc(P,g,!0,d)&&b}if(P=d.g=c,b=xc(P,g,!0,d)&&b,b=xc(P,g,!1,d)&&b,f)for(A=0;A<f.length;A++)P=d.g=f[A],b=xc(P,g,!1,d)&&b}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Mc(f[g]);delete c.g[d],c.h--}}this.F=null},Xe.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Xe.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function xc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var De=P.listener,We=P.ha||P.src;P.fa&&Sh(c.i,P),b=De.call(We,g)!==!1&&b}}return b&&!g.defaultPrevented}function B_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function $_(c){c.g=B_(()=>{c.g=null,c.i&&(c.i=!1,$_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class FA extends nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:$_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function To(c){nr.call(this),this.h=c,this.g={}}S(To,nr);var H_=[];function q_(c){J(c.g,function(d,f){this.g.hasOwnProperty(f)&&Nh(d)},c),c.g={}}To.prototype.N=function(){To.aa.N.call(this),q_(this)},To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kh=a.JSON.stringify,LA=a.JSON.parse,VA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Fh(){}Fh.prototype.h=null;function z_(c){return c.h||(c.h=c.i())}function G_(){}var So={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lh(){Je.call(this,"d")}S(Lh,Je);function Vh(){Je.call(this,"c")}S(Vh,Je);var Lr={},W_=null;function Pc(){return W_=W_||new Xe}Lr.La="serverreachability";function K_(c){Je.call(this,Lr.La,c)}S(K_,Je);function Ao(c){let d=Pc();ct(d,new K_(d))}Lr.STAT_EVENT="statevent";function Q_(c,d){Je.call(this,Lr.STAT_EVENT,c),this.stat=d}S(Q_,Je);function ut(c){let d=Pc();ct(d,new Q_(d,c))}Lr.Ma="timingevent";function Y_(c,d){Je.call(this,Lr.Ma,c),this.size=d}S(Y_,Je);function Ro(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Mo(){this.g=!0}Mo.prototype.xa=function(){this.g=!1};function jA(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var P="",De=A.split("&"),We=0;We<De.length;We++){var ve=De[We].split("=");if(1<ve.length){var et=ve[0];ve=ve[1];var tt=et.split("_");P=2<=tt.length&&tt[1]=="type"?P+(et+"="+ve+"&"):P+(et+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+P})}function UA(c,d,f,g,b,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+P})}function ji(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+$A(c,f)+(g?" "+g:"")})}function BA(c,d){c.info(function(){return"TIMEOUT: "+d})}Mo.prototype.info=function(){};function $A(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return kh(f)}catch{return d}}var Oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Z_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jh;function kc(){}S(kc,Fh),kc.prototype.g=function(){return new XMLHttpRequest},kc.prototype.i=function(){return{}},jh=new kc;function rr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new To(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new J_}function J_(){this.i=null,this.g="",this.h=!1}var X_={},Uh={};function Bh(c,d,f){c.L=1,c.v=jc(Dn(d)),c.m=f,c.P=!0,eI(c,null)}function eI(c,d){c.F=Date.now(),Fc(c),c.A=Dn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),pI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new J_,c.g=xI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new FA(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(H_[0]=b.toString()),b=H_);for(var A=0;A<b.length;A++){var P=F_(f,b[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ao(),jA(c.i,c.u,c.A,c.l,c.R,c.m)}rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cn(c)==3?d.j():this.Y(c)},rr.prototype.Y=function(c){try{if(c==this.g)e:{let tt=Cn(this.g);var d=this.g.Ba();let $i=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||wI(this.g)))){this.J||tt!=4||d==7||(d==8||0>=$i?Ao(3):Ao(2)),$h(this);var f=this.g.Z();this.X=f;t:if(tI(this)){var g=wI(this.g);c="";var b=g.length,A=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),No(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,UA(this.i,this.u,this.A,this.l,this.R,tt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,We=this.g;if((De=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(De)){var ve=De;break t}}ve=null}if(f=ve)ji(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hh(this,f);else{this.o=!1,this.s=3,ut(12),Vr(this),No(this);break e}}if(this.P){f=!0;let jt;for(;!this.J&&this.C<P.length;)if(jt=HA(this,P),jt==Uh){tt==4&&(this.s=4,ut(14),f=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==X_){this.s=4,ut(15),ji(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else ji(this.i,this.l,jt,null),Hh(this,jt);if(tI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||P.length!=0||this.h.h||(this.s=1,ut(16),f=!1),this.o=this.o&&f,!f)ji(this.i,this.l,P,"[Invalid Chunked Response]"),Vr(this),No(this);else if(0<P.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Qh(et),et.M=!0,ut(11))}}else ji(this.i,this.l,P,null),Hh(this,P);tt==4&&Vr(this),this.o&&!this.J&&(tt==4?AI(this.j,this):(this.o=!1,Fc(this)))}else oR(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Vr(this),No(this)}}}catch{}finally{}};function tI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function HA(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Uh:(f=Number(d.substring(f,g)),isNaN(f)?X_:(g+=1,g+f>d.length?Uh:(d=d.slice(g,g+f),c.C=g+f,d)))}rr.prototype.cancel=function(){this.J=!0,Vr(this)};function Fc(c){c.S=Date.now()+c.I,nI(c,c.I)}function nI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ro(m(c.ba,c),d)}function $h(c){c.B&&(a.clearTimeout(c.B),c.B=null)}rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(BA(this.i,this.A),this.L!=2&&(Ao(),ut(17)),Vr(this),this.s=2,No(this)):nI(this,this.S-c)};function No(c){c.j.G==0||c.J||AI(c.j,c)}function Vr(c){$h(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,q_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Hh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||qh(f.h,c))){if(!c.K&&qh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)qc(f),$c(f);else break e;Kh(f),ut(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ro(m(f.Za,f),6e3));if(1>=sI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ur(f,11)}else if((c.K||f.g==c)&&qc(f),!B(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let et=ve[3];et!=null&&(f.la=et,f.j.info("VER="+f.la));let tt=ve[4];tt!=null&&(f.Aa=tt,f.j.info("SVER="+f.Aa));let $i=ve[5];$i!=null&&typeof $i=="number"&&0<$i&&(g=1.5*$i,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let jt=c.g;if(jt){let Gc=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gc){var A=g.h;A.g||Gc.indexOf("spdy")==-1&&Gc.indexOf("quic")==-1&&Gc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(zh(A,A.h),A.h=null))}if(g.D){let Yh=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yh&&(g.ya=Yh,Te(g.I,g.D,Yh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=NI(g,g.J?g.ia:null,g.W),P.K){oI(g.h,P);var De=P,We=g.L;We&&(De.I=We),De.B&&($h(De),Fc(De)),g.g=P}else TI(g);0<f.i.length&&Hc(f)}else ve[0]!="stop"&&ve[0]!="close"||Ur(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Ur(f,7):Wh(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}Ao(4)}catch{}}var qA=class{constructor(c,d){this.g=c,this.map=d}};function rI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sI(c){return c.h?1:c.g?c.g.size:0}function qh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function zh(c,d){c.g?c.g.add(d):c.h=d}function oI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}rI.prototype.cancel=function(){if(this.i=aI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function aI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function zA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function GA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function cI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=GA(c),g=zA(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var uI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof jr){this.h=c.h,Lc(this,c.j),this.o=c.o,this.g=c.g,Vc(this,c.s),this.l=c.l;var d=c.i,f=new Oo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),lI(this,f),this.m=c.m}else c&&(d=String(c).match(uI))?(this.h=!1,Lc(this,d[1]||"",!0),this.o=xo(d[2]||""),this.g=xo(d[3]||"",!0),Vc(this,d[4]),this.l=xo(d[5]||"",!0),lI(this,d[6]||"",!0),this.m=xo(d[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}jr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Po(d,dI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Po(d,dI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Po(f,f.charAt(0)=="/"?YA:QA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Po(f,JA)),c.join("")};function Dn(c){return new jr(c)}function Lc(c,d,f){c.j=f?xo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Vc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function lI(c,d,f){d instanceof Oo?(c.i=d,XA(c.i,c.h)):(f||(d=Po(d,ZA)),c.i=new Oo(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function jc(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Po(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,KA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function KA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var dI=/[#\/\?@]/g,QA=/[#\?:]/g,YA=/[#\?]/g,ZA=/[#\?@]/g,JA=/#/g;function Oo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ir(c){c.g||(c.g=new Map,c.h=0,c.i&&WA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Oo.prototype,t.add=function(c,d){ir(this),this.i=null,c=Ui(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function hI(c,d){ir(c),d=Ui(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function fI(c,d){return ir(c),d=Ui(c,d),c.g.has(d)}t.forEach=function(c,d){ir(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){ir(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(c){ir(this);let d=[];if(typeof c=="string")fI(this,c)&&(d=d.concat(this.g.get(Ui(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ir(this),this.i=null,c=Ui(this,c),fI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function pI(c,d,f){hI(c,d),0<f.length&&(c.i=null,c.g.set(Ui(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=A;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),c.push(b)}}return this.i=c.join("&")};function Ui(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function XA(c,d){d&&!c.j&&(ir(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(hI(this,g),pI(this,b,f))},c)),c.j=d}function eR(c,d){let f=new Mo;if(a.Image){let g=new Image;g.onload=v(sr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(sr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(sr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(sr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function tR(c,d){let f=new Mo,g=new AbortController,b=setTimeout(()=>{g.abort(),sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?sr(f,"TestPingServer: ok",!0,d):sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),sr(f,"TestPingServer: error",!1,d)})}function sr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function nR(){this.g=new VA}function rR(c,d,f){let g=f||"";try{cI(c,function(b,A){let P=b;l(b)&&(P=kh(b)),d.push(g+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function ko(c){this.l=c.Ub||null,this.j=c.eb||!1}S(ko,Fh),ko.prototype.g=function(){return new Uc(this.l,this.j)},ko.prototype.i=function(c){return function(){return c}}({});function Uc(c,d){Xe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Uc,Xe),t=Uc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Lo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Fo(this):Lo(this),this.readyState==3&&gI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Fo(this))},t.Qa=function(c){this.g&&(this.response=c,Fo(this))},t.ga=function(){this.g&&Fo(this)};function Fo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Lo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Lo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function mI(c){let d="";return J(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Gh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=mI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Me(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,Xe);var iR=/^https?$/i,sR=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jh.g(),this.v=this.o?z_(this.o):z_(jh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){yI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sR,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{II(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){yI(this,A)}};function yI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,vI(c),Bc(c)}function vI(c){c.A||(c.A=!0,ct(c,"complete"),ct(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ct(this,"complete"),ct(this,"abort"),Bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_I(this):this.bb())},t.bb=function(){_I(this)};function _I(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)B_(c.Ea,0,c);else if(ct(c,"readystatechange"),Cn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var b=String(c.D).match(uI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!iR.test(b?b.toLowerCase():"")}f=g}if(f)ct(c,"complete"),ct(c,"success");else{c.m=6;try{var A=2<Cn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",vI(c)}}finally{Bc(c)}}}}function Bc(c,d){if(c.g){II(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ct(c,"ready");try{f.onreadystatechange=g}catch{}}}function II(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),LA(d)}};function wI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function oR(c){let d={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(B(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function EI(c){this.Aa=0,this.i=[],this.j=new Mo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vo("baseRetryDelayMs",5e3,c),this.cb=Vo("retryDelaySeedMs",1e4,c),this.Wa=Vo("forwardChannelMaxRetries",2,c),this.wa=Vo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new rI(c&&c.concurrentRequestLimit),this.Da=new nR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=EI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ut(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=NI(this,null,this.W),Hc(this)};function Wh(c){if(DI(c),c.G==3){var d=c.U++,f=Dn(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),jo(c,f),d=new rr(c,c.j,d),d.L=2,d.v=jc(Dn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=xI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fc(d)}MI(c)}function $c(c){c.g&&(Qh(c),c.g.cancel(),c.g=null)}function DI(c){$c(c),c.u&&(a.clearTimeout(c.u),c.u=null),qc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hc(c){if(!iI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Eo||k_(),Do||(Eo(),Do=!0),Th.add(d,c),c.B=0}}function aR(c,d){return sI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ro(m(c.Ga,c,d),RI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new rr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=bI(this,b,d),f=Dn(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),jo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(mI(A)))+"&"+d:this.m&&Gh(f,this.m,A)),zh(this.h,b),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),b.T=!0,Bh(b,f,null)):Bh(b,f,d),this.G=2}}else this.G==3&&(c?CI(this,c):this.i.length==0||iI(this.h)||CI(this))};function CI(c,d){var f;d?f=d.l:f=c.U++;let g=Dn(c.I);Te(g,"SID",c.K),Te(g,"RID",f),Te(g,"AID",c.T),jo(c,g),c.m&&c.o&&Gh(g,c.m,c.o),f=new rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=bI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zh(c.h,f),Bh(f,g,d)}function jo(c,d){c.H&&J(c.H,function(f,g){Te(d,g,f)}),c.l&&cI({},function(f,g){Te(d,g,f)})}function bI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let De=!0;for(let We=0;We<f;We++){let ve=b[We].g,et=b[We].map;if(ve-=A,0>ve)A=Math.max(0,b[We].g-100),De=!1;else try{rR(et,P,"req"+ve+"_")}catch{g&&g(et)}}if(De){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function TI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Eo||k_(),Do||(Eo(),Do=!0),Th.add(d,c),c.v=0}}function Kh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ro(m(c.Fa,c),RI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,SI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ro(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),$c(this),SI(this))};function Qh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function SI(c){c.g=new rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Dn(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),jo(c,d),c.m&&c.o&&Gh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=jc(Dn(d)),f.m=null,f.P=!0,eI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,$c(this),Kh(this),ut(19))};function qc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function AI(c,d){var f=null;if(c.g==d){qc(c),Qh(c),c.g=null;var g=2}else if(qh(c.h,d))f=d.D,oI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Pc(),ct(g,new Y_(g,f)),Hc(c)}else TI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&aR(c,d)||g==2&&Kh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function RI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ur(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new jr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lc(g,"https"),jc(g),b?eR(g.toString(),f):tR(g.toString(),f)}else ut(2);c.G=0,c.l&&c.l.sa(d),MI(c),DI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function MI(c){if(c.G=0,c.ka=[],c.l){let d=aI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function NI(c,d,f){var g=f instanceof jr?Dn(f):new jr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Vc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new jr(null);g&&Lc(A,g),d&&(A.g=d),b&&Vc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Te(g,f,d),Te(g,"VER",c.la),jo(c,g),g}function xI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new ko({eb:f})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function PI(){}t=PI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zc(){}zc.prototype.g=function(c,d){return new It(c,d)};function It(c,d){Xe.call(this),this.g=new EI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!B(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!B(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Bi(this)}S(It,Xe),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Wh(this.g)},It.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=kh(c),c=f);d.i.push(new qA(d.Ya++,c)),d.G==3&&Hc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,Wh(this.g),delete this.g,It.aa.N.call(this)};function OI(c){Lh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(OI,Lh);function kI(){Vh.call(this),this.status=1}S(kI,Vh);function Bi(c){this.g=c}S(Bi,PI),Bi.prototype.ua=function(){ct(this.g,"a")},Bi.prototype.ta=function(c){ct(this.g,new OI(c))},Bi.prototype.sa=function(c){ct(this.g,new kI)},Bi.prototype.ra=function(){ct(this.g,"b")},zc.prototype.createWebChannel=zc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,xy=Yn.createWebChannelTransport=function(){return new zc},Ny=Yn.getStatEventTarget=function(){return Pc()},My=Yn.Event=Lr,Md=Yn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oc.NO_ERROR=0,Oc.TIMEOUT=8,Oc.HTTP_ERROR=6,oc=Yn.ErrorCode=Oc,Z_.COMPLETE="complete",Ry=Yn.EventType=Z_,G_.EventType=So,So.OPEN="a",So.CLOSE="b",So.ERROR="c",So.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Ys=Yn.WebChannel=G_,Ay=Yn.FetchXmlHttpFactory=ko,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Sy=Yn.XhrIo=Me}).apply(typeof Rd<"u"?Rd:typeof self<"u"?self:typeof window<"u"?window:{});var xT="@firebase/firestore";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var vo="10.13.1";var Ni=new Cr("@firebase/firestore");function ac(){return Ni.logLevel}function L(t,...e){if(Ni.logLevel<=fe.DEBUG){let n=e.map(g_);Ni.debug(`Firestore (${vo}): ${t}`,...n)}}function Jn(t,...e){if(Ni.logLevel<=fe.ERROR){let n=e.map(g_);Ni.error(`Firestore (${vo}): ${t}`,...n)}}function ro(t,...e){if(Ni.logLevel<=fe.WARN){let n=e.map(g_);Ni.warn(`Firestore (${vo}): ${t}`,...n)}}function g_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+t;throw Jn(e),new Error(e)}function be(t,e){t||K()}function Z(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends St{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Zn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var kd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ly=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},Vy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},jy=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new kd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ge(e)}},Uy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},By=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Uy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},$y=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Hy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new $y(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function ZU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=ZU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function io(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ze(0,0))}static max(){return new t(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ld=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends Ld{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},JU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,At=class t extends Ld{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return JU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var qy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};qy.UNKNOWN_ID=-1;function XU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new xi(i,H.empty(),e)}function e2(t){return new xi(t.readTime,t.key,-1)}var xi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),H.empty(),-1)}static max(){return new t(ne.max(),H.empty(),-1)}};function t2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var n2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function bc(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==n2)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function r2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tc(t){return t.name==="IndexedDbTransactionError"}var lS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function hh(t){return t==null}function pc(t){return t===0&&1/t==-1/0}function i2(t){return typeof t=="number"&&Number.isInteger(t)&&!pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var s2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Z6=[...s2,"documentOverlays"],o2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],a2=o2,c2=[...a2,"indexConfiguration","indexState","indexEntries"];var J6=[...c2,"globals"];function PT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eo(this.root,e,this.comparator,!1)}getReverseIterator(){return new eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eo(this.root,e,this.comparator,!0)}},eo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vd(this.data.getIterator())}getIteratorFrom(e){return new Vd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Vd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mn=class t{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new t([])}unionWith(e){let n=new ot(At.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var jd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var at=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};at.EMPTY_BYTE_STRING=new at("");var u2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xn(t){if(be(!!t),typeof t=="string"){let e=0,n=u2.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Or(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}function m_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function y_(t){let e=t.mapValue.fields.__previous_value__;return m_(e)?y_(e):e}function gc(t){let e=Xn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}var Gy=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Ud=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Nd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m_(t)?4:fS(t)?9007199254740991:hS(t)?10:11:K()}function In(t,e){if(t===e)return!0;let n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Xn(i.timestampValue),a=Xn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Or(i.bytesValue).isEqual(Or(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Se(i.doubleValue),a=Se(s.doubleValue);return o===a?pc(o)===pc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return io(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(PT(o)!==PT(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!In(o[u],a[u])))return!1;return!0}(t,e);default:return K()}}function mc(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function so(t,e){if(t===e)return 0;let n=Pi(t),r=Pi(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return OT(t.timestampValue,e.timestampValue);case 4:return OT(gc(t),gc(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Or(s),u=Or(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=_e(a[l],u[l]);if(h!==0)return h}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=_e(Se(s.latitude),Se(o.latitude));return a!==0?a:_e(Se(s.longitude),Se(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=_e(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:kT(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Nd.mapValue&&o===Nd.mapValue)return 0;if(s===Nd.mapValue)return 1;if(o===Nd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=_e(u[p],h[p]);if(m!==0)return m;let v=so(a[u[p]],l[h[p]]);if(v!==0)return v}return _e(u.length,h.length)}(t.mapValue,e.mapValue);default:throw K()}}function OT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=Xn(t),r=Xn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function kT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=so(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function oo(t){return Wy(t)}function Wy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Xn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Wy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Wy(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function Ky(t){return!!t&&"integerValue"in t}function v_(t){return!!t&&"arrayValue"in t}function FT(t){return!!t&&"nullValue"in t}function LT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function hS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(uc(this.value))}};function pS(t){let e=[];return _o(t.fields,(n,r)=>{let i=new At([n]);if(Pd(r)){let s=pS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}var Jt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ao=class{constructor(e,n){this.position=e,this.inclusive=n}};function VT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=so(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}var co=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function l2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Bd=class{},He=class t extends Bd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Yy(e,n,r):n==="array-contains"?new Xy(e,r):n==="in"?new ev(e,r):n==="not-in"?new tv(e,r):n==="array-contains-any"?new nv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Zy(e,r):new Jy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(so(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},wn=class t extends Bd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return gS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function gS(t){return t.op==="and"}function mS(t){return d2(t)&&gS(t)}function d2(t){for(let e of t.filters)if(e instanceof wn)return!1;return!0}function Qy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+oo(t.value);if(mS(t))return t.filters.map(e=>Qy(e)).join(",");{let e=t.filters.map(n=>Qy(n)).join(",");return`${t.op}(${e})`}}function yS(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&yS(o,i.filters[a]),!0):!1}(t,e):void K()}function vS(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(t):t instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(vS).join(" ,")+"}"}(t):"Filter"}var Yy=class extends He{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Zy=class extends He{constructor(e,n){super(e,"in",n),this.keys=_S("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Jy=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=_S("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function _S(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Xy=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return v_(n)&&mc(n.arrayValue,this.value)}},ev=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}},tv=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!mc(this.value.arrayValue,n)}},nv=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!v_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mc(this.value.arrayValue,r))}};var rv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function UT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new rv(t,e,n,r,i,s,o)}function __(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oo(r)).join(",")),e.ue=n}return e.ue}function I_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jT(t.startAt,e.startAt)&&jT(t.endAt,e.endAt)}function iv(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var uo=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function h2(t,e,n,r,i,s,o,a){return new uo(t,e,n,r,i,s,o,a)}function w_(t){return new uo(t)}function BT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f2(t){return t.collectionGroup!==null}function lc(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new co(s,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new co(At.keyField(),r))}return e.ce}function vn(t){let e=Z(t);return e.le||(e.le=p2(e,lc(t))),e.le}function p2(t,e){if(t.limitType==="F")return UT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new co(i.field,s)});let n=t.endAt?new ao(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ao(t.startAt.position,t.startAt.inclusive):null;return UT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sv(t,e,n){return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return I_(vn(t),vn(e))&&t.limitType===e.limitType}function IS(t){return`${__(vn(t))}|lt:${t.limitType}`}function Zs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vS(i)).join(", ")}]`),hh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oo(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of lc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=VT(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,lc(r),i)||r.endAt&&!function(o,a,u){let l=VT(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,lc(r),i))}(t,e)}function g2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wS(t){return(e,n)=>{let r=!1;for(let i of lc(t)){let s=m2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function m2(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?so(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var kr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return dS(this.inner)}size(){return this.innerSize}};var y2=new Oe(H.comparator);function er(){return y2}var ES=new Oe(H.comparator);function cc(...t){let e=ES;for(let n of t)e=e.insert(n.key,n);return e}function DS(t){let e=ES;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return dc()}function CS(){return dc()}function dc(){return new kr(t=>t.toString(),(t,e)=>t.isEqual(e))}var v2=new Oe(H.comparator),_2=new ot(H.comparator);function pe(...t){let e=_2;for(let n of t)e=e.add(n);return e}var I2=new ot(_e);function w2(){return I2}function E_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function bS(t){return{integerValue:""+t}}function E2(t,e){return i2(e)?bS(e):E_(t,e)}var lo=class{constructor(){this._=void 0}};function D2(t,e,n){return t instanceof ho?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&m_(s)&&(s=y_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Oi?SS(t,e):t instanceof ki?AS(t,e):function(i,s){let o=TS(i,s),a=$T(o)+$T(i.Pe);return Ky(o)&&Ky(i.Pe)?bS(a):E_(i.serializer,a)}(t,e)}function C2(t,e,n){return t instanceof Oi?SS(t,e):t instanceof ki?AS(t,e):n}function TS(t,e){return t instanceof fo?function(r){return Ky(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ho=class extends lo{},Oi=class extends lo{constructor(e){super(),this.elements=e}};function SS(t,e){let n=RS(e);for(let r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}var ki=class extends lo{constructor(e){super(),this.elements=e}};function AS(t,e){let n=RS(e);for(let r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}var fo=class extends lo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function $T(t){return Se(t.integerValue||t.doubleValue)}function RS(t){return v_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function b2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oi&&i instanceof Oi||r instanceof ki&&i instanceof ki?io(r.elements,i.elements,In):r instanceof fo&&i instanceof fo?In(r.Pe,i.Pe):r instanceof ho&&i instanceof ho}(t.transform,e.transform)}var ov=class{constructor(e,n){this.version=e,this.transformResults=n}},Mi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var po=class{};function MS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $d(t.key,Mi.none()):new Fi(t.key,t.data,Mi.none());{let n=t.data,r=Zt.empty(),i=new ot(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new tr(t.key,r,new mn(i.toArray()),Mi.none())}}function T2(t,e,n){t instanceof Fi?function(i,s,o){let a=i.value.clone(),u=qT(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof tr?function(i,s,o){if(!Od(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=qT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(NS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hc(t,e,n,r){return t instanceof Fi?function(s,o,a,u){if(!Od(s.precondition,o))return a;let l=s.value.clone(),h=zT(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof tr?function(s,o,a,u){if(!Od(s.precondition,o))return a;let l=zT(s.fieldTransforms,u,o),h=o.data;return h.setAll(NS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Od(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function S2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=TS(r.transform,i||null);s!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,s))}return n||null}function HT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&io(r,i,(s,o)=>b2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fi=class extends po{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},tr=class extends po{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function NS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function qT(t,e,n){let r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,C2(o,a,n[i]))}return r}function zT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,D2(s,o,e))}return r}var $d=class extends po{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},av=class extends po{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&T2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=CS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=MS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,r)=>HT(n,r))&&io(this.baseMutations,e.baseMutations,(n,r)=>HT(n,r))}},uv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return v2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var lv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Fe,me;function A2(t){switch(t){default:return K();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function xS(t){if(t===void 0)return Jn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Fe.OK:return N.OK;case Fe.CANCELLED:return N.CANCELLED;case Fe.UNKNOWN:return N.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return N.INTERNAL;case Fe.UNAVAILABLE:return N.UNAVAILABLE;case Fe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Fe.NOT_FOUND:return N.NOT_FOUND;case Fe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Fe.ABORTED:return N.ABORTED;case Fe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Fe.DATA_LOSS:return N.DATA_LOSS;default:return K()}}(me=Fe||(Fe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var GT=null;function R2(){return new TextEncoder}var M2=new xr([4294967295,4294967295],0);function WT(t){let e=R2().encode(t),n=new Ty;return n.update(e),new Uint8Array(n.digest())}function KT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xr([n,r],0),new xr([i,s],0)]}var hv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ai(`Invalid padding: ${n}`);if(r<0)throw new Ai(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ai(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ai(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xr.fromNumber(r)));return i.compare(M2)===1&&(i=new xr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=WT(e),[r,i]=KT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=WT(e),[r,i]=KT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ai=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Hd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Oe(_e),er(),pe())}},yc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var to=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},qd=class{constructor(e,n){this.targetId=e,this.me=n}},zd=class{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Gd=class{constructor(){this.fe=0,this.ge=YT(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new yc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=YT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},fv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=er(),this.qe=QT(),this.Qe=new Oe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(iv(s))if(r===0){let o=new H(s.path);this.Ue(n,o,Jt.newNoDocument(o,ne.min()))}else be(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}GT?.et(function(h,p,m,v,S){var M,R,F,B,q,ue;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},J=p.unchangedNames;return J&&(Re.bloomFilter={applied:S===0,hashCount:(M=J?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(B=(F=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&B!==void 0?B:0,padding:(ue=(q=J?.bits)===null||q===void 0?void 0:q.padding)!==null&&ue!==void 0?ue:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Re}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Or(r).toUint8Array()}catch(u){if(u instanceof jd)return ro("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new hv(o,i,s)}catch(u){return ro(u instanceof Ai?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&iv(a.target)){let u=new H(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Jt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Hd(e,n,this.Qe,this.ke,r);return this.ke=er(),this.qe=QT(),this.Qe=new Oe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Gd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Gd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function QT(){return new Oe(H.comparator)}function YT(){return new Oe(H.comparator)}var N2={asc:"ASCENDING",desc:"DESCENDING"},x2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P2={and:"AND",or:"OR"},pv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function gv(t,e){return t.useProto3Json||hh(e)?e:{value:e}}function Wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O2(t,e){return Wd(t,e.toTimestamp())}function _n(t){return be(!!t),ne.fromTimestamp(function(n){let r=Xn(n);return new Ze(r.seconds,r.nanos)}(t))}function D_(t,e){return mv(t,e).canonicalString()}function mv(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OS(t){let e=Pe.fromString(t);return be(jS(e)),e}function yv(t,e){return D_(t.databaseId,e.path)}function Py(t,e){let n=OS(e);if(n.get(1)!==t.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(FS(n))}function kS(t,e){return D_(t.databaseId,e)}function k2(t){let e=OS(t);return e.length===4?Pe.emptyPath():FS(e)}function vv(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FS(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZT(t,e,n){return{name:yv(t,e),fields:n.value.mapValue.fields}}function F2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(be(h===void 0||typeof h=="string"),at.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),at.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?N.UNKNOWN:xS(l.code);return new V(h,l.message||"")}(o);n=new zd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Py(t,r.document.name),s=_n(r.document.updateTime),o=r.document.createTime?_n(r.document.createTime):ne.min(),a=new Zt({mapValue:{fields:r.document.fields}}),u=Jt.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new to(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Py(t,r.document),s=r.readTime?_n(r.readTime):ne.min(),o=Jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new to([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Py(t,r.document),s=r.removedTargetIds||[];n=new to([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new dv(i,s),a=r.targetId;n=new qd(a,o)}}return n}function L2(t,e){let n;if(e instanceof Fi)n={update:ZT(t,e.key,e.value)};else if(e instanceof $d)n={delete:yv(t,e.key)};else if(e instanceof tr)n={update:ZT(t,e.key,e.data),updateMask:G2(e.fieldMask)};else{if(!(e instanceof av))return K();n={verify:yv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ho)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ki)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:O2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function V2(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?_n(i.updateTime):_n(s);return o.isEqual(ne.min())&&(o=_n(s)),new ov(o,i.transformResults||[])}(n,e))):[]}function j2(t,e){return{documents:[kS(t,e.path)]}}function U2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kS(t,i);let s=function(l){if(l.length!==0)return VS(wn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Js(m.field),direction:H2(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=gv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function B2(t){let e=k2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=LS(p);return m instanceof wn&&mS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new co(Xs(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,hh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new ao(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new ao(v,m)}(n.endAt)),h2(e,i,o,s,a,"F",u,l)}function $2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Xs(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xs(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Xs(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Xs(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return He.create(Xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wn.create(n.compositeFilter.filters.map(r=>LS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function H2(t){return N2[t]}function q2(t){return x2[t]}function z2(t){return P2[t]}function Js(t){return{fieldPath:t.canonicalString()}}function Xs(t){return At.fromServerFormat(t.fieldPath)}function VS(t){return t instanceof He?function(n){if(n.op==="=="){if(LT(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(FT(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LT(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(FT(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:q2(n.op),value:n.value}}}(t):t instanceof wn?function(n){let r=n.getFilters().map(i=>VS(i));return r.length===1?r[0]:{compositeFilter:{op:z2(n.op),filters:r}}}(t):K()}function G2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var vc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var _v=class{constructor(e){this.ct=e}};function W2(t){let e=B2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sv(e,e.limit,"L"):e}var Kd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),pc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Xn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Or(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?fS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):hS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):K()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Kd.vt=new Kd;var Iv=class{constructor(){this.un=new wv}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(xi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},wv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Pe.comparator)).toArray()}};var e8=new Uint8Array(0);var gn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);var _c=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Ev=class{constructor(){this.changes=new kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Dv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Cv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hc(r.mutation,i,mn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=Si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=cc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=er(),o=dc(),a=function(){return dc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof tr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),hc(h.mutation,l,h.mutation.getFieldMask(),Ze.now())):o.set(l.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Dv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=dc(),i=new Oe((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||mn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=CS();h.forEach(m=>{if(!s.has(m)){let v=MS(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Si()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:DS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=cc();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new uo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Jt.newInvalidDocument(h)))});let a=cc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&hc(h.mutation,l,mn.empty(),Ze.now()),ph(n,l)&&(a=a.insert(u,l))}),a})}};var bv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_n(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:W2(i.bundledQuery),readTime:_n(i.readTime)}}(n)),x.resolve()}};var Tv=class{constructor(){this.overlays=new Oe(H.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Si();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Si(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Si(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Si(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lv(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Sv=class{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var Ic=class{constructor(){this.Tr=new ot(Le.Er),this.dr=new ot(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Le(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Le(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new H(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new H(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Le(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||H.comparator(e.key,n.key)}};var Av=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ot(Le.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new cv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Le(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(_e);return n.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new Le(new H(s),0),a=new ot(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Le(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Le(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Rv=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=er(),o=n.path,a=new H(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||t2(e2(h),r)<=0||(i.has(h.key)||ph(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mv(this)}getSize(e){return x.resolve(this.size)}},Mv=class extends Ev{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Nv=class{constructor(e){this.persistence=e,this.Nr=new kr(n=>__(n),I_),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ic,this.targetCount=0,this.kr=_c.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new _c(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var xv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lS(0),this.Kr=!1,this.Kr=!0,this.$r=new Sv,this.referenceDelegate=e(this),this.Ur=new Nv(this),this.indexManager=new Iv,this.remoteDocumentCache=function(i){return new Rv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _v(n),this.Gr=new bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Av(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new Pv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Pv=class extends zy{constructor(e){super(),this.currentSequenceNumber=e}},Ov=class t{constructor(e){this.persistence=e,this.Jr=new Ic,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw K()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var kv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Fv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Lv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return u0()?8:r2(ze())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Fv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ac()<=fe.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(ac()<=fe.DEBUG&&L("QueryEngine","Query:",Zs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ac()<=fe.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):x.resolve())}Yi(e,n){if(BT(n))return x.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sv(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,sv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return BT(n)||i.isEqual(ne.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(ac()<=fe.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zs(n)),this.rs(e,o,n,XU(i,-1)).next(a=>a))})}ts(e,n){let r=new ot(wS(e));return n.forEach((i,s)=>{ph(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ac()<=fe.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Zs(n)),this.Ji.getDocumentsMatchingQuery(e,n,xi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Vv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(_e),this._s=new kr(s=>__(s),I_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function K2(t,e,n,r){return new Vv(t,e,n,r)}function US(t,e){return w(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=pe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function Q2(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);be(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BS(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Y2(t,e){let n=Z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(at.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=er(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(Z2(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function Z2(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=er();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function J2(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X2(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new vc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function jv(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Tc(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function JT(t,e,n){let r=Z(t),i=ne.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Z(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:pe())).next(a=>(eB(r,g2(e),a),{documents:a,Ts:s})))}function eB(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Qd=class{constructor(){this.activeTargetIds=w2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Uv=class{constructor(){this.so=new Qd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Bv=class{_o(e){}shutdown(){}};var Yd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var xd=null;function Oy(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}var tB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var $v=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var st="WebChannelConnection",Hv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Oy(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(L("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ro("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=tB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Oy();return new Promise((o,a)=>{let u=new Sy;u.setWithCredentials(!0),u.listenOnce(Ry.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oc.NO_ERROR:let h=u.getResponseJson();L(st,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case oc.TIMEOUT:L(st,`RPC '${e}' ${s} timed out`),a(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:let p=u.getStatus();if(L(st,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(v.status);a(new V(S,v.message))}else a(new V(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(N.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{L(st,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(st,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Oy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xy(),a=Ny(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Ay({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");L(st,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,S=new $v({Io:R=>{v?L(st,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(st,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(st,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,B)=>{R.listen(F,q=>{try{B(q)}catch(ue){setTimeout(()=>{throw ue},0)}})};return M(p,Ys.EventType.OPEN,()=>{v||(L(st,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,Ys.EventType.CLOSE,()=>{v||(v=!0,L(st,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,Ys.EventType.ERROR,R=>{v||(v=!0,ro(st,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new V(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ys.EventType.MESSAGE,R=>{var F;if(!v){let B=R.data[0];be(!!B);let q=B,ue=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(ue){L(st,`RPC '${e}' stream ${i} received error:`,ue);let Re=ue.status,J=function(_){let E=Fe[_];if(E!==void 0)return xS(E)}(Re),D=ue.message;J===void 0&&(J=N.INTERNAL,D="Unknown error status: "+Re+" with message "+ue.message),v=!0,S.So(new V(J,D)),p.close()}else L(st,`RPC '${e}' stream ${i} received:`,B),S.bo(B)}}),M(a,My.STAT_EVENT,R=>{R.stat===Md.PROXY?L(st,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Md.NOPROXY&&L(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function ky(){return typeof document<"u"?document:null}function gh(t){return new pv(t,!0)}var Zd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Jd=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Zd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qv=class extends Jd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=F2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?_n(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=vv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=iv(u)?{documents:j2(s,u)}:{query:U2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=PS(s,o.resumeToken);let l=gv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Wd(s,o.snapshotVersion.toTimestamp());let l=gv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=$2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=vv(this.serializer),n.removeTarget=e,this.a_(n)}},zv=class extends Jd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=V2(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=vv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>L2(this.serializer,r))};this.a_(n)}};var Gv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,mv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,mv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Wv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jn(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Kv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Li(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield Sc(l),l.q_.set("Unknown"),l.L_.delete(4),yield mh(l)})}(this))}))}),this.q_=new Wv(r,i)}};function mh(t){return w(this,null,function*(){if(Li(t))for(let e of t.B_)yield e(!0)})}function Sc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function $S(t,e){let n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),S_(n)?T_(n):Io(n).r_()&&b_(n,e))}function C_(t,e){let n=Z(t),r=Io(n);n.N_.delete(e),r.r_()&&HS(n,e),n.N_.size===0&&(r.r_()?r.o_():Li(n)&&n.q_.set("Unknown"))}function b_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(t).A_(e)}function HS(t,e){t.Q_.xe(e),Io(t).R_(e)}function T_(t){t.Q_=new fv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Io(t).start(),t.q_.v_()}function S_(t){return Li(t)&&!Io(t).n_()&&t.N_.size>0}function Li(t){return Z(t).L_.size===0}function qS(t){t.Q_=void 0}function nB(t){return w(this,null,function*(){t.q_.set("Online")})}function rB(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{b_(t,e)})})}function iB(t,e){return w(this,null,function*(){qS(t),S_(t)?(t.q_.M_(e),T_(t)):t.q_.set("Unknown")})}function sB(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof zd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Xd(t,r)}else if(e instanceof to?t.Q_.Ke(e):e instanceof qd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield BS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(at.EMPTY_BYTE_STRING,h.snapshotVersion)),HS(s,u);let p=new vc(h.target,u,l,h.sequenceNumber);b_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield Xd(t,r)}})}function Xd(t,e,n){return w(this,null,function*(){if(!Tc(e))throw e;t.L_.add(1),yield Sc(t),t.q_.set("Offline"),n||(n=()=>BS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield mh(t)}))})}function zS(t,e){return e().catch(n=>Xd(t,n,e))}function yh(t){return w(this,null,function*(){let e=Z(t),n=Fr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oB(e);)try{let i=yield J2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,aB(e,i)}catch(i){yield Xd(e,i)}GS(e)&&WS(e)})}function oB(t){return Li(t)&&t.O_.length<10}function aB(t,e){t.O_.push(e);let n=Fr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function GS(t){return Li(t)&&!Fr(t).n_()&&t.O_.length>0}function WS(t){Fr(t).start()}function cB(t){return w(this,null,function*(){Fr(t).p_()})}function uB(t){return w(this,null,function*(){let e=Fr(t);for(let n of t.O_)e.m_(n.mutations)})}function lB(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=uv.from(r,e,n);yield zS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield yh(t)})}function dB(t,e){return w(this,null,function*(){e&&Fr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return A2(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Fr(r).s_(),yield zS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield yh(r)}})}(t,e)),GS(t)&&WS(t)})}function XT(t,e){return w(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Li(n);n.L_.add(3),yield Sc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield mh(n)})}function hB(t,e){return w(this,null,function*(){let n=Z(t);e?(n.L_.delete(2),yield mh(n)):e||(n.L_.add(2),yield Sc(n),n.q_.set("Unknown"))})}function Io(t){return t.K_||(t.K_=function(n,r,i){let s=Z(n);return s.w_(),new qv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:nB.bind(null,t),Ro:rB.bind(null,t),mo:iB.bind(null,t),d_:sB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),S_(t)?T_(t):t.q_.set("Unknown")):(yield t.K_.stop(),qS(t))}))),t.K_}function Fr(t){return t.U_||(t.U_=function(n,r,i){let s=Z(n);return s.w_(),new zv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cB.bind(null,t),mo:dB.bind(null,t),f_:uB.bind(null,t),g_:lB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield yh(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Qv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function A_(t,e){if(Jn("AsyncQueue",`${e}: ${t}`),Tc(t))return new V(N.UNAVAILABLE,`${e}: ${t}`);throw t}var eh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=cc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var th=class{constructor(){this.W_=new Oe(H.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):K():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},go=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,eh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Yv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Zv=class{constructor(){this.queries=eS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Z(n),s=i.queries;i.queries=eS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function eS(){return new kr(t=>IS(t),fh)}function fB(t,e){return w(this,null,function*(){let n=Z(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Yv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=A_(o,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&R_(n)})}function pB(t,e){return w(this,null,function*(){let n=Z(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function gB(t,e){let n=Z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&R_(n)}function mB(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function R_(t){t.Y_.forEach(e=>{e.next()})}var Jv,tS;(tS=Jv||(Jv={})).ea="default",tS.Cache="cache";var Xv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jv.Cache}};var nh=class{constructor(e){this.key=e}},rh=class{constructor(e){this.key=e}},e_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=wS(e),this.Ra=new eh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new th,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=ph(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return M(v)-M(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new go(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new th,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nh(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return go.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},t_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},n_=class{constructor(e){this.key=e,this.va=!1}},r_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new kr(a=>IS(a),fh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(H.comparator),this.Na=new Map,this.La=new Ic,this.Ba={},this.ka=new Map,this.qa=_c.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function yB(t,e,n=!0){return w(this,null,function*(){let r=XS(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield KS(r,e,n,!0),i})}function vB(t,e){return w(this,null,function*(){let n=XS(t);yield KS(n,e,!0,!1)})}function KS(t,e,n,r){return w(this,null,function*(){let i=yield X2(t.localStore,vn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield _B(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&$S(t.remoteStore,i),a})}function _B(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(M,R,F,B){return w(this,null,function*(){let q=R.view.ma(F);q.ns&&(q=yield JT(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,q)));let ue=B&&B.targetChanges.get(R.targetId),Re=B&&B.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(q,M.isPrimaryClient,ue,Re);return rS(M,R.targetId,J.wa),J.snapshot})}(t,p,m,v);let s=yield JT(t.localStore,e,!0),o=new e_(e,s.Ts),a=o.ma(s.documents),u=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);rS(t,n,l.wa);let h=new t_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function IB(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!fh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&C_(r.remoteStore,i.targetId),i_(r,i.targetId)}).catch(bc))):(i_(r,i.targetId),yield jv(r.localStore,i.targetId,!0))})}function wB(t,e){return w(this,null,function*(){let n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),C_(n.remoteStore,r.targetId))})}function EB(t,e,n){return w(this,null,function*(){let r=RB(t);try{let i=yield function(o,a){let u=Z(o),l=Ze.now(),h=a.reduce((v,S)=>v.add(S.key),pe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=er(),M=pe();return u.cs.getEntries(v,h).next(R=>{S=R,S.forEach((F,B)=>{B.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let F=[];for(let B of a){let q=S2(B,p.get(B.key).overlayedDocument);q!=null&&F.push(new tr(B.key,q,pS(q.value.mapValue),Mi.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:DS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(_e)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Ac(r,i.changes),yield yh(r.remoteStore)}catch(i){let s=A_(i,"Failed to persist write");n.reject(s)}})}function QS(t,e){return w(this,null,function*(){let n=Z(t);try{let r=yield Y2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?be(o.va):i.removedDocuments.size>0&&(be(o.va),o.va=!1))}),yield Ac(n,r,e)}catch(r){yield bc(r)}})}function nS(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Z(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&R_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function DB(t,e,n){return w(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(H.comparator);o=o.insert(s,Jt.newNoDocument(s,ne.min()));let a=pe().add(s),u=new Hd(ne.min(),new Map,new Oe(_e),o,a);yield QS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),M_(r)}else yield jv(r.localStore,e,!1).then(()=>i_(r,e,n)).catch(bc)})}function CB(t,e){return w(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield Q2(n.localStore,e);ZS(n,r,null),YS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ac(n,i)}catch(i){yield bc(i)}})}function bB(t,e,n){return w(this,null,function*(){let r=Z(t);try{let i=yield function(o,a){let u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);ZS(r,e,n),YS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ac(r,i)}catch(i){yield bc(i)}})}function YS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZS(t,e,n){let r=Z(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function i_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JS(t,r)})}function JS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(C_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),M_(t))}function rS(t,e,n){for(let r of n)r instanceof nh?(t.La.addReference(r.key,e),TB(t,r)):r instanceof rh?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JS(t,r.key)):K()}function TB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),M_(t))}function M_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new H(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new n_(n)),t.Oa=t.Oa.insert(n,r),$S(t.remoteStore,new vc(vn(w_(n.path)),r,"TargetPurposeLimboResolution",lS.oe))}}function Ac(t,e,n){return w(this,null,function*(){let r=Z(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=kv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Tc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function SB(t,e){return w(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield US(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new V(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ac(n,r.hs)}})}function AB(t,e){let n=Z(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function XS(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DB.bind(null,e),e.Ca.d_=gB.bind(null,e.eventManager),e.Ca.$a=mB.bind(null,e.eventManager),e}function RB(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bB.bind(null,e),e}var ih=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return K2(this.persistence,new Lv,e.initialUser,this.serializer)}createPersistence(e){return new xv(Ov.Zr,this.serializer)}createSharedClientState(e){return new Uv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var s_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SB.bind(null,this.syncEngine),yield hB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Zv}()}createDatastore(e){let n=gh(e.databaseInfo.databaseId),r=function(s){return new Hv(s)}(e.databaseInfo);return function(s,o,a,u){return new Gv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Kv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nS(this.syncEngine,n,0),function(){return Yd.D()?new Yd:new Bv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new r_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Z(i);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Sc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var o_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var a_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=Fd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=A_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Fy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield US(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function iS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield NB(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>XT(e.remoteStore,i)),t._onlineComponents=e})}function MB(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function NB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!MB(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),yield Fy(t,new ih)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Fy(t,new ih);return t._offlineComponents})}function eA(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield iS(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield iS(t,new s_))),t._onlineComponents})}function xB(t){return eA(t).then(e=>e.syncEngine)}function sS(t){return w(this,null,function*(){let e=yield eA(t),n=e.eventManager;return n.onListen=yB.bind(null,e.syncEngine),n.onUnlisten=IB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wB.bind(null,e.syncEngine),n})}function tA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var oS=new Map;function nA(t,e,n){if(!n)throw new V(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PB(t,e,n,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aS(t){if(!H.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cS(t){if(H.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function fc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=N_(t);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var sh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},mo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ly;switch(r.type){case"firstParty":return new By(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=oS.get(n);r&&(L("ComponentProvider","Removing Datastore"),oS.delete(n),r.terminate())}(this),Promise.resolve()}};function rA(t,e,n,r={}){var i;let s=(t=fc(t,mo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ge.MOCK_USER;else{a=i0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ge(l)}t._authCredentials=new Vy(new kd(a,u))}}var oh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Vt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Pr=class t extends oh{constructor(e,n,r){super(e,n,w_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function vh(t,e,...n){if(t=it(t),nA("collection","path",e),t instanceof mo){let r=Pe.fromString(e,...n);return cS(r),new Pr(t,null,r)}{if(!(t instanceof Vt||t instanceof Pr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return cS(r),new Pr(t.firestore,null,r)}}function iA(t,e,...n){if(t=it(t),arguments.length===1&&(e=Fd.newId()),nA("doc","path",e),t instanceof mo){let r=Pe.fromString(e,...n);return aS(r),new Vt(t,null,new H(r))}{if(!(t instanceof Vt||t instanceof Pr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return aS(r),new Vt(t.firestore,t instanceof Pr?t.converter:null,new H(r))}}var c_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Zd(this,"async_queue_retry"),this.Eu=()=>{let n=ky();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=ky();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Zn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Tc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Qv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&K()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function uS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var yo=class extends mo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new c_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||aA(this),this._firestoreClient.terminate()}};function sA(t,e){let n=typeof t=="object"?t:qs(),r=typeof t=="string"?t:e||"(default)",i=Qa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=r0("firestore");s&&rA(i,...s)}return i}function oA(t){return t._firestoreClient||aA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Gy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new a_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var wc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(at.fromBase64String(e))}catch(n){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ec=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ah=class{constructor(e){this._methodName=e}};var Dc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Cc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var OB=/^__.*__$/,u_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fi(e,this.data,n,this.fieldTransforms)}};function cA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var l_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return ch(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(cA(this.wu)&&OB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},d_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gh(e)}Nu(e,n,r,i=!1){return new l_({wu:e,methodName:n,Ou:r,path:At.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kB(t){let e=t._freezeSettings(),n=gh(t._databaseId);return new d_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FB(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);hA("Data must be an object, but it was:",o,r);let a=lA(r,o),u,l;if(s.merge)u=new mn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=LB(e,p,n);if(!o.contains(m))throw new V(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);jB(h,m)||h.push(m)}u=new mn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new u_(new Zt(a),u,l)}function uA(t,e){if(dA(t=it(t)))return hA("Unsupported field value:",e,t),lA(t,e);if(t instanceof ah)return function(r,i){if(!cA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=uA(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ze.fromDate(r);return{timestampValue:Wd(i.serializer,s)}}if(r instanceof Ze){let s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wd(i.serializer,s)}}if(r instanceof Dc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wc)return{bytesValue:PS(i.serializer,r._byteString)};if(r instanceof Vt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:D_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return E_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${N_(r)}`)}(t,e)}function lA(t,e){let n={};return dS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,i)=>{let s=uA(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Dc||t instanceof wc||t instanceof Vt||t instanceof ah||t instanceof Cc)}function hA(t,e,n){if(!dA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=N_(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function LB(t,e,n){if((e=it(e))instanceof Ec)return e._internalPath;if(typeof e=="string")return fA(t,e);throw ch("Field path arguments must be of type string or ",t,!1,void 0,n)}var VB=new RegExp("[~\\*/\\[\\]]");function fA(t,e,n){if(e.search(VB)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ec(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ch(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(N.INVALID_ARGUMENT,a+t+u)}function jB(t,e){return t.some(n=>n.isEqual(e))}var uh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new h_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(pA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},h_=class extends uh{data(){return super.data()}};function pA(t,e){return typeof e=="string"?fA(t,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}function UB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var f_=class{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return _o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new Cc(s)}convertGeoPoint(e){return new Dc(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=y_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){let n=Xn(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);be(jS(r));let i=new Ud(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function BB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ri=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},lh=class extends uh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new no(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(pA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},no=class extends lh{data(e={}){return super.data(e)}},p_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ri(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new no(this._firestore,this._userDataWriter,r.key,r,new Ri(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new no(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new no(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:$B(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function $B(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}var dh=class extends f_{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}};function gA(t,e){let n=fc(t.firestore,yo),r=iA(t),i=BB(t.converter,e);return HB(n,[FB(kB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mi.exists(!1))]).then(()=>r)}function x_(t,...e){var n,r,i;t=it(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||uS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(uS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Vt)l=fc(t.firestore,yo),h=w_(t._key.path),u={next:p=>{e[o]&&e[o](qB(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=fc(t,oh);l=fc(p.firestore,yo),h=p._query;let m=new dh(l);u={next:v=>{e[o]&&e[o](new p_(l,m,p,v))},error:e[o+1],complete:e[o+2]},UB(t._query)}return function(m,v,S,M){let R=new o_(M),F=new Xv(v,R,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return fB(yield sS(m),F)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return pB(yield sS(m),F)}))}}(oA(l),h,a,u)}function HB(t,e){return function(r,i){let s=new Zn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return EB(yield xB(r),i,s)})),s.promise}(oA(t),e)}function qB(t,e,n){let r=n.docs.get(e._key),i=new dh(t);return new lh(t,i,e._key,r,new Ri(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vo=i})(Sr),Tr(new Lt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new yo(new jy(r.getProvider("auth-internal")),new Hy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ud(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$e(xT,"4.7.1",e),$e(xT,"4.7.1","esm2017")})();var _h=function(){return _h=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_h.apply(this,arguments)};var WB={includeMetadataChanges:!1};function mA(t,e){return e===void 0&&(e=WB),new de(function(n){var r=x_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function yA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:_h(_h({},r),(n={},n[e.idField]=t.id,n))}function vA(t){return mA(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function _A(t,e){return e===void 0&&(e={}),vA(t).pipe(ie(function(n){return n.map(function(r){return yA(r,e)})}))}var Vi=class{constructor(e){return e}},IA="firestore",P_=class{constructor(){return Ya(IA)}};var O_=new j("angularfire2.firestore-instances");function KB(t,e){let n=ud(IA,t,e);return n&&new Vi(n)}function QB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vi(r)}}var YB={provide:P_,deps:[[new mt,O_]]},ZB={provide:Vi,useFactory:KB,deps:[[new mt,O_],zn]};function wA(t,...e){return $e("angularfire",wi.full,"fst"),an([ZB,YB,{provide:O_,useFactory:QB(t),multi:!0,deps:[we,gt,Ws,Ei,[new mt,sc],[new mt,Gs],...e]}])}var EA=Yt(_A,!0);var DA=Yt(gA,!0);var CA=Yt(sA,!0);var Ih=class t{constructor(e,n,r){this.router=e;this.firestore=n;this.auth=r}nombreIngresado="carlos";claveIngresada=123;userMail="";userPWD="";loggedUser="";user="";errorLogin=!1;loginsCollection=[];countLogins=0;sub;Login(){ST(this.auth,this.userMail,this.userPWD).then(e=>{e.user.email!==null&&(this.loggedUser=e.user.email),this.goTo("/home")}).catch(e=>console.log(e))}CloseSession(){AT(this.auth).then(()=>{console.log(this.auth.currentUser?.email)})}goTo(e){this.router.navigate([e])}logLogin(){let e=vh(this.firestore,"logins");DA(e,{fecha:new Date,user:this.user})}GetData(){let e=vh(this.firestore,"logins"),n=EA(e);this.sub=n.subscribe(r=>{this.loginsCollection=r,this.countLogins=this.loginsCollection.length,console.log(r)})}static \u0275fac=function(n){return new(n||t)(ee(dn),ee(Vi),ee(Qn))};static \u0275cmp=yt({type:t,selectors:[["app-login"]],standalone:!0,features:[_t],decls:24,vars:2,consts:[["loginForm","ngForm"],[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","placeholder","Ingrese su nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","placeholder","Ingrese su contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["id","registrarse",1,"text-decoration-none",3,"click"]],template:function(n,r){if(n&1){let i=wl();U(0,"div",1)(1,"div",2)(2,"h1",3),te(3,"Inicio Sesi\xF3n"),z(),U(4,"form",4,0),vt("ngSubmit",function(){return cn(i),un(r.Login())}),U(6,"div",5)(7,"label",6),te(8,"Nombre"),z(),U(9,"input",7),ui("ngModelChange",function(o){return cn(i),Ts(r.userMail,o)||(r.userMail=o),un(o)}),z()(),U(10,"div",5)(11,"label",8),te(12,"Contrase\xF1a"),z(),U(13,"input",9),ui("ngModelChange",function(o){return cn(i),Ts(r.userPWD,o)||(r.userPWD=o),un(o)}),z()(),U(14,"div",10)(15,"a",11),te(16,"\xBFOlvid\xF3 su contrase\xF1a?"),z()(),U(17,"button",12),te(18,"Ingresar"),z(),U(19,"div",13)(20,"span"),te(21,"\xBFNo tienes una cuenta?"),z(),U(22,"a",14),vt("click",function(){return cn(i),un(r.goTo("/registro"))}),te(23,"Registrarse"),z()()()()()}n&2&&(Gt(9),ci("ngModel",r.userMail),Gt(4),ci("ngModel",r.userPWD))},dependencies:[fa,nd,td,Bs,Jl,Xl,qa,Ha,$a],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none}.form-control[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 10px #ffcc0080}label[_ngcontent-%COMP%]{margin-left:10px;font-weight:700}#registrarse[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#000;text-decoration:none}#registrarse[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0}span[_ngcontent-%COMP%]{font-weight:700}"]})};var wh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-home"]],standalone:!0,features:[_t],decls:27,vars:0,consts:[[1,"seccion-juegos"],[1,"preguntados"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfcCz3JlM4xlxLvDWPSj71xusZCerXq0QEpg&s","alt","preguntados"],["href","scores"],[1,"mayor-menor"],["src","https://resizer.glanacion.com/resizer/v2/un-juego-con-cartas-espanolas-sin-comodines-ni-L4YAHBM6IVBLNEJA5E33NQTKHI.jpg?auth=c4b877fbfbe96ead5811742b26ba93b66a4e97730d76bc15e6920f84a1745fd4&width=768&quality=70&smart=false","alt","mayor o menor"],[1,"ahorcado"],["src","https://cdn-icons-png.flaticon.com/512/2241/2241387.png","alt","ahorcado"],[1,"juego-nuevo"],["src","https://img.freepik.com/vector-gratis/hoja-trabajo-juego-combinacion-creativo-animales_23-2148782846.jpg","alt","juego nuevo"]],template:function(n,r){n&1&&(U(0,"h1"),te(1,"Seccion de Juegos"),z(),U(2,"div",0)(3,"div",1),ft(4,"img",2),U(5,"p"),te(6,"Preguntados"),z(),U(7,"a",3),te(8,"ver puntuacion"),z()(),U(9,"div",4),ft(10,"img",5),U(11,"p"),te(12,"Mayor o Menor"),z(),U(13,"a",3),te(14,"ver puntuacion"),z()(),U(15,"div",6),ft(16,"img",7),U(17,"p"),te(18,"Ahorcado"),z(),U(19,"a",3),te(20,"ver puntuacion"),z()(),U(21,"div",8),ft(22,"img",9),U(23,"p"),te(24,"Juego Nuevo"),z(),U(25,"a",3),te(26,"ver puntuacion"),z()()())},styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:80px;font-size:3.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}p[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-weight:700;margin:40px 0}.seccion-juegos[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:100px;padding:20px;align-items:center}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;box-shadow:0 4px 8px #00000080;transition:transform .3s ease}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer;box-shadow:0 4px 8px #000}a[_ngcontent-%COMP%]{background-color:#deb887;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;color:#fff;padding:10px 20px;margin-left:110px;text-decoration:none;border-radius:15px;font-size:1.2em;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{background-color:#e6ab5e;transform:scale(1.05)}a[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}"]})};var Eh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-error"]],standalone:!0,features:[_t],decls:2,vars:0,template:function(n,r){n&1&&(U(0,"p"),te(1,"error works!"),z())}})};var Dh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[_t],decls:20,vars:0,consts:[[1,"container","mt-5","p-5","bg-light","rounded-5","shadow-lg",2,"background-size","cover","background-position","center"],[1,"row","align-items-center","bg-card","rounded-5","shadow","p-4"],[1,"col-md-4","text-center"],["src","../../../../public/quiensoy.jpeg","alt","Juan Pablo",1,"img-fluid","rounded-circle","shadow",2,"max-width","320px"],[1,"col-md-8"],[1,"mb-4","text-dark","display-4"],[1,"lead","text-dark"]],template:function(n,r){n&1&&(U(0,"div",0)(1,"div",1)(2,"div",2),ft(3,"img",3),z(),U(4,"div",4)(5,"h1",5),te(6,"Me llamo Juan Pablo De Maio"),z(),U(7,"p",6)(8,"strong"),te(9,"Edad:"),z(),te(10," 19 a\xF1os"),ft(11,"br"),U(12,"strong"),te(13,"Estudios:"),z(),te(14," Actualmente estudio en la UTN, cursando la carrera de T\xE9cnico en Programaci\xF3n."),ft(15,"br"),U(16,"strong"),te(17,"Juego con Cartas o Im\xE1genes"),z(),ft(18,"br"),te(19," Descripci\xF3n: Pensaba en mostrar una serie de cartas que se van a dar vuelta, despu\xE9s se volver\xEDan a dar vuelta y el jugador deber\xEDa ir clickeando en el orden que se fueron mostrando las cartas. Se deber\xEDa subir la dificultad ocultando las cartas m\xE1s r\xE1pido e ir sumando puntos. "),z()()()())},styles:[".container[_ngcontent-%COMP%]{border-radius:30px;background-size:cover;background-position:center;overflow:hidden}.bg-card[_ngcontent-%COMP%]{background-color:#7dd86299;border:1px solid rgba(208,250,195,.8);box-shadow:0 4px 8px #0003;padding:20px}h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2.5rem;font-weight:700;color:#343a40}p.lead[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.2rem;line-height:1.8;color:#343a40}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:320px;border:5px solid #ffc107}.rounded-5[_ngcontent-%COMP%]{border-radius:30px!important}.bg-light[_ngcontent-%COMP%]{background-color:#d0fac399!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 20px #0003}"]})};function XB(t,e){if(t&1&&(U(0,"h2",17),te(1),z()),t&2){let n=lg();Gt(),El("Usuario registrado: ",n.usuarioLoggeado,"")}}function e$(t,e){if(t&1&&(U(0,"p",18),te(1),z()),t&2){let n=lg();Gt(),dg(n.msjError)}}var Ch=class t{constructor(e,n){this.auth=e;this.router=n}nuevoEmail="";nuevaClave="";usuarioLoggeado="";flagError=!1;msjError="";goTo(e){this.router.navigate([e])}Register(){bT(this.auth,this.nuevoEmail,this.nuevaClave).then(e=>{e.user.email&&(this.usuarioLoggeado=e.user.email,this.flagError=!1,this.router.navigate(["/home"]))}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido";break;case"auth/email-already-in-use":this.msjError="Este email ya est\xE1 en uso";break;case"auth/weak-password":this.msjError="La contrase\xF1a es muy d\xE9bil. Debe tener al menos 6 caracteres.";break;default:this.msjError="Error: "+e.message;break}console.log("Error en el registro: "+e.code)})}static \u0275fac=function(n){return new(n||t)(ee(Qn),ee(dn))};static \u0275cmp=yt({type:t,selectors:[["app-registro"]],standalone:!0,features:[_t],decls:26,vars:5,consts:[["registerForm","ngForm"],[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","placeholder","Ingrese una contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold",3,"disabled"],[1,"text-center","mt-3"],["id","iniciar-sesion",1,"text-decoration-none",3,"click"],["class","text-center text-primary",4,"ngIf"],["class","text-center text-danger",4,"ngIf"],[1,"text-center","text-primary"],[1,"text-center","text-danger"]],template:function(n,r){if(n&1){let i=wl();U(0,"div",1)(1,"div",2)(2,"h1",3),te(3,"Registrarse"),z(),U(4,"form",4,0),vt("ngSubmit",function(){return cn(i),un(r.Register())}),U(6,"div",5)(7,"label",6),te(8,"Email"),z(),U(9,"input",7),ui("ngModelChange",function(o){return cn(i),Ts(r.nuevoEmail,o)||(r.nuevoEmail=o),un(o)}),z()(),U(10,"div",5)(11,"label",8),te(12,"Contrase\xF1a"),z(),U(13,"input",9),ui("ngModelChange",function(o){return cn(i),Ts(r.nuevaClave,o)||(r.nuevaClave=o),un(o)}),z()(),U(14,"div",10)(15,"a",11),te(16,"\xBFOlvid\xF3 su contrase\xF1a?"),z()(),U(17,"button",12),te(18,"Registrarse"),z(),U(19,"div",13)(20,"span"),te(21,"\xBFYa tienes una cuenta?"),z(),U(22,"a",14),vt("click",function(){return cn(i),un(r.goTo("/login"))}),te(23,"Iniciar sesi\xF3n"),z()()(),ug(24,XB,2,1,"h2",15)(25,e$,2,1,"p",16),z()()}if(n&2){let i=gC(5);Gt(9),ci("ngModel",r.nuevoEmail),Gt(4),ci("ngModel",r.nuevaClave),Gt(4),ua("disabled",i.invalid),Gt(7),ua("ngIf",r.usuarioLoggeado!==""),Gt(),ua("ngIf",r.flagError)}},dependencies:[fa,LC,nd,td,Bs,Jl,Xl,qa,Ha,$a],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none}.form-control[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 10px #ffcc0080}label[_ngcontent-%COMP%]{margin-left:10px;font-weight:700}#iniciar-sesion[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#000;text-decoration:none}#iniciar-sesion[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0}span[_ngcontent-%COMP%]{font-weight:700}"]})};var bA=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:Ih},{path:"home",component:wh},{path:"quien-soy",component:Dh},{path:"registro",component:Ch},{path:"**",component:Eh}];var TA={projectId:"sala-juegos-ab9cb",appId:"1:639687055629:web:6ec8a897ad3ef0f988b844",storageBucket:"sala-juegos-ab9cb.appspot.com",apiKey:"AIzaSyD_AqRMAi5HFadu1U_VaF4wAZPHBskjQWs",authDomain:"sala-juegos-ab9cb.firebaseapp.com",messagingSenderId:"639687055629"};var SA={providers:[DC({eventCoalescing:!0}),Nb(bA),S0(()=>A0(TA)),CT(()=>TT()),wA(()=>CA())]};var bh=class t{constructor(e){this.router=e}title="sala-de-juegos";goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(ee(dn))};static \u0275cmp=yt({type:t,selectors:[["app-root"]],standalone:!0,features:[_t],decls:11,vars:0,consts:[[1,"navbar"],["routerLink","home","routerLinkActive","active-route",1,"nav-link"],["routerLink","quien-soy","routerLinkActive","active-route",1,"nav-link"],[1,"nav-links-derecha"],[1,"nav-link-perfil"],["routerLink","login","routerLinkActive","active-route",1,"nav-link-login",3,"click"]],template:function(n,r){n&1&&(U(0,"nav",0)(1,"a",1),te(2,"HOME"),z(),U(3,"a",2),te(4,"QUIEN SOY"),z(),U(5,"div",3)(6,"a",4),te(7,"PERFIL"),z(),U(8,"a",5),vt("click",function(){return r.goTo("login")}),te(9,"LOGIN"),z()()(),ft(10,"router-outlet"))},dependencies:[rm,$l,Mb],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;background-color:#deb887;border-radius:20px;padding:5px 10px;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e6ab5e}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.nav-link[_ngcontent-%COMP%]{margin:0 50px;font-size:1.5em}.nav-links-derecha[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:100px}.nav-link-login[_ngcontent-%COMP%], .nav-link-perfil[_ngcontent-%COMP%]{font-size:1.5em}.nav-link-login[_ngcontent-%COMP%]{margin-right:50px}"]})};WC(bh,SA).catch(t=>console.error(t));
