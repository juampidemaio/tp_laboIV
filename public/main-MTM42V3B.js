var AA=Object.defineProperty,RA=Object.defineProperties;var MA=Object.getOwnPropertyDescriptors;var oI=Object.getOwnPropertySymbols,NA=Object.getPrototypeOf,xA=Object.prototype.hasOwnProperty,PA=Object.prototype.propertyIsEnumerable,OA=Reflect.get;var aI=(t,e,n)=>e in t?AA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})xA.call(e,n)&&aI(t,n,e[n]);if(oI)for(var n of oI(e))PA.call(e,n)&&aI(t,n,e[n]);return t},ae=(t,e)=>RA(t,MA(e));var Jn=(t,e,n)=>OA(NA(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function cI(t,e){return Object.is(t,e)}var Ve=null,Ac=!1,Rc=1,vn=Symbol("SIGNAL");function ge(t){let e=Ve;return Ve=t,e}function uI(){return Ve}var So={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Rh(t){if(Ac)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(t);let e=Ve.nextProducerIndex++;if(Pc(Ve),e<Ve.producerNode.length&&Ve.producerNode[e]!==t&&To(Ve)){let n=Ve.producerNode[e];xc(n,Ve.producerIndexOfThis[e])}Ve.producerNode[e]!==t&&(Ve.producerNode[e]=t,Ve.producerIndexOfThis[e]=To(Ve)?fI(t,Ve,e):0),Ve.producerLastReadVersion[e]=t.version}function kA(){Rc++}function lI(t){if(!(To(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Rc)){if(!t.producerMustRecompute(t)&&!Nh(t)){t.dirty=!1,t.lastCleanEpoch=Rc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Rc}}function dI(t){if(t.liveConsumerNode===void 0)return;let e=Ac;Ac=!0;try{for(let n of t.liveConsumerNode)n.dirty||FA(n)}finally{Ac=e}}function hI(){return Ve?.consumerAllowSignalWrites!==!1}function FA(t){t.dirty=!0,dI(t),t.consumerMarkedDirty?.(t)}function Nc(t){return t&&(t.nextProducerIndex=0),ge(t)}function Mh(t,e){if(ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(To(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nh(t){Pc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lI(n),r!==n.version))return!0}return!1}function xh(t){if(Pc(t),To(t))for(let e=0;e<t.producerNode.length;e++)xc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fI(t,e,n){if(pI(t),t.liveConsumerNode.length===0&&gI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=fI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function xc(t,e){if(pI(t),t.liveConsumerNode.length===1&&gI(t))for(let r=0;r<t.producerNode.length;r++)xc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pc(i),i.producerIndexOfThis[r]=e}}function To(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gI(t){return t.producerNode!==void 0}function mI(t){let e=Object.create(LA);e.computation=t;let n=()=>{if(lI(e),Rh(e),e.value===Mc)throw e.error;return e.value};return n[vn]=e,n}var Sh=Symbol("UNSET"),Ah=Symbol("COMPUTING"),Mc=Symbol("ERRORED"),LA=ae(O({},So),{value:Sh,dirty:!0,error:null,equal:cI,producerMustRecompute(t){return t.value===Sh||t.value===Ah},producerRecomputeValue(t){if(t.value===Ah)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ah;let n=Nc(t),r;try{r=t.computation()}catch(i){r=Mc,t.error=i}finally{Mh(t,n)}if(e!==Sh&&e!==Mc&&r!==Mc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function VA(){throw new Error}var yI=VA;function vI(){yI()}function _I(t){yI=t}var jA=null;function II(t){let e=Object.create(EI);e.value=t;let n=()=>(Rh(e),e.value);return n[vn]=e,n}function Ph(t,e){hI()||vI(),t.equal(t.value,e)||(t.value=e,UA(t))}function wI(t,e){hI()||vI(),Ph(t,e(t.value))}var EI=ae(O({},So),{equal:cI,value:void 0});function UA(t){t.version++,kA(),dI(t),jA?.()}function Z(t){return typeof t=="function"}function Oi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oc=Oi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Or(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(s){e=s instanceof Oc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{DI(s)}catch(o){e=e??[],o instanceof Oc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Oc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)DI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Or(n,e)}remove(e){let{_finalizers:n}=this;n&&Or(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var Oh=Ne.EMPTY;function kc(t){return t instanceof Ne||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function DI(t){Z(t)?t():t.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ki={setTimeout(t,e,...n){let{delegate:r}=ki;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ki;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fc(t){ki.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(t);else throw t})}function Ao(){}var CI=kh("C",void 0,void 0);function bI(t){return kh("E",void 0,t)}function TI(t){return kh("N",t,void 0)}function kh(t,e,n){return{kind:t,value:e,error:n}}var kr=null;function Fi(t){if(jt.useDeprecatedSynchronousErrorHandling){let e=!kr;if(e&&(kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=kr;if(kr=null,n)throw r}}else t()}function SI(t){jt.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=t)}var Fr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kc(e)&&e.add(this)):this.destination=HA}static create(e,n,r){return new Li(e,n,r)}next(e){this.isStopped?Lh(TI(e),this):this._next(e)}error(e){this.isStopped?Lh(bI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lh(CI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BA=Function.prototype.bind;function Fh(t,e){return BA.call(t,e)}var Vh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Lc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Lc(r)}else Lc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Lc(n)}}},Li=class extends Fr{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&jt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fh(e.next,s),error:e.error&&Fh(e.error,s),complete:e.complete&&Fh(e.complete,s)}):i=e}this.destination=new Vh(i)}};function Lc(t){jt.useDeprecatedSynchronousErrorHandling?SI(t):Fc(t)}function $A(t){throw t}function Lh(t,e){let{onStoppedNotification:n}=jt;n&&ki.setTimeout(()=>n(t,e))}var HA={closed:!0,next:Ao,error:$A,complete:Ao};var Vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(t){return t}function Vc(...t){return jh(t)}function jh(t){return t.length===0?_t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=zA(n)?n:new Li(n,r,i);return Fi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=AI(r),new r((i,s)=>{let o=new Li({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vi](){return this}pipe(...n){return jh(n)(this)}toPromise(n){return n=AI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function AI(t){var e;return(e=t??jt.Promise)!==null&&e!==void 0?e:Promise}function qA(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function zA(t){return t&&t instanceof Fr||qA(t)&&kc(t)}function Uh(t){return Z(t?.lift)}function fe(t){return e=>{if(Uh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Bh(t,e,n,r,i)}var Bh=class extends Fr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ji(){return fe((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ui=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Uh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return ji()(this)}};var RI=Oi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new jc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new RI}next(n){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Oh:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,Or(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new jc(e,n),t})(),jc=class extends He{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Oh}};var We=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $h={now(){return($h.delegate||Date).now()},delegate:void 0};var Uc=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var Ro={setInterval(t,e,...n){let{delegate:r}=Ro;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ro;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bi=class extends Uc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ro.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ro.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Or(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $i=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$i.now=$h.now;var Hi=class extends $i{constructor(e,n=$i.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Hh=new Hi(Bi);var Bc=class extends Bi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $c=class extends Hi{};var qh=new $c(Bc);var It=new ce(t=>t.complete());function MI(t){return t&&Z(t.schedule)}function NI(t){return t[t.length-1]}function Hc(t){return Z(NI(t))?t.pop():void 0}function Xn(t){return MI(NI(t))?t.pop():void 0}function zh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function xI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(t){return this instanceof Lr?(this.v=t,this):new Lr(t)}function OI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(M){return new Promise(function(R,F){s.push([v,M,R,F])>1||u(v,M)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof Lr?Promise.resolve(v.value.v).then(f,p):m(s[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function kI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xI=="function"?xI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var qc=t=>t&&typeof t.length=="number"&&typeof t!="function";function zc(t){return Z(t?.then)}function Gc(t){return Z(t[Vi])}function Wc(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function Kc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qc=GA();function Yc(t){return Z(t?.[Qc])}function Zc(t){return OI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function Jc(t){return Z(t?.getReader)}function ke(t){if(t instanceof ce)return t;if(t!=null){if(Gc(t))return WA(t);if(qc(t))return KA(t);if(zc(t))return QA(t);if(Wc(t))return FI(t);if(Yc(t))return YA(t);if(Jc(t))return ZA(t)}throw Kc(t)}function WA(t){return new ce(e=>{let n=t[Vi]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KA(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function QA(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fc)})}function YA(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function FI(t){return new ce(e=>{JA(t,e).catch(n=>e.error(n))})}function ZA(t){return FI(Zc(t))}function JA(t,e){var n,r,i,s;return PI(this,void 0,void 0,function*(){try{for(n=kI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function er(t,e=0){return fe((n,r)=>{n.subscribe(ue(r,i=>dt(r,t,()=>r.next(i),e),()=>dt(r,t,()=>r.complete(),e),i=>dt(r,t,()=>r.error(i),e)))})}function tr(t,e=0){return fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function LI(t,e){return ke(t).pipe(tr(e),er(e))}function VI(t,e){return ke(t).pipe(tr(e),er(e))}function jI(t,e){return new ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function UI(t,e){return new ce(n=>{let r;return dt(n,e,()=>{r=t[Qc](),dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function Xc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{dt(n,e,()=>{let r=t[Symbol.asyncIterator]();dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function BI(t,e){return Xc(Zc(t),e)}function $I(t,e){if(t!=null){if(Gc(t))return LI(t,e);if(qc(t))return jI(t,e);if(zc(t))return VI(t,e);if(Wc(t))return Xc(t,e);if(Yc(t))return UI(t,e);if(Jc(t))return BI(t,e)}throw Kc(t)}function Ae(t,e){return e?$I(t,e):ke(t)}function K(...t){let e=Xn(t);return Ae(t,e)}function qi(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new ce(e?i=>e.schedule(r,0,i):r)}function Gh(t){return!!t&&(t instanceof ce||Z(t.lift)&&Z(t.subscribe))}var _n=Oi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return fe((n,r)=>{let i=0;n.subscribe(ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:XA}=Array;function eR(t,e){return XA(e)?t(...e):t(e)}function eu(t){return ee(e=>eR(t,e))}var{isArray:tR}=Array,{getPrototypeOf:nR,prototype:rR,keys:iR}=Object;function tu(t){if(t.length===1){let e=t[0];if(tR(e))return{args:e,keys:null};if(sR(e)){let n=iR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function sR(t){return t&&typeof t=="object"&&nR(t)===rR}function nu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ru(...t){let e=Xn(t),n=Hc(t),{args:r,keys:i}=tu(t);if(r.length===0)return Ae([],e);let s=new ce(oR(r,e,i?o=>nu(i,o):_t));return n?s.pipe(eu(n)):s}function oR(t,e,n=_t){return r=>{HI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)HI(e,()=>{let l=Ae(t[u],e),f=!1;l.subscribe(ue(r,p=>{s[u]=p,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function HI(t,e,n){t?dt(n,t,e):e()}function qI(t,e,n,r,i,s,o,a){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?S(M):u.push(M),S=M=>{s&&e.next(M),l++;let R=!1;ke(n(M,f++)).subscribe(ue(e,F=>{i?.(F),s?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?dt(e,o,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ue(e,v,()=>{p=!0,m()})),()=>{a?.()}}function je(t,e,n=1/0){return Z(e)?je((r,i)=>ee((s,o)=>e(r,s,i,o))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),fe((r,i)=>qI(r,i,t,n)))}function zi(t=1/0){return je(_t,t)}function zI(){return zi(1)}function Gi(...t){return zI()(Ae(t,Xn(t)))}function iu(t){return new ce(e=>{ke(t()).subscribe(e)})}function Wh(...t){let e=Hc(t),{args:n,keys:r}=tu(t),i=new ce(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let p=!1;ke(n[f]).subscribe(ue(s,m=>{p||(p=!0,l--),a[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?nu(r,a):a),s.complete())}))}});return e?i.pipe(eu(e)):i}function At(t,e){return fe((n,r)=>{let i=0;n.subscribe(ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function nr(t){return fe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ue(n,void 0,void 0,o=>{s=ke(t(o,nr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function GI(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ue(o,f=>{let p=l++;u=a?t(u,f,p):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Wi(t,e){return Z(e)?je(t,e,1):je(t,1)}function rr(t){return fe((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function In(t){return t<=0?()=>It:fe((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Kh(t){return ee(()=>t)}function su(t=aR){return fe((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function aR(){return new _n}function Mo(t){return fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):_t,In(1),n?rr(e):su(()=>new _n))}function Ki(t){return t<=0?()=>It:fe((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):_t,Ki(1),n?rr(e):su(()=>new _n))}function ou(t,e){return fe(GI(t,e,arguments.length>=2,!0))}function au(...t){let e=Xn(t);return fe((n,r)=>{(e?Gi(t,n,e):Gi(t,n)).subscribe(r)})}function Ut(t,e){return fe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,f=s++;ke(t(u,f)).subscribe(i=ue(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Yh(t){return fe((e,n)=>{ke(t).subscribe(ue(n,()=>n.complete(),Ao)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?fe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_t}var xw="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(np(e,n)),this.code=e}};function np(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function $o(t){return{toString:t}.toString()}var cu="__parameters__";function cR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function uR(t,e,n){return $o(()=>{let r=cR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,f){let p=u.hasOwnProperty(cu)?u[cu]:Object.defineProperty(u,cu,{value:[]})[cu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var df=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function lR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function WI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var dR=De({__forward_ref__:De});function Zr(t){return t.__forward_ref__=Zr,t.toString=function(){return ht(this())},t}function ut(t){return Pw(t)?t():t}function Pw(t){return typeof t=="function"&&t.hasOwnProperty(dR)&&t.__forward_ref__===Zr}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Uu(t){return KI(t,kw)||KI(t,Fw)}function Ow(t){return Uu(t)!==null}function KI(t,e){return t.hasOwnProperty(e)?t[e]:null}function hR(t){let e=t&&(t[kw]||t[Fw]);return e||null}function QI(t){return t&&(t.hasOwnProperty(YI)||t.hasOwnProperty(fR))?t[YI]:null}var kw=De({\u0275prov:De}),YI=De({\u0275inj:De}),Fw=De({ngInjectableDef:De}),fR=De({ngInjectorDef:De}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lw(t){return t&&!!t.\u0275providers}var pR=De({\u0275cmp:De}),gR=De({\u0275dir:De}),mR=De({\u0275pipe:De}),yR=De({\u0275mod:De}),_u=De({\u0275fac:De}),Po=De({__NG_ELEMENT_ID__:De}),ZI=De({__NG_ENV_ID__:De});function rp(t){return typeof t=="string"?t:t==null?"":String(t)}function vR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():rp(t)}function _R(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function ip(t,e){throw new B(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),hf;function Vw(){return hf}function Rt(t){let e=hf;return hf=t,e}function jw(t,e,n){let r=Uu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;ip(t,"Injector")}var IR={},Oo=IR,ff="__NG_DI_FLAG__",Iu="ngTempTokenPath",wR="ngTokenPath",ER=/\n/gm,DR="\u0275",JI="__source",Ji;function CR(){return Ji}function ir(t){let e=Ji;return Ji=t,e}function bR(t,e=re.Default){if(Ji===void 0)throw new B(-203,!1);return Ji===null?jw(t,void 0,e):Ji.get(t,e&re.Optional?null:void 0,e)}function se(t,e=re.Default){return(Vw()||bR)(ut(t),e)}function k(t,e=re.Default){return se(t,Bu(e))}function Bu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pf(t){let e=[];for(let n=0;n<t.length;n++){let r=ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){let a=r[o],u=SR(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(se(i,s))}else e.push(se(r))}return e}function TR(t,e){return t[ff]=e,t.prototype[ff]=e,t}function SR(t){return t[ff]}function AR(t,e,n,r){let i=t[Iu];throw e[JI]&&i.unshift(e[JI]),t.message=RR(`
`+t.message,i,n,r),t[wR]=i,t[Iu]=null,t}function RR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==DR?t.slice(2):t;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ht(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ER,`
  `)}`}var pt=TR(uR("Optional"),8);function es(t,e){let n=t.hasOwnProperty(_u);return n?t[_u]:null}function MR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function NR(t){return t.flat(Number.POSITIVE_INFINITY)}function sp(t,e){t.forEach(n=>Array.isArray(n)?sp(n,e):e(n))}function Uw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function PR(t,e,n){let r=Ho(t,e);return r>=0?t[r|1]=n:(r=~r,xR(t,r,e,n)),r}function Zh(t,e){let n=Ho(t,e);if(n>=0)return t[n|1]}function Ho(t,e){return OR(t,e,1)}function OR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ts={},Mt=[],ns=new j(""),Bw=new j("",-1),$w=new j(""),Eu=class{get(e,n=Oo){if(n===Oo){let r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return n}},Hw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Hw||{}),Zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zt||{}),ar=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ar||{});function kR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function gf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];FR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function qw(t){return t===3||t===4||t===6}function FR(t){return t.charCodeAt(0)===64}function ko(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?XI(t,n,i,null,e[++r]):XI(t,n,i,null,null))}}return t}function XI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var zw="ng-template";function LR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(op(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function op(t){return t.type===4&&t.value!==zw}function VR(t,e,n){let r=t.type===4&&!n?zw:t.value;return e===r}function jR(t,e,n){let r=4,i=t.attrs,s=i!==null?$R(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Bt(r)&&!Bt(u))return!1;if(o&&Bt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!VR(t,u,n)||u===""&&e.length===1){if(Bt(r))return!1;o=!0}}else if(r&8){if(i===null||!LR(t,i,u,n)){if(Bt(r))return!1;o=!0}}else{let l=e[++a],f=UR(u,i,op(t),n);if(f===-1){if(Bt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Bt(r))return!1;o=!0}}}}return Bt(r)||o}function Bt(t){return(t&1)===0}function UR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return HR(e,t)}function BR(t,e,n=!1){for(let r=0;r<e.length;r++)if(jR(t,e[r],n))return!0;return!1}function $R(t){for(let e=0;e<t.length;e++){let n=t[e];if(qw(n))return e}return t.length}function HR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ew(t,e){return t?":not("+e.trim()+")":e}function qR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Bt(o)&&(e+=ew(s,i),i=""),r=o,s=s||!Bt(r);n++}return i!==""&&(e+=ew(s,i)),e}function zR(t){return t.map(qR).join(",")}function GR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Bt(i))break;i=s}r++}return{attrs:e,classes:n}}function gt(t){return $o(()=>{let e=Yw(t),n=ae(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zt.Emulated,styles:t.styles||Mt,_:null,schemas:t.schemas||null,tView:null,id:""});Zw(n);let r=t.dependencies;return n.directiveDefs=nw(r,!1),n.pipeDefs=nw(r,!0),n.id=QR(n),n})}function WR(t){return Br(t)||Gw(t)}function KR(t){return t!==null}function Xr(t){return $o(()=>({type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function tw(t,e){if(t==null)return ts;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ar.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ar.None?[r,a]:r,e[s]=o):n[s]=r}return n}function nt(t){return $o(()=>{let e=Yw(t);return Zw(e),e})}function Br(t){return t[pR]||null}function Gw(t){return t[gR]||null}function Ww(t){return t[mR]||null}function Kw(t){let e=Br(t)||Gw(t)||Ww(t);return e!==null?e.standalone:!1}function Qw(t,e){let n=t[yR]||null;if(!n&&e===!0)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return n}function Yw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ts,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tw(t.inputs,e),outputs:tw(t.outputs),debugInfo:null}}function Zw(t){t.features?.forEach(e=>e(t))}function nw(t,e){if(!t)return null;let n=e?Ww:WR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(KR)}function QR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tn(t){return{\u0275providers:t}}function YR(...t){return{\u0275providers:Jw(!0,t),\u0275fromNgModule:!0}}function Jw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return sp(e,o=>{let a=o;mf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Xw(i,s),n}function Xw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ap(i,s=>{e(s,r)})}}function mf(t,e,n,r){if(t=ut(t),!t)return!1;let i=null,s=QI(t),o=!s&&Br(t);if(!s&&!o){let u=t.ngModule;if(s=QI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)mf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{sp(s.imports,f=>{mf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Xw(l,e)}if(!a){let l=es(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mt},i),e({provide:$w,useValue:i,multi:!0},i),e({provide:ns,useValue:()=>se(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;ap(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ap(t,e){for(let n of t)Lw(n)&&(n=n.\u0275providers),Array.isArray(n)?ap(n,e):e(n)}var ZR=De({provide:String,useValue:De});function eE(t){return t!==null&&typeof t=="object"&&ZR in t}function JR(t){return!!(t&&t.useExisting)}function XR(t){return!!(t&&t.useFactory)}function rs(t){return typeof t=="function"}function eM(t){return!!t.useClass}var $u=new j(""),fu={},tM={},Jh;function cp(){return Jh===void 0&&(Jh=new Eu),Jh}var xt=class{},Fo=class extends xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vf(e,o=>this.processProvider(o)),this.records.set(Bw,Qi(void 0,this)),i.has("environment")&&this.records.set(xt,Qi(void 0,this));let s=this.records.get($u);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($w,Mt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ir(this),r=Rt(void 0),i;try{return e()}finally{ir(n),Rt(r)}}get(e,n=Oo,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ZI))return e[ZI](this);r=Bu(r);let i,s=ir(this),o=Rt(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=oM(e)&&Uu(e);l&&this.injectableDefInScope(l)?u=Qi(yf(e),fu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&re.Self?cp():this.parent;return n=r&re.Optional&&n===Oo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Iu]=a[Iu]||[]).unshift(ht(e)),s)throw a;return AR(a,e,"R3InjectorError",this.source)}else throw a}finally{Rt(o),ir(s)}}resolveInjectorInitializers(){let e=ge(null),n=ir(this),r=Rt(void 0),i;try{let s=this.get(ns,Mt,re.Self);for(let o of s)o()}finally{ir(n),Rt(r),ge(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=ut(e);let n=rs(e)?e:ut(e&&e.provide),r=rM(e);if(!rs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qi(void 0,fu,!0),i.factory=()=>pf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ge(null);try{return n.value===fu&&(n.value=tM,n.value=n.factory()),typeof n.value=="object"&&n.value&&sM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yf(t){let e=Uu(t),n=e!==null?e.factory:es(t);if(n!==null)return n;if(t instanceof j)throw new B(204,!1);if(t instanceof Function)return nM(t);throw new B(204,!1)}function nM(t){if(t.length>0)throw new B(204,!1);let n=hR(t);return n!==null?()=>n.factory(t):()=>new t}function rM(t){if(eE(t))return Qi(void 0,t.useValue);{let e=tE(t);return Qi(e,fu)}}function tE(t,e,n){let r;if(rs(t)){let i=ut(t);return es(i)||yf(i)}else if(eE(t))r=()=>ut(t.useValue);else if(XR(t))r=()=>t.useFactory(...pf(t.deps||[]));else if(JR(t))r=()=>se(ut(t.useExisting));else{let i=ut(t&&(t.useClass||t.provide));if(iM(t))r=()=>new i(...pf(t.deps));else return es(i)||yf(i)}return r}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iM(t){return!!t.deps}function sM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function oM(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function vf(t,e){for(let n of t)Array.isArray(n)?vf(n,e):n&&Lw(n)?vf(n.\u0275providers,e):e(n)}function Tn(t,e){t instanceof Fo&&t.assertNotDestroyed();let n,r=ir(t),i=Rt(void 0);try{return e()}finally{ir(r),Rt(i)}}function aM(){return Vw()!==void 0||CR()!=null}function cM(t){return typeof t=="function"}var Sn=0,te=1,G=2,et=3,$t=4,Ht=5,Du=6,Cu=7,wn=8,is=9,Jt=10,tt=11,Lo=12,rw=13,qo=14,Xt=15,$r=16,Yi=17,En=18,Hu=19,nE=20,sr=21,Xh=22,Nt=23,Hr=25,rE=1;var qr=7,bu=8,ss=9,wt=10,Tu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Tu||{});function or(t){return Array.isArray(t)&&typeof t[rE]=="object"}function An(t){return Array.isArray(t)&&t[rE]===!0}function iE(t){return(t.flags&4)!==0}function qu(t){return t.componentOffset>-1}function sE(t){return(t.flags&1)===1}function cr(t){return!!t.template}function _f(t){return(t[G]&512)!==0}var If=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function oE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Rn(){return aE}function aE(t){return t.type.prototype.ngOnChanges&&(t.setInput=lM),uM}Rn.ngInherit=!0;function uM(){let t=uE(this),e=t?.current;if(e){let n=t.previous;if(n===ts)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function lM(t,e,n,r,i){let s=this.declaredInputs[r],o=uE(t)||dM(t,{previous:ts,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new If(l&&l.currentValue,n,u===ts),oE(t,e,i,n)}var cE="__ngSimpleChanges__";function uE(t){return t[cE]||null}function dM(t,e){return t[cE]=e}var iw=null;var Qt=function(t,e,n){iw?.(t,e,n)},hM="svg",fM="math";function en(t){for(;Array.isArray(t);)t=t[Sn];return t}function pM(t,e){return en(e[t])}function Pt(t,e){return en(e[t.index])}function lE(t,e){return t.data[e]}function lr(t,e){let n=e[t];return or(n)?n:n[Sn]}function gM(t){return(t[G]&4)===4}function up(t){return(t[G]&128)===128}function mM(t){return An(t[et])}function sw(t,e){return e==null?null:t[e]}function dE(t){t[Yi]=0}function hE(t){t[G]&1024||(t[G]|=1024,up(t)&&Gu(t))}function zu(t){return!!(t[G]&9216||t[Nt]?.dirty)}function wf(t){t[Jt].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),zu(t)&&Gu(t)}function Gu(t){t[Jt].changeDetectionScheduler?.notify(0);let e=zr(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!up(e)));)e=zr(e)}function fE(t,e){if((t[G]&256)===256)throw new B(911,!1);t[sr]===null&&(t[sr]=[]),t[sr].push(e)}function yM(t,e){if(t[sr]===null)return;let n=t[sr].indexOf(e);n!==-1&&t[sr].splice(n,1)}function zr(t){let e=t[et];return An(e)?e[et]:e}var me={lFrame:DE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var pE=!1;function vM(){return me.lFrame.elementDepthCount}function _M(){me.lFrame.elementDepthCount++}function IM(){me.lFrame.elementDepthCount--}function gE(){return me.bindingsEnabled}function wM(){return me.skipHydrationRootTNode!==null}function EM(t){return me.skipHydrationRootTNode===t}function DM(){me.skipHydrationRootTNode=null}function Te(){return me.lFrame.lView}function Et(){return me.lFrame.tView}function rt(){let t=mE();for(;t!==null&&t.type===64;)t=t.parent;return t}function mE(){return me.lFrame.currentTNode}function CM(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wu(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function yE(){return me.lFrame.isParent}function bM(){me.lFrame.isParent=!1}function vE(){return pE}function ow(t){pE=t}function TM(t){return me.lFrame.bindingIndex=t}function _E(){return me.lFrame.bindingIndex++}function SM(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function AM(){return me.lFrame.inI18n}function RM(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ef(e)}function MM(){return me.lFrame.currentDirectiveIndex}function Ef(t){me.lFrame.currentDirectiveIndex=t}function NM(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function IE(){return me.lFrame.currentQueryIndex}function lp(t){me.lFrame.currentQueryIndex=t}function xM(t){let e=t[te];return e.type===2?e.declTNode:e.type===1?t[Ht]:null}function wE(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=xM(s),i===null||(s=s[qo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=me.lFrame=EE();return r.currentTNode=e,r.lView=t,!0}function dp(t){let e=EE(),n=t[te];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function EE(){let t=me.lFrame,e=t===null?null:t.child;return e===null?DE(t):e}function DE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function CE(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var bE=CE;function hp(){let t=CE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zo(){return me.lFrame.selectedIndex}function Gr(t){me.lFrame.selectedIndex=t}function TE(){let t=me.lFrame;return lE(t.tView,t.selectedIndex)}function PM(){return me.lFrame.currentNamespace}var SE=!0;function AE(){return SE}function RE(t){SE=t}function OM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=aE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ME(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function pu(t,e,n){NE(t,e,3,n)}function gu(t,e,n,r){(t[G]&3)===n&&NE(t,e,n,r)}function ef(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function NE(t,e,n,r){let i=r!==void 0?t[Yi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Yi]+=65536),(a<s||s==-1)&&(kM(t,n,e,u),t[Yi]=(t[Yi]&4294901760)+u+2),u++}function aw(t,e){Qt(4,t,e);let n=ge(null);try{e.call(t)}finally{ge(n),Qt(5,t,e)}}function kM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[G]>>14<t[Yi]>>16&&(t[G]&3)===e&&(t[G]+=16384,aw(a,s)):aw(a,s)}var Xi=-1,Wr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function FM(t){return t instanceof Wr}function LM(t){return(t.flags&8)!==0}function VM(t){return(t.flags&16)!==0}var tf={},Df=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Bu(r);let i=this.injector.get(e,tf,r);return i!==tf||n===tf?i:this.parentInjector.get(e,n,r)}};function xE(t){return t!==Xi}function Su(t){return t&32767}function jM(t){return t>>16}function Au(t,e){let n=jM(t),r=e;for(;n>0;)r=r[qo],n--;return r}var Cf=!0;function cw(t){let e=Cf;return Cf=t,e}var UM=256,PE=UM-1,OE=5,BM=0,Yt={};function $M(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Po)&&(r=n[Po]),r==null&&(r=n[Po]=BM++);let i=r&PE,s=1<<i;e.data[t+(i>>OE)]|=s}function Ru(t,e){let n=kE(t,e);if(n!==-1)return n;let r=e[te];r.firstCreatePass&&(t.injectorIndex=e.length,nf(r.data,t),nf(e,null),nf(r.blueprint,null));let i=fp(t,e),s=t.injectorIndex;if(xE(i)){let o=Su(i),a=Au(i,e),u=a[te].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function nf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function fp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=UE(i),r===null)return Xi;if(n++,i=i[qo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xi}function bf(t,e,n){$M(t,e,n)}function HM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(qw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function FE(t,e,n){if(n&re.Optional||t!==void 0)return t;ip(e,"NodeInjector")}function LE(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[is],s=Rt(void 0);try{return i?i.get(e,r,n&re.Optional):jw(e,r,n&re.Optional)}finally{Rt(s)}}return FE(r,e,n)}function VE(t,e,n,r=re.Default,i){if(t!==null){if(e[G]&2048&&!(r&re.Self)){let o=WM(t,e,n,r,Yt);if(o!==Yt)return o}let s=jE(t,e,n,r,Yt);if(s!==Yt)return s}return LE(e,n,r,i)}function jE(t,e,n,r,i){let s=zM(n);if(typeof s=="function"){if(!wE(e,t,r))return r&re.Host?FE(i,n,r):LE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&re.Optional))ip(n);else return o}finally{bE()}}else if(typeof s=="number"){let o=null,a=kE(t,e),u=Xi,l=r&re.Host?e[Xt][Ht]:null;for((a===-1||r&re.SkipSelf)&&(u=a===-1?fp(t,e):e[a+8],u===Xi||!lw(r,!1)?a=-1:(o=e[te],a=Su(u),e=Au(u,e)));a!==-1;){let f=e[te];if(uw(s,a,f.data)){let p=qM(a,e,n,o,r,l);if(p!==Yt)return p}u=e[a+8],u!==Xi&&lw(r,e[te].data[a+8]===l)&&uw(s,a,e)?(o=f,a=Su(u),e=Au(u,e)):a=-1}}return i}function qM(t,e,n,r,i,s){let o=e[te],a=o.data[t+8],u=r==null?qu(a)&&Cf:r!=o&&(a.type&3)!==0,l=i&re.Host&&s===a,f=mu(a,o,n,u,l);return f!==null?Kr(e,o,f,a):Yt}function mu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?a:a+f,m=i?a+f:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&cr(v)&&v.type===n)return u}return null}function Kr(t,e,n,r){let i=t[n],s=e.data;if(FM(i)){let o=i;o.resolving&&_R(vR(s[n]));let a=cw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Rt(o.injectImpl):null,f=wE(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&OM(n,s[n],e)}finally{l!==null&&Rt(l),cw(a),o.resolving=!1,bE()}}return i}function zM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Po)?t[Po]:void 0;return typeof e=="number"?e>=0?e&PE:GM:e}function uw(t,e,n){let r=1<<t;return!!(n[e+(t>>OE)]&r)}function lw(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var Ur=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return VE(this._tNode,this._lView,e,Bu(r),n)}};function GM(){return new Ur(rt(),Te())}function ds(t){return $o(()=>{let e=t.prototype.constructor,n=e[_u]||Tf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[_u]||Tf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Tf(t){return Pw(t)?()=>{let e=Tf(ut(t));return e&&e()}:es(t)}function WM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let a=jE(s,o,n,r|re.Self,Yt);if(a!==Yt)return a;let u=s.parent;if(!u){let l=o[nE];if(l){let f=l.get(n,Yt,r);if(f!==Yt)return f}u=UE(o),o=o[qo]}s=u}return i}function UE(t){let e=t[te],n=e.type;return n===2?e.declTNode:n===1?t[Ht]:null}function pp(t){return HM(rt(),t)}function dw(t,e=null,n=null,r){let i=BE(t,e,n,r);return i.resolveInjectorInitializers(),i}function BE(t,e=null,n=null,r,i=new Set){let s=[n||Mt,YR(t)];return r=r||(typeof t=="object"?void 0:ht(t)),new Fo(s,e||cp(),r||null,i)}var Vr=class Vr{static create(e,n){if(Array.isArray(e))return dw({name:""},n,e,"");{let r=e.name??"";return dw({name:r},e.parent,e.providers,r)}}};Vr.THROW_IF_NOT_FOUND=Oo,Vr.NULL=new Eu,Vr.\u0275prov=q({token:Vr,providedIn:"any",factory:()=>se(Bw)}),Vr.__NG_ELEMENT_ID__=-1;var ft=Vr;var KM=new j("");KM.__NG_ELEMENT_ID__=t=>{let e=rt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&re.Optional)return null;throw new B(204,!1)};var QM="ngOriginalError";function rf(t){return t[QM]}var $E=!0,HE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Sf=class extends HE{constructor(e){super(),this._lView=e}onDestroy(e){return fE(this._lView,e),()=>yM(this._lView,e)}};function YM(){return new Sf(Te())}var hs=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Af=class extends He{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,aM()&&(this.destroyRef=k(HE,{optional:!0})??void 0,this.pendingTasks=k(hs,{optional:!0})??void 0)}emit(e){let n=ge(null);try{super.next(e)}finally{ge(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=Af;function Mu(...t){}function qE(t){let e,n;function r(){t=Mu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function hw(t){return queueMicrotask(()=>t()),()=>{t=Mu}}var gp="isAngularZone",Nu=gp+"_ID",ZM=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=$E}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,eN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,JM,Mu,Mu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},JM={};function mp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function XM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){qE(()=>{t.callbackScheduled=!1,Rf(t),t.isCheckStableRunning=!0,mp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Rf(t)}function eN(t){let e=()=>{XM(t)},n=ZM++;t._inner=t._inner.fork({name:"angular",properties:{[gp]:!0,[Nu]:n,[Nu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(tN(u))return r.invokeTask(s,o,a,u);try{return fw(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pw(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return fw(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!nN(u)&&e(),pw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Rf(t),mp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Rf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pw(t){t._nesting--,mp(t)}var Mf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function tN(t){return zE(t,"__ignore_ng_zone__")}function nN(t){return zE(t,"__scheduler_tick__")}function zE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Dn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rf(e);for(;n&&rf(n);)n=rf(n);return n||null}},rN=new j("",{providedIn:"root",factory:()=>{let t=k(we),e=k(Dn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function iN(){return fs(rt(),Te())}function fs(t,e){return new Ot(Pt(t,e))}var Ot=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=iN;let t=e;return t})();function sN(t){return t instanceof Ot?t.nativeElement:t}function oN(){return this._results[Symbol.iterator]()}var Nf=class t{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=oN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=NR(e);(this._changesDetected=!MR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function GE(t){return(t.flags&128)===128}var WE=new Map,aN=0;function cN(){return aN++}function uN(t){WE.set(t[Hu],t)}function xf(t){WE.delete(t[Hu])}var gw="__ngContext__";function os(t,e){or(e)?(t[gw]=e[Hu],uN(e)):t[gw]=e}function KE(t){return YE(t[Lo])}function QE(t){return YE(t[$t])}function YE(t){for(;t!==null&&!An(t);)t=t[$t];return t}var Pf;function ZE(t){Pf=t}function lN(){if(Pf!==void 0)return Pf;if(typeof document<"u")return document;throw new B(210,!1)}var yp=new j("",{providedIn:"root",factory:()=>dN}),dN="ng",vp=new j(""),dr=new j("",{providedIn:"platform",factory:()=>"unknown"});var _p=new j("",{providedIn:"root",factory:()=>lN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hN="h",fN="b";var pN=()=>null;function Ip(t,e,n=!1){return pN(t,e,n)}var JE=!1,gN=new j("",{providedIn:"root",factory:()=>JE});var uu;function mN(){if(uu===void 0&&(uu=null,df.trustedTypes))try{uu=df.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return uu}function mw(t){return mN()?.createScriptURL(t)||t}var xu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xw})`}};function Go(t){return t instanceof xu?t.changingThisBreaksApplicationSecurity:t}function wp(t,e){let n=yN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xw})`)}return n===e}function yN(t){return t instanceof xu&&t.getTypeName()||null}var vN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function XE(t){return t=String(t),t.match(vN)?t:"unsafe:"+t}var Ku=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ku||{});function _N(t){let e=tD();return e?e.sanitize(Ku.URL,t)||"":wp(t,"URL")?Go(t):XE(rp(t))}function IN(t){let e=tD();if(e)return mw(e.sanitize(Ku.RESOURCE_URL,t)||"");if(wp(t,"ResourceURL"))return mw(Go(t));throw new B(904,!1)}function wN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?IN:_N}function eD(t,e,n){return wN(e,n)(t)}function tD(){let t=Te();return t&&t[Jt].sanitizer}function nD(t){return t instanceof Function?t():t}var Cn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Cn||{}),EN;function Ep(t,e){return EN(t,e)}function Zi(t,e,n,r,i){if(r!=null){let s,o=!1;An(r)?s=r:or(r)&&(o=!0,r=r[Sn]);let a=en(r);t===0&&n!==null?i==null?aD(e,n,a):Pu(e,n,a,i||null,!0):t===1&&n!==null?Pu(e,n,a,i||null,!0):t===2?FN(e,a,o):t===3&&e.destroyNode(a),s!=null&&VN(e,t,s,n,i)}}function DN(t,e){return t.createText(e)}function rD(t,e,n){return t.createElement(e,n)}function CN(t,e){iD(t,e),e[Sn]=null,e[Ht]=null}function bN(t,e,n,r,i,s){r[Sn]=i,r[Ht]=e,Qu(t,r,n,1,i,s)}function iD(t,e){e[Jt].changeDetectionScheduler?.notify(9),Qu(t,e,e[tt],2,null,null)}function TN(t){let e=t[Lo];if(!e)return sf(t[te],t);for(;e;){let n=null;if(or(e))n=e[Lo];else{let r=e[wt];r&&(n=r)}if(!n){for(;e&&!e[$t]&&e!==t;)or(e)&&sf(e[te],e),e=e[et];e===null&&(e=t),or(e)&&sf(e[te],e),n=e&&e[$t]}e=n}}function SN(t,e,n,r){let i=wt+r,s=n.length;r>0&&(n[i-1][$t]=e),r<s-wt?(e[$t]=n[i],Uw(n,wt+r,e)):(n.push(e),e[$t]=null),e[et]=n;let o=e[$r];o!==null&&n!==o&&sD(o,e);let a=e[En];a!==null&&a.insertView(t),wf(e),e[G]|=128}function sD(t,e){let n=t[ss],r=e[et];if(or(r))t[G]|=Tu.HasTransplantedViews;else{let i=r[et][Xt];e[Xt]!==i&&(t[G]|=Tu.HasTransplantedViews)}n===null?t[ss]=[e]:n.push(e)}function Dp(t,e){let n=t[ss],r=n.indexOf(e);n.splice(r,1)}function Of(t,e){if(t.length<=wt)return;let n=wt+e,r=t[n];if(r){let i=r[$r];i!==null&&i!==t&&Dp(i,r),e>0&&(t[n-1][$t]=r[$t]);let s=wu(t,wt+e);CN(r[te],r);let o=s[En];o!==null&&o.detachView(s[te]),r[et]=null,r[$t]=null,r[G]&=-129}return r}function oD(t,e){if(!(e[G]&256)){let n=e[tt];n.destroyNode&&Qu(t,e,n,3,null,null),TN(e)}}function sf(t,e){if(e[G]&256)return;let n=ge(null);try{e[G]&=-129,e[G]|=256,e[Nt]&&xh(e[Nt]),RN(t,e),AN(t,e),e[te].type===1&&e[tt].destroy();let r=e[$r];if(r!==null&&An(e[et])){r!==e[et]&&Dp(r,e);let i=e[En];i!==null&&i.detachView(t)}xf(e)}finally{ge(n)}}function AN(t,e){let n=t.cleanup,r=e[Cu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Cu]=null);let i=e[sr];if(i!==null){e[sr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function RN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Qt(4,a,u);try{u.call(a)}finally{Qt(5,a,u)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function MN(t,e,n){return NN(t,e.parent,n)}function NN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Sn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zt.None||s===Zt.Emulated)return null}return Pt(r,n)}}function Pu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function aD(t,e,n){t.appendChild(e,n)}function yw(t,e,n,r,i){r!==null?Pu(t,e,n,r,i):aD(t,e,n)}function cD(t,e){return t.parentNode(e)}function xN(t,e){return t.nextSibling(e)}function PN(t,e,n){return kN(t,e,n)}function ON(t,e,n){return t.type&40?Pt(t,n):null}var kN=ON,vw;function uD(t,e,n,r){let i=MN(t,r,e),s=e[tt],o=r.parent||e[Ht],a=PN(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)yw(s,i,n[u],a,!1);else yw(s,i,n,a,!1);vw!==void 0&&vw(s,r,e,n,i)}function No(t,e){if(e!==null){let n=e.type;if(n&3)return Pt(e,t);if(n&4)return kf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return No(t,r);{let i=t[e.index];return An(i)?kf(-1,i):en(i)}}else{if(n&128)return No(t,e.next);if(n&32)return Ep(e,t)()||en(t[e.index]);{let r=lD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zr(t[Xt]);return No(i,r)}else return No(t,e.next)}}}return null}function lD(t,e){if(e!==null){let r=t[Xt][Ht],i=e.projection;return r.projection[i]}return null}function kf(t,e){let n=wt+t+1;if(n<e.length){let r=e[n],i=r[te].firstChild;if(i!==null)return No(r,i)}return e[qr]}function FN(t,e,n){t.removeChild(null,e,n)}function Cp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&os(en(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Cp(t,e,n.child,r,i,s,!1),Zi(e,t,i,a,s);else if(u&32){let l=Ep(n,r),f;for(;f=l();)Zi(e,t,i,f,s);Zi(e,t,i,a,s)}else u&16?LN(t,e,r,n,i,s):Zi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Qu(t,e,n,r,i,s){Cp(n,r,t.firstChild,e,i,s,!1)}function LN(t,e,n,r,i,s){let o=n[Xt],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Zi(e,t,i,f,s)}else{let l=u,f=o[et];GE(r)&&(l.flags|=128),Cp(t,e,l,f,i,s,!0)}}function VN(t,e,n,r,i){let s=n[qr],o=en(n);s!==o&&Zi(e,t,r,s,i);for(let a=wt;a<n.length;a++){let u=n[a];Qu(u[te],u,t,e,r,s)}}function jN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cn.Important),t.setStyle(n,r,i,s))}}function UN(t,e,n){t.setAttribute(e,"style",n)}function dD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&gf(t,e,r),i!==null&&dD(t,e,i),s!==null&&UN(t,e,s)}var Yu={};function bp(t=1){fD(Et(),Te(),zo()+t,!1)}function fD(t,e,n,r){if(!r)if((e[G]&3)===3){let s=t.preOrderCheckHooks;s!==null&&pu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&gu(e,s,0,n)}Gr(n)}function ne(t,e=re.Default){let n=Te();if(n===null)return se(t,e);let r=rt();return VE(r,n,ut(t),e)}function pD(t,e,n,r,i,s){let o=ge(null);try{let a=null;i&ar.SignalBased&&(a=e[r][vn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ar.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):oE(e,a,r,s)}finally{ge(o)}}function BN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gr(~i);else{let s=i,o=n[++r],a=n[++r];RM(o,s);let u=e[s];a(2,u)}}}finally{Gr(-1)}}function Zu(t,e,n,r,i,s,o,a,u,l,f){let p=e.blueprint.slice();return p[Sn]=i,p[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(p[G]|=2048),dE(p),p[et]=p[qo]=t,p[wn]=n,p[Jt]=o||t&&t[Jt],p[tt]=a||t&&t[tt],p[is]=u||t&&t[is]||null,p[Ht]=s,p[Hu]=cN(),p[Du]=f,p[nE]=l,p[Xt]=e.type==2?t[Xt]:p,p}function Tp(t,e,n,r,i){let s=t.data[e];if(s===null)s=$N(t,e,n,r,i),AM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=CM();s.injectorIndex=o===null?-1:o.injectorIndex}return Wu(s,!0),s}function $N(t,e,n,r,i){let s=mE(),o=yE(),a=o?s:s&&s.parent,u=t.data[e]=YN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function gD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mD(t,e,n,r,i){let s=zo(),o=r&2;try{Gr(-1),o&&e.length>Hr&&fD(t,e,Hr,!1),Qt(o?2:0,i),n(r,i)}finally{Gr(s),Qt(o?3:1,i)}}function yD(t,e,n){if(iE(e)){let r=ge(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{ge(r)}}}function HN(t,e,n){gE()&&(ix(t,e,n,Pt(n,e)),(n.flags&64)===64&&wD(t,e,n))}function qN(t,e,n=Pt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function vD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_D(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _D(t,e,n,r,i,s,o,a,u,l,f){let p=Hr+r,m=p+i,v=zN(p,m),S=typeof l=="function"?l():l;return v[te]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function zN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yu);return n}function GN(t,e,n,r){let s=r.get(gN,JE)||n===Zt.ShadowDom,o=t.selectRootElement(e,s);return WN(o),o}function WN(t){KN(t)}var KN=()=>null;function QN(t,e,n,r){let i=DD(e);i.push(n),t.firstCreatePass&&CD(t).push(r,i.length-1)}function YN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return wM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _w(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=ar.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Iw(r,n,l,a,u):Iw(r,n,l,a)}return r}function Iw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ZN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=_w(0,p.inputs,f,u,v),l=_w(1,p.outputs,f,l,S);let M=u!==null&&o!==null&&!op(e)?gx(u,f,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function JN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function XN(t,e,n,r,i,s,o,a){let u=Pt(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(Ap(t,n,f,r,i),qu(e)&&ex(n,e.index)):e.type&3?(r=JN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function ex(t,e){let n=lr(e,t);n[G]&16||(n[G]|=64)}function tx(t,e,n,r){if(gE()){let i=r===null?null:{"":-1},s=ox(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&ID(t,e,n,o,i,a),i&&ax(n,r,i)}n.mergedAttrs=ko(n.mergedAttrs,n.attrs)}function ID(t,e,n,r,i,s){for(let l=0;l<r.length;l++)bf(Ru(n,e),t,r[l].type);ux(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=gD(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=ko(n.mergedAttrs,f.hostAttrs),lx(t,n,e,u,f),cx(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}ZN(t,n,s)}function nx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;rx(o)!=a&&o.push(a),o.push(n,r,s)}}function rx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ix(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;qu(n)&&dx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ru(n,e),os(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Kr(e,t,a,n);if(os(l,e),o!==null&&px(e,a-i,l,u,n,o),cr(u)){let f=lr(n.index,e);f[wn]=Kr(e,t,a,n)}}}function wD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=MM();try{Gr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Ef(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&sx(u,l)}}finally{Gr(-1),Ef(o)}}function sx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ox(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(BR(e,o.selectors,!1))if(r||(r=[]),cr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Ff(t,e,u)}else r.unshift(o),Ff(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Ff(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ax(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function cx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;cr(e)&&(n[""]=t)}}function ux(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function lx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=es(i.type,!0)),o=new Wr(s,cr(i),ne);t.blueprint[r]=o,n[r]=o,nx(t,e,r,gD(t,n,i.hostVars,Yu),i)}function dx(t,e,n){let r=Pt(e,t),i=vD(n),s=t[Jt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Sp(t,Zu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function hx(t,e,n,r,i,s){let o=Pt(t,e);fx(e[tt],o,s,t.value,n,r,i)}function fx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?rp(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function px(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],f=o[a++],p=o[a++];pD(r,n,u,l,f,p)}}function gx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function mx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ED(t,e){let n=t.contentQueries;if(n!==null){let r=ge(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];lp(s),a.contentQueries(2,e[o],o)}}}finally{ge(r)}}}function Sp(t,e){return t[Lo]?t[rw][$t]=e:t[Lo]=e,t[rw]=e,e}function Lf(t,e,n){lp(0);let r=ge(null);try{e(t,n)}finally{ge(r)}}function DD(t){return t[Cu]??=[]}function CD(t){return t.cleanup??=[]}function bD(t,e){let n=t[is],r=n?n.get(Dn,null):null;r&&r.handleError(e)}function Ap(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],f=t.data[o];pD(f,l,r,a,u,i)}}function yx(t,e){let n=lr(e,t),r=n[te];vx(r,n);let i=n[Sn];i!==null&&n[Du]===null&&(n[Du]=Ip(i,n[is])),Rp(r,n,n[wn])}function vx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Rp(t,e,n){dp(e);try{let r=t.viewQuery;r!==null&&Lf(1,r,n);let i=t.template;i!==null&&mD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[En]?.finishViewCreation(t),t.staticContentQueries&&ED(t,e),t.staticViewQueries&&Lf(2,t.viewQuery,n);let s=t.components;s!==null&&_x(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,hp()}}function _x(t,e){for(let n=0;n<e.length;n++)yx(t,e[n])}function Ix(t,e,n,r){let i=ge(null);try{let s=e.tView,a=t[G]&4096?4096:16,u=Zu(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[$r]=l;let f=t[En];return f!==null&&(u[En]=f.createEmbeddedView(s)),Rp(s,u,n),u}finally{ge(i)}}function ww(t,e){return!e||e.firstChild===null||GE(t)}function wx(t,e,n,r=!0){let i=e[te];if(SN(i,e,t,n),r){let o=kf(n,t),a=e[tt],u=cD(a,t[qr]);u!==null&&bN(i,t[Ht],a,e,u,o)}let s=e[Du];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ou(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(en(s)),An(s)&&Ex(s,r);let o=n.type;if(o&8)Ou(t,e,n.child,r);else if(o&32){let a=Ep(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=lD(e,n);if(Array.isArray(a))r.push(...a);else{let u=zr(e[Xt]);Ou(u[te],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ex(t,e){for(let n=wt;n<t.length;n++){let r=t[n],i=r[te].firstChild;i!==null&&Ou(r[te],r,i,e)}t[qr]!==t[Sn]&&e.push(t[qr])}var TD=[];function Dx(t){return t[Nt]??Cx(t)}function Cx(t){let e=TD.pop()??Object.create(Tx);return e.lView=t,e}function bx(t){t.lView[Nt]!==t&&(t.lView=null,TD.push(t))}var Tx=ae(O({},So),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gu(t.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function Sx(t){let e=t[Nt]??Object.create(Ax);return e.lView=t,e}var Ax=ae(O({},So),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=zr(t.lView);for(;e&&!SD(e[te]);)e=zr(e);e&&hE(e)},consumerOnSignalRead(){this.lView[Nt]=this}});function SD(t){return t.type!==2}var Rx=100;function AD(t,e=!0,n=0){let r=t[Jt],i=r.rendererFactory,s=!1;s||i.begin?.();try{Mx(t,n)}catch(o){throw e&&bD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Mx(t,e){let n=vE();try{ow(!0),Vf(t,e);let r=0;for(;zu(t);){if(r===Rx)throw new B(103,!1);r++,Vf(t,1)}}finally{ow(n)}}function Nx(t,e,n,r){let i=e[G];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Jt].inlineEffectRunner?.flush(),dp(e);let a=!0,u=null,l=null;s||(SD(t)?(l=Dx(e),u=Nc(l)):uI()===null?(a=!1,l=Sx(e),u=Nc(l)):e[Nt]&&(xh(e[Nt]),e[Nt]=null));try{dE(e),TM(t.bindingStartIndex),n!==null&&mD(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let v=t.preOrderCheckHooks;v!==null&&pu(e,v,null)}else{let v=t.preOrderHooks;v!==null&&gu(e,v,0,null),ef(e,0)}if(o||xx(e),RD(e,0),t.contentQueries!==null&&ED(t,e),!s)if(f){let v=t.contentCheckHooks;v!==null&&pu(e,v)}else{let v=t.contentHooks;v!==null&&gu(e,v,1),ef(e,1)}BN(t,e);let p=t.components;p!==null&&ND(e,p,0);let m=t.viewQuery;if(m!==null&&Lf(2,m,r),!s)if(f){let v=t.viewCheckHooks;v!==null&&pu(e,v)}else{let v=t.viewHooks;v!==null&&gu(e,v,2),ef(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xh]){for(let v of e[Xh])v();e[Xh]=null}s||(e[G]&=-73)}catch(f){throw s||Gu(e),f}finally{l!==null&&(Mh(l,u),a&&bx(l)),hp()}}function RD(t,e){for(let n=KE(t);n!==null;n=QE(n))for(let r=wt;r<n.length;r++){let i=n[r];MD(i,e)}}function xx(t){for(let e=KE(t);e!==null;e=QE(e)){if(!(e[G]&Tu.HasTransplantedViews))continue;let n=e[ss];for(let r=0;r<n.length;r++){let i=n[r];hE(i)}}}function Px(t,e,n){let r=lr(e,t);MD(r,n)}function MD(t,e){up(t)&&Vf(t,e)}function Vf(t,e){let r=t[te],i=t[G],s=t[Nt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Nh(s)),o||=!1,s&&(s.dirty=!1),t[G]&=-9217,o)Nx(r,t,r.template,t[wn]);else if(i&8192){RD(t,1);let a=r.components;a!==null&&ND(t,a,1)}}function ND(t,e,n){for(let r=0;r<e.length;r++)Px(t,e[r],n)}function Mp(t,e){let n=vE()?64:1088;for(t[Jt].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=zr(t);if(_f(t)&&!r)return t;t=r}return null}var Qr=class{get rootNodes(){let e=this._lView,n=e[te];return Ou(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(e){this._lView[wn]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(An(e)){let n=e[bu],r=n?n.indexOf(this):-1;r>-1&&(Of(e,r),wu(n,r))}this._attachedToViewContainer=!1}oD(this._lView[te],this._lView)}onDestroy(e){fE(this._lView,e)}markForCheck(){Mp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){wf(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,AD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_f(this._lView),n=this._lView[$r];n!==null&&!e&&Dp(n,this._lView),iD(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=_f(this._lView),r=this._lView[$r];r!==null&&!n&&sD(r,this._lView),wf(this._lView)}},Vo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Fx;let t=e;return t})(),Ox=Vo,kx=class extends Ox{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ix(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Qr(i)}};function Fx(){return Np(rt(),Te())}function Np(t,e){return t.type&4?new kx(e,t,fs(t,e)):null}var P4=new RegExp(`^(\\d+)*(${fN}|${hN})*(.*)`);var Lx=()=>null;function Ew(t,e){return Lx(t,e)}var as=class{},xp=new j("",{providedIn:"root",factory:()=>!1});var xD=new j(""),PD=new j(""),jf=class{},ku=class{};function Vx(t){let e=Error(`No component factory found for ${ht(t)}.`);return e[jx]=t,e}var jx="ngComponent";var Uf=class{resolveComponentFactory(e){throw Vx(e)}},Bp=class Bp{};Bp.NULL=new Uf;var cs=Bp,us=class{},hr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Ux();let t=e;return t})();function Ux(){let t=Te(),e=rt(),n=lr(e.index,t);return(or(n)?n:t)[tt]}var Bx=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Bf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=WI(i,a);else if(s==2){let u=a,l=e[++o];r=WI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Fu=class extends cs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Br(e);return new jo(n,this.ngModule)}};function Dw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:ar.None;e?n.push({propName:o,templateName:r,isSignal:(a&ar.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function $x(t){let e=t.toLowerCase();return e==="svg"?hM:e==="math"?fM:null}var jo=class extends ku{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Dw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Dw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=zR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ge(null);try{i=i||this.ngModule;let o=i instanceof xt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Df(e,o):e,u=a.get(us,null);if(u===null)throw new B(407,!1);let l=a.get(Bx,null),f=a.get(as,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?GN(m,r,this.componentDef.encapsulation,a):rD(m,v,$x(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;S!==null&&(R=Ip(S,a,!0));let F=_D(0,null,null,1,0,null,null,null,null,null,null),U=Zu(null,F,null,M,null,null,p,m,a,null,R);dp(U);let H,oe,Re=null;try{let Y=this.componentDef,D,y=null;Y.findHostDirectiveDefs?(D=[],y=new Map,Y.findHostDirectiveDefs(Y,D,y),D.push(Y)):D=[Y];let _=Hx(U,S);Re=qx(_,S,Y,D,U,p,m),oe=lE(F,Hr),S&&Wx(m,Y,S,r),n!==void 0&&Kx(oe,this.ngContentSelectors,n),H=Gx(Re,Y,D,y,U,[Qx]),Rp(F,U,null)}catch(Y){throw Re!==null&&xf(Re),xf(U),Y}finally{hp()}return new $f(this.componentType,H,fs(oe,U),U,oe)}finally{ge(s)}}},$f=class extends jf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Qr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Ap(s[te],s,i,e,n),this.previousInputValues.set(e,n);let o=lr(this._tNode.index,s);Mp(o,1)}}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Hx(t,e){let n=t[te],r=Hr;return t[r]=e,Tp(n,r,2,"#host",null)}function qx(t,e,n,r,i,s,o){let a=i[te];zx(r,t,e,o);let u=null;e!==null&&(u=Ip(e,i[is]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=Zu(i,vD(n),null,f,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Ff(a,t,r.length-1),Sp(i,p),i[t.index]=p}function zx(t,e,n,r){for(let i of t)e.mergedAttrs=ko(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Bf(e,e.mergedAttrs,!0),n!==null&&hD(r,n,e))}function Gx(t,e,n,r,i,s){let o=rt(),a=i[te],u=Pt(o,i);ID(a,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,m=Kr(i,a,p,o);os(m,i)}wD(a,i,o),u&&os(u,i);let l=Kr(i,a,o.directiveStart+o.componentOffset,o);if(t[wn]=i[wn]=l,s!==null)for(let f of s)f(l,e);return yD(a,o,i),l}function Wx(t,e,n,r){if(r)gf(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:s}=GR(e.selectors[0]);i&&gf(t,n,i),s&&s.length>0&&dD(t,n,s.join(" "))}}function Kx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Qx(){let t=rt();ME(Te()[te],t)}var ps=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Yx;let t=e;return t})();function Yx(){let t=rt();return kD(t,Te())}var Zx=ps,OD=class extends Zx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fs(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){let e=fp(this._hostTNode,this._hostLView);if(xE(e)){let n=Au(e,this._hostLView),r=Su(e),i=n[te].data[r+8];return new Ur(i,n)}else return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Cw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ew(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ww(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!cM(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new jo(Br(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(xt,null);M&&(s=M)}let f=Br(u.componentType??{}),p=Ew(this._lContainer,f?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,ww(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(mM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[et],l=new OD(u,u[Ht],u[et]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return wx(o,i,s,r),e.attachToViewContainerRef(),Uw(of(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Cw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Of(this._lContainer,n);r&&(wu(of(this._lContainer),n),oD(r[te],r))}detach(e){let n=this._adjustIndex(e,-1),r=Of(this._lContainer,n);return r&&wu(of(this._lContainer),n)!=null?new Qr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Cw(t){return t[bu]}function of(t){return t[bu]||(t[bu]=[])}function kD(t,e){let n,r=e[t.index];return An(r)?n=r:(n=mx(r,e,null,t),e[t.index]=n,Sp(e,n)),Xx(n,e,t,r),new OD(n,t,e)}function Jx(t,e){let n=t[tt],r=n.createComment(""),i=Pt(e,t),s=cD(n,i);return Pu(n,s,r,xN(n,i),!1),r}var Xx=eP;function eP(t,e,n,r){if(t[qr])return;let i;n.type&8?i=en(r):i=Jx(e,n),t[qr]=i}var Hf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},qf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Pp(e,n).matches!==null&&this.queries[n].setDirty()}},zf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=cP(e):this.predicate=e}},Gf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Wf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,tP(n,s)),this.matchTNodeWithReadOption(e,n,mu(n,e,s,!1,!1))}else r===Vo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,mu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ot||i===ps||i===Vo&&n.type&4)this.addMatch(n.index,-2);else{let s=mu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function tP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function nP(t,e){return t.type&11?fs(t,e):t.type&4?Np(t,e):null}function rP(t,e,n,r){return n===-1?nP(e,t):n===-2?iP(t,e,r):Kr(t,t[te],n,e)}function iP(t,e,n){if(n===Ot)return fs(e,t);if(n===Vo)return Np(e,t);if(n===ps)return kD(e,t)}function FD(t,e,n,r){let i=e[En].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let f=s[l];a.push(rP(e,f,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Kf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=FD(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],f=e[-u];for(let p=wt;p<f.length;p++){let m=f[p];m[$r]===m[et]&&Kf(m[te],m,l,r)}if(f[ss]!==null){let p=f[ss];for(let m=0;m<p.length;m++){let v=p[m];Kf(v[te],v,l,r)}}}}}return r}function sP(t,e){return t[En].queries[e].queryList}function oP(t,e,n){let r=new Nf((n&4)===4);return QN(t,e,r,r.destroy),(e[En]??=new qf).queries.push(new Hf(r))-1}function aP(t,e,n,r){let i=Et();if(i.firstCreatePass){let s=rt();uP(i,new zf(e,n,r),s.index),lP(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return oP(i,Te(),n)}function cP(t){return t.split(",").map(e=>e.trim())}function uP(t,e,n){t.queries===null&&(t.queries=new Gf),t.queries.track(new Wf(e,n))}function lP(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Pp(t,e){return t.queries.getByIndex(e)}function dP(t,e){let n=t[te],r=Pp(n,e);return r.crossesNgTemplate?Kf(n,t,e,[]):FD(n,t,r,e)}var bw=new Set;function Wo(t){bw.has(t)||(bw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function hP(t){return typeof t=="function"&&t[vn]!==void 0}function Ko(t,e){Wo("NgSignals");let n=II(t),r=n[vn];return e?.equal&&(r.equal=e.equal),n.set=i=>Ph(r,i),n.update=i=>wI(r,i),n.asReadonly=fP.bind(n),n}function fP(){let t=this[vn];if(t.readonlyFn===void 0){let e=()=>this();e[vn]=t,t.readonlyFn=e}return t.readonlyFn}function LD(t){return hP(t)&&typeof t.set=="function"}function pP(t){return Object.getPrototypeOf(t.prototype).constructor}function Mn(t){let e=pP(t.type),n=!0,r=[t];for(;e;){let i;if(cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=lu(t.inputs),o.inputTransforms=lu(t.inputTransforms),o.declaredInputs=lu(t.declaredInputs),o.outputs=lu(t.outputs);let a=i.hostBindings;a&&_P(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&yP(t,u),l&&vP(t,l),gP(t,i),lR(t.outputs,i.outputs),cr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Mn&&(n=!1)}}e=Object.getPrototypeOf(e)}mP(r)}function gP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function mP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ko(i.hostAttrs,n=ko(n,i.hostAttrs))}}function lu(t){return t===ts?{}:t===Mt?[]:t}function yP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function vP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function _P(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Op(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ur=class{},Uo=class{};var Qf=class extends ur{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fu(this);let s=Qw(e);this._bootstrapComponents=nD(s.bootstrap),this._r3Injector=BE(e,n,[{provide:ur,useValue:this},{provide:cs,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yf=class extends Uo{constructor(e){super(),this.moduleType=e}create(e){return new Qf(this.moduleType,e,[])}};var Lu=class extends ur{constructor(e){super(),this.componentFactoryResolver=new Fu(this),this.instance=null;let n=new Fo([...e.providers,{provide:ur,useValue:this},{provide:cs,useValue:this.componentFactoryResolver}],e.parent||cp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kp(t,e,n=null){return new Lu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Fp(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function IP(t){return(t.flags&32)===32}var xo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(xo||{}),wP=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),jr=class jr{constructor(){this.ngZone=k(we),this.scheduler=k(as),this.errorHandler=k(Dn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of jr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};jr.PHASES=[xo.EarlyRead,xo.Write,xo.MixedReadWrite,xo.Read],jr.\u0275prov=q({token:jr,providedIn:"root",factory:()=>new jr});var Tw=jr;function Qo(t,e,n,r){let i=Te(),s=_E();if(Fp(i,s,e)){let o=Et(),a=TE();hx(a,i,t,e,n,r)}return Qo}function du(t,e){return t<<17|e<<2}function Yr(t){return t>>17&32767}function EP(t){return(t&2)==2}function DP(t,e){return t&131071|e<<17}function Zf(t){return t|2}function ls(t){return(t&131068)>>2}function af(t,e){return t&-131069|e<<2}function CP(t){return(t&1)===1}function Jf(t){return t|1}function bP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Yr(o),u=ls(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Ho(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=Yr(t[a+1]);t[r+1]=du(m,a),m!==0&&(t[m+1]=af(t[m+1],r)),t[a+1]=DP(t[a+1],r)}else t[r+1]=du(a,0),a!==0&&(t[a+1]=af(t[a+1],r)),a=r;else t[r+1]=du(u,0),a===0?a=r:t[u+1]=af(t[u+1],r),u=r;l&&(t[r+1]=Zf(t[r+1])),Sw(t,f,r,!0),Sw(t,f,r,!1),TP(e,f,t,r,s),o=du(a,u),s?e.classBindings=o:e.styleBindings=o}function TP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ho(s,e)>=0&&(n[r+1]=Jf(n[r+1]))}function Sw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Yr(i):ls(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];SP(u,e)&&(a=!0,t[o+1]=r?Jf(l):Zf(l)),o=r?Yr(l):ls(l)}a&&(t[n+1]=r?Zf(i):Jf(i))}function SP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ho(t,e)>=0:!1}function Aw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Ap(t,n,s[o],o,r)}function Ju(t,e){return AP(t,e,null,!0),Ju}function AP(t,e,n,r){let i=Te(),s=Et(),o=SM(2);if(s.firstUpdatePass&&MP(s,t,o,r),e!==Yu&&Fp(i,o,e)){let a=s.data[zo()];kP(s,a,i,i[tt],t,i[o+1]=FP(e,n),r,o)}}function RP(t,e){return e>=t.expandoStartIndex}function MP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[zo()],o=RP(t,n);LP(s,r)&&e===null&&!o&&(e=!1),e=NP(i,s,e,r),bP(i,s,e,n,o,r)}}function NP(t,e,n,r){let i=NM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cf(null,t,e,n,r),n=Bo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=cf(i,t,e,n,r),s===null){let u=xP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=cf(null,t,e,u[1],r),u=Bo(u,e.attrs,r),PP(t,e,r,u))}else s=OP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function xP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ls(r)!==0)return t[Yr(r)]}function PP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yr(i)]=r}function OP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Bo(r,o,n)}return Bo(r,e.attrs,n)}function cf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Bo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Bo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),PR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function kP(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=CP(l)?Rw(u,e,n,i,ls(l),o):void 0;if(!Vu(f)){Vu(s)||EP(l)&&(s=Rw(u,null,n,i,a,o));let p=pM(zo(),n);jN(r,o,p,i,s)}}function Rw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===Yu&&(m=p?Mt:void 0);let v=p?Zh(m,r):f===r?m:void 0;if(l&&!Vu(v)&&(v=Zh(u,r)),Vu(v)&&(a=v,o))return a;let S=t[i+1];i=o?Yr(S):ls(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Zh(u,r))}return a}function Vu(t){return t!==void 0}function FP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ht(Go(t)))),t}function LP(t,e){return(t.flags&(e?8:16))!==0}function VP(t,e,n,r,i,s){let o=e.consts,a=sw(o,i),u=Tp(e,t,2,r,a);return tx(e,n,u,sw(o,s)),u.attrs!==null&&Bf(u,u.attrs,!1),u.mergedAttrs!==null&&Bf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function ie(t,e,n,r){let i=Te(),s=Et(),o=Hr+t,a=i[tt],u=s.firstCreatePass?VP(o,s,i,e,n,r):s.data[o],l=jP(s,i,u,a,e,t);i[o]=l;let f=sE(u);return Wu(u,!0),hD(a,l,u),!IP(u)&&AE()&&uD(s,i,l,u),vM()===0&&os(l,i),_M(),f&&(HN(s,i,u),yD(s,u,i)),r!==null&&qN(i,u),ie}function le(){let t=rt();yE()?bM():(t=t.parent,Wu(t,!1));let e=t;EM(e)&&DM(),IM();let n=Et();return n.firstCreatePass&&(ME(n,t),iE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&LM(e)&&Aw(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&VM(e)&&Aw(n,e,Te(),e.stylesWithoutHost,!1),le}function lt(t,e,n,r){return ie(t,e,n,r),le(),lt}var jP=(t,e,n,r,i,s)=>(RE(!0),rD(r,i,PM()));var ju="en-US";var UP=ju;function BP(t){typeof t=="string"&&(UP=t.toLowerCase().replace(/_/g,"-"))}var $P=(t,e,n)=>{};function fr(t,e,n,r){let i=Te(),s=Et(),o=rt();return VD(s,i,i[tt],o,t,e,r),fr}function HP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Cu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function VD(t,e,n,r,i,s,o){let a=sE(r),l=t.firstCreatePass&&CD(t),f=e[wn],p=DD(e),m=!0;if(r.type&3||o){let M=Pt(r,e),R=o?o(M):M,F=p.length,U=o?oe=>o(en(oe[r.index])):r.index,H=null;if(!o&&a&&(H=HP(t,e,i,r.index)),H!==null){let oe=H.__ngLastListenerFn__||H;oe.__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,m=!1}else{s=Nw(r,e,f,s),$P(M,i,s);let oe=n.listen(R,i,s);p.push(s,oe),l&&l.push(i,U,F,F+1)}}else s=Nw(r,e,f,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let M=S.length;if(M)for(let R=0;R<M;R+=2){let F=S[R],U=S[R+1],Re=e[F][U].subscribe(s),Y=p.length;p.push(s,Re),l&&l.push(i,r.index,Y,-(Y+1))}}}function Mw(t,e,n,r){let i=ge(null);try{return Qt(6,e,n),n(r)!==!1}catch(s){return bD(t,s),!1}finally{Qt(7,e,n),ge(i)}}function Nw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?lr(t.index,e):e;Mp(o,5);let a=Mw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=Mw(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function jD(t,e,n,r){aP(t,e,n,r)}function UD(t){let e=Te(),n=Et(),r=IE();lp(r+1);let i=Pp(n,r);if(t.dirty&&gM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=dP(e,r);t.reset(s,sN),t.notifyOnChanges()}return!0}return!1}function BD(){return sP(Te(),IE())}function ye(t,e=""){let n=Te(),r=Et(),i=t+Hr,s=r.firstCreatePass?Tp(r,i,1,e,null):r.data[i],o=qP(r,n,s,e,t);n[i]=o,AE()&&uD(r,n,o,s),Wu(s,!1)}var qP=(t,e,n,r,i)=>(RE(!0),DN(e[tt],r));function Xu(t,e,n){LD(e)&&(e=e());let r=Te(),i=_E();if(Fp(r,i,e)){let s=Et(),o=TE();XN(s,o,r,t,e,r[tt],n,!1)}return Xu}function Lp(t,e){let n=LD(t);return n&&t.set(e),n}function el(t,e){let n=Te(),r=Et(),i=rt();return VD(r,n,n[tt],i,t,e),el}function zP(t,e,n){let r=Et();if(r.firstCreatePass){let i=cr(t);Xf(n,r.data,r.blueprint,i,!0),Xf(e,r.data,r.blueprint,i,!1)}}function Xf(t,e,n,r,i){if(t=ut(t),Array.isArray(t))for(let s=0;s<t.length;s++)Xf(t[s],e,n,r,i);else{let s=Et(),o=Te(),a=rt(),u=rs(t)?t:ut(t.provide),l=tE(t),f=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(rs(t)||!t.multi){let v=new Wr(l,i,ne),S=lf(u,e,i?f:f+m,p);S===-1?(bf(Ru(a,o),s,u),uf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=lf(u,e,f+m,p),S=lf(u,e,f,f+m),M=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!M){bf(Ru(a,o),s,u);let F=KP(i?WP:GP,n.length,i,r,l);!i&&R&&(n[S].providerFactory=F),uf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=$D(n[i?S:v],l,!i&&r);uf(s,t,v>-1?v:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function uf(t,e,n,r){let i=rs(e),s=eM(e);if(i||s){let u=(s?ut(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function $D(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function GP(t,e,n,r){return ep(this.multi,[])}function WP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Kr(n,n[te],this.providerFactory.index,r);s=a.slice(0,o),ep(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],ep(i,s);return s}function ep(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function KP(t,e,n,r,i){let s=new Wr(t,n,ne);return s.multi=[],s.index=e,s.componentProviders=0,$D(s,i,r&&!n),s}function Yo(t,e=[]){return n=>{n.providersResolver=(r,i)=>zP(r,i?i(t):t,e)}}var QP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Jw(!1,r.type),s=i.length>0?kp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(se(xt))});let t=e;return t})();function mt(t){Wo("NgStandalone"),t.getStandaloneInjector=e=>e.get(QP).getOrCreateStandaloneInjector(t)}var bn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},HD=new bn("18.2.4");var tl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var qD=new j("");function ei(t){return!!t&&typeof t.then=="function"}function zD(t){return!!t&&typeof t.subscribe=="function"}var GD=new j(""),WD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(GD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ei(o))r.push(o);else if(zD(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vp=new j("");function YP(){_I(()=>{throw new B(600,!1)})}function ZP(t){return t.isBoundToModule}var JP=10;function XP(t,e,n){try{let r=n();return ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ti=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(rN),this.afterRenderManager=k(wP),this.zonelessEnabled=k(xp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new He,this.afterTick=new He,this.componentTypes=[],this.components=[],this.isStable=k(hs).hasPendingTasks.pipe(ee(r=>!r)),this._injector=k(xt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ku;if(!this._injector.get(WD).done){let v=!s&&Kw(r),S=!1;throw new B(405,S)}let a;s?a=r:a=this._injector.get(cs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=ZP(a)?void 0:this._injector.get(ur),l=i||a.selector,f=a.create(ft.NULL,[],l,u),p=f.location.nativeElement,m=f.injector.get(qD,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),yu(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let r=ge(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ge(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(us,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<JP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)eO(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>zu(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;yu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Vp,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>yu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eO(t,e,n,r){if(!n&&!zu(t))return;AD(t,e,n&&!r?0:1)}var tp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},jp=(()=>{let e=class e{compileModuleSync(r){return new Yf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Qw(r),o=nD(s.declarations).reduce((a,u)=>{let l=Br(u);return l&&a.push(new jo(l)),a},[]);return new tp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tO=(()=>{let e=class e{constructor(){this.zone=k(we),this.changeDetectionScheduler=k(as),this.applicationRef=k(ti)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nO=new j("",{factory:()=>!1});function KD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(ae(O({},YD()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:ns,multi:!0,useFactory:()=>{let r=k(tO,{optional:!0});return()=>r.initialize()}},{provide:ns,multi:!0,useFactory:()=>{let r=k(rO);return()=>{r.initialize()}}},e===!0?{provide:xD,useValue:!0}:[],{provide:PD,useValue:n??$E}]}function QD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=KD({ngZoneFactory:()=>{let i=YD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Wo("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return tn([{provide:nO,useValue:!0},{provide:xp,useValue:!1},r])}function YD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var rO=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(hs)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var iO=(()=>{let e=class e{constructor(){this.appRef=k(ti),this.taskService=k(hs),this.ngZone=k(we),this.zonelessEnabled=k(xp),this.disableScheduling=k(xD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(PD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Mf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?hw:qE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sO(){return typeof $localize<"u"&&$localize.locale||ju}var Up=new j("",{providedIn:"root",factory:()=>k(Up,re.Optional|re.SkipSelf)||sO()});var ZD=new j("");function hu(t){return!!t.platformInjector}function oO(t){let e=hu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{hu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Dn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),hu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(ZD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{yu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return XP(r,n,()=>{let s=e.get(WD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Up,ju);if(BP(o||ju),hu(t)){let a=e.get(ti);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return aO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function aO(t,e){let n=t.injector.get(ti);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var vu=null;function cO(t=[],e){return ft.create({name:e,providers:[{provide:$u,useValue:"platform"},{provide:ZD,useValue:new Set([()=>vu=null])},...t]})}function uO(t=[]){if(vu)return vu;let e=cO(t);return vu=e,YP(),lO(e),e}function lO(t){t.get(vp,null)?.forEach(n=>n())}var pr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dO;let t=e;return t})();function dO(t){return hO(rt(),Te(),(t&16)===16)}function hO(t,e,n){if(qu(t)&&!n){let r=lr(t.index,e);return new Qr(r,r)}else if(t.type&175){let r=e[Xt];return new Qr(r,e)}return null}function JD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=uO(r),s=[KD({}),{provide:as,useExisting:iO},...n||[]],o=new Lu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return oO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var XD=new j("");function gr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Zo(t,e){Wo("NgSignals");let n=mI(t);return e?.equal&&(n[vn].equal=e.equal),n}function Nn(t){let e=ge(null);try{return t()}finally{ge(e)}}var nC=null;function xn(){return nC}function rC(t){nC??=t}var nl=class{};var Dt=new j(""),iC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(fO),providedIn:"platform"});let t=e;return t})();var fO=(()=>{let e=class e extends iC{constructor(){super(),this._doc=k(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(r){let i=xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function sC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function eC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ni(t){return t&&t[0]!=="?"?"?"+t:t}var gs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(oC),providedIn:"root"});let t=e;return t})(),pO=new j(""),oC=(()=>{let e=class e extends gs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return sC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ni(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ni(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ni(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(se(iC),se(pO,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jo=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=yO(eC(tC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ni(i))}normalize(r){return e.stripTrailingSlash(mO(this._basePath,tC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ni(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ni(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ni,e.joinWithSlash=sC,e.stripTrailingSlash=eC,e.\u0275fac=function(i){return new(i||e)(se(gs))},e.\u0275prov=q({token:e,factory:()=>gO(),providedIn:"root"});let t=e;return t})();function gO(){return new Jo(se(gs))}function mO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function tC(t){return t.replace(/\/index.html$/,"")}function yO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function aC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Xo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Jr({});let t=e;return t})(),cC="browser",vO="server";function $p(t){return t===vO}var rl=class{};var zp=class extends nl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gp=class t extends zp{static makeCurrent(){rC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=IO();return n==null?null:wO(n)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return aC(document.cookie,e)}},ea=null;function IO(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}function wO(t){return new URL(t,document.baseURI).pathname}var EO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),il=new j(""),hC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(se(il),se(we))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),ta=class{constructor(e){this._doc=e}},Hp="ng-app-id",fC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$p(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Hp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Hp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Hp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(se(Dt),se(yp),se(_p,8),se(dr))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),qp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Kp=/%COMP%/g,pC="%COMP%",DO=`_nghost-${pC}`,CO=`_ngcontent-${pC}`,bO=!0,TO=new j("",{providedIn:"root",factory:()=>bO});function SO(t){return CO.replace(Kp,t)}function AO(t){return DO.replace(Kp,t)}function gC(t,e){return e.map(n=>n.replace(Kp,t))}var uC=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=$p(u),this.defaultRenderer=new na(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zt.ShadowDom&&(i=ae(O({},i),{encapsulation:Zt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof sl?s.applyToHost(r):s instanceof ra&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Zt.Emulated:o=new sl(l,f,i,this.appId,p,a,u,m);break;case Zt.ShadowDom:return new Wp(l,f,r,i,a,u,this.nonce,m);default:o=new ra(l,f,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(se(hC),se(fC),se(yp),se(TO),se(Dt),se(dr),se(we),se(_p))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),na=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(qp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=qp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=qp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=xn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function lC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wp=class extends na{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=gC(i.id,i.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ra=class extends na{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?gC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sl=class extends ra{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=SO(l),this.hostAttr=AO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},RO=(()=>{let e=class e extends ta{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(se(Dt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),MO=(()=>{let e=class e extends ta{constructor(r){super(r),this.delegate=k(XD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(se(Dt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),dC=["alt","control","meta","shift"],NO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},PO=(()=>{let e=class e extends ta{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),dC.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),a+=f+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=NO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),dC.forEach(a=>{if(a!==s){let u=xO[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(se(Dt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function mC(t,e){return JD(O({rootComponent:t},OO(e)))}function OO(t){return{appProviders:[...jO,...t?.providers??[]],platformProviders:VO}}function kO(){Gp.makeCurrent()}function FO(){return new Dn}function LO(){return ZE(document),document}var VO=[{provide:dr,useValue:cC},{provide:vp,useValue:kO,multi:!0},{provide:Dt,useFactory:LO,deps:[]}];var jO=[{provide:$u,useValue:"root"},{provide:Dn,useFactory:FO,deps:[]},{provide:il,useClass:RO,multi:!0,deps:[Dt,we,dr]},{provide:il,useClass:PO,multi:!0,deps:[Dt]},{provide:il,useClass:MO,multi:!0},uC,fC,hC,{provide:us,useExisting:uC},{provide:rl,useClass:EO,deps:[]},[]];var yC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(se(Dt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var X="primary",_a=Symbol("RouteTitle"),Xp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ws(t){return new Xp(t)}function BO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $O(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nn(t[n],e[n]))return!1;return!0}function nn(t,e){let n=t?eg(t):void 0,r=e?eg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!bC(t[i],e[i]))return!1;return!0}function eg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function bC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function TC(t){return t.length>0?t[t.length-1]:null}function mr(t){return Gh(t)?t:ei(t)?Ae(Promise.resolve(t)):K(t)}var HO={exact:AC,subset:RC},SC={exact:qO,subset:zO,ignored:()=>!0};function vC(t,e,n){return HO[n.paths](t.root,e.root,n.matrixParams)&&SC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function qO(t,e){return nn(t,e)}function AC(t,e,n){if(!ii(t.segments,e.segments)||!cl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!AC(t.children[r],e.children[r],n))return!1;return!0}function zO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bC(t[n],e[n]))}function RC(t,e,n){return MC(t,e,e.segments,n)}function MC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ii(i,n)||e.hasChildren()||!cl(i,n,r))}else if(t.segments.length===n.length){if(!ii(t.segments,n)||!cl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!RC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ii(t.segments,i)||!cl(t.segments,i,r)||!t.children[X]?!1:MC(t.children[X],e,s,r)}}function cl(t,e,n){return e.every((r,i)=>SC[n](t[i].parameters,r.parameters))}var On=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ws(this.queryParams),this._queryParamMap}toString(){return KO.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ul(this)}},ri=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ws(this.parameters),this._parameterMap}toString(){return xC(this)}};function GO(t,e){return ii(t,e)&&t.every((n,r)=>nn(n.parameters,e[r].parameters))}function ii(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function WO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var Tg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new la,providedIn:"root"});let t=e;return t})(),la=class{parse(e){let n=new ng(e);return new On(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ia(e.root,!0)}`,r=ZO(e.queryParams),i=typeof e.fragment=="string"?`#${QO(e.fragment)}`:"";return`${n}${r}${i}`}},KO=new la;function ul(t){return t.segments.map(e=>xC(e)).join("/")}function ia(t,e){if(!t.hasChildren())return ul(t);if(e){let n=t.children[X]?ia(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==X&&r.push(`${i}:${ia(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=WO(t,(r,i)=>i===X?[ia(t.children[X],!1)]:[`${i}:${ia(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${ul(t)}/${n[0]}`:`${ul(t)}/(${n.join("//")})`}}function NC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ol(t){return NC(t).replace(/%3B/gi,";")}function QO(t){return encodeURI(t)}function tg(t){return NC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ll(t){return decodeURIComponent(t)}function _C(t){return ll(t.replace(/\+/g,"%20"))}function xC(t){return`${tg(t.path)}${YO(t.parameters)}`}function YO(t){return Object.entries(t).map(([e,n])=>`;${tg(e)}=${tg(n)}`).join("")}function ZO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ol(n)}=${ol(i)}`).join("&"):`${ol(n)}=${ol(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var JO=/^[^\/()?;#]+/;function Qp(t){let e=t.match(JO);return e?e[0]:""}var XO=/^[^\/()?;=#]+/;function ek(t){let e=t.match(XO);return e?e[0]:""}var tk=/^[^=?&#]+/;function nk(t){let e=t.match(tk);return e?e[0]:""}var rk=/^[^&#]+/;function ik(t){let e=t.match(rk);return e?e[0]:""}var ng=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new Ie(e,n)),r}parseSegment(){let e=Qp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new ri(ll(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ek(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Qp(this.remaining);i&&(r=i,this.capture(r))}e[ll(n)]=ll(r)}parseQueryParam(e){let n=nk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ik(this.remaining);o&&(r=o,this.capture(r))}let i=_C(n),s=_C(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=X);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[X]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function PC(t){return t.segments.length>0?new Ie([],{[X]:t}):t}function OC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=OC(i);if(r===X&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return sk(n)}function sk(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new Ie(t.segments.concat(e.segments),e.children)}return t}function si(t){return t instanceof On}function ok(t,e,n=null,r=null){let i=kC(t);return FC(i,e,n,r)}function kC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=PC(r);return e??i}function FC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Yp(i,i,i,n,r);let s=ak(e);if(s.toRoot())return Yp(i,i,new Ie([],{}),n,r);let o=ck(s,i,t),a=o.processChildren?aa(o.segmentGroup,o.index,s.commands):VC(o.segmentGroup,o.index,s.commands);return Yp(i,o.segmentGroup,a,n,r)}function dl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function da(t){return typeof t=="object"&&t!=null&&t.outlets}function Yp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=LC(t,e,n);let a=PC(OC(o));return new On(a,s,i)}function LC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=LC(s,e,n)}),new Ie(t.segments,r)}var hl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dl(r[0]))throw new B(4003,!1);let i=r.find(da);if(i&&i!==TC(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ak(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new hl(n,e,r)}var vs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ck(t,e,n){if(t.isAbsolute)return new vs(e,!0,0);if(!n)return new vs(e,!1,NaN);if(n.parent===null)return new vs(n,!0,0);let r=dl(t.commands[0])?0:1,i=n.segments.length-1+r;return uk(n,i,t.numberOfDoubleDots)}function uk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new vs(r,!1,i-s)}function lk(t){return da(t[0])?t[0].outlets:{[X]:t}}function VC(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return aa(t,e,n);let r=dk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[X]=new Ie(t.segments.slice(r.pathIndex),t.children),aa(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?rg(t,e,n):r.match?aa(t,0,i):rg(t,e,n)}function aa(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=lk(n),i={};if(Object.keys(r).some(s=>s!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let s=aa(t.children[X],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=VC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function dk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(da(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!wC(u,l,o))return s;r+=2}else{if(!wC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function rg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(da(s)){let u=hk(s.outlets);return new Ie(r,u)}if(i===0&&dl(n[0])){let u=t.segments[e];r.push(new ri(u.path,IC(n[0]))),i++;continue}let o=da(s)?s.outlets[X]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&dl(a)?(r.push(new ri(o,IC(a))),i+=2):(r.push(new ri(o,{})),i++)}return new Ie(r,{})}function hk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=rg(new Ie([],{}),0,r))}),e}function IC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wC(t,e,n){return t==n.path&&nn(e,n.parameters)}var ca="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),kt=class{constructor(e,n){this.id=e,this.url=n}},ha=class extends kt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends kt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(bt||{}),ig=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ig||{}),Pn=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},oi=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},fa=class extends kt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fl=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class extends kt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ag=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lg=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dg=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hg=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pg=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pa=class{},Es=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function fk(t,e){return t.providers&&!t._injector&&(t._injector=kp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zt(t){return t.outlet||X}function pk(t,e){let n=t.filter(r=>zt(r)===e);return n.push(...t.filter(r=>zt(r)!==e)),n}function Ia(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gg=class{get injector(){return Ia(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new wl(this.rootInjector),this.attachRef=null}},wl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new gg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(se(xt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=mg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=mg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=yg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yg(e,this._root).map(n=>n.value)}};function mg(t,e){if(t===e.value)return e;for(let n of e.children){let r=mg(t,n);if(r)return r}return null}function yg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=yg(t,n);if(r.length)return r.unshift(e),r}return[]}var Ct=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ys(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gl=class extends pl{constructor(e,n){super(e),this.snapshot=n,Sg(this,e)}toString(){return this.snapshot.toString()}};function jC(t){let e=gk(t),n=new We([new ri("",{})]),r=new We({}),i=new We({}),s=new We({}),o=new We(""),a=new ai(n,r,s,o,i,X,t,e.root);return a.snapshot=e.root,new gl(new Ct(a,[]),e)}function gk(t){let e={},n={},r={},i="",s=new _s([],e,r,i,n,X,t,null,{});return new yl("",new Ct(s,[]))}var ai=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[_a]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>ws(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>ws(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ml(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&BC(i)&&(r.resolve[_a]=i.title),r}var _s=class{get title(){return this.data?.[_a]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ws(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ws(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yl=class extends pl{constructor(e,n){super(n),this.url=e,Sg(this,n)}toString(){return UC(this._root)}};function Sg(t,e){e.value._routerState=t,e.children.forEach(n=>Sg(t,n))}function UC(t){let e=t.children.length>0?` { ${t.children.map(UC).join(", ")} } `:"";return`${t.value}${e}`}function Zp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),nn(e.params,n.params)||t.paramsSubject.next(n.params),$O(e.url,n.url)||t.urlSubject.next(n.url),nn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vg(t,e){let n=nn(t.params,e.params)&&GO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||vg(t.parent,e.parent))}function BC(t){return typeof t.title=="string"||t.title===null}var Ag=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=X,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=k(wl),this.location=k(ps),this.changeDetector=k(pr),this.inputBinder=k(Rg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new _g(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rn]});let t=e;return t})(),_g=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ai?this.route:e===wl?this.childContexts:this.parent.get(e,n)}},Rg=new j("");function mk(t,e,n){let r=ga(t,e._root,n?n._root:void 0);return new gl(r,e)}function ga(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=yk(t,e,n);return new Ct(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ga(t,a)),o}}let r=vk(e.value),i=e.children.map(s=>ga(t,s));return new Ct(r,i)}}function yk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ga(t,r,i);return ga(t,r)})}function vk(t){return new ai(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var ma=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},$C="ngNavigationCancelingError";function vl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=si(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HC(!1,bt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$C]=!0,n.cancellationCode=e,n}function _k(t){return qC(t)&&si(t.url)}function qC(t){return!!t&&t[$C]}var Ik=(t,e,n,r)=>ee(i=>(new Ig(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ig=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ys(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ys(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ys(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ys(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new pg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Zp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zp(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},_l=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Is=class{constructor(e,n){this.component=e,this.route=n}};function wk(t,e,n){let r=t._root,i=e?e._root:null;return sa(r,i,n,[r.value])}function Ek(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Cs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Ow(t)?t:e.get(t):r}function sa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ys(e);return t.children.forEach(o=>{Dk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ua(a,n.getContext(o),i)),i}function Dk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Ck(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _l(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?sa(t,e,a?a.children:null,r,i):sa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Is(a.outlet.component,o))}else o&&ua(e,a,i),i.canActivateChecks.push(new _l(r)),s.component?sa(t,null,a?a.children:null,r,i):sa(t,null,n,r,i);return i}function Ck(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ii(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ii(t.url,e.url)||!nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vg(t,e)||!nn(t.queryParams,e.queryParams);case"paramsChange":default:return!vg(t,e)}}function ua(t,e,n){let r=ys(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ua(o,e.children.getContext(s),n):ua(o,null,n):ua(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Is(e.outlet.component,i)):n.canDeactivateChecks.push(new Is(null,i)):n.canDeactivateChecks.push(new Is(null,i))}function wa(t){return typeof t=="function"}function bk(t){return typeof t=="boolean"}function Tk(t){return t&&wa(t.canLoad)}function Sk(t){return t&&wa(t.canActivate)}function Ak(t){return t&&wa(t.canActivateChild)}function Rk(t){return t&&wa(t.canDeactivate)}function Mk(t){return t&&wa(t.canMatch)}function zC(t){return t instanceof _n||t?.name==="EmptyError"}var al=Symbol("INITIAL_VALUE");function Ds(){return Ut(t=>ru(t.map(e=>e.pipe(In(1),au(al)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===al)return al;if(n===!1||Nk(n))return n}return!0}),At(e=>e!==al),In(1)))}function Nk(t){return si(t)||t instanceof ma}function xk(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?K(ae(O({},n),{guardsResult:!0})):Pk(o,r,i,t).pipe(je(a=>a&&bk(a)?Ok(r,s,t,e):K(a)),ee(a=>ae(O({},n),{guardsResult:a})))})}function Pk(t,e,n,r){return Ae(t).pipe(je(i=>jk(i.component,i.route,n,e,r)),Kt(i=>i!==!0,!0))}function Ok(t,e,n,r){return Ae(e).pipe(Wi(i=>Gi(Fk(i.route.parent,r),kk(i.route,r),Vk(t,i.path,n),Lk(t,i.route,n))),Kt(i=>i!==!0,!0))}function kk(t,e){return t!==null&&e&&e(new fg(t)),K(!0)}function Fk(t,e){return t!==null&&e&&e(new dg(t)),K(!0)}function Lk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(s=>iu(()=>{let o=Ia(e)??n,a=Cs(s,o),u=Sk(a)?a.canActivate(e,t):Tn(o,()=>a(e,t));return mr(u).pipe(Kt())}));return K(i).pipe(Ds())}function Vk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Ek(o)).filter(o=>o!==null).map(o=>iu(()=>{let a=o.guards.map(u=>{let l=Ia(o.node)??n,f=Cs(u,l),p=Ak(f)?f.canActivateChild(r,t):Tn(l,()=>f(r,t));return mr(p).pipe(Kt())});return K(a).pipe(Ds())}));return K(s).pipe(Ds())}function jk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(a=>{let u=Ia(e)??i,l=Cs(a,u),f=Rk(l)?l.canDeactivate(t,e,n,r):Tn(u,()=>l(t,e,n,r));return mr(f).pipe(Kt())});return K(o).pipe(Ds())}function Uk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(o=>{let a=Cs(o,t),u=Tk(a)?a.canLoad(e,n):Tn(t,()=>a(e,n));return mr(u)});return K(s).pipe(Ds(),GC(r))}function GC(t){return Vc(Ue(e=>{if(typeof e!="boolean")throw vl(t,e)}),ee(e=>e===!0))}function Bk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(o=>{let a=Cs(o,t),u=Mk(a)?a.canMatch(e,n):Tn(t,()=>a(e,n));return mr(u)});return K(s).pipe(Ds(),GC(r))}var ya=class{constructor(e){this.segmentGroup=e||null}},va=class extends Error{constructor(e){super(),this.urlTree=e}};function ms(t){return qi(new ya(t))}function $k(t){return qi(new B(4e3,!1))}function Hk(t){return qi(HC(!1,bt.GuardRejected))}var wg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[X])return $k(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,params:v,data:S,title:M}=i,R=Tn(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,title:M}));if(R instanceof On)throw new va(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new va(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new On(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Eg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qk(t,e,n,r,i){let s=WC(t,e,n);return s.matched?(r=fk(e,r),Bk(r,e,n,i).pipe(ee(o=>o===!0?s:O({},Eg)))):K(s)}function WC(t,e,n){if(e.path==="**")return zk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Eg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||BO)(n,t,e);if(!i)return O({},Eg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function zk(t){return{matched:!0,parameters:t.length>0?TC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function EC(t,e,n,r){return n.length>0&&Kk(t,n,r)?{segmentGroup:new Ie(e,Wk(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&Qk(t,n,r)?{segmentGroup:new Ie(t.segments,Gk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function Gk(t,e,n,r){let i={};for(let s of n)if(El(t,e,s)&&!r[zt(s)]){let o=new Ie([],{});i[zt(s)]=o}return O(O({},r),i)}function Wk(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&zt(r)!==X){let i=new Ie([],{});n[zt(r)]=i}return n}function Kk(t,e,n){return n.some(r=>El(t,e,r)&&zt(r)!==X)}function Qk(t,e,n){return n.some(r=>El(t,e,r))}function El(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Yk(t,e,n){return e.length===0&&!t.children[n]}var Dg=class{};function Zk(t,e,n,r,i,s,o="emptyOnly"){return new Cg(t,e,n,r,i,o,s).recognize()}var Jk=31,Cg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new wg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=EC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:n,rootSnapshot:r})=>{let i=new Ct(r,n),s=new yl("",i),o=ok(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new _s([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,n).pipe(ee(r=>({children:r,rootSnapshot:n})),nr(r=>{if(r instanceof va)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ya?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ee(o=>o instanceof Ct?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(Wi(o=>{let a=r.children[o],u=pk(n,o);return this.processSegmentGroup(e,u,a,o,i)}),ou((o,a)=>(o.push(...a),o)),rr(null),Qh(),je(o=>{if(o===null)return ms(r);let a=KC(o);return Xk(a),K(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(Wi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(nr(l=>{if(l instanceof ya)return K(null);throw l}))),Kt(u=>!!u),nr(u=>{if(zC(u))return Yk(r,i,s)?K(new Dg):ms(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return zt(r)!==o&&(o===X||!El(i,s,r))?ms(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):ms(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=WC(n,i,s);if(!u)return ms(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Jk&&(this.allowRedirects=!1));let v=new _s(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,DC(i),zt(i),i.component??i._loadedComponent??null,i,CC(i)),S=ml(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(je(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=qk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ut(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new _s(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,DC(r),zt(r),r.component??r._loadedComponent??null,r,CC(r)),M=ml(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=EC(n,m,v,l);if(F.length===0&&R.hasChildren())return this.processChildren(f,l,R,S).pipe(ee(H=>new Ct(S,H)));if(l.length===0&&F.length===0)return K(new Ct(S,[]));let U=zt(r)===s;return this.processSegment(f,l,R,F,U?X:s,!0,S).pipe(ee(H=>new Ct(S,H instanceof Ct?[H]:[])))}))):ms(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):Uk(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Hk(n))):K({routes:[],injector:e})}};function Xk(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function e1(t){let e=t.value.routeConfig;return e&&e.path===""}function KC(t){let e=[],n=new Set;for(let r of t){if(!e1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=KC(r.children);e.push(new Ct(r.value,i))}return e.filter(r=>!n.has(r))}function DC(t){return t.data||{}}function CC(t){return t.resolve||{}}function t1(t,e,n,r,i,s){return je(o=>Zk(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:a,tree:u})=>ae(O({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function n1(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of QC(u))o.add(l);let a=0;return Ae(o).pipe(Wi(u=>s.has(u)?r1(u,r,t,e):(u.data=ml(u,u.parent,t).resolve,K(void 0))),Ue(()=>a++),Ki(1),je(u=>a===o.size?K(n):It))})}function QC(t){let e=t.children.map(n=>QC(n)).flat();return[t,...e]}function r1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!BC(i)&&(s[_a]=i.title),i1(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=ml(t,t.parent,n).resolve,null)))}function i1(t,e,n,r){let i=eg(t);if(i.length===0)return K({});let s={};return Ae(i).pipe(je(o=>s1(t[o],e,n,r).pipe(Kt(),Ue(a=>{if(a instanceof ma)throw vl(new la,a);s[o]=a}))),Ki(1),Kh(s),nr(o=>zC(o)?It:qi(o)))}function s1(t,e,n,r){let i=Ia(e)??r,s=Cs(t,i),o=s.resolve?s.resolve(e,n):Tn(i,()=>s(e,n));return mr(o)}function Jp(t){return Ut(e=>{let n=t(e);return n?Ae(n).pipe(ee(()=>e)):K(e)})}var YC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===X);return i}getResolvedTitleForRoute(r){return r.data[_a]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(o1),providedIn:"root"});let t=e;return t})(),o1=(()=>{let e=class e extends YC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(se(yC))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mg=new j("",{providedIn:"root",factory:()=>({})}),a1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],standalone:!0,features:[mt],decls:1,vars:0,template:function(i,s){i&1&&lt(0,"router-outlet")},dependencies:[Ag],encapsulation:2});let t=e;return t})();function Ng(t){let e=t.children&&t.children.map(Ng),n=e?ae(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=a1),n}var xg=new j(""),c1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(jp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=mr(r.loadComponent()).pipe(ee(ZC),Ue(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Mo(()=>{this.componentLoaders.delete(r)})),s=new Ui(i,()=>new He).pipe(ji());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=u1(i,this.compiler,r,this.onLoadEndListener).pipe(Mo(()=>{this.childrenLoaders.delete(i)})),a=new Ui(o,()=>new He).pipe(ji());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u1(t,e,n,r){return mr(t.loadChildren()).pipe(ee(ZC),je(i=>i instanceof Uo||Array.isArray(i)?K(i):Ae(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(xg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ng),injector:s}}))}function l1(t){return t&&typeof t=="object"&&"default"in t}function ZC(t){return l1(t)?t.default:t}var Pg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(d1),providedIn:"root"});let t=e;return t})(),d1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h1=new j("");var f1=new j(""),p1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=k(c1),this.environmentInjector=k(xt),this.urlSerializer=k(Tg),this.rootContexts=k(wl),this.location=k(Jo),this.inputBindingEnabled=k(Rg,{optional:!0})!==null,this.titleStrategy=k(YC),this.options=k(Mg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Pg),this.createViewTransition=k(h1,{optional:!0}),this.navigationErrorHandler=k(f1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ug(s)),i=s=>this.events.next(new lg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ae(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new We({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ca,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),ee(o=>ae(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ut(o=>{let a=!1,u=!1;return K(o).pipe(Ut(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",bt.SupersededByNewNavigation),It;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ae(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let m="";return this.events.next(new oi(l.id,this.urlSerializer.serialize(l.rawUrl),m,ig.IgnoredSameUrlNavigation)),l.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return K(l).pipe(Ut(m=>{let v=this.transitions?.getValue();return this.events.next(new ha(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?It:Promise.resolve(m)}),t1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ae(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new fl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:M,extras:R}=l,F=new ha(m,this.urlSerializer.serialize(v),S,M);this.events.next(F);let U=jC(this.rootComponentType).snapshot;return this.currentTransition=o=ae(O({},l),{targetSnapshot:U,urlAfterRedirects:v,extras:ae(O({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,K(o)}else{let m="";return this.events.next(new oi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,ig.IgnoredByUrlHandlingStrategy)),l.resolve(!1),It}}),Ue(l=>{let f=new sg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ee(l=>(this.currentTransition=o=ae(O({},l),{guards:wk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),xk(this.environmentInjector,l=>this.events.next(l)),Ue(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw vl(this.urlSerializer,l.guardsResult);let f=new og(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),At(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",bt.GuardRejected),!1)),Jp(l=>{if(l.guards.canActivateChecks.length)return K(l).pipe(Ue(f=>{let p=new ag(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Ut(f=>{let p=!1;return K(f).pipe(n1(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",bt.NoDataFromResolver)}}))}),Ue(f=>{let p=new cg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Jp(l=>{let f=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ue(v=>{p.component=v}),ee(()=>{})));for(let v of p.children)m.push(...f(v));return m};return ru(f(l.targetSnapshot.root)).pipe(rr(null),In(1))}),Jp(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Ae(p).pipe(ee(()=>o)):K(o)}),ee(l=>{let f=mk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ae(O({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Ue(()=>{this.events.next(new pa)}),Ik(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),In(1),Ue({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Yh(this.transitionAbortSubject.pipe(Ue(l=>{throw l}))),Mo(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",bt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(l=>{if(u=!0,qC(l))this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),_k(l)?this.events.next(new Es(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new fa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=Tn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(p instanceof ma){let{message:m,cancellationCode:v}=vl(this.urlSerializer,p);this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new Es(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(f);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return It}))}))}cancelNavigationTransition(r,i,s){let o=new Pn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function g1(t){return t!==ca}var m1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(y1),providedIn:"root"});let t=e;return t})(),bg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},y1=(()=>{let e=class e extends bg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ds(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(v1),providedIn:"root"});let t=e;return t})(),v1=(()=>{let e=class e extends JC{constructor(){super(...arguments),this.location=k(Jo),this.urlSerializer=k(Tg),this.options=k(Mg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Pg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new On,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ha)this.stateMemento=this.createStateMemento();else if(r instanceof oi)this.rawUrlTree=i.initialUrl;else if(r instanceof fl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof pa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Pn&&(r.code===bt.GuardRejected||r.code===bt.NoDataFromResolver)?this.restoreHistory(i):r instanceof fa?this.restoreHistory(i,!0):r instanceof kn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof On?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ds(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(oa||{});function _1(t,e){t.events.pipe(At(n=>n instanceof kn||n instanceof Pn||n instanceof fa||n instanceof oi),ee(n=>n instanceof kn||n instanceof oi?oa.COMPLETE:(n instanceof Pn?n.code===bt.Redirect||n.code===bt.SupersededByNewNavigation:!1)?oa.REDIRECTING:oa.FAILED),At(n=>n!==oa.REDIRECTING),In(1)).subscribe(()=>{e()})}function I1(t){throw t}var w1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(tl),this.stateManager=k(JC),this.options=k(Mg,{optional:!0})||{},this.pendingTasks=k(hs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(p1),this.urlSerializer=k(Tg),this.location=k(Jo),this.urlHandlingStrategy=k(Pg),this._events=new He,this.errorHandler=this.options.errorHandler||I1,this.navigated=!1,this.routeReuseStrategy=k(m1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(xg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Rg,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Pn&&i.code!==bt.Redirect&&i.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof kn)this.navigated=!0;else if(i instanceof Es){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||g1(s.source)},a);this.scheduleNavigation(u,ca,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}C1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ca,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ng),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=kC(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return FC(m,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=si(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ca,null,i)}navigate(r,i={skipLocationChange:!1}){return D1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},w1):i===!1?s=O({},E1):s=i,si(r))return vC(this.currentUrlTree,r,s);let o=this.parseUrl(r);return vC(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,f;a?(u=a.resolve,l=a.reject,f=a.promise):f=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return _1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function D1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function C1(t){return!(t instanceof pa)&&!(t instanceof Es)}var Il=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new He,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof kn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(si(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:eD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:si(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ne(rn),ne(ai),pp("tabindex"),ne(hr),ne(Ot),ne(gs))},e.\u0275dir=nt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&fr("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Qo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gr],replaceUrl:[2,"replaceUrl","replaceUrl",gr],routerLink:"routerLink"},standalone:!0,features:[Op,Rn]});let t=e;return t})(),XC=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof kn&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(zi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ae(r).pipe(zi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=b1(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(ne(rn),ne(Ot),ne(hr),ne(pr),ne(Il,8))},e.\u0275dir=nt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&jD(o,Il,5),i&2){let a;UD(a=BD())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Rn]});let t=e;return t})();function b1(t){return!!t.paths}var T1=new j("");function eb(t,...e){return tn([{provide:xg,multi:!0,useValue:t},[],{provide:ai,useFactory:S1,deps:[rn]},{provide:Vp,multi:!0,useFactory:A1},e.map(n=>n.\u0275providers)])}function S1(t){return t.routerState.root}function A1(){let t=k(ft);return e=>{let n=t.get(ti);if(e!==n.components[0])return;let r=t.get(rn),i=t.get(R1);t.get(M1)===1&&r.initialNavigation(),t.get(N1,null,re.Optional)?.setUpPreloading(),t.get(T1,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var R1=new j("",{factory:()=>new He}),M1=new j("",{providedIn:"root",factory:()=>1});var N1=new j("");var ub=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ne(hr),ne(Ot))},e.\u0275dir=nt({type:e});let t=e;return t})(),x1=(()=>{let e=class e extends ub{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ds(e)))(s||e)}})(),e.\u0275dir=nt({type:e,features:[Mn]});let t=e;return t})(),lb=new j("");var P1={provide:lb,useExisting:Zr(()=>Ml),multi:!0};function O1(){let t=xn()?xn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var k1=new j(""),Ml=(()=>{let e=class e extends ub{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!O1())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ne(hr),ne(Ot),ne(k1,8))},e.\u0275dir=nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&fr("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Yo([P1]),Mn]});let t=e;return t})();function F1(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Fg=new j(""),db=new j("");function L1(t){return F1(t.value)?{required:!0}:null}function tb(t){return null}function hb(t){return t!=null}function fb(t){return ei(t)?Ae(t):t}function pb(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function gb(t,e){return e.map(n=>n(t))}function V1(t){return!t.validate}function mb(t){return t.map(e=>V1(e)?e:n=>e.validate(n))}function j1(t){if(!t)return null;let e=t.filter(hb);return e.length==0?null:function(n){return pb(gb(n,e))}}function Lg(t){return t!=null?j1(mb(t)):null}function U1(t){if(!t)return null;let e=t.filter(hb);return e.length==0?null:function(n){let r=gb(n,e).map(fb);return Wh(r).pipe(ee(pb))}}function Vg(t){return t!=null?U1(mb(t)):null}function nb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function B1(t){return t._rawValidators}function $1(t){return t._rawAsyncValidators}function kg(t){return t?Array.isArray(t)?t:[t]:[]}function Cl(t,e){return Array.isArray(t)?t.includes(e):t===e}function rb(t,e){let n=kg(e);return kg(t).forEach(i=>{Cl(n,i)||n.push(i)}),n}function ib(t,e){return kg(e).filter(n=>!Cl(t,n))}var bl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ss=class extends bl{get formDirective(){return null}get path(){return null}},Sa=class extends bl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},H1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},v9=ae(O({},H1),{"[class.ng-submitted]":"isSubmitted"}),yb=(()=>{let e=class e extends Tl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Sa,2))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ju("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Mn]});let t=e;return t})(),vb=(()=>{let e=class e extends Tl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Ss,10))},e.\u0275dir=nt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Ju("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Mn]});let t=e;return t})();var Ea="VALID",Dl="INVALID",bs="PENDING",Da="DISABLED",As=class{},Sl=class extends As{constructor(e,n){super(),this.value=e,this.source=n}},ba=class extends As{constructor(e,n){super(),this.pristine=e,this.source=n}},Ta=class extends As{constructor(e,n){super(),this.touched=e,this.source=n}},Ts=class extends As{constructor(e,n){super(),this.status=e,this.source=n}};function _b(t){return(Nl(t)?t.validators:t)||null}function q1(t){return Array.isArray(t)?Lg(t):t||null}function Ib(t,e){return(Nl(e)?e.asyncValidators:t)||null}function z1(t){return Array.isArray(t)?Vg(t):t||null}function Nl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function G1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function W1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Al=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Zo(()=>this.statusReactive()),this.statusReactive=Ko(void 0),this._pristine=Zo(()=>this.pristineReactive()),this.pristineReactive=Ko(!0),this._touched=Zo(()=>this.touchedReactive()),this.touchedReactive=Ko(!1),this._events=new He,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Nn(this.statusReactive)}set status(e){Nn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ea}get invalid(){return this.status===Dl}get pending(){return this.status==bs}get disabled(){return this.status===Da}get enabled(){return this.status!==Da}get pristine(){return Nn(this.pristineReactive)}set pristine(e){Nn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Nn(this.touchedReactive)}set touched(e){Nn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ib(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ib(e,this._rawAsyncValidators))}hasValidator(e){return Cl(this._rawValidators,e)}hasAsyncValidator(e){return Cl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ta(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ta(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ba(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ba(!0,r))}markAsPending(e={}){this.status=bs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ts(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Da,this.errors=null,this._forEachChild(i=>{i.disable(ae(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sl(this.value,r)),this._events.next(new Ts(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ea,this._forEachChild(r=>{r.enable(ae(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ea||this.status===bs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sl(this.value,n)),this._events.next(new Ts(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Da:Ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=fb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ts(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Da:this.errors?Dl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(Dl)?Dl:Ea}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ba(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ta(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=q1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=z1(this._rawAsyncValidators)}},Rl=class extends Al{constructor(e,n,r){super(_b(n),Ib(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){W1(this,!0,e),Object.keys(e).forEach(r=>{G1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var jg=new j("CallSetDisabledState",{providedIn:"root",factory:()=>Ug}),Ug="always";function K1(t,e){return[...e.path,t]}function wb(t,e,n=Ug){Eb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Y1(t,e),J1(t,e),Z1(t,e),Q1(t,e)}function sb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Q1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Eb(t,e){let n=B1(t);e.validator!==null?t.setValidators(nb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=$1(t);e.asyncValidator!==null?t.setAsyncValidators(nb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();sb(e._rawValidators,i),sb(e._rawAsyncValidators,i)}function Y1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Db(t,e)})}function Z1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Db(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Db(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function J1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function X1(t,e){t==null,Eb(t,e)}function eF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function tF(t){return Object.getPrototypeOf(t.constructor)===x1}function nF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function rF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Ml?n=s:tF(s)?r=s:i=s}),i||r||n||null}var iF={provide:Ss,useExisting:Zr(()=>Bg)},Ca=Promise.resolve(),Bg=(()=>{let e=class e extends Ss{get submitted(){return Nn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Zo(()=>this.submittedReactive()),this.submittedReactive=Ko(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new Rl({},Lg(r),Vg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ca.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),wb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ca.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ca.then(()=>{let i=this._findContainer(r.path),s=new Rl({});X1(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ca.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ca.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),nF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(ne(Fg,10),ne(db,10),ne(jg,8))},e.\u0275dir=nt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&fr("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yo([iF]),Mn]});let t=e;return t})();function ob(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ab(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sF=class extends Al{constructor(e=null,n,r){super(_b(n),Ib(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ab(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ob(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ob(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ab(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var oF={provide:Sa,useExisting:Zr(()=>$g)},cb=Promise.resolve(),$g=(()=>{let e=class e extends Sa{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new sF,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=rF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),eF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){cb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&gr(i);cb.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?K1(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ne(Ss,9),ne(Fg,10),ne(db,10),ne(lb,10),ne(pr,8),ne(jg,8))},e.\u0275dir=nt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Yo([oF]),Mn,Rn]});let t=e;return t})(),Cb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var aF=(()=>{let e=class e{constructor(){this._validator=tb}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):tb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,features:[Rn]});let t=e;return t})();var cF={provide:Fg,useExisting:Zr(()=>Hg),multi:!0};var Hg=(()=>{let e=class e extends aF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gr,this.createValidator=r=>L1}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ds(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Qo("required",s._enabled?"":null)},inputs:{required:"required"},features:[Yo([cF]),Mn]});let t=e;return t})();var uF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Jr({});let t=e;return t})();var xl=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:jg,useValue:r.callSetDisabledState??Ug}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Jr({imports:[uF]});let t=e;return t})();var Tb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[f],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new zg;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hF=function(t){let e=Tb(t);return Sb.encodeByteArray(e,!0)},Aa=function(t){return hF(t).replace(/\./g,"")},Wg=function(t){try{return Sb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pF=()=>fF().__FIREBASE_DEFAULTS__,gF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Wg(t[1]);return e&&JSON.parse(e)},Ol=()=>{try{return pF()||gF()||mF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kg=t=>{var e,n;return(n=(e=Ol())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ab=t=>{let e=Kg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qg=()=>{var t;return(t=Ol())===null||t===void 0?void 0:t.config},Yg=t=>{var e;return(e=Ol())===null||e===void 0?void 0:e[`_${t}`]};var Pl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Rb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Aa(JSON.stringify(n)),Aa(JSON.stringify(o)),""].join(".")}function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function yF(){var t;let e=(t=Ol())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pb(){let t=qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ob(){return!yF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zg(){try{return typeof indexedDB=="object"}catch{return!1}}function kb(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var vF="FirebaseError",Tt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}},Fn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_F(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Tt(i,a,r)}};function _F(t,e){return t.replace(IF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IF=/\{\$([^}]+)}/g;function Fb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ci(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(bb(s)&&bb(o)){if(!ci(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function bb(t){return t!==null&&typeof t=="object"}function Ra(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lb(t,e){let n=new Gg(t,e);return n.subscribe.bind(n)}var Gg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qg),i.error===void 0&&(i.error=qg),i.complete===void 0&&(i.complete=qg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qg(){}var w9=4*60*60*1e3;function yt(t){return t&&t._delegate?t._delegate:t}var Ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ui="[DEFAULT]";var Jg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Pl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DF(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function EF(t){return t===ui?void 0:t}function DF(t){return t.instantiationMode==="EAGER"}var kl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Jg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var CF=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),bF={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},TF=de.INFO,SF={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},AF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=SF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yr=class{constructor(e){this.name=e,this._logLevel=TF,this._logHandler=AF,this._userLogHandler=null,CF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var RF=(t,e)=>e.some(n=>t instanceof n),Vb,jb;function MF(){return Vb||(Vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NF(){return jb||(jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ub=new WeakMap,em=new WeakMap,Bb=new WeakMap,Xg=new WeakMap,nm=new WeakMap;function xF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(sn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ub.set(n,t)}).catch(()=>{}),nm.set(e,t),e}function PF(t){if(em.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});em.set(t,e)}var tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $b(t){tm=t(tm)}function OF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Fl(this),e,...n);return Bb.set(r,e.sort?e.sort():[e]),sn(r)}:NF().includes(t)?function(...e){return t.apply(Fl(this),e),sn(Ub.get(this))}:function(...e){return sn(t.apply(Fl(this),e))}}function kF(t){return typeof t=="function"?OF(t):(t instanceof IDBTransaction&&PF(t),RF(t,MF())?new Proxy(t,tm):t)}function sn(t){if(t instanceof IDBRequest)return xF(t);if(Xg.has(t))return Xg.get(t);let e=kF(t);return e!==t&&(Xg.set(t,e),nm.set(e,t)),e}var Fl=t=>nm.get(t);function qb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=sn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(sn(o.result),u.oldVersion,u.newVersion,sn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var FF=["get","getKey","getAll","getAllKeys","count"],LF=["put","add","delete","clear"],rm=new Map;function Hb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=LF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FF.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return rm.set(e,s),s}$b(t=>ae(O({},t),{get:(e,n,r)=>Hb(e,n)||t.get(e,n,r),has:(e,n)=>!!Hb(e,n)||t.has(e,n)}));var sm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function VF(t){let e=t.getComponent();return e?.type==="VERSION"}var om="@firebase/app",zb="0.10.10";var Ln=new yr("@firebase/app"),jF="@firebase/app-compat",UF="@firebase/analytics-compat",BF="@firebase/analytics",$F="@firebase/app-check-compat",HF="@firebase/app-check",qF="@firebase/auth",zF="@firebase/auth-compat",GF="@firebase/database",WF="@firebase/database-compat",KF="@firebase/functions",QF="@firebase/functions-compat",YF="@firebase/installations",ZF="@firebase/installations-compat",JF="@firebase/messaging",XF="@firebase/messaging-compat",eL="@firebase/performance",tL="@firebase/performance-compat",nL="@firebase/remote-config",rL="@firebase/remote-config-compat",iL="@firebase/storage",sL="@firebase/storage-compat",oL="@firebase/firestore",aL="@firebase/vertexai-preview",cL="@firebase/firestore-compat",uL="firebase",lL="10.13.1";var am="[DEFAULT]",dL={[om]:"fire-core",[jF]:"fire-core-compat",[BF]:"fire-analytics",[UF]:"fire-analytics-compat",[HF]:"fire-app-check",[$F]:"fire-app-check-compat",[qF]:"fire-auth",[zF]:"fire-auth-compat",[GF]:"fire-rtdb",[WF]:"fire-rtdb-compat",[KF]:"fire-fn",[QF]:"fire-fn-compat",[YF]:"fire-iid",[ZF]:"fire-iid-compat",[JF]:"fire-fcm",[XF]:"fire-fcm-compat",[eL]:"fire-perf",[tL]:"fire-perf-compat",[nL]:"fire-rc",[rL]:"fire-rc-compat",[iL]:"fire-gcs",[sL]:"fire-gcs-compat",[oL]:"fire-fst",[cL]:"fire-fst-compat",[aL]:"fire-vertex","fire-js":"fire-js",[uL]:"fire-js-all"};var Ma=new Map,hL=new Map,cm=new Map;function Gb(t,e){try{t.container.addComponent(e)}catch(n){Ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _r(t){let e=t.name;if(cm.has(e))return Ln.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,t);for(let n of Ma.values())Gb(n,t);for(let n of hL.values())Gb(n,t);return!0}function xa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t.settings!==void 0}var fL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Fn("app","Firebase",fL);var um=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}};var Ir=lL;function hm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:am,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vr.create("bad-app-name",{appName:String(i)});if(n||(n=Qg()),!n)throw vr.create("no-options");let s=Ma.get(i);if(s){if(ci(n,s.options)&&ci(r,s.config))return s;throw vr.create("duplicate-app",{appName:i})}let o=new kl(i);for(let u of cm.values())o.addComponent(u);let a=new um(n,r,o);return Ma.set(i,a),a}function Rs(t=am){let e=Ma.get(t);if(!e&&t===am&&Qg())return hm();if(!e)throw vr.create("no-app",{appName:t});return e}function Ll(){return Array.from(Ma.values())}function Be(t,e,n){var r;let i=(r=dL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ln.warn(a.join(" "));return}_r(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var pL="firebase-heartbeat-database",gL=1,Na="firebase-heartbeat-store",im=null;function Yb(){return im||(im=qb(pL,gL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Na)}catch(n){console.warn(n)}}}}).catch(t=>{throw vr.create("idb-open",{originalErrorMessage:t.message})})),im}function mL(t){return w(this,null,function*(){try{let n=(yield Yb()).transaction(Na),r=yield n.objectStore(Na).get(Zb(t));return yield n.done,r}catch(e){if(e instanceof Tt)Ln.warn(e.message);else{let n=vr.create("idb-get",{originalErrorMessage:e?.message});Ln.warn(n.message)}}})}function Wb(t,e){return w(this,null,function*(){try{let r=(yield Yb()).transaction(Na,"readwrite");yield r.objectStore(Na).put(e,Zb(t)),yield r.done}catch(n){if(n instanceof Tt)Ln.warn(n.message);else{let r=vr.create("idb-set",{originalErrorMessage:n?.message});Ln.warn(r.message)}}})}function Zb(t){return`${t.name}!${t.options.appId}`}var yL=1024,vL=30*24*60*60*1e3,lm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new dm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=vL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ln.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Kb(),{heartbeatsToSend:r,unsentEntries:i}=_L(this._heartbeatsCache.heartbeats),s=Aa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ln.warn(n),""}})}};function Kb(){return new Date().toISOString().substring(0,10)}function _L(t,e=yL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Qb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var dm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Zg()?kb().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield mL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Wb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Wb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Qb(t){return Aa(JSON.stringify({version:2,heartbeats:t})).length}function IL(t){_r(new Ft("platform-logger",e=>new sm(e),"PRIVATE")),_r(new Ft("heartbeat",e=>new lm(e),"PRIVATE")),Be(om,zb,t),Be(om,zb,"esm2017"),Be("fire-js","")}IL("");var wL="firebase",EL="10.13.1";Be(wL,EL,"app");var di=new bn("ANGULARFIRE2_VERSION");function jl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Pa=(t,e)=>{let n=e?[e]:Ll(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ns=class{constructor(){return Pa(DL)}},DL="app-check";function Ms(){}var Vl=class{zone;delegate;constructor(e,n=qh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},fm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Vl(Zone.current)),this.insideAngular=n.run(()=>new Vl(Zone.current,Hh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(se(we))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ul(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function CL(t){return Ul().ngZone.runOutsideAngular(()=>t())}function li(t){return Ul().ngZone.run(()=>t())}function bL(t){return TL(Ul())(t)}function TL(t){return function(n){return n=n.lift(new fm(t.ngZone)),n.pipe(tr(t.outsideAngular),er(t.insideAngular))}}var SL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),li(()=>t.apply(void 0,r))},Vn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms))),r[s]=SL(r[s],n));let i=CL(()=>t.apply(this,r));if(!e)if(i instanceof ce){let s=Ul();return i.pipe(tr(s.outsideAngular),er(s.insideAngular))}else return li(()=>i);return i instanceof ce?i.pipe(bL):i instanceof Promise?li(()=>new Promise((s,o)=>i.then(a=>li(()=>s(a)),a=>li(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:li(()=>i)};var jn=class{constructor(e){return e}},hi=class{constructor(){return Ll()}};function AL(t){return t&&t.length===1?t[0]:new jn(Rs())}var pm=new j("angularfire2._apps"),RL={provide:jn,useFactory:AL,deps:[[new pt,pm]]},ML={provide:hi,deps:[[new pt,pm]]};function NL(t){return(e,n)=>{let r=n.get(dr);Be("angularfire",di.full,"core"),Be("angularfire",di.full,"app"),Be("angular",HD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new jn(i)}}function Jb(t,...e){return tn([RL,ML,{provide:pm,useFactory:NL(t),multi:!0,deps:[we,ft,xs,...e]}])}var Xb=Vn(hm,!0);function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yT=mT,vT=new Fn("auth","Firebase",mT());var Gl=new yr("@firebase/auth");function xL(t,...e){Gl.logLevel<=de.WARN&&Gl.warn(`Auth (${Ir}): ${t}`,...e)}function $l(t,...e){Gl.logLevel<=de.ERROR&&Gl.error(`Auth (${Ir}): ${t}`,...e)}function Dr(t,...e){throw Fm(t,...e)}function fi(t,...e){return Fm(t,...e)}function _T(t,e,n){let r=Object.assign(Object.assign({},yT()),{[e]:n});return new Fn("auth","Firebase",r).create(e,{appName:t.name})}function Er(t){return _T(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vT.create(t,...e)}function W(t,e,...n){if(!t)throw Fm(e,...n)}function Un(t){let e="INTERNAL ASSERTION FAILED: "+t;throw $l(e),new Error(e)}function Cr(t,e){t||Un(e)}function vm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PL(){return eT()==="http:"||eT()==="https:"}function eT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PL()||Nb()||"connection"in navigator)?navigator.onLine:!0}function kL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var pi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=Mb()||xb()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Lm(t,e){Cr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Wl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var FL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var LL=new pi(3e4,6e4);function ja(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function mi(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return IT(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Ra(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Wl.fetch()(ET(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function IT(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},FL),e);try{let i=new _m(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Bl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Bl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Bl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _T(t,f,l);Dr(t,f)}}catch(i){if(i instanceof Tt)throw i;Dr(t,"network-request-failed",{message:String(i)})}})}function wT(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield mi(t,e,n,r,i);return"mfaPendingCredential"in l&&Dr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function ET(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Lm(t.config,i):`${t.config.apiScheme}://${i}`}function VL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var _m=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),LL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Bl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=fi(t,e,r);return i.customData._tokenResponse=n,i}function tT(t){return t!==void 0&&t.enterprise!==void 0}var Im=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function jL(t,e){return w(this,null,function*(){return mi(t,"GET","/v2/recaptchaConfig",ja(t,e))})}function UL(t,e){return w(this,null,function*(){return mi(t,"POST","/v1/accounts:delete",e)})}function DT(t,e){return w(this,null,function*(){return mi(t,"POST","/v1/accounts:lookup",e)})}function Oa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Vm(t,e=!1){return w(this,null,function*(){let n=yt(t),r=yield n.getIdToken(e),i=jm(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Oa(gm(i.auth_time)),issuedAtTime:Oa(gm(i.iat)),expirationTime:Oa(gm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function gm(t){return Number(t)*1e3}function jm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $l("JWT malformed, contained fewer than 3 sections"),null;try{let i=Wg(n);return i?JSON.parse(i):($l("Failed to decode base64 JWT payload"),null)}catch(i){return $l("Caught error parsing JWT payload as JSON",i?.toString()),null}}function nT(t){let e=jm(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fa(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Tt&&BL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function BL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var wm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var La=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Kl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Fa(t,DT(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?CT(s.providerUserInfo):[],a=$L(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new La(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Um(t){return w(this,null,function*(){let e=yt(t);yield Kl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $L(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CT(t){return t.map(e=>{var{providerId:n}=e,r=zh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function HL(t,e){return w(this,null,function*(){let n=yield IT(t,{},()=>w(this,null,function*(){let r=Ra({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ET(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function qL(t,e){return w(this,null,function*(){return mi(t,"POST","/v2/accounts:revokeToken",ja(t,e))})}var ka=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=nT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield HL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Un("not implemented")}};function wr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ps=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new La(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Fa(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Vm(this,e)}reload(){return Um(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Kl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(on(this.auth.app))return Promise.reject(Er(this.auth));let e=yield this.getIdToken();return yield Fa(this,UL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:H,emailVerified:oe,isAnonymous:Re,providerData:Y,stsTokenManager:D}=n;W(H&&D,e,"internal-error");let y=ka.fromJSON(this.name,D);W(typeof H=="string",e,"internal-error"),wr(p,e.name),wr(m,e.name),W(typeof oe=="boolean",e,"internal-error"),W(typeof Re=="boolean",e,"internal-error"),wr(v,e.name),wr(S,e.name),wr(M,e.name),wr(R,e.name),wr(F,e.name),wr(U,e.name);let _=new t({uid:H,auth:e,email:m,emailVerified:oe,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:F,lastLoginAt:U});return Y&&Array.isArray(Y)&&(_.providerData=Y.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new ka;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Kl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?CT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ka;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new La(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var rT=new Map;function Bn(t){Cr(t instanceof Function,"Expected a class definition");let e=rT.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rT.set(t,e),e)}var zL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Em=zL;function Hl(t,e,n){return`firebase:${t}:${e}:${n}`}var Ql=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Hl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Bn(Em),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Bn(Em),o=Hl(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=Ps._fromJSON(e,f);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function iT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(NT(e))return"Webos";if(TT(e))return"Safari";if((e.includes("chrome/")||ST(e))&&!e.includes("edge/"))return"Chrome";if(RT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function bT(t=qe()){return/firefox\//i.test(t)}function TT(t=qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ST(t=qe()){return/crios\//i.test(t)}function AT(t=qe()){return/iemobile/i.test(t)}function RT(t=qe()){return/android/i.test(t)}function MT(t=qe()){return/blackberry/i.test(t)}function NT(t=qe()){return/webos/i.test(t)}function Bm(t=qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GL(t=qe()){var e;return Bm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WL(){return Pb()&&document.documentMode===10}function xT(t=qe()){return Bm(t)||RT(t)||NT(t)||MT(t)||/windows phone/i.test(t)||AT(t)}function PT(t,e=[]){let n;switch(t){case"Browser":n=iT(qe());break;case"Worker":n=`${iT(qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ir}/${r}`}var Dm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function KL(n){return w(this,arguments,function*(t,e={}){return mi(t,"GET","/v2/passwordPolicy",ja(t,e))})}var QL=6,Cm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:QL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var bm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yl(this),this.idTokenSubscription=new Yl(this),this.beforeStateQueue=new Dm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ql.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield DT(this,{idToken:e}),r=yield Ps._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(on(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Kl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=kL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(on(this.app))return Promise.reject(Er(this));let n=e?yt(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return on(this.app)?Promise.reject(Er(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return on(this.app)?Promise.reject(Er(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Bn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield KL(this),n=new Cm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield qL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Bn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Ql.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ks(t){return yt(t)}var Yl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lb(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var rd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YL(t){rd=t}function OT(t){return rd.loadJS(t)}function ZL(){return rd.recaptchaEnterpriseScript}function JL(){return rd.gapiScript}function kT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var XL="recaptcha-enterprise",eV="NO_RECAPTCHA",Tm=class{constructor(e){this.type=XL,this.auth=ks(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){jL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Im(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;tT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(eV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&tT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=ZL();u.length!==0&&(u+=a),OT(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function sT(t,e,n,r=!1){return w(this,null,function*(){let i=new Tm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function tV(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield sT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield sT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function $m(t,e){let n=xa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ci(s,e??{}))return i;Dr(i,"already-initialized")}return n.initialize({options:e})}function nV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Hm(t,e,n){let r=ks(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=FT(e),{host:o,port:a}=rV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||iV()}function FT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rV(t){let e=FT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:oT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:oT(o)}}}function oT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function iV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Zl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}};function mm(t,e){return w(this,null,function*(){return wT(t,"POST","/v1/accounts:signInWithIdp",ja(t,e))})}var Jl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Sm=class extends Jl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function sV(t,e){return w(this,null,function*(){return wT(t,"POST","/v1/accounts:signUp",ja(t,e))})}var Os=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Ps._fromIdTokenResponse(e,r,i),o=aT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=aT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function aT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Am=class t extends Tt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function LT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Am._fromErrorAndOperation(t,s,e,r):s})}function oV(t,e,n=!1){return w(this,null,function*(){let r=yield Fa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Os._forOperation(t,"link",r)})}function aV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(on(r.app))return Promise.reject(Er(r));let i="reauthenticate";try{let s=yield Fa(t,LT(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=jm(s.idToken);W(o,r,"internal-error");let{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Os._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Dr(r,"user-mismatch"),s}})}function cV(t,e,n=!1){return w(this,null,function*(){if(on(t.app))return Promise.reject(Er(t));let r="signIn",i=yield LT(t,r,e),s=yield Os._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function uV(t){return w(this,null,function*(){let e=ks(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function qm(t,e,n){return w(this,null,function*(){if(on(t.app))return Promise.reject(Er(t));let r=ks(t),o=yield tV(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&uV(t),u}),a=yield Os._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function zm(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function Gm(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}var Xl="__sak";var ed=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xl,"1"),this.storage.removeItem(Xl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var lV=1e3,dV=10,hV=(()=>{class t extends ed{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);WL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,dV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Jn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Jn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Jn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),VT=hV;var fV=(()=>{class t extends ed{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Wm=fV;function pV(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var gV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield pV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function jT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Rm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=jT("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function an(){return window}function mV(t){an().location.href=t}function UT(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}function yV(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _V(){return UT()?self:null}var BT="firebaseLocalStorageDb",IV=1,td="firebaseLocalStorage",$T="fbase_key",gi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function id(t,e){return t.transaction([td],e?"readwrite":"readonly").objectStore(td)}function wV(){let t=indexedDB.deleteDatabase(BT);return new gi(t).toPromise()}function Mm(){let t=indexedDB.open(BT,IV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(td,{keyPath:$T})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(td)?e(r):(r.close(),yield wV(),e(yield Mm()))}))})}function cT(t,e,n){return w(this,null,function*(){let r=id(t,!0).put({[$T]:e,value:n});return new gi(r).toPromise()})}function EV(t,e){return w(this,null,function*(){let n=id(t,!1).get(e),r=yield new gi(n).toPromise();return r===void 0?null:r.value})}function uT(t,e){let n=id(t,!0).delete(e);return new gi(n).toPromise()}var DV=800,CV=3,bV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Mm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>CV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return UT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=gV._getInstance(_V()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield yV(),!this.activeServiceWorker)return;this.sender=new Rm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Mm();return yield cT(n,Xl,"1"),yield uT(n,Xl),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>cT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>EV(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>uT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=id(s,!1).getAll();return new gi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),DV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),HT=bV;var mW=kT("rcb"),yW=new pi(3e4,6e4);function TV(t,e){return e?Bn(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Va=class extends Zl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function SV(t){return cV(t.auth,new Va(t),t.bypassAuthState)}function AV(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),aV(n,new Va(t),t.bypassAuthState)}function RV(t){return w(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),oV(n,new Va(t),t.bypassAuthState)})}var Nm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SV;case"linkViaPopup":case"linkViaRedirect":return RV;case"reauthViaPopup":case"reauthViaRedirect":return AV;default:Dr(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vW=new pi(2e3,1e4);var MV="pendingRedirect",ql=new Map,xm=class t extends Nm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=ql.get(this.auth._key());if(!e){try{let r=(yield NV(this.resolver,this.auth))?yield Jn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ql.set(this.auth._key(),e)}return this.bypassAuthState||ql.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Jn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Jn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function NV(t,e){return w(this,null,function*(){let n=OV(e),r=PV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function xV(t,e){ql.set(t._key(),e)}function PV(t){return Bn(t._redirectPersistence)}function OV(t){return Hl(MV,t.config.apiKey,t.name)}function kV(t,e,n=!1){return w(this,null,function*(){if(on(t.app))return Promise.reject(Er(t));let r=ks(t),i=TV(r,e),o=yield new xm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var FV=10*60*1e3,Pm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FV&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(e))}saveEventToCache(e){this.cachedEventUids.add(lT(e)),this.lastProcessedEventTime=Date.now()}};function lT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(t);default:return!1}}function VV(n){return w(this,arguments,function*(t,e={}){return mi(t,"GET","/v1/projects",e)})}var jV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UV=/^https?/;function BV(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield VV(t);for(let n of e)try{if($V(n))return}catch{}Dr(t,"unauthorized-domain")})}function $V(t){let e=vm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!UV.test(n))return!1;if(jV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var HV=new pi(3e4,6e4);function dT(){let t=an().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qV(t){return new Promise((e,n)=>{var r,i,s;function o(){dT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dT(),n(fi(t,"network-request-failed"))},timeout:HV.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=an().gapi)===null||s===void 0)&&s.load)o();else{let a=kT("iframefcb");return an()[a]=()=>{gapi.load?o():n(fi(t,"network-request-failed"))},OT(`${JL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw zl=null,e})}var zl=null;function zV(t){return zl=zl||qV(t),zl}var GV=new pi(5e3,15e3),WV="__/auth/iframe",KV="emulator/auth/iframe",QV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZV(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Lm(e,KV):`https://${t.config.authDomain}/${WV}`,r={apiKey:e.apiKey,appName:t.name,v:Ir},i=YV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ra(r).slice(1)}`}function JV(t){return w(this,null,function*(){let e=yield zV(t),n=an().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:ZV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QV,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=fi(t,"network-request-failed"),a=an().setTimeout(()=>{s(o)},GV.get());function u(){an().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var XV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ej=500,tj=600,nj="_blank",rj="http://localhost",nd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ij(t,e,n,r=ej,i=tj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},XV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=qe().toLowerCase();n&&(a=ST(l)?nj:n),bT(l)&&(e=e||rj,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(GL(l)&&a!=="_self")return sj(e||"",a),new nd(null);let p=window.open(e||"",a,f);W(p,t,"popup-blocked");try{p.focus()}catch{}return new nd(p)}function sj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var oj="__/auth/handler",aj="emulator/auth/handler",cj=encodeURIComponent("fac");function hT(t,e,n,r,i,s){return w(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ir,eventId:i};if(e instanceof Jl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Fb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Sm){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield t._getAppCheckToken(),l=u?`#${cj}=${encodeURIComponent(u)}`:"";return`${uj(t)}?${Ra(a).slice(1)}${l}`})}function uj({config:t}){return t.emulator?Lm(t,aj):`https://${t.authDomain}/${oj}`}var ym="webStorageSupport",Om=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wm,this._completeRedirectFn=kV,this._overrideRedirectResult=xV}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield hT(e,n,r,vm(),i);return ij(e,o,jT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield hT(e,n,r,vm(),i);return mV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield JV(e),r=new Pm(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ym];o!==void 0&&n(!!o),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xT()||TT()||Bm()}},zT=Om;var fT="@firebase/auth",pT="1.7.8";var km=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dj(t){_r(new Ft("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(t)},l=new bm(r,i,s,u);return nV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_r(new Ft("auth-internal",e=>{let n=ks(e.getProvider("auth").getImmediate());return(r=>new km(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(fT,pT,lj(t)),Be(fT,pT,"esm2017")}var hj=5*60,fj=Yg("authIdTokenMaxAge")||hj,gT=null,pj=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fj)return;let i=n?.token;gT!==i&&(gT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Km(t=Rs()){let e=xa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=$m(t,{popupRedirectResolver:zT,persistence:[HT,VT,Wm]}),r=Yg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=pj(s.toString());Gm(n,o,()=>o(n.currentUser)),zm(n,a=>o(a))}}let i=Kg("auth");return i&&Hm(n,`http://${i}`),n}function gj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=fi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dj("Browser");var GT="auth",yi=class{constructor(e){return e}},Ua=class{constructor(){return Pa(GT)}};var Qm=new j("angularfire2.auth-instances");function cU(t,e){let n=jl(GT,t,e);return n&&new yi(n)}function uU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new yi(r)}}var lU={provide:Ua,deps:[[new pt,Qm]]},dU={provide:yi,useFactory:cU,deps:[[new pt,Qm],jn]};function WT(t,...e){return Be("angularfire",di.full,"auth"),tn([dU,lU,{provide:Qm,useFactory:uU(t),multi:!0,deps:[we,ft,xs,hi,[new pt,Ns],...e]}])}var KT=Vn(qm,!0);var QT=Vn(Km,!0);var YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ZT={};var br,Ym;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,C,T){for(var I=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)I[gn-2]=arguments[gn];return y.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],C=D.g[2];var T=D.g[3],I=y+(T^_&(C^T))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[2]+606105819&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[6]+2821735955&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[10]+4294925233&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[14]+2792965006&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^T&(_^C))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[11]+643717713&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[15]+3634488961&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[3]+4107603335&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[7]+1735328473&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^T)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[11]+1839030562&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[7]+4139469664&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[3]+3572445317&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[15]+530742520&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~T))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[14]+2878612391&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[10]+4293915773&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[6]+2734768916&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[2]+718787259&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<y;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==y||(_[C]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function f(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(f(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),I=parseInt(D.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var C=oe(_,y).g;_=F(_,C.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=C,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,C=0;C<=y;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),I=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=I>>>16,T&=65535,I&=65535,_[C]=I<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,I=this.i(E)&65535,gn=D.i(C)>>>16,oo=D.i(C)&65535;_[2*E+2*C]+=I*oo,U(_,2*E+2*C),_[2*E+2*C+1]+=T*oo,U(_,2*E+2*C+1),_[2*E+2*C+1]+=I*gn,U(_,2*E+2*C+1),_[2*E+2*C+2]+=T*gn,U(_,2*E+2*C+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function U(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function H(D,y){this.g=D,this.h=y}function oe(D,y){if(S(y))throw Error("division by zero");if(S(D))return new H(p,p);if(M(D))return y=oe(R(D),y),new H(R(y.g),R(y.h));if(M(y))return y=oe(D,R(y)),new H(R(y.g),y.h);if(30<D.g.length){if(M(D)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Re(_),E=Re(E);var C=Y(_,1),T=Y(E,1);for(E=Y(E,2),_=Y(_,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(C=C.add(_),T=I),E=Y(E,1),_=Y(_,1)}return y=F(D,C.j(y)),new H(C,y)}for(C=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(y);M(I)||0<I.l(D);)_-=E,T=l(_),I=T.j(y);S(T)&&(T=m),C=C.add(T),D=F(D,I)}return new H(C,D)}t.A=function(D){return oe(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Re(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function Y(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,C=[],T=0;T<E;T++)C[T]=0<y?D.i(T+_)>>>y|D.i(T+_+1)<<32-y:D.i(T+_);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ym=ZT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,br=ZT.Integer=o}).apply(typeof YT<"u"?YT:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$n={};var Zm,Jm,Fs,Xm,Ba,od,ey,ty,ny;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in h))break e;h=h[b]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var h=0,g=!1,b={next:function(){if(!g&&h<c.length){var A=h++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,h){return h})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var P=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)P[Ee-2]=arguments[Ee];return d.prototype[b].apply(g,P)}}function M(c){let d=c.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function R(c,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let P=0;P<A;P++)c[b+P]=g[P]}else c.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var Re=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Y(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function D(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function y(c){let d={};for(let h in c)d[h]=c[h];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)c[h]=g[h];for(let A=0;A<_.length;A++)h=_[A],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function C(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=nh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class gn{constructor(){this.h=this.g=null}add(d,h){let g=oo.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var oo=new F(()=>new KS,c=>c.reset());class KS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ao,co=!1,nh=new gn,s_=()=>{let c=a.Promise.resolve(void 0);ao=()=>{c.then(QS)}};var QS=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(h){T(h)}var d=oo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}co=!1};function Kn(){this.s=this.s,this.C=this.C}Kn.prototype.s=!1,Kn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var YS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function uo(c,d){if(Ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{oe(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ZS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&uo.aa.h.call(this)}}S(uo,Ye);var ZS={2:"touch",3:"pen",4:"mouse"};uo.prototype.h=function(){uo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lo="closure_listenable_"+(1e6*Math.random()|0),JS=0;function XS(c,d,h,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++JS,this.da=this.fa=!1}function dc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hc(c){this.src=c,this.g={},this.h=0}hc.prototype.add=function(c,d,h,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=ih(c,d,g,b);return-1<P?(d=c[P],h||(d.fa=!1)):(d=new XS(d,this.src,A,!!g,b),d.fa=h,c.push(d)),d};function rh(c,d){var h=d.type;if(h in c.g){var g=c.g[h],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(dc(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function ih(c,d,h,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return b}return-1}var sh="closure_lm_"+(1e6*Math.random()|0),oh={};function o_(c,d,h,g,b){if(g&&g.once)return c_(c,d,h,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)o_(c,d[A],h,g,b);return null}return h=lh(h),c&&c[lo]?c.K(d,h,l(g)?!!g.capture:!!g,b):a_(c,d,h,!1,g,b)}function a_(c,d,h,g,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,Ee=ch(c);if(Ee||(c[sh]=Ee=new hc(c)),h=Ee.add(d,h,g,P,A),h.proxy)return h;if(g=eA(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)YS||(b=P),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(l_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function eA(){function c(h){return d.call(c.src,c.listener,h)}let d=tA;return c}function c_(c,d,h,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)c_(c,d[A],h,g,b);return null}return h=lh(h),c&&c[lo]?c.L(d,h,l(g)?!!g.capture:!!g,b):a_(c,d,h,!0,g,b)}function u_(c,d,h,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)u_(c,d[A],h,g,b);else g=l(g)?!!g.capture:!!g,h=lh(h),c&&c[lo]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],h=ih(A,h,g,b),-1<h&&(dc(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=ch(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ih(d,h,g,b)),(h=-1<c?d[c]:null)&&ah(h))}function ah(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[lo])rh(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(l_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=ch(d))?(rh(h,c),h.h==0&&(h.src=null,d[sh]=null)):dc(c)}}}function l_(c){return c in oh?oh[c]:oh[c]="on"+c}function tA(c,d){if(c.da)c=!0;else{d=new uo(d,this);var h=c.listener,g=c.ha||c.src;c.fa&&ah(c),c=h.call(g,d)}return c}function ch(c){return c=c[sh],c instanceof hc?c:null}var uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function lh(c){return typeof c=="function"?c:(c[uh]||(c[uh]=function(d){return c.handleEvent(d)}),c[uh])}function Ze(){Kn.call(this),this.i=new hc(this),this.M=this,this.F=null}S(Ze,Kn),Ze.prototype[lo]=!0,Ze.prototype.removeEventListener=function(c,d,h,g){u_(this,c,d,h,g)};function at(c,d){var h,g=c.F;if(g)for(h=[];g;g=g.F)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Ye(d,c);else if(d instanceof Ye)d.target=d.target||c;else{var b=d;d=new Ye(g,c),E(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var P=d.g=h[A];b=fc(P,g,!0,d)&&b}if(P=d.g=c,b=fc(P,g,!0,d)&&b,b=fc(P,g,!1,d)&&b,h)for(A=0;A<h.length;A++)P=d.g=h[A],b=fc(P,g,!1,d)&&b}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],g=0;g<h.length;g++)dc(h[g]);delete c.g[d],c.h--}}this.F=null},Ze.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},Ze.prototype.L=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function fc(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==h){var Ee=P.listener,Ge=P.ha||P.src;P.fa&&rh(c.i,P),b=Ee.call(Ge,g)!==!1&&b}}return b&&!g.defaultPrevented}function d_(c,d,h){if(typeof c=="function")h&&(c=m(c,h));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function h_(c){c.g=d_(()=>{c.g=null,c.i&&(c.i=!1,h_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class nA extends Kn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:h_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ho(c){Kn.call(this),this.h=c,this.g={}}S(ho,Kn);var f_=[];function p_(c){Y(c.g,function(d,h){this.g.hasOwnProperty(h)&&ah(d)},c),c.g={}}ho.prototype.N=function(){ho.aa.N.call(this),p_(this)},ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dh=a.JSON.stringify,rA=a.JSON.parse,iA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function hh(){}hh.prototype.h=null;function g_(c){return c.h||(c.h=c.i())}function m_(){}var fo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fh(){Ye.call(this,"d")}S(fh,Ye);function ph(){Ye.call(this,"c")}S(ph,Ye);var Mr={},y_=null;function pc(){return y_=y_||new Ze}Mr.La="serverreachability";function v_(c){Ye.call(this,Mr.La,c)}S(v_,Ye);function po(c){let d=pc();at(d,new v_(d))}Mr.STAT_EVENT="statevent";function __(c,d){Ye.call(this,Mr.STAT_EVENT,c),this.stat=d}S(__,Ye);function ct(c){let d=pc();at(d,new __(d,c))}Mr.Ma="timingevent";function I_(c,d){Ye.call(this,Mr.Ma,c),this.size=d}S(I_,Ye);function go(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function mo(){this.g=!0}mo.prototype.xa=function(){this.g=!1};function sA(c,d,h,g,b,A){c.info(function(){if(c.g)if(A)for(var P="",Ee=A.split("&"),Ge=0;Ge<Ee.length;Ge++){var ve=Ee[Ge].split("=");if(1<ve.length){var Je=ve[0];ve=ve[1];var Xe=Je.split("_");P=2<=Xe.length&&Xe[1]=="type"?P+(Je+"="+ve+"&"):P+(Je+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+P})}function oA(c,d,h,g,b,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+P})}function Mi(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+cA(c,h)+(g?" "+g:"")})}function aA(c,d){c.info(function(){return"TIMEOUT: "+d})}mo.prototype.info=function(){};function cA(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var g=h[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return dh(h)}catch{return d}}var gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},w_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gh;function mc(){}S(mc,hh),mc.prototype.g=function(){return new XMLHttpRequest},mc.prototype.i=function(){return{}},gh=new mc;function Qn(c,d,h,g){this.j=c,this.i=d,this.l=h,this.R=g||1,this.U=new ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new E_}function E_(){this.i=null,this.g="",this.h=!1}var D_={},mh={};function yh(c,d,h){c.L=1,c.v=Ic(mn(d)),c.m=h,c.P=!0,C_(c,null)}function C_(c,d){c.F=Date.now(),yc(c),c.A=mn(c.v);var h=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),V_(h.i,"t",g),c.C=0,h=c.j.J,c.h=new E_,c.g=nI(c.j,h?d:null,!c.m),0<c.O&&(c.M=new nA(m(c.Y,c,c.g),c.O)),d=c.U,h=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(f_[0]=b.toString()),b=f_);for(var A=0;A<b.length;A++){var P=o_(h,b[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),po(),sA(c.i,c.u,c.A,c.l,c.R,c.m)}Qn.prototype.ca=function(c){c=c.target;let d=this.M;d&&yn(c)==3?d.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{let Xe=yn(this.g);var d=this.g.Ba();let Pi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||z_(this.g)))){this.J||Xe!=4||d==7||(d==8||0>=Pi?po(3):po(2)),vh(this);var h=this.g.Z();this.X=h;t:if(b_(this)){var g=z_(this.g);c="";var b=g.length,A=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),yo(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,oA(this.i,this.u,this.A,this.l,this.R,Xe,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ge=this.g;if((Ee=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ee)){var ve=Ee;break t}}ve=null}if(h=ve)Mi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_h(this,h);else{this.o=!1,this.s=3,ct(12),Nr(this),yo(this);break e}}if(this.P){h=!0;let Vt;for(;!this.J&&this.C<P.length;)if(Vt=uA(this,P),Vt==mh){Xe==4&&(this.s=4,ct(14),h=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==D_){this.s=4,ct(15),Mi(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Mi(this.i,this.l,Vt,null),_h(this,Vt);if(b_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||P.length!=0||this.h.h||(this.s=1,ct(16),h=!1),this.o=this.o&&h,!h)Mi(this.i,this.l,P,"[Invalid Chunked Response]"),Nr(this),yo(this);else if(0<P.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),bh(Je),Je.M=!0,ct(11))}}else Mi(this.i,this.l,P,null),_h(this,P);Xe==4&&Nr(this),this.o&&!this.J&&(Xe==4?J_(this.j,this):(this.o=!1,yc(this)))}else TA(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Nr(this),yo(this)}}}catch{}finally{}};function b_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uA(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?mh:(h=Number(d.substring(h,g)),isNaN(h)?D_:(g+=1,g+h>d.length?mh:(d=d.slice(g,g+h),c.C=g+h,d)))}Qn.prototype.cancel=function(){this.J=!0,Nr(this)};function yc(c){c.S=Date.now()+c.I,T_(c,c.I)}function T_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=go(m(c.ba,c),d)}function vh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Qn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(aA(this.i,this.A),this.L!=2&&(po(),ct(17)),Nr(this),this.s=2,yo(this)):T_(this,this.S-c)};function yo(c){c.j.G==0||c.J||J_(c.j,c)}function Nr(c){vh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,p_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function _h(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||Ih(h.h,c))){if(!c.K&&Ih(h.h,c)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)bc(h),Dc(h);else break e;Ch(h),ct(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=go(m(h.Za,h),6e3));if(1>=R_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Pr(h,11)}else if((c.K||h.g==c)&&bc(h),!U(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];let Je=ve[3];Je!=null&&(h.la=Je,h.j.info("VER="+h.la));let Xe=ve[4];Xe!=null&&(h.Aa=Xe,h.j.info("SVER="+h.Aa));let Pi=ve[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(g=1.5*Pi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Vt=c.g;if(Vt){let Sc=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var A=g.h;A.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(wh(A,A.h),A.h=null))}if(g.D){let Th=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(g.ya=Th,be(g.I,g.D,Th))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=c;if(g.qa=tI(g,g.J?g.ia:null,g.W),P.K){M_(g.h,P);var Ee=P,Ge=g.L;Ge&&(Ee.I=Ge),Ee.B&&(vh(Ee),yc(Ee)),g.g=P}else Y_(g);0<h.i.length&&Cc(h)}else ve[0]!="stop"&&ve[0]!="close"||Pr(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Pr(h,7):Dh(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}po(4)}catch{}}var lA=class{constructor(c,d){this.g=c,this.map=d}};function S_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function A_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function R_(c){return c.h?1:c.g?c.g.size:0}function Ih(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function wh(c,d){c.g?c.g.add(d):c.h=d}function M_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}S_.prototype.cancel=function(){if(this.i=N_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function N_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return M(c.i)}function dA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,g=0;g<h;g++)d.push(c[g]);return d}d=[],h=0;for(g in c)d[h++]=c[g];return d}function hA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let g in c)d[h++]=g;return d}}}function x_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=hA(c),g=dA(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],h&&h[A],c)}var P_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fA(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var g=c[h].indexOf("="),b=null;if(0<=g){var A=c[h].substring(0,g);b=c[h].substring(g+1)}else A=c[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,vc(this,c.j),this.o=c.o,this.g=c.g,_c(this,c.s),this.l=c.l;var d=c.i,h=new Io;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),O_(this,h),this.m=c.m}else c&&(d=String(c).match(P_))?(this.h=!1,vc(this,d[1]||"",!0),this.o=vo(d[2]||""),this.g=vo(d[3]||"",!0),_c(this,d[4]),this.l=vo(d[5]||"",!0),O_(this,d[6]||"",!0),this.m=vo(d[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}xr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(_o(d,k_,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(_o(d,k_,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(_o(h,h.charAt(0)=="/"?mA:gA,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",_o(h,vA)),c.join("")};function mn(c){return new xr(c)}function vc(c,d,h){c.j=h?vo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function _c(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function O_(c,d,h){d instanceof Io?(c.i=d,_A(c.i,c.h)):(h||(d=_o(d,yA)),c.i=new Io(d,c.h))}function be(c,d,h){c.i.set(d,h)}function Ic(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _o(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,pA),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var k_=/[#\/\?@]/g,gA=/[#\?:]/g,mA=/[#\?]/g,yA=/[#\?@]/g,vA=/#/g;function Io(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Yn(c){c.g||(c.g=new Map,c.h=0,c.i&&fA(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Io.prototype,t.add=function(c,d){Yn(this),this.i=null,c=Ni(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function F_(c,d){Yn(c),d=Ni(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function L_(c,d){return Yn(c),d=Ni(c,d),c.g.has(d)}t.forEach=function(c,d){Yn(this),this.g.forEach(function(h,g){h.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){Yn(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)h.push(d[g])}return h},t.V=function(c){Yn(this);let d=[];if(typeof c=="string")L_(this,c)&&(d=d.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return Yn(this),this.i=null,c=Ni(this,c),L_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function V_(c,d,h){F_(c,d),0<h.length&&(c.i=null,c.g.set(Ni(c,d),M(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=A;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),c.push(b)}}return this.i=c.join("&")};function Ni(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function _A(c,d){d&&!c.j&&(Yn(c),c.i=null,c.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(F_(this,g),V_(this,b,h))},c)),c.j=d}function IA(c,d){let h=new mo;if(a.Image){let g=new Image;g.onload=v(Zn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=v(Zn,h,"TestLoadImage: error",!1,d,g),g.onabort=v(Zn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(Zn,h,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function wA(c,d){let h=new mo,g=new AbortController,b=setTimeout(()=>{g.abort(),Zn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Zn(h,"TestPingServer: ok",!0,d):Zn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Zn(h,"TestPingServer: error",!1,d)})}function Zn(c,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function EA(){this.g=new iA}function DA(c,d,h){let g=h||"";try{x_(c,function(b,A){let P=b;l(b)&&(P=dh(b)),d.push(g+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function wo(c){this.l=c.Ub||null,this.j=c.eb||!1}S(wo,hh),wo.prototype.g=function(){return new wc(this.l,this.j)},wo.prototype.i=function(c){return function(){return c}}({});function wc(c,d){Ze.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(wc,Ze),t=wc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Do(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Do(this)),this.g&&(this.readyState=3,Do(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function j_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Eo(this):Do(this),this.readyState==3&&j_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Eo(this))},t.Qa=function(c){this.g&&(this.response=c,Eo(this))},t.ga=function(){this.g&&Eo(this)};function Eo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Do(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Do(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function U_(c){let d="";return Y(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Eh(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=U_(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):be(c,d,h))}function Me(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,Ze);var CA=/^https?$/i,bA=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gh.g(),this.v=this.o?g_(this.o):g_(gh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){B_(this,A);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bA,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of h)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{q_(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){B_(this,A)}};function B_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,$_(c),Ec(c)}function $_(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),Ec(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ec(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?H_(this):this.bb())},t.bb=function(){H_(this)};function H_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||yn(c)!=4||c.Z()!=2)){if(c.u&&yn(c)==4)d_(c.Ea,0,c);else if(at(c,"readystatechange"),yn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var b=String(c.D).match(P_)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!CA.test(b?b.toLowerCase():"")}h=g}if(h)at(c,"complete"),at(c,"success");else{c.m=6;try{var A=2<yn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",$_(c)}}finally{Ec(c)}}}}function Ec(c,d){if(c.g){q_(c);let h=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||at(c,"ready");try{h.onreadystatechange=g}catch{}}}function q_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function yn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),rA(d)}};function z_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function TA(c){let d={};c=(c.g&&2<=yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(U(c[g]))continue;var h=C(c[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Co(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function G_(c){this.Aa=0,this.i=[],this.j=new mo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Co("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Co("baseRetryDelayMs",5e3,c),this.cb=Co("retryDelaySeedMs",1e4,c),this.Wa=Co("forwardChannelMaxRetries",2,c),this.wa=Co("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new S_(c&&c.concurrentRequestLimit),this.Da=new EA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=G_.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,g){ct(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=tI(this,null,this.W),Cc(this)};function Dh(c){if(W_(c),c.G==3){var d=c.U++,h=mn(c.I);if(be(h,"SID",c.K),be(h,"RID",d),be(h,"TYPE","terminate"),bo(c,h),d=new Qn(c,c.j,d),d.L=2,d.v=Ic(mn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=nI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),yc(d)}eI(c)}function Dc(c){c.g&&(bh(c),c.g.cancel(),c.g=null)}function W_(c){Dc(c),c.u&&(a.clearTimeout(c.u),c.u=null),bc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Cc(c){if(!A_(c.h)&&!c.s){c.s=!0;var d=c.Ga;ao||s_(),co||(ao(),co=!0),nh.add(d,c),c.B=0}}function SA(c,d){return R_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=go(m(c.Ga,c,d),X_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Qn(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Q_(this,b,d),h=mn(this.I),be(h,"RID",c),be(h,"CVER",22),this.D&&be(h,"X-HTTP-Session-Id",this.D),bo(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(U_(A)))+"&"+d:this.m&&Eh(h,this.m,A)),wh(this.h,b),this.Ua&&be(h,"TYPE","init"),this.P?(be(h,"$req",d),be(h,"SID","null"),b.T=!0,yh(b,h,null)):yh(b,h,d),this.G=2}}else this.G==3&&(c?K_(this,c):this.i.length==0||A_(this.h)||K_(this))};function K_(c,d){var h;d?h=d.l:h=c.U++;let g=mn(c.I);be(g,"SID",c.K),be(g,"RID",h),be(g,"AID",c.T),bo(c,g),c.m&&c.o&&Eh(g,c.m,c.o),h=new Qn(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Q_(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wh(c.h,h),yh(h,g,d)}function bo(c,d){c.H&&Y(c.H,function(h,g){be(d,g,h)}),c.l&&x_({},function(h,g){be(d,g,h)})}function Q_(c,d,h){h=Math.min(c.i.length,h);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let P=["count="+h];A==-1?0<h?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ee=!0;for(let Ge=0;Ge<h;Ge++){let ve=b[Ge].g,Je=b[Ge].map;if(ve-=A,0>ve)A=Math.max(0,b[Ge].g-100),Ee=!1;else try{DA(Je,P,"req"+ve+"_")}catch{g&&g(Je)}}if(Ee){g=P.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,g}function Y_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ao||s_(),co||(ao(),co=!0),nh.add(d,c),c.v=0}}function Ch(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=go(m(c.Fa,c),X_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Z_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=go(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Dc(this),Z_(this))};function bh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Z_(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=mn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),bo(c,d),c.m&&c.o&&Eh(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=Ic(mn(d)),h.m=null,h.P=!0,C_(h,c)}t.Za=function(){this.C!=null&&(this.C=null,Dc(this),Ch(this),ct(19))};function bc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function J_(c,d){var h=null;if(c.g==d){bc(c),bh(c),c.g=null;var g=2}else if(Ih(c.h,d))h=d.D,M_(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=pc(),at(g,new I_(g,h)),Cc(c)}else Y_(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&SA(c,d)||g==2&&Ch(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),b){case 1:Pr(c,5);break;case 4:Pr(c,10);break;case 3:Pr(c,6);break;default:Pr(c,2)}}}function X_(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Pr(c,d){if(c.j.info("Error code "+d),d==2){var h=m(c.fb,c),g=c.Xa;let b=!g;g=new xr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vc(g,"https"),Ic(g),b?IA(g.toString(),h):wA(g.toString(),h)}else ct(2);c.G=0,c.l&&c.l.sa(d),eI(c),W_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function eI(c){if(c.G=0,c.ka=[],c.l){let d=N_(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function tI(c,d,h){var g=h instanceof xr?mn(h):new xr(h);if(g.g!="")d&&(g.g=d+"."+g.g),_c(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new xr(null);g&&vc(A,g),d&&(A.g=d),b&&_c(A,b),h&&(A.l=h),g=A}return h=c.D,d=c.ya,h&&d&&be(g,h,d),be(g,"VER",c.la),bo(c,g),g}function nI(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new wo({eb:h})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rI(){}t=rI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tc(){}Tc.prototype.g=function(c,d){return new vt(c,d)};function vt(c,d){Ze.call(this),this.g=new G_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new xi(this)}S(vt,Ze),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){Dh(this.g)},vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=dh(c),c=h);d.i.push(new lA(d.Ya++,c)),d.G==3&&Cc(d)},vt.prototype.N=function(){this.g.l=null,delete this.j,Dh(this.g),delete this.g,vt.aa.N.call(this)};function iI(c){fh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(iI,fh);function sI(){ph.call(this),this.status=1}S(sI,ph);function xi(c){this.g=c}S(xi,rI),xi.prototype.ua=function(){at(this.g,"a")},xi.prototype.ta=function(c){at(this.g,new iI(c))},xi.prototype.sa=function(c){at(this.g,new sI)},xi.prototype.ra=function(){at(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,ny=$n.createWebChannelTransport=function(){return new Tc},ty=$n.getStatEventTarget=function(){return pc()},ey=$n.Event=Mr,od=$n.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gc.NO_ERROR=0,gc.TIMEOUT=8,gc.HTTP_ERROR=6,Ba=$n.ErrorCode=gc,w_.COMPLETE="complete",Xm=$n.EventType=w_,m_.EventType=fo,fo.OPEN="a",fo.CLOSE="b",fo.ERROR="c",fo.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Fs=$n.WebChannel=m_,Jm=$n.FetchXmlHttpFactory=wo,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Zm=$n.XhrIo=Me}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});var JT="@firebase/firestore";var ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");var ro="10.13.1";var Ei=new yr("@firebase/firestore");function $a(){return Ei.logLevel}function L(t,...e){if(Ei.logLevel<=de.DEBUG){let n=e.map(jv);Ei.debug(`Firestore (${ro}): ${t}`,...n)}}function qn(t,...e){if(Ei.logLevel<=de.ERROR){let n=e.map(jv);Ei.error(`Firestore (${ro}): ${t}`,...n)}}function Hs(t,...e){if(Ei.logLevel<=de.WARN){let n=e.map(jv);Ei.warn(`Firestore (${ro}): ${t}`,...n)}}function jv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t="Unexpected state"){let e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+t;throw qn(e),new Error(e)}function Ce(t,e){t||z()}function Q(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Tt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var dd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ay=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ze.UNAUTHENTICATED))}shutdown(){}},cy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},uy=class{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new dd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new ze(e)}},ly=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},dy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ly(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new hy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function fU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var hd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=fU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Qe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Qe(0,0))}static max(){return new t(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends fd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},pU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,St=class t extends fd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return pU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var py=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};py.UNKNOWN_ID=-1;function gU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Di(i,$.empty(),e)}function mU(t){return new Di(t.readTime,t.key,-1)}var Di=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),$.empty(),-1)}static max(){return new t(J.max(),$.empty(),-1)}};function yU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var vU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function oc(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==vU)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function _U(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ac(t){return t.name==="IndexedDbTransactionError"}var M0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function $d(t){return t==null}function Qa(t){return t===0&&1/t==-1/0}function IU(t){return typeof t=="number"&&Number.isInteger(t)&&!Qa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var wU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],m6=[...wU,"documentOverlays"],EU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DU=EU,CU=[...DU,"indexConfiguration","indexState","indexEntries"];var y6=[...CU,"globals"];function XT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Us(this.root,e,this.comparator,!1)}getReverseIterator(){return new Us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Us(this.root,e,this.comparator,!0)}},Us=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ln=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();let e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}};ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pd(this.data.getIterator())}getIteratorFrom(e){return new pd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},pd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var un=class t{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new t([])}unionWith(e){let n=new st(St.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var gd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ot=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ot.EMPTY_BYTE_STRING=new ot("");var bU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zn(t){if(Ce(!!t),typeof t=="string"){let e=0,n=bU.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}function Uv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bv(t){let e=t.mapValue.fields.__previous_value__;return Uv(e)?Bv(e):e}function Ya(t){let e=zn(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}var my=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},md=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:P0(t)?9007199254740991:x0(t)?10:11:z()}function fn(t,e){if(t===e)return!0;let n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=zn(i.timestampValue),a=zn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Sr(i.bytesValue).isEqual(Sr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Se(i.doubleValue),a=Se(s.doubleValue);return o===a?Qa(o)===Qa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(XT(o)!==XT(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!fn(o[u],a[u])))return!1;return!0}(t,e);default:return z()}}function Za(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function zs(t,e){if(t===e)return 0;let n=Ci(t),r=Ci(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return e0(t.timestampValue,e.timestampValue);case 4:return e0(Ya(t),Ya(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Sr(s),u=Sr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=_e(a[l],u[l]);if(f!==0)return f}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=_e(Se(s.latitude),Se(o.latitude));return a!==0?a:_e(Se(s.longitude),Se(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return t0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,f;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=_e(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:t0(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ad.mapValue&&o===ad.mapValue)return 0;if(s===ad.mapValue)return 1;if(o===ad.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=_e(u[p],f[p]);if(m!==0)return m;let v=zs(a[u[p]],l[f[p]]);if(v!==0)return v}return _e(u.length,f.length)}(t.mapValue,e.mapValue);default:throw z()}}function e0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=zn(t),r=zn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function t0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=zs(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function Gs(t){return yy(t)}function yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=zn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=yy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${yy(n.fields[o])}`;return i+"}"}(t.mapValue):z()}function vy(t){return!!t&&"integerValue"in t}function $v(t){return!!t&&"arrayValue"in t}function n0(t){return!!t&&"nullValue"in t}function r0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}function x0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function P0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qa(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){io(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(qa(this.value))}};function O0(t){let e=[];return io(t.fields,(n,r)=>{let i=new St([n]);if(ud(r)){let s=O0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}var Wt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ws=class{constructor(e,n){this.position=e,this.inclusive=n}};function i0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=$.comparator($.fromName(o.referenceValue),n.key):r=zs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function s0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}var Ks=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function TU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var yd=class{},$e=class t extends yd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Iy(e,n,r):n==="array-contains"?new Dy(e,r):n==="in"?new Cy(e,r):n==="not-in"?new by(e,r):n==="array-contains-any"?new Ty(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wy(e,r):new Ey(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zs(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pn=class t extends yd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return k0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function k0(t){return t.op==="and"}function F0(t){return SU(t)&&k0(t)}function SU(t){for(let e of t.filters)if(e instanceof pn)return!1;return!0}function _y(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Gs(t.value);if(F0(t))return t.filters.map(e=>_y(e)).join(",");{let e=t.filters.map(n=>_y(n)).join(",");return`${t.op}(${e})`}}function L0(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&fn(r.value,i.value)}(t,e):t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&L0(o,i.filters[a]),!0):!1}(t,e):void z()}function V0(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(V0).join(" ,")+"}"}(t):"Filter"}var Iy=class extends $e{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},wy=class extends $e{constructor(e,n){super(e,"in",n),this.keys=j0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ey=class extends $e{constructor(e,n){super(e,"not-in",n),this.keys=j0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function j0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}var Dy=class extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $v(n)&&Za(n.arrayValue,this.value)}},Cy=class extends $e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}},by=class extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Za(this.value.arrayValue,n)}},Ty=class extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$v(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}};var Sy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function o0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Sy(t,e,n,r,i,s,o)}function Hv(t){let e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gs(r)).join(",")),e.ue=n}return e.ue}function qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!L0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s0(t.startAt,e.startAt)&&s0(t.endAt,e.endAt)}function Ay(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Qs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function AU(t,e,n,r,i,s,o,a){return new Qs(t,e,n,r,i,s,o,a)}function zv(t){return new Qs(t)}function a0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RU(t){return t.collectionGroup!==null}function za(t){let e=Q(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new st(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ks(s,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new Ks(St.keyField(),r))}return e.ce}function dn(t){let e=Q(t);return e.le||(e.le=MU(e,za(t))),e.le}function MU(t,e){if(t.limitType==="F")return o0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ks(i.field,s)});let n=t.endAt?new Ws(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ws(t.startAt.position,t.startAt.inclusive):null;return o0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ry(t,e,n){return new Qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hd(t,e){return qv(dn(t),dn(e))&&t.limitType===e.limitType}function U0(t){return`${Hv(dn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>V0(i)).join(", ")}]`),$d(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`}(dn(t))}; limitType=${t.limitType})`}function qd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=i0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,za(r),i)||r.endAt&&!function(o,a,u){let l=i0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,za(r),i))}(t,e)}function NU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B0(t){return(e,n)=>{let r=!1;for(let i of za(t)){let s=xU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xU(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?zs(u,l):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}var Ar=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return N0(this.inner)}size(){return this.innerSize}};var PU=new Oe($.comparator);function Gn(){return PU}var $0=new Oe($.comparator);function Ha(...t){let e=$0;for(let n of t)e=e.insert(n.key,n);return e}function H0(t){let e=$0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return Ga()}function q0(){return Ga()}function Ga(){return new Ar(t=>t.toString(),(t,e)=>t.isEqual(e))}var OU=new Oe($.comparator),kU=new st($.comparator);function he(...t){let e=kU;for(let n of t)e=e.add(n);return e}var FU=new st(_e);function LU(){return FU}function Gv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qa(e)?"-0":e}}function z0(t){return{integerValue:""+t}}function VU(t,e){return IU(e)?z0(e):Gv(t,e)}var Ys=class{constructor(){this._=void 0}};function jU(t,e,n){return t instanceof Zs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Uv(s)&&(s=Bv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof bi?W0(t,e):t instanceof Ti?K0(t,e):function(i,s){let o=G0(i,s),a=c0(o)+c0(i.Pe);return vy(o)&&vy(i.Pe)?z0(a):Gv(i.serializer,a)}(t,e)}function UU(t,e,n){return t instanceof bi?W0(t,e):t instanceof Ti?K0(t,e):n}function G0(t,e){return t instanceof Js?function(r){return vy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Zs=class extends Ys{},bi=class extends Ys{constructor(e){super(),this.elements=e}};function W0(t,e){let n=Q0(e);for(let r of t.elements)n.some(i=>fn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ti=class extends Ys{constructor(e){super(),this.elements=e}};function K0(t,e){let n=Q0(e);for(let r of t.elements)n=n.filter(i=>!fn(i,r));return{arrayValue:{values:n}}}var Js=class extends Ys{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function c0(t){return Se(t.integerValue||t.doubleValue)}function Q0(t){return $v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bi&&i instanceof bi||r instanceof Ti&&i instanceof Ti?qs(r.elements,i.elements,fn):r instanceof Js&&i instanceof Js?fn(r.Pe,i.Pe):r instanceof Zs&&i instanceof Zs}(t.transform,e.transform)}var My=class{constructor(e,n){this.version=e,this.transformResults=n}},wi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Xs=class{};function Y0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vd(t.key,wi.none()):new Si(t.key,t.data,wi.none());{let n=t.data,r=Gt.empty(),i=new st(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Wn(t.key,r,new un(i.toArray()),wi.none())}}function $U(t,e,n){t instanceof Si?function(i,s,o){let a=i.value.clone(),u=l0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wn?function(i,s,o){if(!ld(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=l0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Z0(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wa(t,e,n,r){return t instanceof Si?function(s,o,a,u){if(!ld(s.precondition,o))return a;let l=s.value.clone(),f=d0(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wn?function(s,o,a,u){if(!ld(s.precondition,o))return a;let l=d0(s.fieldTransforms,u,o),f=o.data;return f.setAll(Z0(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return ld(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function HU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=G0(r.transform,i||null);s!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function u0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qs(r,i,(s,o)=>BU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Si=class extends Xs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends Xs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Z0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function l0(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,UU(o,a,n[i]))}return r}function d0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,jU(s,o,e))}return r}var vd=class extends Xs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ny=class extends Xs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var xy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&$U(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=q0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=Y0(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>u0(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>u0(n,r))}},Py=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return OU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Oy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ky=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Fe,pe;function qU(t){switch(t){default:return z();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function J0(t){if(t===void 0)return qn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Fe.OK:return N.OK;case Fe.CANCELLED:return N.CANCELLED;case Fe.UNKNOWN:return N.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return N.INTERNAL;case Fe.UNAVAILABLE:return N.UNAVAILABLE;case Fe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Fe.NOT_FOUND:return N.NOT_FOUND;case Fe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Fe.ABORTED:return N.ABORTED;case Fe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Fe.DATA_LOSS:return N.DATA_LOSS;default:return z()}}(pe=Fe||(Fe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var h0=null;function zU(){return new TextEncoder}var GU=new br([4294967295,4294967295],0);function f0(t){let e=zU().encode(t),n=new Ym;return n.update(e),new Uint8Array(n.digest())}function p0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new br([n,r],0),new br([i,s],0)]}var Fy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _i(`Invalid padding: ${n}`);if(r<0)throw new _i(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _i(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _i(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=br.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(br.fromNumber(r)));return i.compare(GU)===1&&(i=new br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=f0(e),[r,i]=p0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=f0(e),[r,i]=p0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},_i=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _d=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new Oe(_e),Gn(),he())}},Ja=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,he(),he(),he())}};var Bs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Id=class{constructor(e,n){this.targetId=e,this.me=n}},wd=class{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ed=class{constructor(){this.fe=0,this.ge=m0(),this.pe=ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),n=he(),r=he();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new Ja(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=m0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Ly=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gn(),this.qe=g0(),this.Qe=new Oe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Ay(s))if(r===0){let o=new $(s.path);this.Ue(n,o,Wt.newNoDocument(o,J.min()))}else Ce(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}h0?.et(function(f,p,m,v,S){var M,R,F,U,H,oe;let Re={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Y=p.unchangedNames;return Y&&(Re.bloomFilter={applied:S===0,hashCount:(M=Y?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(U=(F=(R=Y?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&U!==void 0?U:0,padding:(oe=(H=Y?.bits)===null||H===void 0?void 0:H.padding)!==null&&oe!==void 0?oe:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Re}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Sr(r).toUint8Array()}catch(u){if(u instanceof gd)return Hs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Fy(o,i,s)}catch(u){return Hs(u instanceof _i?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Ay(a.target)){let u=new $(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Wt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=he();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new _d(e,n,this.Qe,this.ke,r);return this.ke=Gn(),this.qe=g0(),this.Qe=new Oe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ed,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new st(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ed),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function g0(){return new Oe($.comparator)}function m0(){return new Oe($.comparator)}var WU={asc:"ASCENDING",desc:"DESCENDING"},KU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QU={and:"AND",or:"OR"},Vy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function jy(t,e){return t.useProto3Json||$d(e)?e:{value:e}}function Dd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YU(t,e){return Dd(t,e.toTimestamp())}function hn(t){return Ce(!!t),J.fromTimestamp(function(n){let r=zn(n);return new Qe(r.seconds,r.nanos)}(t))}function Wv(t,e){return Uy(t,e).canonicalString()}function Uy(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eS(t){let e=Pe.fromString(t);return Ce(sS(e)),e}function By(t,e){return Wv(t.databaseId,e.path)}function ry(t,e){let n=eS(e);if(n.get(1)!==t.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(nS(n))}function tS(t,e){return Wv(t.databaseId,e)}function ZU(t){let e=eS(t);return e.length===4?Pe.emptyPath():nS(e)}function $y(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nS(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function y0(t,e,n){return{name:By(t,e),fields:n.value.mapValue.fields}}function JU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(Ce(f===void 0||typeof f=="string"),ot.fromBase64String(f||"")):(Ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ot.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let f=l.code===void 0?N.UNKNOWN:J0(l.code);return new V(f,l.message||"")}(o);n=new wd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ry(t,r.document.name),s=hn(r.document.updateTime),o=r.document.createTime?hn(r.document.createTime):J.min(),a=new Gt({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,s,o,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Bs(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ry(t,r.document),s=r.readTime?hn(r.readTime):J.min(),o=Wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ry(t,r.document),s=r.removedTargetIds||[];n=new Bs([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new ky(i,s),a=r.targetId;n=new Id(a,o)}}return n}function XU(t,e){let n;if(e instanceof Si)n={update:y0(t,e.key,e.value)};else if(e instanceof vd)n={delete:By(t,e.key)};else if(e instanceof Wn)n={update:y0(t,e.key,e.data),updateMask:c2(e.fieldMask)};else{if(!(e instanceof Ny))return z();n={verify:By(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Zs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ti)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Js)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:z()}(t,e.precondition)),n}function e2(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hn(i.updateTime):hn(s);return o.isEqual(J.min())&&(o=hn(s)),new My(o,i.transformResults||[])}(n,e))):[]}function t2(t,e){return{documents:[tS(t,e.path)]}}function n2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tS(t,i);let s=function(l){if(l.length!==0)return iS(pn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:Vs(m.field),direction:s2(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=jy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function r2(t){let e=ZU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){let m=rS(p);return m instanceof pn&&F0(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new Ks(js(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,$d(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new Ws(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new Ws(v,m)}(n.endAt)),AU(e,i,o,s,a,"F",u,l)}function i2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=js(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=js(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=js(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=js(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>rS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function s2(t){return WU[t]}function o2(t){return KU[t]}function a2(t){return QU[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function js(t){return St.fromServerFormat(t.fieldPath)}function iS(t){return t instanceof $e?function(n){if(n.op==="=="){if(r0(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(n0(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r0(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(n0(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:o2(n.op),value:n.value}}}(t):t instanceof pn?function(n){let r=n.getFilters().map(i=>iS(i));return r.length===1?r[0]:{compositeFilter:{op:a2(n.op),filters:r}}}(t):z()}function c2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Xa=class t{constructor(e,n,r,i,s=J.min(),o=J.min(),a=ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Hy=class{constructor(e){this.ct=e}};function u2(t){let e=r2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ry(e,e.limit,"L"):e}var Cd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Qa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=zn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Sr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?P0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):x0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),$.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Cd.vt=new Cd;var qy=class{constructor(){this.un=new zy}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Di.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},zy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Pe.comparator)).toArray()}};var _6=new Uint8Array(0);var cn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);var ec=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Gy=class{constructor(){this.changes=new Ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Wy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ky=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wa(r.mutation,i,un.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){let i=vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ha();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gn(),o=Ga(),a=function(){return Ga()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Wn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),Wa(f.mutation,l,f.mutation.getFieldMask(),Qe.now())):o.set(l.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var p;return a.set(l,new Wy(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ga(),i=new Oe((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||un.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=q0();f.forEach(m=>{if(!s.has(m)){let v=Y0(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return $.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(vi()),a=-1,u=s;return o.next(l=>x.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,he())).next(f=>({batchId:a,changes:H0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=Ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ha();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Qs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Wt.newInvalidDocument(f)))});let a=Ha();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&Wa(f.mutation,l,un.empty(),Qe.now()),qd(n,l)&&(a=a.insert(u,l))}),a})}};var Qy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:u2(i.bundledQuery),readTime:hn(i.readTime)}}(n)),x.resolve()}};var Yy=class{constructor(){this.overlays=new Oe($.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=vi();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=vi(),s=n.length+1,o=new $(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=vi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=vi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Oy(n,r));let s=this.Ir.get(n);s===void 0&&(s=he(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Zy=class{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var tc=class{constructor(){this.Tr=new st(Le.Er),this.dr=new st(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Le(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Le(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new $(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new $(new Pe([])),r=new Le(n,e),i=new Le(n,e+1),s=he();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Le(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||$.comparator(e.key,n.key)}};var Jy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new st(Le.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new xy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Le(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(_e);return n.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;$.isDocumentKey(s)||(s=s.child(""));let o=new Le(new $(s),0),a=new st(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Le(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Le(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Xy=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gn(),o=n.path,a=new $(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||yU(mU(f),r)<=0||(i.has(f.key)||qd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){z()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ev(this)}getSize(e){return x.resolve(this.size)}},ev=class extends Gy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var tv=class{constructor(e){this.persistence=e,this.Nr=new Ar(n=>Hv(n),qv),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tc,this.targetCount=0,this.kr=ec.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ec(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var nv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new M0(0),this.Kr=!1,this.Kr=!0,this.$r=new Zy,this.referenceDelegate=e(this),this.Ur=new tv(this),this.indexManager=new qy,this.remoteDocumentCache=function(i){return new Xy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Hy(n),this.Gr=new Qy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Jy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new rv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},rv=class extends gy{constructor(e){super(),this.currentSequenceNumber=e}},iv=class t{constructor(e){this.persistence=e,this.Jr=new tc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=$.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var sv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=he(),i=he();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var ov=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var av=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Ob()?8:_U(qe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new ov;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?($a()<=de.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):($a()<=de.DEBUG&&L("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?($a()<=de.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dn(n))):x.resolve())}Yi(e,n){if(a0(n))return x.resolve(null);let r=dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ry(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=he(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Ry(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return a0(n)||i.isEqual(J.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):($a()<=de.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.rs(e,o,n,gU(i,-1)).next(a=>a))})}ts(e,n){let r=new st(B0(e));return n.forEach((i,s)=>{qd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return $a()<=de.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,Di.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var cv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(_e),this._s=new Ar(s=>Hv(s),qv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ky(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function l2(t,e,n,r){return new cv(t,e,n,r)}function oS(t,e){return w(this,null,function*(){let n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=he();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function d2(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>f.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);Ce(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=he();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aS(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h2(t,e){let n=Q(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ot.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,f)&&a.push(n.Ur.updateTargetData(s,v))});let u=Gn(),l=he();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(f2(s,o,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(J.min())){let f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function f2(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function p2(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function g2(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Xa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function uv(t,e,n){return w(this,null,function*(){let r=Q(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ac(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function v0(t,e,n){let r=Q(t),i=J.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=Q(u),m=p._s.get(f);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,f)}(r,o,dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:he())).next(a=>(m2(r,NU(e),a),{documents:a,Ts:s})))}function m2(t,e,n){let r=t.us.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var bd=class{constructor(){this.activeTargetIds=LU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var lv=class{constructor(){this.so=new bd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new bd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dv=class{_o(e){}shutdown(){}};var Td=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var cd=null;function iy(){return cd===null?cd=function(){return 268435456+Math.round(2147483648*Math.random())}():cd++,"0x"+cd.toString(16)}var y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var hv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var it="WebChannelConnection",fv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=iy(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Hs("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=y2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=iy();return new Promise((o,a)=>{let u=new Zm;u.setWithCredentials(!0),u.listenOnce(Xm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ba.NO_ERROR:let f=u.getResponseJson();L(it,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ba.TIMEOUT:L(it,`RPC '${e}' ${s} timed out`),a(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ba.HTTP_ERROR:let p=u.getStatus();if(L(it,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(v.status);a(new V(S,v.message))}else a(new V(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(N.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{L(it,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(it,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=iy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ny(),a=ty(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Jm({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");L(it,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),m=!1,v=!1,S=new hv({Io:R=>{v?L(it,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(it,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(it,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,U)=>{R.listen(F,H=>{try{U(H)}catch(oe){setTimeout(()=>{throw oe},0)}})};return M(p,Fs.EventType.OPEN,()=>{v||(L(it,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),M(p,Fs.EventType.CLOSE,()=>{v||(v=!0,L(it,`RPC '${e}' stream ${i} transport closed`),S.So())}),M(p,Fs.EventType.ERROR,R=>{v||(v=!0,Hs(it,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new V(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Fs.EventType.MESSAGE,R=>{var F;if(!v){let U=R.data[0];Ce(!!U);let H=U,oe=H.error||((F=H[0])===null||F===void 0?void 0:F.error);if(oe){L(it,`RPC '${e}' stream ${i} received error:`,oe);let Re=oe.status,Y=function(_){let E=Fe[_];if(E!==void 0)return J0(E)}(Re),D=oe.message;Y===void 0&&(Y=N.INTERNAL,D="Unknown error status: "+Re+" with message "+oe.message),v=!0,S.So(new V(Y,D)),p.close()}else L(it,`RPC '${e}' stream ${i} received:`,U),S.bo(U)}}),M(a,ey.STAT_EVENT,R=>{R.stat===od.PROXY?L(it,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===od.NOPROXY&&L(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function sy(){return typeof document<"u"?document:null}function zd(t){return new Vy(t,!0)}var Sd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ad=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Sd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(qn(n.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pv=class extends Ad{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=JU(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?hn(o.readTime):J.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=$y(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Ay(u)?{documents:t2(s,u)}:{query:n2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=X0(s,o.resumeToken);let l=jy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=Dd(s,o.snapshotVersion.toTimestamp());let l=jy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=i2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=$y(this.serializer),n.removeTarget=e,this.a_(n)}},gv=class extends Ad{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=e2(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=$y(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>XU(this.serializer,r))};this.a_(n)}};var mv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Uy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Uy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},yv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qn(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var vv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Ai(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Q(u);l.L_.add(4),yield cc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Gd(l)})}(this))}))}),this.q_=new yv(r,i)}};function Gd(t){return w(this,null,function*(){if(Ai(t))for(let e of t.B_)yield e(!0)})}function cc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function cS(t,e){let n=Q(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Zv(n)?Yv(n):so(n).r_()&&Qv(n,e))}function Kv(t,e){let n=Q(t),r=so(n);n.N_.delete(e),r.r_()&&uS(n,e),n.N_.size===0&&(r.r_()?r.o_():Ai(n)&&n.q_.set("Unknown"))}function Qv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(t).A_(e)}function uS(t,e){t.Q_.xe(e),so(t).R_(e)}function Yv(t){t.Q_=new Ly({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),so(t).start(),t.q_.v_()}function Zv(t){return Ai(t)&&!so(t).n_()&&t.N_.size>0}function Ai(t){return Q(t).L_.size===0}function lS(t){t.Q_=void 0}function v2(t){return w(this,null,function*(){t.q_.set("Online")})}function _2(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{Qv(t,e)})})}function I2(t,e){return w(this,null,function*(){lS(t),Zv(t)?(t.q_.M_(e),Yv(t)):t.q_.set("Unknown")})}function w2(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof wd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rd(t,r)}else if(e instanceof Bs?t.Q_.Ke(e):e instanceof Id?t.Q_.He(e):t.Q_.We(e),!n.isEqual(J.min()))try{let r=yield aS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(l);f&&s.N_.set(l,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(ot.EMPTY_BYTE_STRING,f.snapshotVersion)),uS(s,u);let p=new Xa(f.target,u,l,f.sequenceNumber);Qv(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield Rd(t,r)}})}function Rd(t,e,n){return w(this,null,function*(){if(!ac(e))throw e;t.L_.add(1),yield cc(t),t.q_.set("Offline"),n||(n=()=>aS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Gd(t)}))})}function dS(t,e){return e().catch(n=>Rd(t,n,e))}function Wd(t){return w(this,null,function*(){let e=Q(t),n=Rr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;E2(e);)try{let i=yield p2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,D2(e,i)}catch(i){yield Rd(e,i)}hS(e)&&fS(e)})}function E2(t){return Ai(t)&&t.O_.length<10}function D2(t,e){t.O_.push(e);let n=Rr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function hS(t){return Ai(t)&&!Rr(t).n_()&&t.O_.length>0}function fS(t){Rr(t).start()}function C2(t){return w(this,null,function*(){Rr(t).p_()})}function b2(t){return w(this,null,function*(){let e=Rr(t);for(let n of t.O_)e.m_(n.mutations)})}function T2(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Py.from(r,e,n);yield dS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Wd(t)})}function S2(t,e){return w(this,null,function*(){e&&Rr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return qU(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Rr(r).s_(),yield dS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Wd(r)}})}(t,e)),hS(t)&&fS(t)})}function _0(t,e){return w(this,null,function*(){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Ai(n);n.L_.add(3),yield cc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Gd(n)})}function A2(t,e){return w(this,null,function*(){let n=Q(t);e?(n.L_.delete(2),yield Gd(n)):e||(n.L_.add(2),yield cc(n),n.q_.set("Unknown"))})}function so(t){return t.K_||(t.K_=function(n,r,i){let s=Q(n);return s.w_(),new pv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:v2.bind(null,t),Ro:_2.bind(null,t),mo:I2.bind(null,t),d_:w2.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),Zv(t)?Yv(t):t.q_.set("Unknown")):(yield t.K_.stop(),lS(t))}))),t.K_}function Rr(t){return t.U_||(t.U_=function(n,r,i){let s=Q(n);return s.w_(),new gv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:C2.bind(null,t),mo:S2.bind(null,t),f_:b2.bind(null,t),g_:T2.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Wd(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var _v=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Jv(t,e){if(qn("AsyncQueue",`${e}: ${t}`),ac(t))return new V(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Md=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=Ha(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Nd=class{constructor(){this.W_=new Oe($.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},eo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Md.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Iv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},wv=class{constructor(){this.queries=I0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Q(n),s=i.queries;i.queries=I0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function I0(){return new Ar(t=>U0(t),Hd)}function R2(t,e){return w(this,null,function*(){let n=Q(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Iv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Jv(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Xv(n)})}function M2(t,e){return w(this,null,function*(){let n=Q(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function N2(t,e){let n=Q(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Xv(n)}function x2(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function Xv(t){t.Y_.forEach(e=>{e.next()})}var Ev,w0;(w0=Ev||(Ev={})).ea="default",w0.Cache="cache";var Dv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ev.Cache}};var xd=class{constructor(e){this.key=e}},Pd=class{constructor(e){this.key=e}},Cv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=B0(e),this.Ra=new Md(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Nd,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),v=qd(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=M?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,p)=>function(v,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return M(v)-M(S)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new eo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Nd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Pd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new xd(r))}),n}ba(e){this.Ta=e.Ts,this.da=he();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return eo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},bv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Tv=class{constructor(e){this.key=e,this.va=!1}},Sv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ar(a=>U0(a),Hd),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe($.comparator),this.Na=new Map,this.La=new tc,this.Ba={},this.ka=new Map,this.qa=ec.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function P2(t,e,n=!0){return w(this,null,function*(){let r=_S(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield pS(r,e,n,!0),i})}function O2(t,e){return w(this,null,function*(){let n=_S(t);yield pS(n,e,!0,!1)})}function pS(t,e,n,r){return w(this,null,function*(){let i=yield g2(t.localStore,dn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield k2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&cS(t.remoteStore,i),a})}function k2(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(M,R,F,U){return w(this,null,function*(){let H=R.view.ma(F);H.ns&&(H=yield v0(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,H)));let oe=U&&U.targetChanges.get(R.targetId),Re=U&&U.targetMismatches.get(R.targetId)!=null,Y=R.view.applyChanges(H,M.isPrimaryClient,oe,Re);return D0(M,R.targetId,Y.wa),Y.snapshot})}(t,p,m,v);let s=yield v0(t.localStore,e,!0),o=new Cv(e,s.Ts),a=o.ma(s.documents),u=Ja.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);D0(t,n,l.wa);let f=new bv(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function F2(t,e,n){return w(this,null,function*(){let r=Q(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Hd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield uv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kv(r.remoteStore,i.targetId),Av(r,i.targetId)}).catch(oc))):(Av(r,i.targetId),yield uv(r.localStore,i.targetId,!0))})}function L2(t,e){return w(this,null,function*(){let n=Q(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kv(n.remoteStore,r.targetId))})}function V2(t,e,n){return w(this,null,function*(){let r=z2(t);try{let i=yield function(o,a){let u=Q(o),l=Qe.now(),f=a.reduce((v,S)=>v.add(S.key),he()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Gn(),M=he();return u.cs.getEntries(v,f).next(R=>{S=R,S.forEach((F,U)=>{U.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let F=[];for(let U of a){let H=HU(U,p.get(U.key).overlayedDocument);H!=null&&F.push(new Wn(U.key,H,O0(H.value.mapValue),wi.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:H0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(_e)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield uc(r,i.changes),yield Wd(r.remoteStore)}catch(i){let s=Jv(i,"Failed to persist write");n.reject(s)}})}function gS(t,e){return w(this,null,function*(){let n=Q(t);try{let r=yield h2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ce(o.va):i.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),yield uc(n,r,e)}catch(r){yield oc(r)}})}function E0(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Q(o);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Xv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function j2(t,e,n){return w(this,null,function*(){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe($.comparator);o=o.insert(s,Wt.newNoDocument(s,J.min()));let a=he().add(s),u=new _d(J.min(),new Map,new Oe(_e),o,a);yield gS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),e_(r)}else yield uv(r.localStore,e,!1).then(()=>Av(r,e,n)).catch(oc)})}function U2(t,e){return w(this,null,function*(){let n=Q(t),r=e.batch.batchId;try{let i=yield d2(n.localStore,e);yS(n,r,null),mS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield uc(n,i)}catch(i){yield oc(i)}})}function B2(t,e,n){return w(this,null,function*(){let r=Q(t);try{let i=yield function(o,a){let u=Q(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);yS(r,e,n),mS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield uc(r,i)}catch(i){yield oc(i)}})}function mS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function yS(t,e,n){let r=Q(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Av(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vS(t,r)})}function vS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Kv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),e_(t))}function D0(t,e,n){for(let r of n)r instanceof xd?(t.La.addReference(r.key,e),$2(t,r)):r instanceof Pd?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vS(t,r.key)):z()}function $2(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),e_(t))}function e_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new $(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new Tv(n)),t.Oa=t.Oa.insert(n,r),cS(t.remoteStore,new Xa(dn(zv(n.path)),r,"TargetPurposeLimboResolution",M0.oe))}}function uc(t,e,n){return w(this,null,function*(){let r=Q(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=sv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=Q(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!ac(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=f.os.get(m),S=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(m,M)}}})}(r.localStore,s))})}function H2(t,e){return w(this,null,function*(){let n=Q(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield oS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new V(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uc(n,r.hs)}})}function q2(t,e){let n=Q(t),r=n.Na.get(e);if(r&&r.va)return he().add(r.key);{let i=he(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function _S(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j2.bind(null,e),e.Ca.d_=N2.bind(null,e.eventManager),e.Ca.$a=x2.bind(null,e.eventManager),e}function z2(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B2.bind(null,e),e}var Od=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return l2(this.persistence,new av,e.initialUser,this.serializer)}createPersistence(e){return new nv(iv.Zr,this.serializer)}createSharedClientState(e){return new lv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Rv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H2.bind(null,this.syncEngine),yield A2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new wv}()}createDatastore(e){let n=zd(e.databaseInfo.databaseId),r=function(s){return new fv(s)}(e.databaseInfo);return function(s,o,a,u){return new mv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>E0(this.syncEngine,n,0),function(){return Td.D()?new Td:new dv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,f){let p=new Sv(i,s,o,a,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Q(i);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield cc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Mv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Nv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ze.UNAUTHENTICATED,this.clientId=hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Jv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function oy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield oS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function C0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield W2(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_0(e.remoteStore,i)),t._onlineComponents=e})}function G2(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function W2(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield oy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!G2(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),yield oy(t,new Od)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield oy(t,new Od);return t._offlineComponents})}function IS(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield C0(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield C0(t,new Rv))),t._onlineComponents})}function K2(t){return IS(t).then(e=>e.syncEngine)}function b0(t){return w(this,null,function*(){let e=yield IS(t),n=e.eventManager;return n.onListen=P2.bind(null,e.syncEngine),n.onUnlisten=F2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L2.bind(null,e.syncEngine),n})}function wS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var T0=new Map;function ES(t,e,n){if(!n)throw new V(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q2(t,e,n,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function S0(t){if(!$.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A0(t){if($.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function t_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function Ka(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=t_(t);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var kd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},to=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ay;switch(r.type){case"firstParty":return new dy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=T0.get(n);r&&(L("ComponentProvider","Removing Datastore"),T0.delete(n),r.terminate())}(this),Promise.resolve()}};function DS(t,e,n,r={}){var i;let s=(t=Ka(t,to))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ze.MOCK_USER;else{a=Rb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ze(l)}t._authCredentials=new cy(new dd(a,u))}}var Fd=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Tr=class t extends Fd{constructor(e,n,r){super(e,n,zv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Kd(t,e,...n){if(t=yt(t),ES("collection","path",e),t instanceof to){let r=Pe.fromString(e,...n);return A0(r),new Tr(t,null,r)}{if(!(t instanceof Lt||t instanceof Tr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return A0(r),new Tr(t.firestore,null,r)}}function CS(t,e,...n){if(t=yt(t),arguments.length===1&&(e=hd.newId()),ES("doc","path",e),t instanceof to){let r=Pe.fromString(e,...n);return S0(r),new Lt(t,null,new $(r))}{if(!(t instanceof Lt||t instanceof Tr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return S0(r),new Lt(t.firestore,t instanceof Tr?t.converter:null,new $(r))}}var xv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Sd(this,"async_queue_retry"),this.Eu=()=>{let n=sy();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=sy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Hn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ac(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw qn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=_v.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&z()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function R0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var no=class extends to{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new xv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SS(this),this._firestoreClient.terminate()}};function bS(t,e){let n=typeof t=="object"?t:Rs(),r=typeof t=="string"?t:e||"(default)",i=xa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Ab("firestore");s&&DS(i,...s)}return i}function TS(t){return t._firestoreClient||SS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function SS(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,f){return new my(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,wS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Nv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var nc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ot.fromBase64String(e))}catch(n){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var rc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ld=class{constructor(e){this._methodName=e}};var ic=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var sc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Y2=/^__.*__$/,Pv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Si(e,this.data,n,this.fieldTransforms)}};function AS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var Ov=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Vd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(AS(this.wu)&&Y2.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},kv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zd(e)}Nu(e,n,r,i=!1){return new Ov({wu:e,methodName:n,Ou:r,path:St.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Z2(t){let e=t._freezeSettings(),n=zd(t._databaseId);return new kv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J2(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);xS("Data must be an object, but it was:",o,r);let a=MS(r,o),u,l;if(s.merge)u=new un(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let m=X2(e,p,n);if(!o.contains(m))throw new V(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);tB(f,m)||f.push(m)}u=new un(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Pv(new Gt(a),u,l)}function RS(t,e){if(NS(t=yt(t)))return xS("Unsupported field value:",e,t),MS(t,e);if(t instanceof Ld)return function(r,i){if(!AS(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=RS(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Qe.fromDate(r);return{timestampValue:Dd(i.serializer,s)}}if(r instanceof Qe){let s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dd(i.serializer,s)}}if(r instanceof ic)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nc)return{bytesValue:X0(i.serializer,r._byteString)};if(r instanceof Lt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Gv(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${t_(r)}`)}(t,e)}function MS(t,e){let n={};return N0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(r,i)=>{let s=RS(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof ic||t instanceof nc||t instanceof Lt||t instanceof Ld||t instanceof sc)}function xS(t,e,n){if(!NS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=t_(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function X2(t,e,n){if((e=yt(e))instanceof rc)return e._internalPath;if(typeof e=="string")return PS(t,e);throw Vd("Field path arguments must be of type string or ",t,!1,void 0,n)}var eB=new RegExp("[~\\*/\\[\\]]");function PS(t,e,n){if(e.search(eB)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rc(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(N.INVALID_ARGUMENT,a+t+u)}function tB(t,e){return t.some(n=>n.isEqual(e))}var jd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Fv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(OS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Fv=class extends jd{data(){return super.data()}};function OS(t,e){return typeof e=="string"?PS(t,e):e instanceof rc?e._internalPath:e._delegate._internalPath}function nB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lv=class{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return io(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new sc(s)}convertGeoPoint(e){return new ic(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Bv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){let n=zn(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);Ce(sS(r));let i=new md(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(n)||qn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function rB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ii=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ud=class extends jd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new $s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(OS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},$s=class extends Ud{data(e={}){return super.data(e)}},Vv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ii(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $s(this._firestore,this._userDataWriter,r.key,r,new Ii(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new $s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ii(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new $s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ii(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:iB(a.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function iB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}var Bd=class extends Lv{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}};function kS(t,e){let n=Ka(t.firestore,no),r=CS(t),i=rB(t.converter,e);return sB(n,[J2(Z2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wi.exists(!1))]).then(()=>r)}function n_(t,...e){var n,r,i;t=yt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||R0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(R0(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof Lt)l=Ka(t.firestore,no),f=zv(t._key.path),u={next:p=>{e[o]&&e[o](oB(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Ka(t,Fd);l=Ka(p.firestore,no),f=p._query;let m=new Bd(l);u={next:v=>{e[o]&&e[o](new Vv(l,m,p,v))},error:e[o+1],complete:e[o+2]},nB(t._query)}return function(m,v,S,M){let R=new Mv(M),F=new Dv(v,R,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return R2(yield b0(m),F)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return M2(yield b0(m),F)}))}}(TS(l),f,a,u)}function sB(t,e){return function(r,i){let s=new Hn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return V2(yield K2(r),i,s)})),s.promise}(TS(t),e)}function oB(t,e,n){let r=n.docs.get(e._key),i=new Bd(t);return new Ud(t,i,e._key,r,new Ii(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ro=i})(Ir),_r(new Ft("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new no(new uy(r.getProvider("auth-internal")),new fy(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Be(JT,"4.7.1",e),Be(JT,"4.7.1","esm2017")})();var Qd=function(){return Qd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qd.apply(this,arguments)};var uB={includeMetadataChanges:!1};function FS(t,e){return e===void 0&&(e=uB),new ce(function(n){var r=n_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function LS(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Qd(Qd({},r),(n={},n[e.idField]=t.id,n))}function VS(t){return FS(t,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function jS(t,e){return e===void 0&&(e={}),VS(t).pipe(ee(function(n){return n.map(function(r){return LS(r,e)})}))}var Ri=class{constructor(e){return e}},US="firestore",r_=class{constructor(){return Pa(US)}};var i_=new j("angularfire2.firestore-instances");function lB(t,e){let n=jl(US,t,e);return n&&new Ri(n)}function dB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ri(r)}}var hB={provide:r_,deps:[[new pt,i_]]},fB={provide:Ri,useFactory:lB,deps:[[new pt,i_],jn]};function BS(t,...e){return Be("angularfire",di.full,"fst"),tn([fB,hB,{provide:i_,useFactory:dB(t),multi:!0,deps:[we,ft,xs,hi,[new pt,Ua],[new pt,Ns],...e]}])}var $S=Vn(jS,!0);var HS=Vn(kS,!0);var qS=Vn(bS,!0);var Yd=class t{constructor(e,n){this.router=e;this.firestore=n}nombreIngresado="carlos";claveIngresada=123;user="";errorLogin=!1;loginsCollection=[];countLogins=0;sub;goTo(e){this.router.navigate([e])}Login(){let e=Kd(this.firestore,"logins");HS(e,{fecha:new Date,user:this.user})}GetData(){let e=Kd(this.firestore,"logins"),n=$S(e);this.sub=n.subscribe(r=>{this.loginsCollection=r,this.countLogins=this.loginsCollection.length,console.log(r)})}static \u0275fac=function(n){return new(n||t)(ne(rn),ne(Ri))};static \u0275cmp=gt({type:t,selectors:[["app-login"]],standalone:!0,features:[mt],decls:0,vars:0,template:function(n,r){},dependencies:[Xo,xl],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(#000000b3,#000000b3);z-index:-1}.card[_ngcontent-%COMP%]{background-color:#d0fac360;border:none}.form-control[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:10px;border:2px solid #ddd;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#fc0;box-shadow:0 0 10px #ffcc0080}label[_ngcontent-%COMP%]{margin-left:10px;font-weight:700}#registrarse[_ngcontent-%COMP%], #olvido-contrasena[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#000;text-decoration:none}#registrarse[_ngcontent-%COMP%]:hover, #olvido-contrasena[_ngcontent-%COMP%]:hover{color:#fc0}span[_ngcontent-%COMP%]{font-weight:700}"]})};var Zd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=gt({type:t,selectors:[["app-home"]],standalone:!0,features:[mt],decls:27,vars:0,consts:[[1,"seccion-juegos"],[1,"preguntados"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfcCz3JlM4xlxLvDWPSj71xusZCerXq0QEpg&s","alt","preguntados"],["href","scores"],[1,"mayor-menor"],["src","https://resizer.glanacion.com/resizer/v2/un-juego-con-cartas-espanolas-sin-comodines-ni-L4YAHBM6IVBLNEJA5E33NQTKHI.jpg?auth=c4b877fbfbe96ead5811742b26ba93b66a4e97730d76bc15e6920f84a1745fd4&width=768&quality=70&smart=false","alt","mayor o menor"],[1,"ahorcado"],["src","https://cdn-icons-png.flaticon.com/512/2241/2241387.png","alt","ahorcado"],[1,"juego-nuevo"],["src","https://img.freepik.com/vector-gratis/hoja-trabajo-juego-combinacion-creativo-animales_23-2148782846.jpg","alt","juego nuevo"]],template:function(n,r){n&1&&(ie(0,"h1"),ye(1,"Seccion de Juegos"),le(),ie(2,"div",0)(3,"div",1),lt(4,"img",2),ie(5,"p"),ye(6,"Preguntados"),le(),ie(7,"a",3),ye(8,"ver puntuacion"),le()(),ie(9,"div",4),lt(10,"img",5),ie(11,"p"),ye(12,"Mayor o Menor"),le(),ie(13,"a",3),ye(14,"ver puntuacion"),le()(),ie(15,"div",6),lt(16,"img",7),ie(17,"p"),ye(18,"Ahorcado"),le(),ie(19,"a",3),ye(20,"ver puntuacion"),le()(),ie(21,"div",8),lt(22,"img",9),ie(23,"p"),ye(24,"Juego Nuevo"),le(),ie(25,"a",3),ye(26,"ver puntuacion"),le()()())},styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:80px;font-size:3.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}p[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-weight:700;margin:40px 0}.seccion-juegos[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:100px;padding:20px;align-items:center}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;box-shadow:0 4px 8px #00000080;transition:transform .3s ease}.seccion-juegos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer;box-shadow:0 4px 8px #000}a[_ngcontent-%COMP%]{background-color:#deb887;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;color:#fff;padding:10px 20px;margin-left:110px;text-decoration:none;border-radius:15px;font-size:1.2em;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{background-color:#e6ab5e;transform:scale(1.05)}a[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}"]})};var Jd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=gt({type:t,selectors:[["app-error"]],standalone:!0,features:[mt],decls:2,vars:0,template:function(n,r){n&1&&(ie(0,"p"),ye(1,"error works!"),le())}})};var Xd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=gt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[mt],decls:20,vars:0,consts:[[1,"container","mt-5","p-5","bg-light","rounded-5","shadow-lg",2,"background-size","cover","background-position","center"],[1,"row","align-items-center","bg-card","rounded-5","shadow","p-4"],[1,"col-md-4","text-center"],["src","../../../../public/quiensoy.jpeg","alt","Juan Pablo",1,"img-fluid","rounded-circle","shadow",2,"max-width","320px"],[1,"col-md-8"],[1,"mb-4","text-dark","display-4"],[1,"lead","text-dark"]],template:function(n,r){n&1&&(ie(0,"div",0)(1,"div",1)(2,"div",2),lt(3,"img",3),le(),ie(4,"div",4)(5,"h1",5),ye(6,"Me llamo Juan Pablo De Maio"),le(),ie(7,"p",6)(8,"strong"),ye(9,"Edad:"),le(),ye(10," 19 a\xF1os"),lt(11,"br"),ie(12,"strong"),ye(13,"Estudios:"),le(),ye(14," Actualmente estudio en la UTN, cursando la carrera de T\xE9cnico en Programaci\xF3n."),lt(15,"br"),ie(16,"strong"),ye(17,"Juego con Cartas o Im\xE1genes"),le(),lt(18,"br"),ye(19," Descripci\xF3n: Pensaba en mostrar una serie de cartas que se van a dar vuelta, despu\xE9s se volver\xEDan a dar vuelta y el jugador deber\xEDa ir clickeando en el orden que se fueron mostrando las cartas. Se deber\xEDa subir la dificultad ocultando las cartas m\xE1s r\xE1pido e ir sumando puntos. "),le()()()())},styles:[".container[_ngcontent-%COMP%]{border-radius:30px;background-size:cover;background-position:center;overflow:hidden}.bg-card[_ngcontent-%COMP%]{background-color:#7dd86299;border:1px solid rgba(208,250,195,.8);box-shadow:0 4px 8px #0003;padding:20px}h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2.5rem;font-weight:700;color:#343a40}p.lead[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:1.2rem;line-height:1.8;color:#343a40}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:320px;border:5px solid #ffc107}.rounded-5[_ngcontent-%COMP%]{border-radius:30px!important}.bg-light[_ngcontent-%COMP%]{background-color:#d0fac399!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 20px #0003}"]})};var eh=class t{constructor(e,n){this.auth=e}nuevoEmail="";nuevaClave="";router;usuarioLoggeado="";flagError=!1;msjError="";Register(){KT(this.auth,this.nuevoEmail,this.nuevaClave).then(e=>{e.user.email!==null&&(this.usuarioLoggeado=e.user.email),this.flagError=!1}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.msjError="Email invalido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;default:this.msjError=e.code;break}})}static \u0275fac=function(n){return new(n||t)(ne(yi),ne(rn))};static \u0275cmp=gt({type:t,selectors:[["app-registro"]],standalone:!0,features:[mt],decls:23,vars:2,consts:[[1,"overlay","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-lg",2,"width","450px","border-radius","20px"],[1,"text-center","mb-4"],[1,"form-group"],["for","mail"],["type","text","id","email","name","email","placeholder","Ingrese su email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","placeholder","Ingrese una contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mb-3"],["href","#","id","olvido-contrasena",1,"text-decoration-none"],["type","submit",1,"btn","btn-warning","btn-block","rounded-pill","font-weight-bold"],[1,"text-center","mt-3"],["href","#","id","registrarse",1,"text-decoration-none"]],template:function(n,r){n&1&&(ie(0,"div",0)(1,"div",1)(2,"h1",2),ye(3,"Inicio Sesi\xF3n"),le(),ie(4,"form")(5,"div",3)(6,"label",4),ye(7,"email"),le(),ie(8,"input",5),el("ngModelChange",function(s){return Lp(r.nuevoEmail,s)||(r.nuevoEmail=s),s}),le()(),ie(9,"div",3)(10,"label",6),ye(11,"Contrase\xF1a"),le(),ie(12,"input",7),el("ngModelChange",function(s){return Lp(r.nuevaClave,s)||(r.nuevaClave=s),s}),le()(),ie(13,"div",8)(14,"a",9),ye(15,"\xBFOlvid\xF3 su contrase\xF1a?"),le()(),ie(16,"button",10),ye(17,"registrarse"),le(),ie(18,"div",11)(19,"span"),ye(20,"\xBFya tienes una cuenta?"),le(),ie(21,"a",12),ye(22,"iniciar sesion"),le()()()()()),n&2&&(bp(8),Xu("ngModel",r.nuevoEmail),bp(4),Xu("ngModel",r.nuevaClave))},dependencies:[Xo,xl,Cb,Ml,yb,vb,Hg,$g,Bg]})};var zS=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:Yd},{path:"home",component:Zd},{path:"quien-soy",component:Xd},{path:"registro",component:eh},{path:"**",component:Jd}];var GS={projectId:"sala-juegos-ab9cb",appId:"1:639687055629:web:6ec8a897ad3ef0f988b844",storageBucket:"sala-juegos-ab9cb.appspot.com",apiKey:"AIzaSyD_AqRMAi5HFadu1U_VaF4wAZPHBskjQWs",authDomain:"sala-juegos-ab9cb.firebaseapp.com",messagingSenderId:"639687055629"};var WS={providers:[QD({eventCoalescing:!0}),eb(zS),Jb(()=>Xb(GS)),WT(()=>QT()),BS(()=>qS())]};var th=class t{constructor(e){this.router=e}title="sala-de-juegos";goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(ne(rn))};static \u0275cmp=gt({type:t,selectors:[["app-root"]],standalone:!0,features:[mt],decls:11,vars:0,consts:[[1,"navbar"],["routerLink","home","routerLinkActive","active-route",1,"nav-link"],["routerLink","quien-soy","routerLinkActive","active-route",1,"nav-link"],[1,"nav-links-derecha"],[1,"nav-link-perfil"],["routerLink","login","routerLinkActive","active-route",1,"nav-link-login",3,"click"]],template:function(n,r){n&1&&(ie(0,"nav",0)(1,"a",1),ye(2,"HOME"),le(),ie(3,"a",2),ye(4,"QUIEN SOY"),le(),ie(5,"div",3)(6,"a",4),ye(7,"PERFIL"),le(),ie(8,"a",5),fr("click",function(){return r.goTo("login")}),ye(9,"LOGIN"),le()()(),lt(10,"router-outlet"))},dependencies:[Ag,Il,XC],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;background-color:#deb887;border-radius:20px;padding:5px 10px;transition:background-color .3s,transform .3s}a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e6ab5e}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.nav-link[_ngcontent-%COMP%]{margin:0 50px;font-size:1.5em}.nav-links-derecha[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:100px}.nav-link-login[_ngcontent-%COMP%], .nav-link-perfil[_ngcontent-%COMP%]{font-size:1.5em}.nav-link-login[_ngcontent-%COMP%]{margin-right:50px}"]})};mC(th,WS).catch(t=>console.error(t));
