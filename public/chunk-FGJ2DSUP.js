var Wx=Object.create;var Kp=Object.defineProperty,Kx=Object.defineProperties,Qx=Object.getOwnPropertyDescriptor,Yx=Object.getOwnPropertyDescriptors,Zx=Object.getOwnPropertyNames,tE=Object.getOwnPropertySymbols,rE=Object.getPrototypeOf,iE=Object.prototype.hasOwnProperty,Jx=Object.prototype.propertyIsEnumerable,Xx=Reflect.get;var nE=(t,e,n)=>e in t?Kp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$=(t,e)=>{for(var n in e||={})iE.call(e,n)&&nE(t,n,e[n]);if(tE)for(var n of tE(e))Jx.call(e,n)&&nE(t,n,e[n]);return t},Le=(t,e)=>Kx(t,Yx(e));var eN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var tN=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Zx(e))!iE.call(t,i)&&i!==n&&Kp(t,i,{get:()=>e[i],enumerable:!(r=Qx(e,i))||r.enumerable});return t};var OH=(t,e,n)=>(n=t!=null?Wx(rE(t)):{},tN(e||!t||!t.__esModule?Kp(n,"default",{value:t,enumerable:!0}):n,t));var hi=(t,e,n)=>Xx(rE(t),n,e);var D=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(d){i(d)}},o=u=>{try{a(n.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var NV=eN((tr,Dv)=>{"use strict";(function(t,e){typeof tr=="object"&&typeof Dv<"u"?Dv.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(tr,function(){"use strict";function t(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,h){return l.get(t(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(t(l,h),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,I=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),h()},s),window.scrollTo(y,I)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),_=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),N="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),M=l=>{console.warn(`${N} ${typeof l=="object"?l.join(" "):l}`)},F=l=>{console.error(`${N} ${l}`)},H=[],K=l=>{H.includes(l)||(H.push(l),M(l))},Q=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;K(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},_e=l=>typeof l=="function"?l():l,Z=l=>l&&typeof l.toPromise=="function",C=l=>Z(l)?l.toPromise():Promise.resolve(l),E=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${g.container}`),S=l=>{let h=b();return h?h.querySelector(l):null},A=l=>S(`.${l}`),R=()=>A(g.popup),T=()=>A(g.icon),yn=()=>A(g["icon-content"]),Gr=()=>A(g.title),ac=()=>A(g["html-container"]),Wr=()=>A(g.image),dr=()=>A(g["progress-steps"]),Kr=()=>A(g["validation-message"]),Wt=()=>S(`.${g.actions} .${g.confirm}`),Qr=()=>S(`.${g.actions} .${g.cancel}`),Tt=()=>S(`.${g.actions} .${g.deny}`),dt=()=>A(g["input-label"]),Yr=()=>S(`.${g.loader}`),vn=()=>A(g.actions),hl=()=>A(g.footer),Ln=()=>A(g["timer-progress-bar"]),cc=()=>A(g.close),Ap=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Zr=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((B,he)=>{let Ae=parseInt(B.getAttribute("tabindex")||"0"),ze=parseInt(he.getAttribute("tabindex")||"0");return Ae>ze?1:Ae<ze?-1:0}),I=l.querySelectorAll(Ap),P=Array.from(I).filter(B=>B.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(P))].filter(B=>vt(B))},Jr=()=>Kt(document.body,g.shown)&&!Kt(document.body,g["toast-shown"])&&!Kt(document.body,g["no-backdrop"]),Xr=()=>{let l=R();return l?Kt(l,g.toast):!1},uc=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},yt=(l,h)=>{if(l.textContent="",h){let I=new DOMParser().parseFromString(h,"text/html"),P=I.querySelector("head");P&&Array.from(P.childNodes).forEach(he=>{l.appendChild(he)});let B=I.querySelector("body");B&&Array.from(B.childNodes).forEach(he=>{he instanceof HTMLVideoElement||he instanceof HTMLAudioElement?l.appendChild(he.cloneNode(!0)):l.appendChild(he)})}},Kt=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let I=0;I<y.length;I++)if(!l.classList.contains(y[I]))return!1;return!0},fl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(_).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Dt=(l,h,y)=>{if(fl(l,h),!h.customClass)return;let I=h.customClass[y];if(I){if(typeof I!="string"&&!I.forEach){M(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof I}"`);return}pe(l,I)}},fo=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},lc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},dc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(I=>{Array.isArray(l)?l.forEach(P=>{y?P.classList.add(I):P.classList.remove(I)}):y?l.classList.add(I):l.classList.remove(I)}))},pe=(l,h)=>{dc(l,h,!0)},Qt=(l,h)=>{dc(l,h,!1)},Fn=(l,h)=>{let y=Array.from(l.children);for(let I=0;I<y.length;I++){let P=y[I];if(P instanceof HTMLElement&&Kt(P,h))return P}},wn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},qe=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},Ye=l=>{l&&(l.style.display="none")},Ze=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Vn(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},ht=(l,h,y,I)=>{let P=l.querySelector(h);P&&P.style.setProperty(y,I)},Vn=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?qe(l,y):Ye(l)},vt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),pl=()=>!vt(Wt())&&!vt(Tt())&&!vt(Qr()),gl=l=>l.scrollHeight>l.clientHeight,ei=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),I=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||I>0},po=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Ln();y&&vt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},ml=()=>{let l=Ln();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),I=h/y*100;l.style.width=`${I}%`},go=()=>typeof window>"u"||typeof document>"u",Rp=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),xp=()=>{let l=b();return l?(l.remove(),Qt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},In=()=>{o.currentInstance.resetValidationMessage()},yl=()=>{let l=R(),h=Fn(l,g.input),y=Fn(l,g.file),I=l.querySelector(`.${g.range} input`),P=l.querySelector(`.${g.range} output`),B=Fn(l,g.select),he=l.querySelector(`.${g.checkbox} input`),Ae=Fn(l,g.textarea);h.oninput=In,y.onchange=In,B.onchange=In,he.onchange=In,Ae.oninput=In,I.oninput=()=>{In(),P.value=I.value},I.onchange=()=>{In(),P.value=I.value}},vl=l=>typeof l=="string"?document.querySelector(l):l,Ji=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},hc=l=>{window.getComputedStyle(l).direction==="rtl"&&pe(b(),g.rtl)},fc=l=>{let h=xp();if(go()){F("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&pe(y,g["no-transition"]),yt(y,Rp);let I=vl(l.target);I.appendChild(y),Ji(l),hc(I),yl()},_n=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?wl(l,h):l&&yt(h,l)},wl=(l,h)=>{l.jquery?mo(h,l):yt(h,l.toString())},mo=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},jn=(()=>{if(go())return!1;let l=document.createElement("div");return typeof l.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof l.style.animation<"u"?"animationend":!1})(),Xi=(l,h)=>{let y=vn(),I=Yr();!y||!I||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Ye(y):qe(y),Dt(y,h,"actions"),Il(y,I,h),yt(I,h.loaderHtml||""),Dt(I,h,"loader"))};function Il(l,h,y){let I=Wt(),P=Tt(),B=Qr();!I||!P||!B||(yo(I,"confirm",y),yo(P,"deny",y),yo(B,"cancel",y),wt(I,P,B,y),y.reverseButtons&&(y.toast?(l.insertBefore(B,I),l.insertBefore(P,I)):(l.insertBefore(B,h),l.insertBefore(P,h),l.insertBefore(I,h))))}function wt(l,h,y,I){if(!I.buttonsStyling){Qt([l,h,y],g.styled);return}pe([l,h,y],g.styled),I.confirmButtonColor&&(l.style.backgroundColor=I.confirmButtonColor,pe(l,g["default-outline"])),I.denyButtonColor&&(h.style.backgroundColor=I.denyButtonColor,pe(h,g["default-outline"])),I.cancelButtonColor&&(y.style.backgroundColor=I.cancelButtonColor,pe(y,g["default-outline"]))}function yo(l,h,y){let I=O(h);Vn(l,y[`show${I}Button`],"inline-block"),yt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Dt(l,y,`${h}Button`)}let es=(l,h)=>{let y=cc();y&&(yt(y,h.closeButtonHtml||""),Dt(y,h,"closeButton"),Vn(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},ts=(l,h)=>{let y=b();y&&(Np(y,h.backdrop),Mp(y,h.position),ti(y,h.grow),Dt(y,h,"container"))};function Np(l,h){typeof h=="string"?l.style.background=h:h||pe([document.documentElement,document.body],g["no-backdrop"])}function Mp(l,h){h&&(h in g?pe(l,g[h]):(M('The "position" parameter is not valid, defaulting to "center"'),pe(l,g.center)))}function ti(l,h){h&&pe(l,g[`grow-${h}`])}var Ne={innerParams:new WeakMap,domCache:new WeakMap};let Pp=["input","file","range","select","radio","checkbox","textarea"],vo=(l,h)=>{let y=R();if(!y)return;let I=Ne.innerParams.get(l),P=!I||h.input!==I.input;Pp.forEach(B=>{let he=Fn(y,g[B]);he&&(wo(B,h.inputAttributes),he.className=g[B],P&&Ye(he))}),h.input&&(P&&_l(h),Un(h))},_l=l=>{if(!l.input)return;if(!Ve[l.input]){F(`Unexpected type of input! Expected ${Object.keys(Ve).join(" | ")}, got "${l.input}"`);return}let h=_o(l.input);if(!h)return;let y=Ve[l.input](h,l);qe(h),l.inputAutoFocus&&setTimeout(()=>{lc(y)})},pc=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},wo=(l,h)=>{let y=R();if(!y)return;let I=fo(y,l);if(I){pc(I);for(let P in h)I.setAttribute(P,h[P])}},Un=l=>{if(!l.input)return;let h=_o(l.input);h&&Dt(h,l,"input")},Io=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},ni=(l,h,y)=>{if(y.inputLabel){let I=document.createElement("label"),P=g["input-label"];I.setAttribute("for",l.id),I.className=P,typeof y.customClass=="object"&&pe(I,y.customClass.inputLabel),I.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",I)}},_o=l=>{let h=R();if(h)return Fn(h,g[l]||g.input)},ri=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:E(h)||M(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Ve={};Ve.text=Ve.email=Ve.password=Ve.number=Ve.tel=Ve.url=Ve.search=Ve.date=Ve["datetime-local"]=Ve.time=Ve.week=Ve.month=(l,h)=>(ri(l,h.inputValue),ni(l,l,h),Io(l,h),l.type=h.input,l),Ve.file=(l,h)=>(ni(l,l,h),Io(l,h),l),Ve.range=(l,h)=>{let y=l.querySelector("input"),I=l.querySelector("output");return ri(y,h.inputValue),y.type=h.input,ri(I,h.inputValue),ni(y,l,h),l},Ve.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");yt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return ni(l,l,h),l},Ve.radio=l=>(l.textContent="",l),Ve.checkbox=(l,h)=>{let y=fo(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let I=l.querySelector("span");return yt(I,h.inputPlaceholder||h.inputLabel),y},Ve.textarea=(l,h)=>{ri(l,h.inputValue),Io(l,h),ni(l,l,h);let y=I=>parseInt(window.getComputedStyle(I).marginLeft)+parseInt(window.getComputedStyle(I).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let I=parseInt(window.getComputedStyle(R()).width),P=()=>{if(!document.body.contains(l))return;let B=l.offsetWidth+y(l);B>I?R().style.width=`${B}px`:wn(R(),"width",h.width)};new MutationObserver(P).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let El=(l,h)=>{let y=ac();y&&(Ze(y),Dt(y,h,"htmlContainer"),h.html?(_n(h.html,y),qe(y,"block")):h.text?(y.textContent=h.text,qe(y,"block")):Ye(y),vo(l,h))},kp=(l,h)=>{let y=hl();y&&(Ze(y),Vn(y,h.footer,"block"),h.footer&&_n(h.footer,y),Dt(y,h,"footer"))},Eo=(l,h)=>{let y=Ne.innerParams.get(l),I=T();if(I){if(y&&h.icon===y.icon){bo(I,h),gc(I,h);return}if(!h.icon&&!h.iconHtml){Ye(I);return}if(h.icon&&Object.keys(_).indexOf(h.icon)===-1){F(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Ye(I);return}qe(I),bo(I,h),gc(I,h),pe(I,h.showClass&&h.showClass.icon)}},gc=(l,h)=>{for(let[y,I]of Object.entries(_))h.icon!==y&&Qt(l,I);pe(l,h.icon&&_[h.icon]),Op(l,h),mc(),Dt(l,h,"icon")},mc=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let I=0;I<y.length;I++)y[I].style.backgroundColor=h},ns=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,hr=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,bo=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,I="";h.iconHtml?I=yc(h.iconHtml):h.icon==="success"?(I=ns,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?I=hr:h.icon&&(I=yc({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==I.trim()&&yt(l,I)},Op=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ht(l,y,"background-color",h.iconColor);ht(l,".swal2-success-ring","border-color",h.iconColor)}},yc=l=>`<div class="${g["icon-content"]}">${l}</div>`,bl=(l,h)=>{let y=Wr();if(y){if(!h.imageUrl){Ye(y);return}qe(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),wn(y,"width",h.imageWidth),wn(y,"height",h.imageHeight),y.className=g.image,Dt(y,h,"image")}},Tl=(l,h)=>{let y=b(),I=R();if(!(!y||!I)){if(h.toast){wn(y,"width",h.width),I.style.width="100%";let P=Yr();P&&I.insertBefore(P,T())}else wn(I,"width",h.width);wn(I,"padding",h.padding),h.color&&(I.style.color=h.color),h.background&&(I.style.background=h.background),Ye(Kr()),vc(I,h)}},vc=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${vt(l)?y.popup:""}`,h.toast?(pe([document.documentElement,document.body],g["toast-shown"]),pe(l,g.toast)):pe(l,g.modal),Dt(l,h,"popup"),typeof h.customClass=="string"&&pe(l,h.customClass),h.icon&&pe(l,g[`icon-${h.icon}`])},wc=(l,h)=>{let y=dr();if(!y)return;let{progressSteps:I,currentProgressStep:P}=h;if(!I||I.length===0||P===void 0){Ye(y);return}qe(y),y.textContent="",P>=I.length&&M("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.forEach((B,he)=>{let Ae=Dl(B);if(y.appendChild(Ae),he===P&&pe(Ae,g["active-progress-step"]),he!==I.length-1){let ze=Cl(h);y.appendChild(ze)}})},Dl=l=>{let h=document.createElement("li");return pe(h,g["progress-step"]),yt(h,l),h},Cl=l=>{let h=document.createElement("li");return pe(h,g["progress-step-line"]),l.progressStepsDistance&&wn(h,"width",l.progressStepsDistance),h},Lp=(l,h)=>{let y=Gr();y&&(Ze(y),Vn(y,h.title||h.titleText,"block"),h.title&&_n(h.title,y),h.titleText&&(y.innerText=h.titleText),Dt(y,h,"title"))},Sl=(l,h)=>{Tl(l,h),ts(l,h),wc(l,h),Eo(l,h),bl(l,h),Lp(l,h),es(l,h),El(l,h),Xi(l,h),kp(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),o.eventEmitter.emit("didRender",y)},Al=()=>vt(R()),Ic=()=>{var l;return(l=Wt())===null||l===void 0?void 0:l.click()},Fp=()=>{var l;return(l=Tt())===null||l===void 0?void 0:l.click()},fr=()=>{var l;return(l=Qr())===null||l===void 0?void 0:l.click()},Ct=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),rs=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},To=(l,h,y)=>{rs(l),h.toast||(l.keydownHandler=I=>is(h,I,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Do=(l,h)=>{var y;let I=Zr();if(I.length){l=l+h,l===I.length?l=0:l===-1&&(l=I.length-1),I[l].focus();return}(y=R())===null||y===void 0||y.focus()},Me=["ArrowRight","ArrowDown"],Co=["ArrowLeft","ArrowUp"],is=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?ss(h,l):h.key==="Tab"?Vp(h):[...Me,...Co].includes(h.key)?Rl(h.key):h.key==="Escape"&&jp(h,l,y)))},ss=(l,h)=>{if(!_e(h.allowEnterKey))return;let y=fo(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;Ic(),l.preventDefault()}},Vp=l=>{let h=l.target,y=Zr(),I=-1;for(let P=0;P<y.length;P++)if(h===y[P]){I=P;break}l.shiftKey?Do(I,-1):Do(I,1),l.stopPropagation(),l.preventDefault()},Rl=l=>{let h=vn(),y=Wt(),I=Tt(),P=Qr();if(!h||!y||!I||!P)return;let B=[y,I,P];if(document.activeElement instanceof HTMLElement&&!B.includes(document.activeElement))return;let he=Me.includes(l)?"nextElementSibling":"previousElementSibling",Ae=document.activeElement;if(Ae){for(let ze=0;ze<h.children.length;ze++){if(Ae=Ae[he],!Ae)return;if(Ae instanceof HTMLButtonElement&&vt(Ae))break}Ae instanceof HTMLButtonElement&&Ae.focus()}},jp=(l,h,y)=>{_e(h.allowEscapeKey)&&(l.preventDefault(),y(Ct.esc))};var ii={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Up=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},xl=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},si=typeof window<"u"&&!!window.GestureEvent,Bn=()=>{if(si&&!Kt(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,pe(document.body,g.iosfix),Nl()}},Nl=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=Ml(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Ml=l=>{let h=l.target,y=b(),I=ac();return!y||!I||Pl(l)||oi(l)?!1:h===y||!gl(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(gl(I)&&I.contains(h))},Pl=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",oi=l=>l.touches&&l.touches.length>1,Bp=()=>{if(Kt(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);Qt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},$p=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},ai=null,$n=l=>{ai===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(ai=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ai+$p()}px`)},zp=()=>{ai!==null&&(document.body.style.paddingRight=`${ai}px`,ai=null)};function kl(l,h,y,I){Xr()?Fl(l,I):(u(y).then(()=>Fl(l,I)),rs(o)),si?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Jr()&&(zp(),Bp(),xl()),os()}function os(){Qt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Yt(l){l=Ll(l);let h=ii.swalPromiseResolve.get(this),y=Ol(this);this.isAwaitingPromise?l.isDismissed||(En(this),h(l)):y&&h(l)}let Ol=l=>{let h=R();if(!h)return!1;let y=Ne.innerParams.get(l);if(!y||Kt(h,y.hideClass.popup))return!1;Qt(h,y.showClass.popup),pe(h,y.hideClass.popup);let I=b();return Qt(I,y.showClass.backdrop),pe(I,y.hideClass.backdrop),_c(l,h,y),!0};function ci(l){let h=ii.swalPromiseReject.get(this);En(this),h&&h(l)}let En=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Ne.innerParams.get(l)||l._destroy())},Ll=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),_c=(l,h,y)=>{let I=b(),P=jn&&ei(h);typeof y.willClose=="function"&&y.willClose(h),o.eventEmitter.emit("willClose",h),P?je(l,h,I,y.returnFocus,y.didClose):kl(l,I,y.returnFocus,y.didClose)},je=(l,h,y,I,P)=>{jn&&(o.swalCloseEventFinishedCallback=kl.bind(null,l,y,I,P),h.addEventListener(jn,function(B){B.target===h&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback)}))},Fl=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),o.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},ui=l=>{let h=R();if(h||new Kl,h=R(),!h)return;let y=Yr();Xr()?Ye(T()):Vl(h,l),qe(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Vl=(l,h)=>{let y=vn(),I=Yr();!y||!I||(!h&&vt(Wt())&&(h=Wt()),qe(y),h&&(Ye(h),I.setAttribute("data-button-to-replace",h.className),y.insertBefore(I,h)),pe([l,y],g.loading))},jl=(l,h)=>{h.input==="select"||h.input==="radio"?$l(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(Z(h.inputValue)||E(h.inputValue))&&(ui(Wt()),Hp(l,h))},Ul=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return So(y);case"radio":return Bl(y);case"file":return bn(y);default:return h.inputAutoTrim?y.value.trim():y.value}},So=l=>l.checked?1:0,Bl=l=>l.checked?l.value:null,bn=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,$l=(l,h)=>{let y=R();if(!y)return;let I=P=>{h.input==="select"?as(y,li(P),h):h.input==="radio"&&zl(y,li(P),h)};Z(h.inputOptions)||E(h.inputOptions)?(ui(Wt()),C(h.inputOptions).then(P=>{l.hideLoading(),I(P)})):typeof h.inputOptions=="object"?I(h.inputOptions):F(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Hp=(l,h)=>{let y=l.getInput();y&&(Ye(y),C(h.inputValue).then(I=>{y.value=h.input==="number"?`${parseFloat(I)||0}`:`${I}`,qe(y),y.focus(),l.hideLoading()}).catch(I=>{F(`Error in inputValue promise: ${I}`),y.value="",qe(y),y.focus(),l.hideLoading()}))};function as(l,h,y){let I=Fn(l,g.select);if(!I)return;let P=(B,he,Ae)=>{let ze=document.createElement("option");ze.value=Ae,yt(ze,he),ze.selected=cs(Ae,y.inputValue),B.appendChild(ze)};h.forEach(B=>{let he=B[0],Ae=B[1];if(Array.isArray(Ae)){let ze=document.createElement("optgroup");ze.label=he,ze.disabled=!1,I.appendChild(ze),Ae.forEach(Po=>P(ze,Po[1],Po[0]))}else P(I,Ae,he)}),I.focus()}function zl(l,h,y){let I=Fn(l,g.radio);if(!I)return;h.forEach(B=>{let he=B[0],Ae=B[1],ze=document.createElement("input"),Po=document.createElement("label");ze.type="radio",ze.name=g.radio,ze.value=he,cs(he,y.inputValue)&&(ze.checked=!0);let Wp=document.createElement("span");yt(Wp,Ae),Wp.className=g.label,Po.appendChild(ze),Po.appendChild(Wp),I.appendChild(Po)});let P=I.querySelectorAll("input");P.length&&P[0].focus()}let li=l=>{let h=[];return l instanceof Map?l.forEach((y,I)=>{let P=y;typeof P=="object"&&(P=li(P)),h.push([I,P])}):Object.keys(l).forEach(y=>{let I=l[y];typeof I=="object"&&(I=li(I)),h.push([y,I])}),h},cs=(l,h)=>!!h&&h.toString()===l.toString(),Hl=l=>{let h=Ne.innerParams.get(l);l.disableButtons(),h.input?Ec(l,"confirm"):ls(l,!0)},Ao=l=>{let h=Ne.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?Ec(l,"deny"):Ro(l,!1)},qp=(l,h)=>{l.disableButtons(),h(Ct.cancel)},Ec=(l,h)=>{let y=Ne.innerParams.get(l);if(!y.input){F(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let I=l.getInput(),P=Ul(l,y);y.inputValidator?us(l,P,h):I&&!I.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||I.validationMessage)):h==="deny"?Ro(l,P):ls(l,P)},us=(l,h,y)=>{let I=Ne.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>C(I.inputValidator(h,I.validationMessage))).then(B=>{l.enableButtons(),l.enableInput(),B?l.showValidationMessage(B):y==="deny"?Ro(l,h):ls(l,h)})},Ro=(l,h)=>{let y=Ne.innerParams.get(l||void 0);y.showLoaderOnDeny&&ui(Tt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>C(y.preDeny(h,y.validationMessage))).then(P=>{P===!1?(l.hideLoading(),En(l)):l.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(P=>xo(l||void 0,P))):l.close({isDenied:!0,value:h})},bc=(l,h)=>{l.close({isConfirmed:!0,value:h})},xo=(l,h)=>{l.rejectPromise(h)},ls=(l,h)=>{let y=Ne.innerParams.get(l||void 0);y.showLoaderOnConfirm&&ui(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>C(y.preConfirm(h,y.validationMessage))).then(P=>{vt(Kr())||P===!1?(l.hideLoading(),En(l)):bc(l,typeof P>"u"?h:P)}).catch(P=>xo(l||void 0,P))):bc(l,h)};function ds(){let l=Ne.innerParams.get(this);if(!l)return;let h=Ne.domCache.get(this);Ye(h.loader),Xr()?l.icon&&qe(T()):No(h),Qt([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let No=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?qe(h[0],"inline-block"):pl()&&Ye(l.actions)};function Tc(){let l=Ne.innerParams.get(this),h=Ne.domCache.get(this);return h?fo(h.popup,l.input):null}function Dc(l,h,y){let I=Ne.domCache.get(l);h.forEach(P=>{I[P].disabled=y})}function zn(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let I=y.querySelectorAll(`[name="${g.radio}"]`);for(let P=0;P<I.length;P++)I[P].disabled=h}else l.disabled=h}function Cc(){Dc(this,["confirmButton","denyButton","cancelButton"],!1)}function Sc(){Dc(this,["confirmButton","denyButton","cancelButton"],!0)}function Ac(){zn(this.getInput(),!1)}function Rc(){zn(this.getInput(),!0)}function hs(l){let h=Ne.domCache.get(this),y=Ne.innerParams.get(this);yt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&pe(h.validationMessage,y.customClass.validationMessage),qe(h.validationMessage);let I=this.getInput();I&&(I.setAttribute("aria-invalid","true"),I.setAttribute("aria-describedby",g["validation-message"]),lc(I),pe(I,g.inputerror))}function St(){let l=Ne.domCache.get(this);l.validationMessage&&Ye(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Qt(h,g.inputerror))}let pr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ql=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],di={allowEnterKey:void 0},c=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],f=l=>Object.prototype.hasOwnProperty.call(pr,l),m=l=>ql.indexOf(l)!==-1,v=l=>di[l],x=l=>{f(l)||M(`Unknown parameter "${l}"`)},k=l=>{c.includes(l)&&M(`The parameter "${l}" is incompatible with toasts`)},U=l=>{let h=v(l);h&&Q(l,h)},xe=l=>{l.backdrop===!1&&l.allowOutsideClick&&M('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)x(h),l.toast&&k(h),U(h)};function Je(l){let h=R(),y=Ne.innerParams.get(this);if(!h||Kt(h,y.hideClass.popup)){M("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let I=ve(l),P=Object.assign({},y,I);Sl(this,P),Ne.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let ve=l=>{let h={};return Object.keys(l).forEach(y=>{m(y)?h[y]=l[y]:M(`Invalid parameter to update: ${y}`)}),h};function ot(){let l=Ne.domCache.get(this),h=Ne.innerParams.get(this);if(!h){gr(this);return}l.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),o.eventEmitter.emit("didDestroy"),ft(this)}let ft=l=>{gr(l),delete l.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},gr=l=>{l.isAwaitingPromise?(Ft(Ne,l),l.isAwaitingPromise=!0):(Ft(ii,l),Ft(Ne,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Ft=(l,h)=>{for(let y in l)l[y].delete(h)};var Mo=Object.freeze({__proto__:null,_destroy:ot,close:Yt,closeModal:Yt,closePopup:Yt,closeToast:Yt,disableButtons:Sc,disableInput:Rc,disableLoading:ds,enableButtons:Cc,enableInput:Ac,getInput:Tc,handleAwaitingPromise:En,hideLoading:ds,rejectPromise:ci,resetValidationMessage:St,showValidationMessage:hs,update:Je});let xc=(l,h,y)=>{l.toast?sx(l,h,y):(ax(h),cx(h),ux(l,h,y))},sx=(l,h,y)=>{h.popup.onclick=()=>{l&&(ox(l)||l.timer||l.input)||y(Ct.close)}},ox=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Gl=!1,ax=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Gl=!0)}}},cx=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Gl=!0)}}},ux=(l,h,y)=>{h.container.onclick=I=>{if(Gl){Gl=!1;return}I.target===h.container&&_e(l.allowOutsideClick)&&y(Ct.backdrop)}},lx=l=>typeof l=="object"&&l.jquery,W_=l=>l instanceof Element||lx(l),dx=l=>{let h={};return typeof l[0]=="object"&&!W_(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,I)=>{let P=l[I];typeof P=="string"||W_(P)?h[y]=P:P!==void 0&&F(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof P}`)}),h};function hx(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function fx(l){class h extends this{_main(I,P){return super._main(I,Object.assign({},l,P))}}return h}let px=()=>o.timeout&&o.timeout.getTimerLeft(),K_=()=>{if(o.timeout)return ml(),o.timeout.stop()},Q_=()=>{if(o.timeout){let l=o.timeout.start();return po(l),l}},gx=()=>{let l=o.timeout;return l&&(l.running?K_():Q_())},mx=l=>{if(o.timeout){let h=o.timeout.increase(l);return po(h,!0),h}},yx=()=>!!(o.timeout&&o.timeout.isRunning()),Y_=!1,Gp={};function vx(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Gp[l]=this,Y_||(document.body.addEventListener("click",wx),Y_=!0)}let wx=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Gp){let I=h.getAttribute(y);if(I){Gp[y].fire({template:I});return}}};class Ix{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let I=this._getHandlersByEventName(h);I.includes(y)||I.push(y)}once(h,y){var I=this;let P=function(){I.removeListener(h,P);for(var B=arguments.length,he=new Array(B),Ae=0;Ae<B;Ae++)he[Ae]=arguments[Ae];y.apply(I,he)};this.on(h,P)}emit(h){for(var y=arguments.length,I=new Array(y>1?y-1:0),P=1;P<y;P++)I[P-1]=arguments[P];this._getHandlersByEventName(h).forEach(B=>{try{B.apply(this,I)}catch(he){console.error(he)}})}removeListener(h,y){let I=this._getHandlersByEventName(h),P=I.indexOf(y);P>-1&&I.splice(P,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}o.eventEmitter=new Ix;var _x=Object.freeze({__proto__:null,argsToParams:dx,bindClickHandler:vx,clickCancel:fr,clickConfirm:Ic,clickDeny:Fp,enableLoading:ui,fire:hx,getActions:vn,getCancelButton:Qr,getCloseButton:cc,getConfirmButton:Wt,getContainer:b,getDenyButton:Tt,getFocusableElements:Zr,getFooter:hl,getHtmlContainer:ac,getIcon:T,getIconContent:yn,getImage:Wr,getInputLabel:dt,getLoader:Yr,getPopup:R,getProgressSteps:dr,getTimerLeft:px,getTimerProgressBar:Ln,getTitle:Gr,getValidationMessage:Kr,increaseTimer:mx,isDeprecatedParameter:v,isLoading:uc,isTimerRunning:yx,isUpdatableParameter:m,isValidParameter:f,isVisible:Al,mixin:fx,off:(l,h)=>{if(!l){o.eventEmitter.reset();return}h?o.eventEmitter.removeListener(l,h):o.eventEmitter.removeAllListeners(l)},on:(l,h)=>{o.eventEmitter.on(l,h)},once:(l,h)=>{o.eventEmitter.once(l,h)},resumeTimer:Q_,showLoading:ui,stopTimer:K_,toggleTimer:gx});class Ex{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Z_=["swal-title","swal-html","swal-footer"],bx=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return Nx(y),Object.assign(Tx(y),Dx(y),Cx(y),Sx(y),Ax(y),Rx(y),xx(y,Z_))},Tx=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(I=>{fs(I,["name","value"]);let P=I.getAttribute("name"),B=I.getAttribute("value");!P||!B||(typeof pr[P]=="boolean"?h[P]=B!=="false":typeof pr[P]=="object"?h[P]=JSON.parse(B):h[P]=B)}),h},Dx=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(I=>{let P=I.getAttribute("name"),B=I.getAttribute("value");!P||!B||(h[P]=new Function(`return ${B}`)())}),h},Cx=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(I=>{fs(I,["type","color","aria-label"]);let P=I.getAttribute("type");!P||!["confirm","cancel","deny"].includes(P)||(h[`${P}ButtonText`]=I.innerHTML,h[`show${O(P)}Button`]=!0,I.hasAttribute("color")&&(h[`${P}ButtonColor`]=I.getAttribute("color")),I.hasAttribute("aria-label")&&(h[`${P}ButtonAriaLabel`]=I.getAttribute("aria-label")))}),h},Sx=l=>{let h={},y=l.querySelector("swal-image");return y&&(fs(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},Ax=l=>{let h={},y=l.querySelector("swal-icon");return y&&(fs(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},Rx=l=>{let h={},y=l.querySelector("swal-input");y&&(fs(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let I=Array.from(l.querySelectorAll("swal-input-option"));return I.length&&(h.inputOptions={},I.forEach(P=>{fs(P,["value"]);let B=P.getAttribute("value");if(!B)return;let he=P.innerHTML;h.inputOptions[B]=he})),h},xx=(l,h)=>{let y={};for(let I in h){let P=h[I],B=l.querySelector(P);B&&(fs(B,[]),y[P.replace(/^swal-/,"")]=B.innerHTML.trim())}return y},Nx=l=>{let h=Z_.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let I=y.tagName.toLowerCase();h.includes(I)||M(`Unrecognized element <${I}>`)})},fs=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&M([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},J_=10,Mx=l=>{let h=b(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),o.eventEmitter.emit("willOpen",y);let P=window.getComputedStyle(document.body).overflowY;Ox(h,y,l),setTimeout(()=>{Px(h,y)},J_),Jr()&&(kx(h,l.scrollbarPadding,P),Up()),!Xr()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),o.eventEmitter.emit("didOpen",y),Qt(h,g["no-transition"])},X_=l=>{let h=R();if(l.target!==h||!jn)return;let y=b();h.removeEventListener(jn,X_),y.style.overflowY="auto"},Px=(l,h)=>{jn&&ei(h)?(l.style.overflowY="hidden",h.addEventListener(jn,X_)):l.style.overflowY="auto"},kx=(l,h,y)=>{Bn(),h&&y!=="hidden"&&$n(y),setTimeout(()=>{l.scrollTop=0})},Ox=(l,h,y)=>{pe(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),qe(h,"grid"),setTimeout(()=>{pe(h,y.showClass.popup),h.style.removeProperty("opacity")},J_)):qe(h,"grid"),pe([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&pe([document.documentElement,document.body],g["height-auto"])};var eE={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function Lx(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=eE.email),l.input==="url"&&(l.inputValidator=eE.url))}function Fx(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(M('Target parameter is not valid, defaulting to "body"'),l.target="body")}function Vx(l){Lx(l),l.showLoaderOnConfirm&&!l.preConfirm&&M(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Fx(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),fc(l)}let Hn;var Wl=new WeakMap;class Ke{constructor(){if(r(this,Wl,void 0),typeof window>"u")return;Hn=this;for(var h=arguments.length,y=new Array(h),I=0;I<h;I++)y[I]=arguments[I];let P=Object.freeze(this.constructor.argsToParams(y));this.params=P,this.isAwaitingPromise=!1,i(Wl,this,this._main(Hn.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(xe(Object.assign({},y,h)),o.currentInstance){let B=ii.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:he}=o.currentInstance;o.currentInstance._destroy(),he||B({isDismissed:!0}),Jr()&&xl()}o.currentInstance=Hn;let I=Ux(h,y);Vx(I),Object.freeze(I),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let P=Bx(Hn);return Sl(Hn,I),Ne.innerParams.set(Hn,I),jx(Hn,P,I)}then(h){return n(Wl,this).then(h)}finally(h){return n(Wl,this).finally(h)}}let jx=(l,h,y)=>new Promise((I,P)=>{let B=he=>{l.close({isDismissed:!0,dismiss:he})};ii.swalPromiseResolve.set(l,I),ii.swalPromiseReject.set(l,P),h.confirmButton.onclick=()=>{Hl(l)},h.denyButton.onclick=()=>{Ao(l)},h.cancelButton.onclick=()=>{qp(l,B)},h.closeButton.onclick=()=>{B(Ct.close)},xc(y,h,B),To(o,y,B),jl(l,y),Mx(y),$x(o,y,B),zx(h,y),setTimeout(()=>{h.container.scrollTop=0})}),Ux=(l,h)=>{let y=bx(l),I=Object.assign({},pr,h,y,l);return I.showClass=Object.assign({},pr.showClass,I.showClass),I.hideClass=Object.assign({},pr.hideClass,I.hideClass),I.animation===!1&&(I.showClass={backdrop:"swal2-noanimation"},I.hideClass={}),I},Bx=l=>{let h={popup:R(),container:b(),actions:vn(),confirmButton:Wt(),denyButton:Tt(),cancelButton:Qr(),loader:Yr(),closeButton:cc(),validationMessage:Kr(),progressSteps:dr()};return Ne.domCache.set(l,h),h},$x=(l,h,y)=>{let I=Ln();Ye(I),h.timer&&(l.timeout=new Ex(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(qe(I),Dt(I,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&po(h.timer)})))},zx=(l,h)=>{if(!h.toast){if(!_e(h.allowEnterKey)){Q("allowEnterKey"),Gx();return}Hx(l)||qx(l,h)||Do(-1,1)}},Hx=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&vt(y))return y.focus(),!0;return!1},qx=(l,h)=>h.focusDeny&&vt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&vt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&vt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,Gx=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Ke.prototype.disableButtons=Sc,Ke.prototype.enableButtons=Cc,Ke.prototype.getInput=Tc,Ke.prototype.disableInput=Rc,Ke.prototype.enableInput=Ac,Ke.prototype.hideLoading=ds,Ke.prototype.disableLoading=ds,Ke.prototype.showValidationMessage=hs,Ke.prototype.resetValidationMessage=St,Ke.prototype.close=Yt,Ke.prototype.closePopup=Yt,Ke.prototype.closeModal=Yt,Ke.prototype.closeToast=Yt,Ke.prototype.rejectPromise=ci,Ke.prototype.update=Je,Ke.prototype._destroy=ot,Object.assign(Ke,_x),Object.keys(Mo).forEach(l=>{Ke[l]=function(){return Hn&&Hn[l]?Hn[l](...arguments):null}}),Ke.DismissReason=Ct,Ke.version="11.14.0";let Kl=Ke;return Kl.default=Kl,Kl});typeof tr<"u"&&tr.Sweetalert2&&(tr.swal=tr.sweetAlert=tr.Swal=tr.SweetAlert=tr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function sE(t,e){return Object.is(t,e)}var at=null,Ql=!1,Yl=1,mr=Symbol("SIGNAL");function Ee(t){let e=at;return at=t,e}function oE(){return at}var Mc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Zp(t){if(Ql)throw new Error("");if(at===null)return;at.consumerOnSignalRead(t);let e=at.nextProducerIndex++;if(ed(at),e<at.producerNode.length&&at.producerNode[e]!==t&&Nc(at)){let n=at.producerNode[e];Xl(n,at.producerIndexOfThis[e])}at.producerNode[e]!==t&&(at.producerNode[e]=t,at.producerIndexOfThis[e]=Nc(at)?lE(t,at,e):0),at.producerLastReadVersion[e]=t.version}function nN(){Yl++}function aE(t){if(!(Nc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yl)){if(!t.producerMustRecompute(t)&&!Xp(t)){t.dirty=!1,t.lastCleanEpoch=Yl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Yl}}function cE(t){if(t.liveConsumerNode===void 0)return;let e=Ql;Ql=!0;try{for(let n of t.liveConsumerNode)n.dirty||rN(n)}finally{Ql=e}}function uE(){return at?.consumerAllowSignalWrites!==!1}function rN(t){t.dirty=!0,cE(t),t.consumerMarkedDirty?.(t)}function Jl(t){return t&&(t.nextProducerIndex=0),Ee(t)}function Jp(t,e){if(Ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Nc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Xp(t){ed(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(aE(n),r!==n.version))return!0}return!1}function eg(t){if(ed(t),Nc(t))for(let e=0;e<t.producerNode.length;e++)Xl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function lE(t,e,n){if(dE(t),t.liveConsumerNode.length===0&&hE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=lE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Xl(t,e){if(dE(t),t.liveConsumerNode.length===1&&hE(t))for(let r=0;r<t.producerNode.length;r++)Xl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ed(i),i.producerIndexOfThis[r]=e}}function Nc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ed(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function dE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function hE(t){return t.producerNode!==void 0}function fE(t){let e=Object.create(iN);e.computation=t;let n=()=>{if(aE(e),Zp(e),e.value===Zl)throw e.error;return e.value};return n[mr]=e,n}var Qp=Symbol("UNSET"),Yp=Symbol("COMPUTING"),Zl=Symbol("ERRORED"),iN=Le($({},Mc),{value:Qp,dirty:!0,error:null,equal:sE,producerMustRecompute(t){return t.value===Qp||t.value===Yp},producerRecomputeValue(t){if(t.value===Yp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Yp;let n=Jl(t),r;try{r=t.computation()}catch(i){r=Zl,t.error=i}finally{Jp(t,n)}if(e!==Qp&&e!==Zl&&r!==Zl&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function sN(){throw new Error}var pE=sN;function gE(){pE()}function mE(t){pE=t}var oN=null;function yE(t){let e=Object.create(wE);e.value=t;let n=()=>(Zp(e),e.value);return n[mr]=e,n}function tg(t,e){uE()||gE(),t.equal(t.value,e)||(t.value=e,aN(t))}function vE(t,e){uE()||gE(),tg(t,e(t.value))}var wE=Le($({},Mc),{equal:sE,value:void 0});function aN(t){t.version++,nN(),cE(t),oN?.()}function se(t){return typeof t=="function"}function ko(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var td=ko(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ps(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof td?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{IE(s)}catch(o){e=e??[],o instanceof td?e=[...e,...o.errors]:e.push(o)}}if(e)throw new td(e)}}add(e){var n;if(e&&e!==this)if(this.closed)IE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ps(n,e)}remove(e){let{_finalizers:n}=this;n&&ps(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var ng=Ge.EMPTY;function nd(t){return t instanceof Ge||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function IE(t){se(t)?t():t.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oo={setTimeout(t,e,...n){let{delegate:r}=Oo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Oo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rd(t){Oo.setTimeout(()=>{let{onUnhandledError:e}=Tn;if(e)e(t);else throw t})}function Pc(){}var _E=rg("C",void 0,void 0);function EE(t){return rg("E",void 0,t)}function bE(t){return rg("N",t,void 0)}function rg(t,e,n){return{kind:t,value:e,error:n}}var gs=null;function Lo(t){if(Tn.useDeprecatedSynchronousErrorHandling){let e=!gs;if(e&&(gs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=gs;if(gs=null,n)throw r}}else t()}function TE(t){Tn.useDeprecatedSynchronousErrorHandling&&gs&&(gs.errorThrown=!0,gs.error=t)}var ms=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nd(e)&&e.add(this)):this.destination=lN}static create(e,n,r){return new Fo(e,n,r)}next(e){this.isStopped?sg(bE(e),this):this._next(e)}error(e){this.isStopped?sg(EE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sg(_E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cN=Function.prototype.bind;function ig(t,e){return cN.call(t,e)}var og=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){id(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){id(r)}else id(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){id(n)}}},Fo=class extends ms{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Tn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ig(e.next,s),error:e.error&&ig(e.error,s),complete:e.complete&&ig(e.complete,s)}):i=e}this.destination=new og(i)}};function id(t){Tn.useDeprecatedSynchronousErrorHandling?TE(t):rd(t)}function uN(t){throw t}function sg(t,e){let{onStoppedNotification:n}=Tn;n&&Oo.setTimeout(()=>n(t,e))}var lN={closed:!0,next:Pc,error:uN,complete:Pc};var Vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(t){return t}function ag(...t){return cg(t)}function cg(t){return t.length===0?Zt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=hN(n)?n:new Fo(n,r,i);return Lo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=DE(r),new r((i,s)=>{let o=new Fo({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vo](){return this}pipe(...n){return cg(n)(this)}toPromise(n){return n=DE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function DE(t){var e;return(e=t??Tn.Promise)!==null&&e!==void 0?e:Promise}function dN(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function hN(t){return t&&t instanceof ms||dN(t)&&nd(t)}function ug(t){return se(t?.lift)}function we(t){return e=>{if(ug(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new lg(t,e,n,r,i)}var lg=class extends ms{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function jo(){return we((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Uo=class extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ug(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return jo()(this)}};var CE=ko(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var At=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new CE}next(n){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ng:(this.currentObservers=null,s.push(n),new Ge(()=>{this.currentObservers=null,ps(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new fe;return n.source=this,n}}return t.create=(e,n)=>new sd(e,n),t})(),sd=class extends At{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ng}};var ct=class extends At{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var dg={now(){return(dg.delegate||Date).now()},delegate:void 0};var od=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var kc={setInterval(t,e,...n){let{delegate:r}=kc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=kc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bo=class extends od{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return kc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&kc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ps(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $o=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$o.now=dg.now;var zo=class extends $o{constructor(e,n=$o.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var hg=new zo(Bo);var ad=class extends Bo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var cd=class extends zo{};var fg=new cd(ad);var Jt=new fe(t=>t.complete());function SE(t){return t&&se(t.schedule)}function AE(t){return t[t.length-1]}function ud(t){return se(AE(t))?t.pop():void 0}function fi(t){return SE(AE(t))?t.pop():void 0}function pg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(g){o(g)}}function u(p){try{d(r.throw(p))}catch(g){o(g)}}function d(p){p.done?s(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function RE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ys(t){return this instanceof ys?(this.v=t,this):new ys(t)}function NE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(_){return function(N){return Promise.resolve(N).then(_,g)}}function a(_,N){r[_]&&(i[_]=function(O){return new Promise(function(M,F){s.push([_,O,M,F])>1||u(_,O)})},N&&(i[_]=N(i[_])))}function u(_,N){try{d(r[_](N))}catch(O){w(s[0][3],O)}}function d(_){_.value instanceof ys?Promise.resolve(_.value.v).then(p,g):w(s[0][2],_)}function p(_){u("next",_)}function g(_){u("throw",_)}function w(_,N){_(N),s.shift(),s.length&&u(s[0][0],s[0][1])}}function ME(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof RE=="function"?RE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}var ld=t=>t&&typeof t.length=="number"&&typeof t!="function";function dd(t){return se(t?.then)}function hd(t){return se(t[Vo])}function fd(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function pd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gd=fN();function md(t){return se(t?.[gd])}function yd(t){return NE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ys(n.read());if(i)return yield ys(void 0);yield yield ys(r)}}finally{n.releaseLock()}})}function vd(t){return se(t?.getReader)}function Xe(t){if(t instanceof fe)return t;if(t!=null){if(hd(t))return pN(t);if(ld(t))return gN(t);if(dd(t))return mN(t);if(fd(t))return PE(t);if(md(t))return yN(t);if(vd(t))return vN(t)}throw pd(t)}function pN(t){return new fe(e=>{let n=t[Vo]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gN(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function mN(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rd)})}function yN(t){return new fe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function PE(t){return new fe(e=>{wN(t,e).catch(n=>e.error(n))})}function vN(t){return PE(yd(t))}function wN(t,e){var n,r,i,s;return xE(this,void 0,void 0,function*(){try{for(n=ME(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function zt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function pi(t,e=0){return we((n,r)=>{n.subscribe(ge(r,i=>zt(r,t,()=>r.next(i),e),()=>zt(r,t,()=>r.complete(),e),i=>zt(r,t,()=>r.error(i),e)))})}function gi(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kE(t,e){return Xe(t).pipe(gi(e),pi(e))}function OE(t,e){return Xe(t).pipe(gi(e),pi(e))}function LE(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function FE(t,e){return new fe(n=>{let r;return zt(n,e,()=>{r=t[gd](),zt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function wd(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{zt(n,e,()=>{let r=t[Symbol.asyncIterator]();zt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function VE(t,e){return wd(yd(t),e)}function jE(t,e){if(t!=null){if(hd(t))return kE(t,e);if(ld(t))return LE(t,e);if(dd(t))return OE(t,e);if(fd(t))return wd(t,e);if(md(t))return FE(t,e);if(vd(t))return VE(t,e)}throw pd(t)}function Ue(t,e){return e?jE(t,e):Xe(t)}function ee(...t){let e=fi(t);return Ue(t,e)}function Ho(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function gg(t){return!!t&&(t instanceof fe||se(t.lift)&&se(t.subscribe))}var yr=ko(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ue(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:IN}=Array;function _N(t,e){return IN(e)?t(...e):t(e)}function Id(t){return ue(e=>_N(t,e))}var{isArray:EN}=Array,{getPrototypeOf:bN,prototype:TN,keys:DN}=Object;function _d(t){if(t.length===1){let e=t[0];if(EN(e))return{args:e,keys:null};if(CN(e)){let n=DN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function CN(t){return t&&typeof t=="object"&&bN(t)===TN}function Ed(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Oc(...t){let e=fi(t),n=ud(t),{args:r,keys:i}=_d(t);if(r.length===0)return Ue([],e);let s=new fe(SN(r,e,i?o=>Ed(i,o):Zt));return n?s.pipe(Id(n)):s}function SN(t,e,n=Zt){return r=>{UE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)UE(e,()=>{let d=Ue(t[u],e),p=!1;d.subscribe(ge(r,g=>{s[u]=g,p||(p=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function UE(t,e,n){t?zt(n,t,e):e()}function BE(t,e,n,r,i,s,o,a){let u=[],d=0,p=0,g=!1,w=()=>{g&&!u.length&&!d&&e.complete()},_=O=>d<r?N(O):u.push(O),N=O=>{s&&e.next(O),d++;let M=!1;Xe(n(O,p++)).subscribe(ge(e,F=>{i?.(F),s?_(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(d--;u.length&&d<r;){let F=u.shift();o?zt(e,o,()=>N(F)):N(F)}w()}catch(F){e.error(F)}}))};return t.subscribe(ge(e,_,()=>{g=!0,w()})),()=>{a?.()}}function et(t,e,n=1/0){return se(e)?et((r,i)=>ue((s,o)=>e(r,s,i,o))(Xe(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>BE(r,i,t,n)))}function mi(t=1/0){return et(Zt,t)}function $E(){return mi(1)}function qo(...t){return $E()(Ue(t,fi(t)))}function bd(t){return new fe(e=>{Xe(t()).subscribe(e)})}function AN(...t){let e=ud(t),{args:n,keys:r}=_d(t),i=new fe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,d=o;for(let p=0;p<o;p++){let g=!1;Xe(n[p]).subscribe(ge(s,w=>{g||(g=!0,d--),a[p]=w},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?Ed(r,a):a),s.complete())}))}});return e?i.pipe(Id(e)):i}function Ht(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,s=>t.call(e,s,i++)&&r.next(s)))})}function yi(t){return we((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ge(n,void 0,void 0,o=>{s=Xe(t(o,yi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function zE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,d=0;s.subscribe(ge(o,p=>{let g=d++;u=a?t(u,p,g):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function vr(t,e){return se(e)?et(t,e,1):et(t,1)}function vi(t){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wr(t){return t<=0?()=>Jt:we((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function mg(t){return ue(()=>t)}function Td(t=RN){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function RN(){return new yr}function vs(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):Zt,wr(1),n?vi(e):Td(()=>new yr))}function Go(t){return t<=0?()=>Jt:we((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):Zt,Go(1),n?vi(e):Td(()=>new yr))}function vg(t,e){return we(zE(t,e,arguments.length>=2,!0))}function wg(...t){let e=fi(t);return we((n,r)=>{(e?qo(t,n,e):qo(t,n)).subscribe(r)})}function qt(t,e){return we((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ge(r,u=>{i?.unsubscribe();let d=0,p=s++;Xe(t(u,p)).subscribe(i=ge(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ig(t){return we((e,n)=>{Xe(t).subscribe(ge(n,()=>n.complete(),Pc)),!n.closed&&e.subscribe(n)})}function tt(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ge(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Zt}var Rb="https://g.co/ng/security#xss",J=class extends Error{constructor(e,n){super(oh(e,n)),this.code=e}};function oh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Hc(t){return{toString:t}.toString()}var Dd="__parameters__";function xN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xb(t,e,n){return Hc(()=>{let r=xN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,d,p){let g=u.hasOwnProperty(Dd)?u[Dd]:Object.defineProperty(u,Dd,{value:[]})[Dd];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Es=globalThis;function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function NN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function HE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var MN=Pe({__forward_ref__:Pe});function Nb(t){return t.__forward_ref__=Nb,t.toString=function(){return jt(this())},t}function Vt(t){return Mb(t)?t():t}function Mb(t){return typeof t=="function"&&t.hasOwnProperty(MN)&&t.__forward_ref__===Nb}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function la(t){return{providers:t.providers||[],imports:t.imports||[]}}function ah(t){return qE(t,kb)||qE(t,Ob)}function Pb(t){return ah(t)!==null}function qE(t,e){return t.hasOwnProperty(e)?t[e]:null}function PN(t){let e=t&&(t[kb]||t[Ob]);return e||null}function GE(t){return t&&(t.hasOwnProperty(WE)||t.hasOwnProperty(kN))?t[WE]:null}var kb=Pe({\u0275prov:Pe}),WE=Pe({\u0275inj:Pe}),Ob=Pe({ngInjectableDef:Pe}),kN=Pe({ngInjectorDef:Pe}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lb(t){return t&&!!t.\u0275providers}var ON=Pe({\u0275cmp:Pe}),LN=Pe({\u0275dir:Pe}),FN=Pe({\u0275pipe:Pe}),VN=Pe({\u0275mod:Pe}),Ld=Pe({\u0275fac:Pe}),Fc=Pe({__NG_ELEMENT_ID__:Pe}),KE=Pe({__NG_ENV_ID__:Pe});function Xo(t){return typeof t=="string"?t:t==null?"":String(t)}function jN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Xo(t)}function UN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new J(-200,t)}function Nm(t,e){throw new J(-201,!1)}var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),Og;function Fb(){return Og}function Gt(t){let e=Og;return Og=t,e}function Vb(t,e,n){let r=ah(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&le.Optional)return null;if(e!==void 0)return e;Nm(t,"Injector")}var BN={},Vc=BN,Lg="__NG_DI_FLAG__",Fd="ngTempTokenPath",$N="ngTokenPath",zN=/\n/gm,HN="\u0275",QE="__source",Zo;function qN(){return Zo}function wi(t){let e=Zo;return Zo=t,e}function GN(t,e=le.Default){if(Zo===void 0)throw new J(-203,!1);return Zo===null?Vb(t,void 0,e):Zo.get(t,e&le.Optional?null:void 0,e)}function Y(t,e=le.Default){return(Fb()||GN)(Vt(t),e)}function V(t,e=le.Default){return Y(t,ch(e))}function ch(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fg(t){let e=[];for(let n=0;n<t.length;n++){let r=Vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,s=le.Default;for(let o=0;o<r.length;o++){let a=r[o],u=WN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(Y(i,s))}else e.push(Y(r))}return e}function jb(t,e){return t[Lg]=e,t.prototype[Lg]=e,t}function WN(t){return t[Lg]}function KN(t,e,n,r){let i=t[Fd];throw e[QE]&&i.unshift(e[QE]),t.message=QN(`
`+t.message,i,n,r),t[$N]=i,t[Fd]=null,t}function QN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==HN?t.slice(2):t;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zN,`
  `)}`}var Nt=jb(xb("Optional"),8);var Mm=jb(xb("SkipSelf"),4);function Ts(t,e){let n=t.hasOwnProperty(Ld);return n?t[Ld]:null}function YN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function ZN(t){return t.flat(Number.POSITIVE_INFINITY)}function Pm(t,e){t.forEach(n=>Array.isArray(n)?Pm(n,e):e(n))}function Ub(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function JN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function XN(t,e,n){let r=qc(t,e);return r>=0?t[r|1]=n:(r=~r,JN(t,r,e,n)),r}function _g(t,e){let n=qc(t,e);if(n>=0)return t[n|1]}function qc(t,e){return eM(t,e,1)}function eM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ea={},an=[],ta=new G(""),Bb=new G("",-1),$b=new G(""),jd=class{get(e,n=Vc){if(n===Vc){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return n}},zb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zb||{}),Kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kn||{}),Ei=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ei||{});function tM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Vg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];nM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Hb(t){return t===3||t===4||t===6}function nM(t){return t.charCodeAt(0)===64}function jc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?YE(t,n,i,null,e[++r]):YE(t,n,i,null,null))}}return t}function YE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var qb="ng-template";function rM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&tM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(km(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function km(t){return t.type===4&&t.value!==qb}function iM(t,e,n){let r=t.type===4&&!n?qb:t.value;return e===r}function sM(t,e,n){let r=4,i=t.attrs,s=i!==null?cM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Dn(r)&&!Dn(u))return!1;if(o&&Dn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!iM(t,u,n)||u===""&&e.length===1){if(Dn(r))return!1;o=!0}}else if(r&8){if(i===null||!rM(t,i,u,n)){if(Dn(r))return!1;o=!0}}else{let d=e[++a],p=oM(u,i,km(t),n);if(p===-1){if(Dn(r))return!1;o=!0;continue}if(d!==""){let g;if(p>s?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(Dn(r))return!1;o=!0}}}}return Dn(r)||o}function Dn(t){return(t&1)===0}function oM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return uM(e,t)}function aM(t,e,n=!1){for(let r=0;r<e.length;r++)if(sM(t,e[r],n))return!0;return!1}function cM(t){for(let e=0;e<t.length;e++){let n=t[e];if(Hb(n))return e}return t.length}function uM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ZE(t,e){return t?":not("+e.trim()+")":e}function lM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Dn(o)&&(e+=ZE(s,i),i=""),r=o,s=s||!Dn(r);n++}return i!==""&&(e+=ZE(s,i)),e}function dM(t){return t.map(lM).join(",")}function hM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Dn(i))break;i=s}r++}return{attrs:e,classes:n}}function Gb(t){return Hc(()=>{let e=Jb(t),n=Le($({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kn.Emulated,styles:t.styles||an,_:null,schemas:t.schemas||null,tView:null,id:""});Xb(n);let r=t.dependencies;return n.directiveDefs=XE(r,!1),n.pipeDefs=XE(r,!0),n.id=gM(n),n})}function fM(t){return bi(t)||Kb(t)}function pM(t){return t!==null}function da(t){return Hc(()=>({type:t.type,bootstrap:t.bootstrap||an,declarations:t.declarations||an,imports:t.imports||an,exports:t.exports||an,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function JE(t,e){if(t==null)return ea;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ei.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ei.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ls(t){return Hc(()=>{let e=Jb(t);return Xb(e),e})}function Wb(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function bi(t){return t[ON]||null}function Kb(t){return t[LN]||null}function Qb(t){return t[FN]||null}function Yb(t){let e=bi(t)||Kb(t)||Qb(t);return e!==null?e.standalone:!1}function Zb(t,e){let n=t[VN]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function Jb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ea,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||an,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:JE(t.inputs,e),outputs:JE(t.outputs),debugInfo:null}}function Xb(t){t.features?.forEach(e=>e(t))}function XE(t,e){if(!t)return null;let n=e?Qb:fM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(pM)}function gM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function un(t){return{\u0275providers:t}}function mM(...t){return{\u0275providers:eT(!0,t),\u0275fromNgModule:!0}}function eT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Pm(e,o=>{let a=o;jg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&tT(i,s),n}function tT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Om(i,s=>{e(s,r)})}}function jg(t,e,n,r){if(t=Vt(t),!t)return!1;let i=null,s=GE(t),o=!s&&bi(t);if(!s&&!o){let u=t.ngModule;if(s=GE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)jg(d,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{Pm(s.imports,p=>{jg(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&tT(d,e)}if(!a){let d=Ts(i)||(()=>new i);e({provide:i,useFactory:d,deps:an},i),e({provide:$b,useValue:i,multi:!0},i),e({provide:ta,useValue:()=>Y(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let d=t;Om(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Om(t,e){for(let n of t)Lb(n)&&(n=n.\u0275providers),Array.isArray(n)?Om(n,e):e(n)}var yM=Pe({provide:String,useValue:Pe});function nT(t){return t!==null&&typeof t=="object"&&yM in t}function vM(t){return!!(t&&t.useExisting)}function wM(t){return!!(t&&t.useFactory)}function na(t){return typeof t=="function"}function IM(t){return!!t.useClass}var uh=new G(""),xd={},_M={},Eg;function Lm(){return Eg===void 0&&(Eg=new jd),Eg}var Ut=class{},Uc=class extends Ut{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bg(e,o=>this.processProvider(o)),this.records.set(Bb,Wo(void 0,this)),i.has("environment")&&this.records.set(Ut,Wo(void 0,this));let s=this.records.get(uh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($b,an,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=wi(this),r=Gt(void 0),i;try{return e()}finally{wi(n),Gt(r)}}get(e,n=Vc,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(KE))return e[KE](this);r=ch(r);let i,s=wi(this),o=Gt(void 0);try{if(!(r&le.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=CM(e)&&ah(e);d&&this.injectableDefInScope(d)?u=Wo(Ug(e),xd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&le.Self?Lm():this.parent;return n=r&le.Optional&&n===Vc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Fd]=a[Fd]||[]).unshift(jt(e)),s)throw a;return KN(a,e,"R3InjectorError",this.source)}else throw a}finally{Gt(o),wi(s)}}resolveInjectorInitializers(){let e=Ee(null),n=wi(this),r=Gt(void 0),i;try{let s=this.get(ta,an,le.Self);for(let o of s)o()}finally{wi(n),Gt(r),Ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(e){e=Vt(e);let n=na(e)?e:Vt(e&&e.provide),r=bM(e);if(!na(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wo(void 0,xd,!0),i.factory=()=>Fg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ee(null);try{return n.value===xd&&(n.value=_M,n.value=n.factory()),typeof n.value=="object"&&n.value&&DM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ug(t){let e=ah(t),n=e!==null?e.factory:Ts(t);if(n!==null)return n;if(t instanceof G)throw new J(204,!1);if(t instanceof Function)return EM(t);throw new J(204,!1)}function EM(t){if(t.length>0)throw new J(204,!1);let n=PN(t);return n!==null?()=>n.factory(t):()=>new t}function bM(t){if(nT(t))return Wo(void 0,t.useValue);{let e=rT(t);return Wo(e,xd)}}function rT(t,e,n){let r;if(na(t)){let i=Vt(t);return Ts(i)||Ug(i)}else if(nT(t))r=()=>Vt(t.useValue);else if(wM(t))r=()=>t.useFactory(...Fg(t.deps||[]));else if(vM(t))r=()=>Y(Vt(t.useExisting));else{let i=Vt(t&&(t.useClass||t.provide));if(TM(t))r=()=>new i(...Fg(t.deps));else return Ts(i)||Ug(i)}return r}function Wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function TM(t){return!!t.deps}function DM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function CM(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function Bg(t,e){for(let n of t)Array.isArray(n)?Bg(n,e):n&&Lb(n)?Bg(n.\u0275providers,e):e(n)}function ln(t,e){t instanceof Uc&&t.assertNotDestroyed();let n,r=wi(t),i=Gt(void 0);try{return e()}finally{wi(r),Gt(i)}}function iT(){return Fb()!==void 0||qN()!=null}function SM(t){if(!iT())throw new J(-203,!1)}function AM(t){return typeof t=="function"}var br=0,ae=1,re=2,Rt=3,Cn=4,An=5,Ud=6,Bd=7,Sn=8,ra=9,Qn=10,ut=11,Bc=12,eb=13,ha=14,Yn=15,Ds=16,Ko=17,Ir=18,lh=19,sT=20,Ii=21,bg=22,cn=23,Zn=25,oT=1;var Cs=7,$d=8,ia=9,Xt=10,zd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(zd||{});function _i(t){return Array.isArray(t)&&typeof t[oT]=="object"}function Tr(t){return Array.isArray(t)&&t[oT]===!0}function aT(t){return(t.flags&4)!==0}function dh(t){return t.componentOffset>-1}function Fm(t){return(t.flags&1)===1}function Ti(t){return!!t.template}function $g(t){return(t[re]&512)!==0}var zg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function fa(){return uT}function uT(t){return t.type.prototype.ngOnChanges&&(t.setInput=xM),RM}fa.ngInherit=!0;function RM(){let t=dT(this),e=t?.current;if(e){let n=t.previous;if(n===ea)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function xM(t,e,n,r,i){let s=this.declaredInputs[r],o=dT(t)||NM(t,{previous:ea,current:null}),a=o.current||(o.current={}),u=o.previous,d=u[s];a[s]=new zg(d&&d.currentValue,n,u===ea),cT(t,e,i,n)}var lT="__ngSimpleChanges__";function dT(t){return t[lT]||null}function NM(t,e){return t[lT]=e}var tb=null;var Gn=function(t,e,n){tb?.(t,e,n)},MM="svg",PM="math";function Jn(t){for(;Array.isArray(t);)t=t[br];return t}function hT(t,e){return Jn(e[t])}function dn(t,e){return Jn(e[t.index])}function fT(t,e){return t.data[e]}function kM(t,e){return t[e]}function Si(t,e){let n=e[t];return _i(n)?n:n[br]}function OM(t){return(t[re]&4)===4}function Vm(t){return(t[re]&128)===128}function LM(t){return Tr(t[Rt])}function Hd(t,e){return e==null?null:t[e]}function pT(t){t[Ko]=0}function gT(t){t[re]&1024||(t[re]|=1024,Vm(t)&&fh(t))}function FM(t,e){for(;t>0;)e=e[ha],t--;return e}function hh(t){return!!(t[re]&9216||t[cn]?.dirty)}function Hg(t){t[Qn].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),hh(t)&&fh(t)}function fh(t){t[Qn].changeDetectionScheduler?.notify(0);let e=Ss(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Vm(e)));)e=Ss(e)}function mT(t,e){if((t[re]&256)===256)throw new J(911,!1);t[Ii]===null&&(t[Ii]=[]),t[Ii].push(e)}function VM(t,e){if(t[Ii]===null)return;let n=t[Ii].indexOf(e);n!==-1&&t[Ii].splice(n,1)}function Ss(t){let e=t[Rt];return Tr(e)?e[Rt]:e}var de={lFrame:CT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yT=!1;function jM(){return de.lFrame.elementDepthCount}function UM(){de.lFrame.elementDepthCount++}function BM(){de.lFrame.elementDepthCount--}function vT(){return de.bindingsEnabled}function $M(){return de.skipHydrationRootTNode!==null}function zM(t){return de.skipHydrationRootTNode===t}function HM(){de.skipHydrationRootTNode=null}function De(){return de.lFrame.lView}function Mt(){return de.lFrame.tView}function X9(t){return de.lFrame.contextLView=t,t[Sn]}function eW(t){return de.lFrame.contextLView=null,t}function Pt(){let t=wT();for(;t!==null&&t.type===64;)t=t.parent;return t}function wT(){return de.lFrame.currentTNode}function qM(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gc(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function IT(){return de.lFrame.isParent}function GM(){de.lFrame.isParent=!1}function _T(){return yT}function nb(t){yT=t}function WM(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function KM(){return de.lFrame.bindingIndex}function QM(t){return de.lFrame.bindingIndex=t}function ph(){return de.lFrame.bindingIndex++}function ET(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function YM(){return de.lFrame.inI18n}function ZM(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,qg(e)}function JM(){return de.lFrame.currentDirectiveIndex}function qg(t){de.lFrame.currentDirectiveIndex=t}function XM(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bT(){return de.lFrame.currentQueryIndex}function jm(t){de.lFrame.currentQueryIndex=t}function eP(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[An]:null}function TT(t,e,n){if(n&le.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&le.Host);)if(i=eP(s),i===null||(s=s[ha],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=de.lFrame=DT();return r.currentTNode=e,r.lView=t,!0}function Um(t){let e=DT(),n=t[ae];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DT(){let t=de.lFrame,e=t===null?null:t.child;return e===null?CT(t):e}function CT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ST(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var AT=ST;function Bm(){let t=ST();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tP(t){return(de.lFrame.contextLView=FM(t,de.lFrame.contextLView))[Sn]}function Fs(){return de.lFrame.selectedIndex}function As(t){de.lFrame.selectedIndex=t}function $m(){let t=de.lFrame;return fT(t.tView,t.selectedIndex)}function nP(){return de.lFrame.currentNamespace}var RT=!0;function zm(){return RT}function Hm(t){RT=t}function rP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=uT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function qm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function Nd(t,e,n){xT(t,e,3,n)}function Md(t,e,n,r){(t[re]&3)===n&&xT(t,e,n,r)}function Tg(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function xT(t,e,n,r){let i=r!==void 0?t[Ko]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ko]+=65536),(a<s||s==-1)&&(iP(t,n,e,u),t[Ko]=(t[Ko]&4294901760)+u+2),u++}function rb(t,e){Gn(4,t,e);let n=Ee(null);try{e.call(t)}finally{Ee(n),Gn(5,t,e)}}function iP(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[re]>>14<t[Ko]>>16&&(t[re]&3)===e&&(t[re]+=16384,rb(a,s)):rb(a,s)}var Jo=-1,Rs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function sP(t){return t instanceof Rs}function oP(t){return(t.flags&8)!==0}function aP(t){return(t.flags&16)!==0}var Dg={},Gg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ch(r);let i=this.injector.get(e,Dg,r);return i!==Dg||n===Dg?i:this.parentInjector.get(e,n,r)}};function NT(t){return t!==Jo}function qd(t){return t&32767}function cP(t){return t>>16}function Gd(t,e){let n=cP(t),r=e;for(;n>0;)r=r[ha],n--;return r}var Wg=!0;function Wd(t){let e=Wg;return Wg=t,e}var uP=256,MT=uP-1,PT=5,lP=0,Wn={};function dP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fc)&&(r=n[Fc]),r==null&&(r=n[Fc]=lP++);let i=r&MT,s=1<<i;e.data[t+(i>>PT)]|=s}function Kd(t,e){let n=kT(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Cg(r.data,t),Cg(e,null),Cg(r.blueprint,null));let i=Gm(t,e),s=t.injectorIndex;if(NT(i)){let o=qd(i),a=Gd(i,e),u=a[ae].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function Cg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Gm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=jT(i),r===null)return Jo;if(n++,i=i[ha],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Jo}function Kg(t,e,n){dP(t,e,n)}function hP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Hb(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function OT(t,e,n){if(n&le.Optional||t!==void 0)return t;Nm(e,"NodeInjector")}function LT(t,e,n,r){if(n&le.Optional&&r===void 0&&(r=null),!(n&(le.Self|le.Host))){let i=t[ra],s=Gt(void 0);try{return i?i.get(e,r,n&le.Optional):Vb(e,r,n&le.Optional)}finally{Gt(s)}}return OT(r,e,n)}function FT(t,e,n,r=le.Default,i){if(t!==null){if(e[re]&2048&&!(r&le.Self)){let o=mP(t,e,n,r,Wn);if(o!==Wn)return o}let s=VT(t,e,n,r,Wn);if(s!==Wn)return s}return LT(e,n,r,i)}function VT(t,e,n,r,i){let s=pP(n);if(typeof s=="function"){if(!TT(e,t,r))return r&le.Host?OT(i,n,r):LT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&le.Optional))Nm(n);else return o}finally{AT()}}else if(typeof s=="number"){let o=null,a=kT(t,e),u=Jo,d=r&le.Host?e[Yn][An]:null;for((a===-1||r&le.SkipSelf)&&(u=a===-1?Gm(t,e):e[a+8],u===Jo||!sb(r,!1)?a=-1:(o=e[ae],a=qd(u),e=Gd(u,e)));a!==-1;){let p=e[ae];if(ib(s,a,p.data)){let g=fP(a,e,n,o,r,d);if(g!==Wn)return g}u=e[a+8],u!==Jo&&sb(r,e[ae].data[a+8]===d)&&ib(s,a,e)?(o=p,a=qd(u),e=Gd(u,e)):a=-1}}return i}function fP(t,e,n,r,i,s){let o=e[ae],a=o.data[t+8],u=r==null?dh(a)&&Wg:r!=o&&(a.type&3)!==0,d=i&le.Host&&s===a,p=Pd(a,o,n,u,d);return p!==null?xs(e,o,p,a):Wn}function Pd(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,d=t.directiveEnd,p=s>>20,g=r?a:a+p,w=i?a+p:d;for(let _=g;_<w;_++){let N=o[_];if(_<u&&n===N||_>=u&&N.type===n)return _}if(i){let _=o[u];if(_&&Ti(_)&&_.type===n)return u}return null}function xs(t,e,n,r){let i=t[n],s=e.data;if(sP(i)){let o=i;o.resolving&&UN(jN(s[n]));let a=Wd(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?Gt(o.injectImpl):null,p=TT(t,r,le.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&rP(n,s[n],e)}finally{d!==null&&Gt(d),Wd(a),o.resolving=!1,AT()}}return i}function pP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fc)?t[Fc]:void 0;return typeof e=="number"?e>=0?e&MT:gP:e}function ib(t,e,n){let r=1<<t;return!!(n[e+(t>>PT)]&r)}function sb(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var bs=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FT(this._tNode,this._lView,e,ch(r),n)}};function gP(){return new bs(Pt(),De())}function Wm(t){return Hc(()=>{let e=t.prototype.constructor,n=e[Ld]||Qg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ld]||Qg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Qg(t){return Mb(t)?()=>{let e=Qg(Vt(t));return e&&e()}:Ts(t)}function mP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[re]&2048&&!(o[re]&512);){let a=VT(s,o,n,r|le.Self,Wn);if(a!==Wn)return a;let u=s.parent;if(!u){let d=o[sT];if(d){let p=d.get(n,Wn,r);if(p!==Wn)return p}u=jT(o),o=o[ha]}s=u}return i}function jT(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[An]:null}function Km(t){return hP(Pt(),t)}function ob(t,e=null,n=null,r){let i=UT(t,e,n,r);return i.resolveInjectorInitializers(),i}function UT(t,e=null,n=null,r,i=new Set){let s=[n||an,mM(t)];return r=r||(typeof t=="object"?void 0:jt(t)),new Uc(s,e||Lm(),r||null,i)}var Is=class Is{static create(e,n){if(Array.isArray(e))return ob({name:""},n,e,"");{let r=e.name??"";return ob({name:r},e.parent,e.providers,r)}}};Is.THROW_IF_NOT_FOUND=Vc,Is.NULL=new jd,Is.\u0275prov=W({token:Is,providedIn:"any",factory:()=>Y(Bb)}),Is.__NG_ELEMENT_ID__=-1;var xt=Is;var yP=new G("");yP.__NG_ELEMENT_ID__=t=>{let e=Pt();if(e===null)throw new J(204,!1);if(e.type&2)return e.value;if(t&le.Optional)return null;throw new J(204,!1)};var vP="ngOriginalError";function Sg(t){return t[vP]}var BT=!0,Qm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Yg=class extends Qm{constructor(e){super(),this._lView=e}onDestroy(e){return mT(this._lView,e),()=>VM(this._lView,e)}};function wP(){return new Yg(De())}var Ai=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ct(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Zg=class extends At{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,iT()&&(this.destroyRef=V(Qm,{optional:!0})??void 0,this.pendingTasks=V(Ai,{optional:!0})??void 0)}emit(e){let n=Ee(null);try{super.next(e)}finally{Ee(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},It=Zg;function Qd(...t){}function $T(t){let e,n;function r(){t=Qd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ab(t){return queueMicrotask(()=>t()),()=>{t=Qd}}var Ym="isAngularZone",Yd=Ym+"_ID",IP=0,be=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=BT}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,bP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ym)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_P,Qd,Qd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},_P={};function Zm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function EP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){$T(()=>{t.callbackScheduled=!1,Jg(t),t.isCheckStableRunning=!0,Zm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Jg(t)}function bP(t){let e=()=>{EP(t)},n=IP++;t._inner=t._inner.fork({name:"angular",properties:{[Ym]:!0,[Yd]:n,[Yd+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(TP(u))return r.invokeTask(s,o,a,u);try{return cb(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ub(t)}},onInvoke:(r,i,s,o,a,u,d)=>{try{return cb(t),r.invoke(s,o,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!DP(u)&&e(),ub(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Jg(t),Zm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Jg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function cb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ub(t){t._nesting--,Zm(t)}var Xg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function TP(t){return zT(t,"__ignore_ng_zone__")}function DP(t){return zT(t,"__scheduler_tick__")}function zT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var _r=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sg(e);for(;n&&Sg(n);)n=Sg(n);return n||null}},CP=new G("",{providedIn:"root",factory:()=>{let t=V(be),e=V(_r);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function SP(){return pa(Pt(),De())}function pa(t,e){return new Dr(dn(t,e))}var Dr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=SP;let t=e;return t})();function AP(t){return t instanceof Dr?t.nativeElement:t}function RP(){return this._results[Symbol.iterator]()}var em=class t{get changes(){return this._changes??=new It}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=RP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=ZN(e);(this._changesDetected=!YN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function HT(t){return(t.flags&128)===128}var qT=new Map,xP=0;function NP(){return xP++}function MP(t){qT.set(t[lh],t)}function tm(t){qT.delete(t[lh])}var lb="__ngContext__";function Ns(t,e){_i(e)?(t[lb]=e[lh],MP(e)):t[lb]=e}function GT(t){return KT(t[Bc])}function WT(t){return KT(t[Cn])}function KT(t){for(;t!==null&&!Tr(t);)t=t[Cn];return t}var nm;function QT(t){nm=t}function PP(){if(nm!==void 0)return nm;if(typeof document<"u")return document;throw new J(210,!1)}var Jm=new G("",{providedIn:"root",factory:()=>kP}),kP="ng",Xm=new G(""),hn=new G("",{providedIn:"platform",factory:()=>"unknown"});var ey=new G("",{providedIn:"root",factory:()=>PP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var OP="h",LP="b";var FP=()=>null;function ty(t,e,n=!1){return FP(t,e,n)}var YT=!1,VP=new G("",{providedIn:"root",factory:()=>YT});var Cd;function jP(){if(Cd===void 0&&(Cd=null,Es.trustedTypes))try{Cd=Es.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cd}function db(t){return jP()?.createScriptURL(t)||t}var Zd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rb})`}};function Wc(t){return t instanceof Zd?t.changingThisBreaksApplicationSecurity:t}function ny(t,e){let n=UP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Rb})`)}return n===e}function UP(t){return t instanceof Zd&&t.getTypeName()||null}var BP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ZT(t){return t=String(t),t.match(BP)?t:"unsafe:"+t}var gh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gh||{});function $P(t){let e=XT();return e?e.sanitize(gh.URL,t)||"":ny(t,"URL")?Wc(t):ZT(Xo(t))}function zP(t){let e=XT();if(e)return db(e.sanitize(gh.RESOURCE_URL,t)||"");if(ny(t,"ResourceURL"))return db(Wc(t));throw new J(904,!1)}function HP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?zP:$P}function JT(t,e,n){return HP(e,n)(t)}function XT(){let t=De();return t&&t[Qn].sanitizer}function eD(t){return t instanceof Function?t():t}function qP(t){return(t??V(xt)).get(hn)==="browser"}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Er||{}),GP;function ry(t,e){return GP(t,e)}function Qo(t,e,n,r,i){if(r!=null){let s,o=!1;Tr(r)?s=r:_i(r)&&(o=!0,r=r[br]);let a=Jn(r);t===0&&n!==null?i==null?sD(e,n,a):Jd(e,n,a,i||null,!0):t===1&&n!==null?Jd(e,n,a,i||null,!0):t===2?ak(e,a,o):t===3&&e.destroyNode(a),s!=null&&uk(e,t,s,n,i)}}function WP(t,e){return t.createText(e)}function KP(t,e,n){t.setValue(e,n)}function tD(t,e,n){return t.createElement(e,n)}function QP(t,e){nD(t,e),e[br]=null,e[An]=null}function YP(t,e,n,r,i,s){r[br]=i,r[An]=e,mh(t,r,n,1,i,s)}function nD(t,e){e[Qn].changeDetectionScheduler?.notify(9),mh(t,e,e[ut],2,null,null)}function ZP(t){let e=t[Bc];if(!e)return Ag(t[ae],t);for(;e;){let n=null;if(_i(e))n=e[Bc];else{let r=e[Xt];r&&(n=r)}if(!n){for(;e&&!e[Cn]&&e!==t;)_i(e)&&Ag(e[ae],e),e=e[Rt];e===null&&(e=t),_i(e)&&Ag(e[ae],e),n=e&&e[Cn]}e=n}}function JP(t,e,n,r){let i=Xt+r,s=n.length;r>0&&(n[i-1][Cn]=e),r<s-Xt?(e[Cn]=n[i],Ub(n,Xt+r,e)):(n.push(e),e[Cn]=null),e[Rt]=n;let o=e[Ds];o!==null&&n!==o&&rD(o,e);let a=e[Ir];a!==null&&a.insertView(t),Hg(e),e[re]|=128}function rD(t,e){let n=t[ia],r=e[Rt];if(_i(r))t[re]|=zd.HasTransplantedViews;else{let i=r[Rt][Yn];e[Yn]!==i&&(t[re]|=zd.HasTransplantedViews)}n===null?t[ia]=[e]:n.push(e)}function iy(t,e){let n=t[ia],r=n.indexOf(e);n.splice(r,1)}function rm(t,e){if(t.length<=Xt)return;let n=Xt+e,r=t[n];if(r){let i=r[Ds];i!==null&&i!==t&&iy(i,r),e>0&&(t[n-1][Cn]=r[Cn]);let s=Vd(t,Xt+e);QP(r[ae],r);let o=s[Ir];o!==null&&o.detachView(s[ae]),r[Rt]=null,r[Cn]=null,r[re]&=-129}return r}function iD(t,e){if(!(e[re]&256)){let n=e[ut];n.destroyNode&&mh(t,e,n,3,null,null),ZP(e)}}function Ag(t,e){if(e[re]&256)return;let n=Ee(null);try{e[re]&=-129,e[re]|=256,e[cn]&&eg(e[cn]),ek(t,e),XP(t,e),e[ae].type===1&&e[ut].destroy();let r=e[Ds];if(r!==null&&Tr(e[Rt])){r!==e[Rt]&&iy(r,e);let i=e[Ir];i!==null&&i.detachView(t)}tm(e)}finally{Ee(n)}}function XP(t,e){let n=t.cleanup,r=e[Bd];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Bd]=null);let i=e[Ii];if(i!==null){e[Ii]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function ek(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Rs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Gn(4,a,u);try{u.call(a)}finally{Gn(5,a,u)}}else{Gn(4,i,s);try{s.call(i)}finally{Gn(5,i,s)}}}}}function tk(t,e,n){return nk(t,e.parent,n)}function nk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[br];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Kn.None||s===Kn.Emulated)return null}return dn(r,n)}}function Jd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function sD(t,e,n){t.appendChild(e,n)}function hb(t,e,n,r,i){r!==null?Jd(t,e,n,r,i):sD(t,e,n)}function oD(t,e){return t.parentNode(e)}function rk(t,e){return t.nextSibling(e)}function ik(t,e,n){return ok(t,e,n)}function sk(t,e,n){return t.type&40?dn(t,n):null}var ok=sk,fb;function sy(t,e,n,r){let i=tk(t,r,e),s=e[ut],o=r.parent||e[An],a=ik(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)hb(s,i,n[u],a,!1);else hb(s,i,n,a,!1);fb!==void 0&&fb(s,r,e,n,i)}function Lc(t,e){if(e!==null){let n=e.type;if(n&3)return dn(e,t);if(n&4)return im(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Lc(t,r);{let i=t[e.index];return Tr(i)?im(-1,i):Jn(i)}}else{if(n&128)return Lc(t,e.next);if(n&32)return ry(e,t)()||Jn(t[e.index]);{let r=aD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ss(t[Yn]);return Lc(i,r)}else return Lc(t,e.next)}}}return null}function aD(t,e){if(e!==null){let r=t[Yn][An],i=e.projection;return r.projection[i]}return null}function im(t,e){let n=Xt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Lc(r,i)}return e[Cs]}function ak(t,e,n){t.removeChild(null,e,n)}function oy(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Ns(Jn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)oy(t,e,n.child,r,i,s,!1),Qo(e,t,i,a,s);else if(u&32){let d=ry(n,r),p;for(;p=d();)Qo(e,t,i,p,s);Qo(e,t,i,a,s)}else u&16?ck(t,e,r,n,i,s):Qo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mh(t,e,n,r,i,s){oy(n,r,t.firstChild,e,i,s,!1)}function ck(t,e,n,r,i,s){let o=n[Yn],u=o[An].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Qo(e,t,i,p,s)}else{let d=u,p=o[Rt];HT(r)&&(d.flags|=128),oy(t,e,d,p,i,s,!0)}}function uk(t,e,n,r,i){let s=n[Cs],o=Jn(n);s!==o&&Qo(e,t,r,s,i);for(let a=Xt;a<n.length;a++){let u=n[a];mh(u[ae],u,t,e,r,s)}}function lk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Er.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Er.Important),t.setStyle(n,r,i,s))}}function dk(t,e,n){t.setAttribute(e,"style",n)}function cD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function uD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Vg(t,e,r),i!==null&&cD(t,e,i),s!==null&&dk(t,e,s)}var Cr={};function tW(t=1){lD(Mt(),De(),Fs()+t,!1)}function lD(t,e,n,r){if(!r)if((e[re]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Nd(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Md(e,s,0,n)}As(n)}function Be(t,e=le.Default){let n=De();if(n===null)return Y(t,e);let r=Pt();return FT(r,n,Vt(t),e)}function dD(){let t="invalid";throw new Error(t)}function hD(t,e,n,r,i,s){let o=Ee(null);try{let a=null;i&Ei.SignalBased&&(a=e[r][mr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ei.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):cT(e,a,r,s)}finally{Ee(o)}}function hk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)As(~i);else{let s=i,o=n[++r],a=n[++r];ZM(o,s);let u=e[s];a(2,u)}}}finally{As(-1)}}function yh(t,e,n,r,i,s,o,a,u,d,p){let g=e.blueprint.slice();return g[br]=i,g[re]=r|4|128|8|64,(d!==null||t&&t[re]&2048)&&(g[re]|=2048),pT(g),g[Rt]=g[ha]=t,g[Sn]=n,g[Qn]=o||t&&t[Qn],g[ut]=a||t&&t[ut],g[ra]=u||t&&t[ra]||null,g[An]=s,g[lh]=NP(),g[Ud]=p,g[sT]=d,g[Yn]=e.type==2?t[Yn]:g,g}function vh(t,e,n,r,i){let s=t.data[e];if(s===null)s=fk(t,e,n,r,i),YM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=qM();s.injectorIndex=o===null?-1:o.injectorIndex}return Gc(s,!0),s}function fk(t,e,n,r,i){let s=wT(),o=IT(),a=o?s:s&&s.parent,u=t.data[e]=wk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function fD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function pD(t,e,n,r,i){let s=Fs(),o=r&2;try{As(-1),o&&e.length>Zn&&lD(t,e,Zn,!1),Gn(o?2:0,i),n(r,i)}finally{As(s),Gn(o?3:1,i)}}function gD(t,e,n){if(aT(e)){let r=Ee(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{Ee(r)}}}function mD(t,e,n){vT()&&(Dk(t,e,n,dn(n,e)),(n.flags&64)===64&&ED(t,e,n))}function yD(t,e,n=dn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function vD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ay(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ay(t,e,n,r,i,s,o,a,u,d,p){let g=Zn+r,w=g+i,_=pk(g,w),N=typeof d=="function"?d():d;return _[ae]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:N,incompleteFirstPass:!1,ssrId:p}}function pk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Cr);return n}function gk(t,e,n,r){let s=r.get(VP,YT)||n===Kn.ShadowDom,o=t.selectRootElement(e,s);return mk(o),o}function mk(t){yk(t)}var yk=()=>null;function vk(t,e,n,r){let i=DD(e);i.push(n),t.firstCreatePass&&CD(t).push(r,i.length-1)}function wk(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return $M()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pb(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ei.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?gb(r,n,d,a,u):gb(r,n,d,a)}return r}function gb(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Ik(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=s[p],w=n?n.get(g):null,_=w?w.inputs:null,N=w?w.outputs:null;u=pb(0,g.inputs,p,u,_),d=pb(1,g.outputs,p,d,N);let O=u!==null&&o!==null&&!km(e)?Lk(u,p,o):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function _k(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function wD(t,e,n,r,i,s,o,a){let u=dn(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(cy(t,n,p,r,i),dh(e)&&Ek(n,e.index)):e.type&3?(r=_k(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function Ek(t,e){let n=Si(e,t);n[re]&16||(n[re]|=64)}function ID(t,e,n,r){if(vT()){let i=r===null?null:{"":-1},s=Sk(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&_D(t,e,n,o,i,a),i&&Ak(n,r,i)}n.mergedAttrs=jc(n.mergedAttrs,n.attrs)}function _D(t,e,n,r,i,s){for(let d=0;d<r.length;d++)Kg(Kd(n,e),t,r[d].type);xk(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=fD(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=jc(n.mergedAttrs,p.hostAttrs),Nk(t,n,e,u,p),Rk(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Ik(t,n,s)}function bk(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Tk(o)!=a&&o.push(a),o.push(n,r,s)}}function Tk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Dk(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;dh(n)&&Mk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Kd(n,e),Ns(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],d=xs(e,t,a,n);if(Ns(d,e),o!==null&&Ok(e,a-i,d,u,n,o),Ti(u)){let p=Si(n.index,e);p[Sn]=xs(e,t,a,n)}}}function ED(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=JM();try{As(s);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];qg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ck(u,d)}}finally{As(-1),qg(o)}}function Ck(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Sk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(aM(e,o.selectors,!1))if(r||(r=[]),Ti(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;sm(t,e,u)}else r.unshift(o),sm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function sm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ak(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new J(-301,!1);r.push(e[i],s)}}}function Rk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ti(e)&&(n[""]=t)}}function xk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Nk(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ts(i.type,!0)),o=new Rs(s,Ti(i),Be);t.blueprint[r]=o,n[r]=o,bk(t,e,r,fD(t,n,i.hostVars,Cr),i)}function Mk(t,e,n){let r=dn(e,t),i=vD(n),s=t[Qn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=wh(t,yh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Pk(t,e,n,r,i,s){let o=dn(t,e);kk(e[ut],o,s,t.value,n,r,i)}function kk(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Xo(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Ok(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],d=o[a++],p=o[a++],g=o[a++];hD(r,n,u,d,p,g)}}function Lk(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function bD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function TD(t,e){let n=t.contentQueries;if(n!==null){let r=Ee(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];jm(s),a.contentQueries(2,e[o],o)}}}finally{Ee(r)}}}function wh(t,e){return t[Bc]?t[eb][Cn]=e:t[Bc]=e,t[eb]=e,e}function om(t,e,n){jm(0);let r=Ee(null);try{e(t,n)}finally{Ee(r)}}function DD(t){return t[Bd]??=[]}function CD(t){return t.cleanup??=[]}function SD(t,e){let n=t[ra],r=n?n.get(_r,null):null;r&&r.handleError(e)}function cy(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],d=e[o],p=t.data[o];hD(p,d,r,a,u,i)}}function AD(t,e,n){let r=hT(e,t);KP(t[ut],r,n)}function Fk(t,e){let n=Si(e,t),r=n[ae];Vk(r,n);let i=n[br];i!==null&&n[Ud]===null&&(n[Ud]=ty(i,n[ra])),uy(r,n,n[Sn])}function Vk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function uy(t,e,n){Um(e);try{let r=t.viewQuery;r!==null&&om(1,r,n);let i=t.template;i!==null&&pD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ir]?.finishViewCreation(t),t.staticContentQueries&&TD(t,e),t.staticViewQueries&&om(2,t.viewQuery,n);let s=t.components;s!==null&&jk(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,Bm()}}function jk(t,e){for(let n=0;n<e.length;n++)Fk(t,e[n])}function Uk(t,e,n,r){let i=Ee(null);try{let s=e.tView,a=t[re]&4096?4096:16,u=yh(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[Ds]=d;let p=t[Ir];return p!==null&&(u[Ir]=p.createEmbeddedView(s)),uy(s,u,n),u}finally{Ee(i)}}function mb(t,e){return!e||e.firstChild===null||HT(t)}function Bk(t,e,n,r=!0){let i=e[ae];if(JP(i,e,t,n),r){let o=im(n,t),a=e[ut],u=oD(a,t[Cs]);u!==null&&YP(i,t[An],a,e,u,o)}let s=e[Ud];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Xd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Jn(s)),Tr(s)&&$k(s,r);let o=n.type;if(o&8)Xd(t,e,n.child,r);else if(o&32){let a=ry(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=aD(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ss(e[Yn]);Xd(u[ae],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function $k(t,e){for(let n=Xt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Xd(r[ae],r,i,e)}t[Cs]!==t[br]&&e.push(t[Cs])}var RD=[];function zk(t){return t[cn]??Hk(t)}function Hk(t){let e=RD.pop()??Object.create(Gk);return e.lView=t,e}function qk(t){t.lView[cn]!==t&&(t.lView=null,RD.push(t))}var Gk=Le($({},Mc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fh(t.lView)},consumerOnSignalRead(){this.lView[cn]=this}});function Wk(t){let e=t[cn]??Object.create(Kk);return e.lView=t,e}var Kk=Le($({},Mc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ss(t.lView);for(;e&&!xD(e[ae]);)e=Ss(e);e&&gT(e)},consumerOnSignalRead(){this.lView[cn]=this}});function xD(t){return t.type!==2}var Qk=100;function ND(t,e=!0,n=0){let r=t[Qn],i=r.rendererFactory,s=!1;s||i.begin?.();try{Yk(t,n)}catch(o){throw e&&SD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Yk(t,e){let n=_T();try{nb(!0),am(t,e);let r=0;for(;hh(t);){if(r===Qk)throw new J(103,!1);r++,am(t,1)}}finally{nb(n)}}function Zk(t,e,n,r){let i=e[re];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Qn].inlineEffectRunner?.flush(),Um(e);let a=!0,u=null,d=null;s||(xD(t)?(d=zk(e),u=Jl(d)):oE()===null?(a=!1,d=Wk(e),u=Jl(d)):e[cn]&&(eg(e[cn]),e[cn]=null));try{pT(e),QM(t.bindingStartIndex),n!==null&&pD(t,e,n,2,r);let p=(i&3)===3;if(!s)if(p){let _=t.preOrderCheckHooks;_!==null&&Nd(e,_,null)}else{let _=t.preOrderHooks;_!==null&&Md(e,_,0,null),Tg(e,0)}if(o||Jk(e),MD(e,0),t.contentQueries!==null&&TD(t,e),!s)if(p){let _=t.contentCheckHooks;_!==null&&Nd(e,_)}else{let _=t.contentHooks;_!==null&&Md(e,_,1),Tg(e,1)}hk(t,e);let g=t.components;g!==null&&kD(e,g,0);let w=t.viewQuery;if(w!==null&&om(2,w,r),!s)if(p){let _=t.viewCheckHooks;_!==null&&Nd(e,_)}else{let _=t.viewHooks;_!==null&&Md(e,_,2),Tg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[bg]){for(let _ of e[bg])_();e[bg]=null}s||(e[re]&=-73)}catch(p){throw s||fh(e),p}finally{d!==null&&(Jp(d,u),a&&qk(d)),Bm()}}function MD(t,e){for(let n=GT(t);n!==null;n=WT(n))for(let r=Xt;r<n.length;r++){let i=n[r];PD(i,e)}}function Jk(t){for(let e=GT(t);e!==null;e=WT(e)){if(!(e[re]&zd.HasTransplantedViews))continue;let n=e[ia];for(let r=0;r<n.length;r++){let i=n[r];gT(i)}}}function Xk(t,e,n){let r=Si(e,t);PD(r,n)}function PD(t,e){Vm(t)&&am(t,e)}function am(t,e){let r=t[ae],i=t[re],s=t[cn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Xp(s)),o||=!1,s&&(s.dirty=!1),t[re]&=-9217,o)Zk(r,t,r.template,t[Sn]);else if(i&8192){MD(t,1);let a=r.components;a!==null&&kD(t,a,1)}}function kD(t,e,n){for(let r=0;r<e.length;r++)Xk(t,e[r],n)}function ly(t,e){let n=_T()?64:1088;for(t[Qn].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=Ss(t);if($g(t)&&!r)return t;t=r}return null}var Ms=class{get rootNodes(){let e=this._lView,n=e[ae];return Xd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rt];if(Tr(e)){let n=e[$d],r=n?n.indexOf(this):-1;r>-1&&(rm(e,r),Vd(n,r))}this._attachedToViewContainer=!1}iD(this._lView[ae],this._lView)}onDestroy(e){mT(this._lView,e)}markForCheck(){ly(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Hg(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,ND(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$g(this._lView),n=this._lView[Ds];n!==null&&!e&&iy(n,this._lView),nD(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;let n=$g(this._lView),r=this._lView[Ds];r!==null&&!n&&rD(r,this._lView),Hg(this._lView)}},Ps=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nO;let t=e;return t})(),eO=Ps,tO=class extends eO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Uk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ms(i)}};function nO(){return dy(Pt(),De())}function dy(t,e){return t.type&4?new tO(e,t,pa(t,e)):null}var rW=new RegExp(`^(\\d+)*(${LP}|${OP})*(.*)`);var rO=()=>null;function yb(t,e){return rO(t,e)}var sa=class{},hy=new G("",{providedIn:"root",factory:()=>!1});var OD=new G(""),LD=new G(""),cm=class{},eh=class{};function iO(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[sO]=t,e}var sO="ngComponent";var um=class{resolveComponentFactory(e){throw iO(e)}},Iy=class Iy{};Iy.NULL=new um;var oa=Iy,aa=class{},Kc=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>oO();let t=e;return t})();function oO(){let t=De(),e=Pt(),n=Si(e.index,t);return(_i(n)?n:t)[ut]}var aO=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function lm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=HE(i,a);else if(s==2){let u=a,d=e[++o];r=HE(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var th=class extends oa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=bi(e);return new ca(n,this.ngModule)}};function vb(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ei.None;e?n.push({propName:o,templateName:r,isSignal:(a&Ei.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function cO(t){let e=t.toLowerCase();return e==="svg"?MM:e==="math"?PM:null}var ca=class extends eh{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=vb(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return vb(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=dM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Ee(null);try{i=i||this.ngModule;let o=i instanceof Ut?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Gg(e,o):e,u=a.get(aa,null);if(u===null)throw new J(407,!1);let d=a.get(aO,null),p=a.get(sa,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",N=r?gk(w,r,this.componentDef.encapsulation,a):tD(w,_,cO(_)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let M=null;N!==null&&(M=ty(N,a,!0));let F=ay(0,null,null,1,0,null,null,null,null,null,null),H=yh(null,F,null,O,null,null,g,w,a,null,M);Um(H);let K,Q,_e=null;try{let Z=this.componentDef,C,E=null;Z.findHostDirectiveDefs?(C=[],E=new Map,Z.findHostDirectiveDefs(Z,C,E),C.push(Z)):C=[Z];let b=uO(H,N);_e=lO(b,N,Z,C,H,g,w),Q=fT(F,Zn),N&&fO(w,Z,N,r),n!==void 0&&pO(Q,this.ngContentSelectors,n),K=hO(_e,Z,C,E,H,[gO]),uy(F,H,null)}catch(Z){throw _e!==null&&tm(_e),tm(H),Z}finally{Bm()}return new dm(this.componentType,K,pa(Q,H),H,Q)}finally{Ee(s)}}},dm=class extends cm{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ms(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;cy(s[ae],s,i,e,n),this.previousInputValues.set(e,n);let o=Si(this._tNode.index,s);ly(o,1)}}get injector(){return new bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uO(t,e){let n=t[ae],r=Zn;return t[r]=e,vh(n,r,2,"#host",null)}function lO(t,e,n,r,i,s,o){let a=i[ae];dO(r,t,e,o);let u=null;e!==null&&(u=ty(e,i[ra]));let d=s.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let g=yh(i,vD(n),null,p,i[t.index],t,s,d,null,null,u);return a.firstCreatePass&&sm(a,t,r.length-1),wh(i,g),i[t.index]=g}function dO(t,e,n,r){for(let i of t)e.mergedAttrs=jc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(lm(e,e.mergedAttrs,!0),n!==null&&uD(r,n,e))}function hO(t,e,n,r,i,s){let o=Pt(),a=i[ae],u=dn(o,i);_D(a,i,o,n,null,r);for(let p=0;p<n.length;p++){let g=o.directiveStart+p,w=xs(i,a,g,o);Ns(w,i)}ED(a,i,o),u&&Ns(u,i);let d=xs(i,a,o.directiveStart+o.componentOffset,o);if(t[Sn]=i[Sn]=d,s!==null)for(let p of s)p(d,e);return gD(a,o,i),d}function fO(t,e,n,r){if(r)Vg(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:s}=hM(e.selectors[0]);i&&Vg(t,n,i),s&&s.length>0&&cD(t,n,s.join(" "))}}function pO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function gO(){let t=Pt();qm(De()[ae],t)}var Ri=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mO;let t=e;return t})();function mO(){let t=Pt();return VD(t,De())}var yO=Ri,FD=class extends yO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return pa(this._hostTNode,this._hostLView)}get injector(){return new bs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Gm(this._hostTNode,this._hostLView);if(NT(e)){let n=Gd(e,this._hostLView),r=qd(e),i=n[ae].data[r+8];return new bs(i,n)}else return new bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=wb(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=yb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,mb(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!AM(e),a;if(o)a=n;else{let N=n||{};a=N.index,r=N.injector,i=N.projectableNodes,s=N.environmentInjector||N.ngModuleRef}let u=o?e:new ca(bi(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let O=(o?d:this.parentInjector).get(Ut,null);O&&(s=O)}let p=bi(u.componentType??{}),g=yb(this._lContainer,p?.id??null),w=g?.firstChild??null,_=u.create(d,i,w,s);return this.insertImpl(_.hostView,a,mb(this._hostTNode,g)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(LM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Rt],d=new FD(u,u[An],u[Rt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Bk(o,i,s,r),e.attachToViewContainerRef(),Ub(Rg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=wb(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=rm(this._lContainer,n);r&&(Vd(Rg(this._lContainer),n),iD(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=rm(this._lContainer,n);return r&&Vd(Rg(this._lContainer),n)!=null?new Ms(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function wb(t){return t[$d]}function Rg(t){return t[$d]||(t[$d]=[])}function VD(t,e){let n,r=e[t.index];return Tr(r)?n=r:(n=bD(r,e,null,t),e[t.index]=n,wh(e,n)),wO(n,e,t,r),new FD(n,t,e)}function vO(t,e){let n=t[ut],r=n.createComment(""),i=dn(e,t),s=oD(n,i);return Jd(n,s,r,rk(n,i),!1),r}var wO=EO,IO=()=>!1;function _O(t,e,n){return IO(t,e,n)}function EO(t,e,n,r){if(t[Cs])return;let i;n.type&8?i=Jn(r):i=vO(e,n),t[Cs]=i}var hm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},fm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)fy(e,n).matches!==null&&this.queries[n].setDirty()}},pm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=xO(e):this.predicate=e}},gm=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},mm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,bO(n,s)),this.matchTNodeWithReadOption(e,n,Pd(n,e,s,!1,!1))}else r===Ps?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Pd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Dr||i===Ri||i===Ps&&n.type&4)this.addMatch(n.index,-2);else{let s=Pd(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function bO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function TO(t,e){return t.type&11?pa(t,e):t.type&4?dy(t,e):null}function DO(t,e,n,r){return n===-1?TO(e,t):n===-2?CO(t,e,r):xs(t,t[ae],n,e)}function CO(t,e,n){if(n===Dr)return pa(e,t);if(n===Ps)return dy(e,t);if(n===Ri)return VD(e,t)}function jD(t,e,n,r){let i=e[Ir].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let d=o[u];if(d<0)a.push(null);else{let p=s[d];a.push(DO(e,p,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function ym(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=jD(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let d=s[a+1],p=e[-u];for(let g=Xt;g<p.length;g++){let w=p[g];w[Ds]===w[Rt]&&ym(w[ae],w,d,r)}if(p[ia]!==null){let g=p[ia];for(let w=0;w<g.length;w++){let _=g[w];ym(_[ae],_,d,r)}}}}}return r}function SO(t,e){return t[Ir].queries[e].queryList}function AO(t,e,n){let r=new em((n&4)===4);return vk(t,e,r,r.destroy),(e[Ir]??=new fm).queries.push(new hm(r))-1}function RO(t,e,n,r){let i=Mt();if(i.firstCreatePass){let s=Pt();NO(i,new pm(e,n,r),s.index),MO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return AO(i,De(),n)}function xO(t){return t.split(",").map(e=>e.trim())}function NO(t,e,n){t.queries===null&&(t.queries=new gm),t.queries.track(new mm(e,n))}function MO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function fy(t,e){return t.queries.getByIndex(e)}function PO(t,e){let n=t[ae],r=fy(n,e);return r.crossesNgTemplate?ym(n,t,e,[]):jD(n,t,r,e)}var Ib=new Set;function Vs(t){Ib.has(t)||(Ib.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function kO(t){return typeof t=="function"&&t[mr]!==void 0}function sW(t,e){Vs("NgSignals");let n=yE(t),r=n[mr];return e?.equal&&(r.equal=e.equal),n.set=i=>tg(r,i),n.update=i=>vE(r,i),n.asReadonly=OO.bind(n),n}function OO(){let t=this[mr];if(t.readonlyFn===void 0){let e=()=>this();e[mr]=t,t.readonlyFn=e}return t.readonlyFn}function UD(t){return kO(t)&&typeof t.set=="function"}function LO(t){return Object.getPrototypeOf(t.prototype).constructor}function FO(t){let e=LO(t.type),n=!0,r=[t];for(;e;){let i;if(Ti(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Sd(t.inputs),o.inputTransforms=Sd(t.inputTransforms),o.declaredInputs=Sd(t.declaredInputs),o.outputs=Sd(t.outputs);let a=i.hostBindings;a&&$O(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&UO(t,u),d&&BO(t,d),VO(t,i),NN(t.outputs,i.outputs),Ti(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===FO&&(n=!1)}}e=Object.getPrototypeOf(e)}jO(r)}function VO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function jO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jc(i.hostAttrs,n=jc(n,i.hostAttrs))}}function Sd(t){return t===ea?{}:t===an?[]:t}function UO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function BO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function $O(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function py(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Di=class{},$c=class{};var vm=class extends Di{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new th(this);let s=Zb(e);this._bootstrapComponents=eD(s.bootstrap),this._r3Injector=UT(e,n,[{provide:Di,useValue:this},{provide:oa,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wm=class extends $c{constructor(e){super(),this.moduleType=e}create(e){return new vm(this.moduleType,e,[])}};var nh=class extends Di{constructor(e){super(),this.componentFactoryResolver=new th(this),this.instance=null;let n=new Uc([...e.providers,{provide:Di,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],e.parent||Lm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ih(t,e,n=null){return new nh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function BD(t){return HO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function zO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function HO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function qO(t,e,n){return t[e]=n}function ks(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $D(t,e,n,r){let i=ks(t,e,n);return ks(t,e+1,r)||i}function GO(t){return(t.flags&32)===32}function WO(t,e,n,r,i,s,o,a,u){let d=e.consts,p=vh(e,t,4,o||null,a||null);ID(e,n,p,Hd(d,u)),qm(e,p);let g=p.tView=ay(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function KO(t,e,n,r,i,s,o,a,u,d){let p=n+Zn,g=e.firstCreatePass?WO(p,e,t,r,i,s,o,a,u):e.data[p];Gc(g,!1);let w=YO(e,t,g,n);zm()&&sy(e,t,w,g),Ns(w,t);let _=bD(w,t,w,g);return t[p]=_,wh(t,_),_O(_,g,t),Fm(g)&&mD(e,t,g),u!=null&&yD(t,g,d),g}function QO(t,e,n,r,i,s,o,a){let u=De(),d=Mt(),p=Hd(d.consts,s);return KO(u,d,t,e,n,r,i,p,o,a),QO}var YO=ZO;function ZO(t,e,n,r){return Hm(!0),e[ut].createComment("")}var Yo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Yo||{}),zD=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),_s=class _s{constructor(){this.ngZone=V(be),this.scheduler=V(sa),this.errorHandler=V(_r,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of _s.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};_s.PHASES=[Yo.EarlyRead,Yo.Write,Yo.MixedReadWrite,Yo.Read],_s.\u0275prov=W({token:_s,providedIn:"root",factory:()=>new _s});var Im=_s,_m=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function gy(t,e){!e?.injector&&SM(gy);let n=e?.injector??V(xt);return qP(n)?(Vs("NgAfterNextRender"),XO(t,n,e,!0)):e1}function JO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function XO(t,e,n,r){let i=e.get(zD);i.impl??=e.get(Im);let s=n?.phase??Yo.MixedReadWrite,o=new _m(i.impl,JO(t,s),r,e.get(Qm));return i.impl.register(o),o}var e1={destroy(){}};function my(t,e,n,r){let i=De(),s=ph();if(ks(i,s,e)){let o=Mt(),a=$m();Pk(a,i,t,e,n,r)}return my}function t1(t,e,n,r){return ks(t,ph(),n)?e+Xo(n)+r:Cr}function n1(t,e,n,r,i,s){let o=KM(),a=$D(t,o,n,i);return ET(2),a?e+Xo(n)+r+Xo(i)+s:Cr}function Ad(t,e){return t<<17|e<<2}function Os(t){return t>>17&32767}function r1(t){return(t&2)==2}function i1(t,e){return t&131071|e<<17}function Em(t){return t|2}function ua(t){return(t&131068)>>2}function xg(t,e){return t&-131069|e<<2}function s1(t){return(t&1)===1}function bm(t){return t|1}function o1(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Os(o),u=ua(o);t[r]=n;let d=!1,p;if(Array.isArray(n)){let g=n;p=g[1],(p===null||qc(g,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let w=Os(t[a+1]);t[r+1]=Ad(w,a),w!==0&&(t[w+1]=xg(t[w+1],r)),t[a+1]=i1(t[a+1],r)}else t[r+1]=Ad(a,0),a!==0&&(t[a+1]=xg(t[a+1],r)),a=r;else t[r+1]=Ad(u,0),a===0?a=r:t[u+1]=xg(t[u+1],r),u=r;d&&(t[r+1]=Em(t[r+1])),_b(t,p,r,!0),_b(t,p,r,!1),a1(e,p,t,r,s),o=Ad(a,u),s?e.classBindings=o:e.styleBindings=o}function a1(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&qc(s,e)>=0&&(n[r+1]=bm(n[r+1]))}function _b(t,e,n,r){let i=t[n+1],s=e===null,o=r?Os(i):ua(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],d=t[o+1];c1(u,e)&&(a=!0,t[o+1]=r?bm(d):Em(d)),o=r?Os(d):ua(d)}a&&(t[n+1]=r?Em(i):bm(i))}function c1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?qc(t,e)>=0:!1}function u1(t,e,n){let r=De(),i=ph();if(ks(r,i,e)){let s=Mt(),o=$m();wD(s,o,r,t,e,r[ut],n,!1)}return u1}function Eb(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";cy(t,n,s[o],o,r)}function l1(t,e){return d1(t,e,null,!0),l1}function d1(t,e,n,r){let i=De(),s=Mt(),o=ET(2);if(s.firstUpdatePass&&f1(s,t,o,r),e!==Cr&&ks(i,o,e)){let a=s.data[Fs()];v1(s,a,i,i[ut],t,i[o+1]=w1(e,n),r,o)}}function h1(t,e){return e>=t.expandoStartIndex}function f1(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Fs()],o=h1(t,n);I1(s,r)&&e===null&&!o&&(e=!1),e=p1(i,s,e,r),o1(i,s,e,n,o,r)}}function p1(t,e,n,r){let i=XM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ng(null,t,e,n,r),n=zc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Ng(i,t,e,n,r),s===null){let u=g1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Ng(null,t,e,u[1],r),u=zc(u,e.attrs,r),m1(t,e,r,u))}else s=y1(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function g1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ua(r)!==0)return t[Os(r)]}function m1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Os(i)]=r}function y1(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=zc(r,o,n)}return zc(r,e.attrs,n)}function Ng(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=zc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function zc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),XN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function v1(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=s1(d)?bb(u,e,n,i,ua(d),o):void 0;if(!rh(p)){rh(s)||r1(d)&&(s=bb(u,null,n,i,a,o));let g=hT(Fs(),n);lk(r,o,g,i,s)}}function bb(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,w=n[i+1];w===Cr&&(w=g?an:void 0);let _=g?_g(w,r):p===r?w:void 0;if(d&&!rh(_)&&(_=_g(u,r)),rh(_)&&(a=_,o))return a;let N=t[i+1];i=o?Os(N):ua(N)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=_g(u,r))}return a}function rh(t){return t!==void 0}function w1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(Wc(t)))),t}function I1(t,e){return(t.flags&(e?8:16))!==0}function _1(t,e,n,r,i,s){let o=e.consts,a=Hd(o,i),u=vh(e,t,2,r,a);return ID(e,n,u,Hd(o,s)),u.attrs!==null&&lm(u,u.attrs,!1),u.mergedAttrs!==null&&lm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function HD(t,e,n,r){let i=De(),s=Mt(),o=Zn+t,a=i[ut],u=s.firstCreatePass?_1(o,s,i,e,n,r):s.data[o],d=E1(s,i,u,a,e,t);i[o]=d;let p=Fm(u);return Gc(u,!0),uD(a,d,u),!GO(u)&&zm()&&sy(s,i,d,u),jM()===0&&Ns(d,i),UM(),p&&(mD(s,i,u),gD(s,u,i)),r!==null&&yD(i,u),HD}function qD(){let t=Pt();IT()?GM():(t=t.parent,Gc(t,!1));let e=t;zM(e)&&HM(),BM();let n=Mt();return n.firstCreatePass&&(qm(n,t),aT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&oP(e)&&Eb(n,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aP(e)&&Eb(n,e,De(),e.stylesWithoutHost,!1),qD}function yy(t,e,n,r){return HD(t,e,n,r),qD(),yy}var E1=(t,e,n,r,i,s)=>(Hm(!0),tD(r,i,nP()));function oW(){return De()}var ws=void 0;function b1(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var T1=["en",[["a","p"],["AM","PM"],ws],[["AM","PM"],ws,ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ws,"{1} 'at' {0}",ws],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",b1],Mg={};function fn(t){let e=D1(t),n=Tb(e);if(n)return n;let r=e.split("-")[0];if(n=Tb(r),n)return n;if(r==="en")return T1;throw new J(701,!1)}function Tb(t){return t in Mg||(Mg[t]=Es.ng&&Es.ng.common&&Es.ng.common.locales&&Es.ng.common.locales[t]),Mg[t]}var Qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Qe||{});function D1(t){return t.toLowerCase().replace(/_/g,"-")}var ih="en-US";var C1=ih;function S1(t){typeof t=="string"&&(C1=t.toLowerCase().replace(/_/g,"-"))}var A1=(t,e,n)=>{};function vy(t,e,n,r){let i=De(),s=Mt(),o=Pt();return GD(s,i,i[ut],o,t,e,r),vy}function R1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Bd],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function GD(t,e,n,r,i,s,o){let a=Fm(r),d=t.firstCreatePass&&CD(t),p=e[Sn],g=DD(e),w=!0;if(r.type&3||o){let O=dn(r,e),M=o?o(O):O,F=g.length,H=o?Q=>o(Jn(Q[r.index])):r.index,K=null;if(!o&&a&&(K=R1(t,e,i,r.index)),K!==null){let Q=K.__ngLastListenerFn__||K;Q.__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,w=!1}else{s=Cb(r,e,p,s),A1(O,i,s);let Q=n.listen(M,i,s);g.push(s,Q),d&&d.push(i,H,F,F+1)}}else s=Cb(r,e,p,s);let _=r.outputs,N;if(w&&_!==null&&(N=_[i])){let O=N.length;if(O)for(let M=0;M<O;M+=2){let F=N[M],H=N[M+1],_e=e[F][H].subscribe(s),Z=g.length;g.push(s,_e),d&&d.push(i,r.index,Z,-(Z+1))}}}function Db(t,e,n,r){let i=Ee(null);try{return Gn(6,e,n),n(r)!==!1}catch(s){return SD(t,s),!1}finally{Gn(7,e,n),Ee(i)}}function Cb(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Si(t.index,e):e;ly(o,5);let a=Db(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=Db(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function aW(t=1){return tP(t)}function WD(t,e,n,r){RO(t,e,n,r)}function KD(t){let e=De(),n=Mt(),r=bT();jm(r+1);let i=fy(n,r);if(t.dirty&&OM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=PO(e,r);t.reset(s,AP),t.notifyOnChanges()}return!0}return!1}function QD(){return SO(De(),bT())}function x1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function cW(t,e=""){let n=De(),r=Mt(),i=t+Zn,s=r.firstCreatePass?vh(r,i,1,e,null):r.data[i],o=N1(r,n,s,e,t);n[i]=o,zm()&&sy(r,n,o,s),Gc(s,!1)}var N1=(t,e,n,r,i)=>(Hm(!0),WP(e[ut],r));function M1(t){return YD("",t,""),M1}function YD(t,e,n){let r=De(),i=t1(r,t,e,n);return i!==Cr&&AD(r,Fs(),i),YD}function P1(t,e,n,r,i){let s=De(),o=n1(s,t,e,n,r,i);return o!==Cr&&AD(s,Fs(),o),P1}function k1(t,e,n){UD(e)&&(e=e());let r=De(),i=ph();if(ks(r,i,e)){let s=Mt(),o=$m();wD(s,o,r,t,e,r[ut],n,!1)}return k1}function uW(t,e){let n=UD(t);return n&&t.set(e),n}function O1(t,e){let n=De(),r=Mt(),i=Pt();return GD(r,n,n[ut],i,t,e),O1}function L1(t,e,n){let r=Mt();if(r.firstCreatePass){let i=Ti(t);Tm(n,r.data,r.blueprint,i,!0),Tm(e,r.data,r.blueprint,i,!1)}}function Tm(t,e,n,r,i){if(t=Vt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Tm(t[s],e,n,r,i);else{let s=Mt(),o=De(),a=Pt(),u=na(t)?t:Vt(t.provide),d=rT(t),p=a.providerIndexes&1048575,g=a.directiveStart,w=a.providerIndexes>>20;if(na(t)||!t.multi){let _=new Rs(d,i,Be),N=kg(u,e,i?p:p+w,g);N===-1?(Kg(Kd(a,o),s,u),Pg(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)):(n[N]=_,o[N]=_)}else{let _=kg(u,e,p+w,g),N=kg(u,e,p,p+w),O=_>=0&&n[_],M=N>=0&&n[N];if(i&&!M||!i&&!O){Kg(Kd(a,o),s,u);let F=j1(i?V1:F1,n.length,i,r,d);!i&&M&&(n[N].providerFactory=F),Pg(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=ZD(n[i?N:_],d,!i&&r);Pg(s,t,_>-1?_:N,F)}!i&&r&&M&&n[N].componentProviders++}}}function Pg(t,e,n,r){let i=na(e),s=IM(e);if(i||s){let u=(s?Vt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function ZD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function kg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function F1(t,e,n,r){return Dm(this.multi,[])}function V1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=xs(n,n[ae],this.providerFactory.index,r);s=a.slice(0,o),Dm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Dm(i,s);return s}function Dm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function j1(t,e,n,r,i){let s=new Rs(t,n,Be);return s.multi=[],s.index=e,s.componentProviders=0,ZD(s,i,r&&!n),s}function lW(t,e=[]){return n=>{n.providersResolver=(r,i)=>L1(r,i?i(t):t,e)}}var U1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=eT(!1,r.type),s=i.length>0?Ih([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(Y(Ut))});let t=e;return t})();function JD(t){Vs("NgStandalone"),t.getStandaloneInjector=e=>e.get(U1).getOrCreateStandaloneInjector(t)}function B1(t,e){let n=t[e];return n===Cr?void 0:n}function $1(t,e,n,r,i,s,o){let a=e+n;return $D(t,a,i,s)?qO(t,a+2,o?r.call(o,i,s):r(i,s)):B1(t,a+2)}function dW(t,e){let n=Mt(),r,i=t+Zn;n.firstCreatePass?(r=z1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Ts(r.type,!0)),o,a=Gt(Be);try{let u=Wd(!1),d=s();return Wd(u),x1(n,De(),i,d),d}finally{Gt(a)}}function z1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function hW(t,e,n,r){let i=t+Zn,s=De(),o=kM(s,i);return H1(s,i)?$1(s,WM(),e,o.transform,n,r,o):o.transform(n,r)}function H1(t,e){return t[ae].data[e].pure}var Ci=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},XD=new Ci("18.2.4");var _h=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var e0=new G("");function Qc(t){return!!t&&typeof t.then=="function"}function t0(t){return!!t&&typeof t.subscribe=="function"}var Eh=new G(""),n0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=V(Eh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Qc(o))r.push(o);else if(t0(o)){let a=new Promise((u,d)=>{o.subscribe({complete:u,error:d})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yc=new G("");function q1(){mE(()=>{throw new J(600,!1)})}function G1(t){return t.isBoundToModule}var W1=10;function K1(t,e,n){try{let r=n();return Qc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(CP),this.afterRenderManager=V(zD),this.zonelessEnabled=V(hy),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new At,this.afterTick=new At,this.componentTypes=[],this.components=[],this.isStable=V(Ai).hasPendingTasks.pipe(ue(r=>!r)),this._injector=V(Ut)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof eh;if(!this._injector.get(n0).done){let _=!s&&Yb(r),N=!1;throw new J(405,N)}let a;s?a=r:a=this._injector.get(oa).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=G1(a)?void 0:this._injector.get(Di),d=i||a.selector,p=a.create(xt.NULL,[],d,u),g=p.location.nativeElement,w=p.injector.get(e0,null);return w?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),kd(this.components,p),w?.unregisterApplication(g)}),this._loadComponent(p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new J(101,!1);let r=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ee(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(aa,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<W1;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)Q1(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>hh(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;kd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Yc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>kd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new J(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Q1(t,e,n,r){if(!n&&!hh(t))return;ND(t,e,n&&!r?0:1)}var Cm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},bh=(()=>{let e=class e{compileModuleSync(r){return new wm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Zb(r),o=eD(s.declarations).reduce((a,u)=>{let d=bi(u);return d&&a.push(new ca(d)),a},[]);return new Cm(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Y1=(()=>{let e=class e{constructor(){this.zone=V(be),this.changeDetectionScheduler=V(sa),this.applicationRef=V(xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z1=new G("",{factory:()=>!1});function r0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new be(Le($({},i0()),{scheduleInRootZone:n})),[{provide:be,useFactory:t},{provide:ta,multi:!0,useFactory:()=>{let r=V(Y1,{optional:!0});return()=>r.initialize()}},{provide:ta,multi:!0,useFactory:()=>{let r=V(J1);return()=>{r.initialize()}}},e===!0?{provide:OD,useValue:!0}:[],{provide:LD,useValue:n??BT}]}function fW(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=r0({ngZoneFactory:()=>{let i=i0(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Vs("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return un([{provide:Z1,useValue:!0},{provide:hy,useValue:!1},r])}function i0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var J1=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=V(be),this.pendingTasks=V(Ai)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var X1=(()=>{let e=class e{constructor(){this.appRef=V(xi),this.taskService=V(Ai),this.ngZone=V(be),this.zonelessEnabled=V(hy),this.disableScheduling=V(OD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Yd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(LD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Xg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?ab:$T;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Yd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ab(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eL(){return typeof $localize<"u"&&$localize.locale||ih}var Th=new G("",{providedIn:"root",factory:()=>V(Th,le.Optional|le.SkipSelf)||eL()});var s0=new G("");function Rd(t){return!!t.platformInjector}function tL(t){let e=Rd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(be);return n.run(()=>{Rd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(_r,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Rd(t)){let s=()=>e.destroy(),o=t.platformInjector.get(s0);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{kd(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return K1(r,n,()=>{let s=e.get(n0);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Th,ih);if(S1(o||ih),Rd(t)){let a=e.get(xi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return nL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function nL(t,e){let n=t.injector.get(xi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new J(-403,!1);e.push(t)}var Od=null;function rL(t=[],e){return xt.create({name:e,providers:[{provide:uh,useValue:"platform"},{provide:s0,useValue:new Set([()=>Od=null])},...t]})}function iL(t=[]){if(Od)return Od;let e=rL(t);return Od=e,q1(),sL(e),e}function sL(t){t.get(Xm,null)?.forEach(n=>n())}var ga=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oL;let t=e;return t})();function oL(t){return aL(Pt(),De(),(t&16)===16)}function aL(t,e,n){if(dh(t)&&!n){let r=Si(t.index,e);return new Ms(r,r)}else if(t.type&175){let r=e[Yn];return new Ms(r,e)}return null}var Sm=class{constructor(){}supports(e){return BD(e)}create(e){return new Am(e)}},cL=(t,e)=>e,Am=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Sb(r,i,s)?n:r,a=Sb(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,p=u-i;if(d!=p){for(let w=0;w<d;w++){let _=w<s.length?s[w]:s[w]=0,N=_+w;p<=N&&N<d&&(s[w]=_+1)}let g=o.previousIndex;s[g]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!BD(e))throw new J(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,zO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Rm(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new sh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Rm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},xm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},sh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new xm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Sb(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Ab(){return new wy([new Sm])}var wy=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Ab()),deps:[[e,new Mm,new Nt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new J(901,!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:Ab});let t=e;return t})();function o0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=iL(r),s=[r0({}),{provide:sa,useExisting:X1},...n||[]],o=new nh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return tL({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var a0=new G("");function Zc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function pW(t,e){Vs("NgSignals");let n=fE(t);return e?.equal&&(n[mr].equal=e.equal),n}function uL(t){let e=Ee(null);try{return t()}finally{Ee(e)}}function c0(t){let e=bi(t);if(!e)return null;let n=new ca(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var p0=null;function ya(){return p0}function g0(t){p0??=t}var Ph=class{};var _t=new G(""),Ay=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>V(dL),providedIn:"platform"});let t=e;return t})(),m0=new G(""),dL=(()=>{let e=class e extends Ay{constructor(){super(),this._doc=V(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ya().getBaseHref(this._doc)}onPopState(r){let i=ya().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ya().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ry(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function u0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ar(t){return t&&t[0]!=="?"?"?"+t:t}var xr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>V(xy),providedIn:"root"});let t=e;return t})(),y0=new G(""),xy=(()=>{let e=class e extends xr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??V(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ry(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ar(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Ay),Y(y0,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),v0=(()=>{let e=class e extends xr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Ry(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Ay),Y(y0,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),wa=(()=>{let e=class e{constructor(r){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=pL(u0(l0(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ar(i))}normalize(r){return e.stripTrailingSlash(fL(this._basePath,l0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ar(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ar(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Ar,e.joinWithSlash=Ry,e.stripTrailingSlash=u0,e.\u0275fac=function(i){return new(i||e)(Y(xr))},e.\u0275prov=W({token:e,factory:()=>hL(),providedIn:"root"});let t=e;return t})();function hL(){return new wa(Y(xr))}function fL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function l0(t){return t.replace(/\/index.html$/,"")}function pL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Bt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Bt||{}),ke=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ke||{}),en=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(en||{}),Ni={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gL(t){return fn(t)[Qe.LocaleId]}function mL(t,e,n){let r=fn(t),i=[r[Qe.DayPeriodsFormat],r[Qe.DayPeriodsStandalone]],s=pn(i,e);return pn(s,n)}function yL(t,e,n){let r=fn(t),i=[r[Qe.DaysFormat],r[Qe.DaysStandalone]],s=pn(i,e);return pn(s,n)}function vL(t,e,n){let r=fn(t),i=[r[Qe.MonthsFormat],r[Qe.MonthsStandalone]],s=pn(i,e);return pn(s,n)}function wL(t,e){let r=fn(t)[Qe.Eras];return pn(r,e)}function Dh(t,e){let n=fn(t);return pn(n[Qe.DateFormat],e)}function Ch(t,e){let n=fn(t);return pn(n[Qe.TimeFormat],e)}function Sh(t,e){let r=fn(t)[Qe.DateTimeFormat];return pn(r,e)}function Oh(t,e){let n=fn(t),r=n[Qe.NumberSymbols][e];if(typeof r>"u"){if(e===Ni.CurrencyDecimal)return n[Qe.NumberSymbols][Ni.Decimal];if(e===Ni.CurrencyGroup)return n[Qe.NumberSymbols][Ni.Group]}return r}function w0(t){if(!t[Qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function IL(t){let e=fn(t);return w0(e),(e[Qe.ExtraData][2]||[]).map(r=>typeof r=="string"?_y(r):[_y(r[0]),_y(r[1])])}function _L(t,e,n){let r=fn(t);w0(r);let i=[r[Qe.ExtraData][0],r[Qe.ExtraData][1]],s=pn(i,e)||[];return pn(s,n)||[]}function pn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function _y(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var EL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ah={},bL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Rr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Rr||{}),Se=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Se||{}),Ce=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ce||{});function TL(t,e,n,r){let i=PL(t);e=Sr(n,e)||e;let o=[],a;for(;e;)if(a=bL.exec(e),a){o=o.concat(a.slice(1));let p=o.pop();if(!p)break;e=p}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=_0(r,u),i=ML(i,r,!0));let d="";return o.forEach(p=>{let g=xL(p);d+=g?g(i,n,u):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function kh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Sr(t,e){let n=gL(t);if(Ah[n]??={},Ah[n][e])return Ah[n][e];let r="";switch(e){case"shortDate":r=Dh(t,en.Short);break;case"mediumDate":r=Dh(t,en.Medium);break;case"longDate":r=Dh(t,en.Long);break;case"fullDate":r=Dh(t,en.Full);break;case"shortTime":r=Ch(t,en.Short);break;case"mediumTime":r=Ch(t,en.Medium);break;case"longTime":r=Ch(t,en.Long);break;case"fullTime":r=Ch(t,en.Full);break;case"short":let i=Sr(t,"shortTime"),s=Sr(t,"shortDate");r=Rh(Sh(t,en.Short),[i,s]);break;case"medium":let o=Sr(t,"mediumTime"),a=Sr(t,"mediumDate");r=Rh(Sh(t,en.Medium),[o,a]);break;case"long":let u=Sr(t,"longTime"),d=Sr(t,"longDate");r=Rh(Sh(t,en.Long),[u,d]);break;case"full":let p=Sr(t,"fullTime"),g=Sr(t,"fullDate");r=Rh(Sh(t,en.Full),[p,g]);break}return r&&(Ah[n][e]=r),r}function Rh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Rn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function DL(t,e){return Rn(t,3).substring(0,e)}function nt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=CL(t,s);if((n>0||a>-n)&&(a+=n),t===Se.Hours)a===0&&n===-12&&(a=12);else if(t===Se.FractionalSeconds)return DL(a,e);let u=Oh(o,Ni.MinusSign);return Rn(a,e,u,r,i)}}function CL(t,e){switch(t){case Se.FullYear:return e.getFullYear();case Se.Month:return e.getMonth();case Se.Date:return e.getDate();case Se.Hours:return e.getHours();case Se.Minutes:return e.getMinutes();case Se.Seconds:return e.getSeconds();case Se.FractionalSeconds:return e.getMilliseconds();case Se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Fe(t,e,n=Bt.Format,r=!1){return function(i,s){return SL(i,s,t,e,n,r)}}function SL(t,e,n,r,i,s){switch(n){case Ce.Months:return vL(e,i,r)[t.getMonth()];case Ce.Days:return yL(e,i,r)[t.getDay()];case Ce.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let d=IL(e),p=_L(e,i,r),g=d.findIndex(w=>{if(Array.isArray(w)){let[_,N]=w,O=o>=_.hours&&a>=_.minutes,M=o<N.hours||o===N.hours&&a<N.minutes;if(_.hours<N.hours){if(O&&M)return!0}else if(O||M)return!0}else if(w.hours===o&&w.minutes===a)return!0;return!1});if(g!==-1)return p[g]}return mL(e,i,r)[o<12?0:1];case Ce.Eras:return wL(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function xh(t){return function(e,n,r){let i=-1*r,s=Oh(n,Ni.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Rr.Short:return(i>=0?"+":"")+Rn(o,2,s)+Rn(Math.abs(i%60),2,s);case Rr.ShortGMT:return"GMT"+(i>=0?"+":"")+Rn(o,1,s);case Rr.Long:return"GMT"+(i>=0?"+":"")+Rn(o,2,s)+":"+Rn(Math.abs(i%60),2,s);case Rr.Extended:return r===0?"Z":(i>=0?"+":"")+Rn(o,2,s)+":"+Rn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var AL=0,Mh=4;function RL(t){let e=kh(t,AL,1).getDay();return kh(t,0,1+(e<=Mh?Mh:Mh+7)-e)}function I0(t){let e=t.getDay(),n=e===0?-3:Mh-e;return kh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Ey(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=I0(n),o=RL(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Rn(i,t,Oh(r,Ni.MinusSign))}}function Nh(t,e=!1){return function(n,r){let s=I0(n).getFullYear();return Rn(s,t,Oh(r,Ni.MinusSign),e)}}var by={};function xL(t){if(by[t])return by[t];let e;switch(t){case"G":case"GG":case"GGG":e=Fe(Ce.Eras,ke.Abbreviated);break;case"GGGG":e=Fe(Ce.Eras,ke.Wide);break;case"GGGGG":e=Fe(Ce.Eras,ke.Narrow);break;case"y":e=nt(Se.FullYear,1,0,!1,!0);break;case"yy":e=nt(Se.FullYear,2,0,!0,!0);break;case"yyy":e=nt(Se.FullYear,3,0,!1,!0);break;case"yyyy":e=nt(Se.FullYear,4,0,!1,!0);break;case"Y":e=Nh(1);break;case"YY":e=Nh(2,!0);break;case"YYY":e=Nh(3);break;case"YYYY":e=Nh(4);break;case"M":case"L":e=nt(Se.Month,1,1);break;case"MM":case"LL":e=nt(Se.Month,2,1);break;case"MMM":e=Fe(Ce.Months,ke.Abbreviated);break;case"MMMM":e=Fe(Ce.Months,ke.Wide);break;case"MMMMM":e=Fe(Ce.Months,ke.Narrow);break;case"LLL":e=Fe(Ce.Months,ke.Abbreviated,Bt.Standalone);break;case"LLLL":e=Fe(Ce.Months,ke.Wide,Bt.Standalone);break;case"LLLLL":e=Fe(Ce.Months,ke.Narrow,Bt.Standalone);break;case"w":e=Ey(1);break;case"ww":e=Ey(2);break;case"W":e=Ey(1,!0);break;case"d":e=nt(Se.Date,1);break;case"dd":e=nt(Se.Date,2);break;case"c":case"cc":e=nt(Se.Day,1);break;case"ccc":e=Fe(Ce.Days,ke.Abbreviated,Bt.Standalone);break;case"cccc":e=Fe(Ce.Days,ke.Wide,Bt.Standalone);break;case"ccccc":e=Fe(Ce.Days,ke.Narrow,Bt.Standalone);break;case"cccccc":e=Fe(Ce.Days,ke.Short,Bt.Standalone);break;case"E":case"EE":case"EEE":e=Fe(Ce.Days,ke.Abbreviated);break;case"EEEE":e=Fe(Ce.Days,ke.Wide);break;case"EEEEE":e=Fe(Ce.Days,ke.Narrow);break;case"EEEEEE":e=Fe(Ce.Days,ke.Short);break;case"a":case"aa":case"aaa":e=Fe(Ce.DayPeriods,ke.Abbreviated);break;case"aaaa":e=Fe(Ce.DayPeriods,ke.Wide);break;case"aaaaa":e=Fe(Ce.DayPeriods,ke.Narrow);break;case"b":case"bb":case"bbb":e=Fe(Ce.DayPeriods,ke.Abbreviated,Bt.Standalone,!0);break;case"bbbb":e=Fe(Ce.DayPeriods,ke.Wide,Bt.Standalone,!0);break;case"bbbbb":e=Fe(Ce.DayPeriods,ke.Narrow,Bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(Ce.DayPeriods,ke.Abbreviated,Bt.Format,!0);break;case"BBBB":e=Fe(Ce.DayPeriods,ke.Wide,Bt.Format,!0);break;case"BBBBB":e=Fe(Ce.DayPeriods,ke.Narrow,Bt.Format,!0);break;case"h":e=nt(Se.Hours,1,-12);break;case"hh":e=nt(Se.Hours,2,-12);break;case"H":e=nt(Se.Hours,1);break;case"HH":e=nt(Se.Hours,2);break;case"m":e=nt(Se.Minutes,1);break;case"mm":e=nt(Se.Minutes,2);break;case"s":e=nt(Se.Seconds,1);break;case"ss":e=nt(Se.Seconds,2);break;case"S":e=nt(Se.FractionalSeconds,1);break;case"SS":e=nt(Se.FractionalSeconds,2);break;case"SSS":e=nt(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=xh(Rr.Short);break;case"ZZZZZ":e=xh(Rr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xh(Rr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=xh(Rr.Long);break;default:return null}return by[t]=e,e}function _0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function NL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function ML(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=_0(e,i);return NL(t,r*(s-i))}function PL(t){if(d0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return kh(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(EL))return kL(r)}let e=new Date(t);if(!d0(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function kL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,d),e}function d0(t){return t instanceof Date&&!isNaN(t.valueOf())}function Lh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ty=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},FW=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Ty(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),h0(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);h0(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Be(Ri),Be(Ps),Be(wy))},e.\u0275dir=Ls({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function h0(t,e){t.context.$implicit=e.item}var VW=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Dy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){f0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){f0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Be(Ri),Be(Ps))},e.\u0275dir=Ls({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Dy=class{constructor(){this.$implicit=null,this.ngIf=null}};function f0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${jt(e)}'.`)}function OL(t,e){return new J(2100,!1)}var LL="mediumDate",FL=new G(""),VL=new G(""),jW=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??LL,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return TL(r,a,o||this.locale,u)}catch(a){throw OL(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(Be(Th,16),Be(FL,24),Be(VL,24))},e.\u0275pipe=Wb({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var jL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=da({type:e}),e.\u0275inj=la({});let t=e;return t})(),Ny="browser",UL="server";function BL(t){return t===Ny}function Fh(t){return t===UL}var E0=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>BL(V(hn))?new Cy(V(_t),window):new Sy});let t=e;return t})(),Cy=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=$L(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function $L(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Sy=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},va=class{};var Xc=class{},jh=class{},Nr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Py=class{encodeKey(e){return T0(e)}encodeValue(e){return T0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function zL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var HL=/%(\d[a-f0-9])/gi,qL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function T0(t){return encodeURIComponent(t).replace(HL,(e,n)=>qL[n]??e)}function Vh(t){return`${t}`}var Pi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Py,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=zL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Vh):[Vh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Vh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Vh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ky=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function GL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function D0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function C0(t){return typeof Blob<"u"&&t instanceof Blob}function S0(t){return typeof FormData<"u"&&t instanceof FormData}function WL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Jc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(GL(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Nr,this.context??=new ky,!this.params)this.params=new Pi,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||D0(this.body)||C0(this.body)||S0(this.body)||WL(this.body)?this.body:this.body instanceof Pi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||S0(this.body)?null:C0(this.body)?this.body.type||null:D0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Pi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((w,_)=>w.set(_,e.setHeaders[_]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((w,_)=>w.set(_,e.setParams[_]),p)),new t(n,r,o,{params:p,headers:d,context:g,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},ki=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ki||{}),eu=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Nr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Uh=class t extends eu{constructor(e={}){super(e),this.type=ki.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},tu=class t extends eu{constructor(e={}){super(e),this.type=ki.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Mi=class extends eu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},N0=200,KL=204;function My(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var QL=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Jc)o=r;else{let d;s.headers instanceof Nr?d=s.headers:d=new Nr(s.headers);let p;s.params&&(s.params instanceof Pi?p=s.params:p=new Pi({fromObject:s.params})),o=new Jc(r,i,s.body!==void 0?s.body:null,{headers:d,context:s.context,params:p,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=ee(o).pipe(vr(d=>this.handler.handle(d)));if(r instanceof Jc||s.observe==="events")return a;let u=a.pipe(Ht(d=>d instanceof tu));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(ue(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe(ue(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe(ue(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return u.pipe(ue(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Pi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,My(s,i))}post(r,i,s={}){return this.request("POST",r,My(s,i))}put(r,i,s={}){return this.request("PUT",r,My(s,i))}};e.\u0275fac=function(i){return new(i||e)(Y(Xc))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),YL=/^\)\]\}',?\n/,ZL="X-Request-URL";function A0(t){if(t.url)return t.url;let e=ZL.toLocaleLowerCase();return t.headers.get(e)}var JL=(()=>{let e=class e{constructor(){this.fetchImpl=V(Oy,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=V(be)}handle(r){return new fe(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(Ly,o=>i.error(new Mi({error:o}))),()=>s.abort()})}doRequest(r,i,s){return D(this,null,function*(){let o=this.createRequestInit(r),a;try{let N=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,$({signal:i},o)));XL(N),s.next({type:ki.Sent}),a=yield N}catch(N){s.error(new Mi({error:N,status:N.status??0,statusText:N.statusText,url:r.urlWithParams,headers:N.headers}));return}let u=new Nr(a.headers),d=a.statusText,p=A0(a)??r.urlWithParams,g=a.status,w=null;if(r.reportProgress&&s.next(new Uh({headers:u,status:g,statusText:d,url:p})),a.body){let N=a.headers.get("content-length"),O=[],M=a.body.getReader(),F=0,H,K,Q=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>D(this,null,function*(){for(;;){let{done:Z,value:C}=yield M.read();if(Z)break;if(O.push(C),F+=C.length,r.reportProgress){K=r.responseType==="text"?(K??"")+(H??=new TextDecoder).decode(C,{stream:!0}):void 0;let E=()=>s.next({type:ki.DownloadProgress,total:N?+N:void 0,loaded:F,partialText:K});Q?Q.run(E):E()}}}));let _e=this.concatChunks(O,F);try{let Z=a.headers.get("Content-Type")??"";w=this.parseBody(r,_e,Z)}catch(Z){s.error(new Mi({error:Z,headers:new Nr(a.headers),status:a.status,statusText:a.statusText,url:A0(a)??r.urlWithParams}));return}}g===0&&(g=w?N0:0),g>=200&&g<300?(s.next(new tu({body:w,headers:u,status:g,statusText:d,url:p})),s.complete()):s.error(new Mi({error:w,headers:u,status:g,statusText:d,url:p}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(YL,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Oy=class{};function Ly(){}function XL(t){t.then(Ly,Ly)}function eF(t,e){return e(t)}function tF(t,e,n){return(r,i)=>ln(n,()=>e(r,s=>t(s,i)))}var M0=new G(""),nF=new G(""),rF=new G("",{providedIn:"root",factory:()=>!0});var R0=(()=>{let e=class e extends Xc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=V(Ai),this.contributeToStability=V(rF)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(M0),...this.injector.get(nF,[])]));this.chain=i.reduceRight((s,o)=>tF(s,o,this.injector),eF)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(vs(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(Y(jh),Y(Ut))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();var iF=/^\)\]\}',?\n/;function sF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var x0=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new J(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ue(i.\u0275loadImpl()):ee(null)).pipe(qt(()=>new fe(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((M,F)=>a.setRequestHeader(M,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let M=r.detectContentTypeHeader();M!==null&&a.setRequestHeader("Content-Type",M)}if(r.responseType){let M=r.responseType.toLowerCase();a.responseType=M!=="json"?M:"text"}let u=r.serializeBody(),d=null,p=()=>{if(d!==null)return d;let M=a.statusText||"OK",F=new Nr(a.getAllResponseHeaders()),H=sF(a)||r.url;return d=new Uh({headers:F,status:a.status,statusText:M,url:H}),d},g=()=>{let{headers:M,status:F,statusText:H,url:K}=p(),Q=null;F!==KL&&(Q=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=Q?N0:0);let _e=F>=200&&F<300;if(r.responseType==="json"&&typeof Q=="string"){let Z=Q;Q=Q.replace(iF,"");try{Q=Q!==""?JSON.parse(Q):null}catch(C){Q=Z,_e&&(_e=!1,Q={error:C,text:Q})}}_e?(o.next(new tu({body:Q,headers:M,status:F,statusText:H,url:K||void 0})),o.complete()):o.error(new Mi({error:Q,headers:M,status:F,statusText:H,url:K||void 0}))},w=M=>{let{url:F}=p(),H=new Mi({error:M,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});o.error(H)},_=!1,N=M=>{_||(o.next(p()),_=!0);let F={type:ki.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),o.next(F)},O=M=>{let F={type:ki.UploadProgress,loaded:M.loaded};M.lengthComputable&&(F.total=M.total),o.next(F)};return a.addEventListener("load",g),a.addEventListener("error",w),a.addEventListener("timeout",w),a.addEventListener("abort",w),r.reportProgress&&(a.addEventListener("progress",N),u!==null&&a.upload&&a.upload.addEventListener("progress",O)),a.send(u),o.next({type:ki.Sent}),()=>{a.removeEventListener("error",w),a.removeEventListener("abort",w),a.removeEventListener("load",g),a.removeEventListener("timeout",w),r.reportProgress&&(a.removeEventListener("progress",N),u!==null&&a.upload&&a.upload.removeEventListener("progress",O)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(Y(va))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),P0=new G(""),oF="XSRF-TOKEN",aF=new G("",{providedIn:"root",factory:()=>oF}),cF="X-XSRF-TOKEN",uF=new G("",{providedIn:"root",factory:()=>cF}),Bh=class{},lF=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lh(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(Y(_t),Y(hn),Y(aF))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function dF(t,e){let n=t.url.toLowerCase();if(!V(P0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=V(Bh).getToken(),i=V(uF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function XW(...t){let e=[QL,x0,R0,{provide:Xc,useExisting:R0},{provide:jh,useFactory:()=>V(JL,{optional:!0})??V(x0)},{provide:M0,useValue:dF,multi:!0},{provide:P0,useValue:!0},{provide:Bh,useClass:lF}];for(let n of t)e.push(...n.\u0275providers);return un(e)}var jy=class extends Ph{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Uy=class t extends jy{static makeCurrent(){g0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=hF();return n==null?null:fF(n)}resetBaseElement(){nu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lh(document.cookie,e)}},nu=null;function hF(){return nu=nu||document.querySelector("base"),nu?nu.getAttribute("href"):null}function fF(t){return new URL(t,document.baseURI).pathname}var pF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),$h=new G(""),F0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new J(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Y($h),Y(be))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),ru=class{constructor(e){this._doc=e}},Fy="ng-app-id",V0=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Fy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Fy),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Fy,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Y(_t),Y(Jm),Y(ey,8),Y(hn))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Vy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$y=/%COMP%/g,j0="%COMP%",gF=`_nghost-${j0}`,mF=`_ngcontent-${j0}`,yF=!0,vF=new G("",{providedIn:"root",factory:()=>yF});function wF(t){return mF.replace($y,t)}function IF(t){return gF.replace($y,t)}function U0(t,e){return e.map(n=>n.replace($y,t))}var k0=(()=>{let e=class e{constructor(r,i,s,o,a,u,d,p=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=d,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=Fh(u),this.defaultRenderer=new iu(r,a,d,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Kn.ShadowDom&&(i=Le($({},i),{encapsulation:Kn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof zh?s.applyToHost(r):s instanceof su&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(i.encapsulation){case Kn.Emulated:o=new zh(d,p,i,this.appId,g,a,u,w);break;case Kn.ShadowDom:return new By(d,p,r,i,a,u,this.nonce,w);default:o=new su(d,p,i,g,a,u,w);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Y(F0),Y(V0),Y(Jm),Y(vF),Y(_t),Y(hn),Y(be),Y(ey))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),iu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(O0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(O0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Vy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Vy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Er.DashCase|Er.Important)?e.style.setProperty(n,r,i&Er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ya().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function O0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var By=class extends iu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=U0(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},su=class extends iu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?U0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zh=class extends su{constructor(e,n,r,i,s,o,a,u){let d=i+"-"+r.id;super(e,n,r,s,o,a,u,d),this.contentAttr=wF(d),this.hostAttr=IF(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},_F=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(Y(_t))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),EF=(()=>{let e=class e extends ru{constructor(r){super(r),this.delegate=V(a0,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(Y(_t))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),L0=["alt","control","meta","shift"],bF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},DF=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ya().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),L0.forEach(p=>{let g=i.indexOf(p);g>-1&&(i.splice(g,1),a+=p+".")}),a+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=s,d.fullKey=a,d}static matchEventFullKeyCode(r,i){let s=bF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),L0.forEach(a=>{if(a!==s){let u=TF[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Y(_t))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function D6(t,e){return o0($({rootComponent:t},CF(e)))}function CF(t){return{appProviders:[...NF,...t?.providers??[]],platformProviders:xF}}function SF(){Uy.makeCurrent()}function AF(){return new _r}function RF(){return QT(document),document}var xF=[{provide:hn,useValue:Ny},{provide:Xm,useValue:SF,multi:!0},{provide:_t,useFactory:RF,deps:[]}];var NF=[{provide:uh,useValue:"root"},{provide:_r,useFactory:AF,deps:[]},{provide:$h,useClass:_F,multi:!0,deps:[_t,be,hn]},{provide:$h,useClass:DF,multi:!0,deps:[_t]},{provide:$h,useClass:EF,multi:!0},k0,V0,F0,{provide:aa,useExisting:k0},{provide:va,useClass:pF,deps:[]},[]];var B0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Y(_t))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ce="primary",Iu=Symbol("RouteTitle"),Wy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Da(t){return new Wy(t)}function PF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xn(t[n],e[n]))return!1;return!0}function Xn(t,e){let n=t?Ky(t):void 0,r=e?Ky(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!X0(t[i],e[i]))return!1;return!0}function Ky(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function X0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function eC(t){return t.length>0?t[t.length-1]:null}function Fi(t){return gg(t)?t:Qc(t)?Ue(Promise.resolve(t)):ee(t)}var OF={exact:nC,subset:rC},tC={exact:LF,subset:FF,ignored:()=>!0};function $0(t,e,n){return OF[n.paths](t.root,e.root,n.matrixParams)&&tC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function LF(t,e){return Xn(t,e)}function nC(t,e,n){if(!Us(t.segments,e.segments)||!Gh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!nC(t.children[r],e.children[r],n))return!1;return!0}function FF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>X0(t[n],e[n]))}function rC(t,e,n){return iC(t,e,e.segments,n)}function iC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Us(i,n)||e.hasChildren()||!Gh(i,n,r))}else if(t.segments.length===n.length){if(!Us(t.segments,n)||!Gh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!rC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Us(t.segments,i)||!Gh(t.segments,i,r)||!t.children[ce]?!1:iC(t.children[ce],e,s,r)}}function Gh(t,e,n){return e.every((r,i)=>tC[n](t[i].parameters,r.parameters))}var Pr=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Da(this.queryParams),this._queryParamMap}toString(){return UF.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wh(this)}},js=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Da(this.parameters),this._parameterMap}toString(){return oC(this)}};function VF(t,e){return Us(t,e)&&t.every((n,r)=>Xn(n.parameters,e[r].parameters))}function Us(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function jF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var _u=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new Ca,providedIn:"root"});let t=e;return t})(),Ca=class{parse(e){let n=new Yy(e);return new Pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ou(e.root,!0)}`,r=zF(e.queryParams),i=typeof e.fragment=="string"?`#${BF(e.fragment)}`:"";return`${n}${r}${i}`}},UF=new Ca;function Wh(t){return t.segments.map(e=>oC(e)).join("/")}function ou(t,e){if(!t.hasChildren())return Wh(t);if(e){let n=t.children[ce]?ou(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${ou(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=jF(t,(r,i)=>i===ce?[ou(t.children[ce],!1)]:[`${i}:${ou(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${Wh(t)}/${n[0]}`:`${Wh(t)}/(${n.join("//")})`}}function sC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hh(t){return sC(t).replace(/%3B/gi,";")}function BF(t){return encodeURI(t)}function Qy(t){return sC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kh(t){return decodeURIComponent(t)}function z0(t){return Kh(t.replace(/\+/g,"%20"))}function oC(t){return`${Qy(t.path)}${$F(t.parameters)}`}function $F(t){return Object.entries(t).map(([e,n])=>`;${Qy(e)}=${Qy(n)}`).join("")}function zF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Hh(n)}=${Hh(i)}`).join("&"):`${Hh(n)}=${Hh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var HF=/^[^\/()?;#]+/;function zy(t){let e=t.match(HF);return e?e[0]:""}var qF=/^[^\/()?;=#]+/;function GF(t){let e=t.match(qF);return e?e[0]:""}var WF=/^[^=?&#]+/;function KF(t){let e=t.match(WF);return e?e[0]:""}var QF=/^[^&#]+/;function YF(t){let e=t.match(QF);return e?e[0]:""}var Yy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Re(e,n)),r}parseSegment(){let e=zy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(e),new js(Kh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=GF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=zy(this.remaining);i&&(r=i,this.capture(r))}e[Kh(n)]=Kh(r)}parseQueryParam(e){let n=KF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=YF(this.remaining);o&&(r=o,this.capture(r))}let i=z0(n),s=z0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new J(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ce]:new Re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new J(4011,!1)}};function aC(t){return t.segments.length>0?new Re([],{[ce]:t}):t}function cC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=cC(i);if(r===ce&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Re(t.segments,e);return ZF(n)}function ZF(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Re(t.segments.concat(e.segments),e.children)}return t}function Bs(t){return t instanceof Pr}function JF(t,e,n=null,r=null){let i=uC(t);return lC(i,e,n,r)}function uC(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let a=new Re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=aC(r);return e??i}function lC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Hy(i,i,i,n,r);let s=XF(e);if(s.toRoot())return Hy(i,i,new Re([],{}),n,r);let o=e2(s,i,t),a=o.processChildren?uu(o.segmentGroup,o.index,s.commands):hC(o.segmentGroup,o.index,s.commands);return Hy(i,o.segmentGroup,a,n,r)}function Qh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function hu(t){return typeof t=="object"&&t!=null&&t.outlets}function Hy(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let o;t===e?o=n:o=dC(t,e,n);let a=aC(cC(o));return new Pr(a,s,i)}function dC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=dC(s,e,n)}),new Re(t.segments,r)}var Yh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qh(r[0]))throw new J(4003,!1);let i=r.find(hu);if(i&&i!==eC(r))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Yh(n,e,r)}var Ea=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function e2(t,e,n){if(t.isAbsolute)return new Ea(e,!0,0);if(!n)return new Ea(e,!1,NaN);if(n.parent===null)return new Ea(n,!0,0);let r=Qh(t.commands[0])?0:1,i=n.segments.length-1+r;return t2(n,i,t.numberOfDoubleDots)}function t2(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new J(4005,!1);i=r.segments.length}return new Ea(r,!1,i-s)}function n2(t){return hu(t[0])?t[0].outlets:{[ce]:t}}function hC(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return uu(t,e,n);let r=r2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Re(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Re(t.segments.slice(r.pathIndex),t.children),uu(s,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?Zy(t,e,n):r.match?uu(t,0,i):Zy(t,e,n)}function uu(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=n2(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let s=uu(t.children[ce],e,n);return new Re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=hC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Re(t.segments,i)}}function r2(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(hu(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!q0(u,d,o))return s;r+=2}else{if(!q0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(hu(s)){let u=i2(s.outlets);return new Re(r,u)}if(i===0&&Qh(n[0])){let u=t.segments[e];r.push(new js(u.path,H0(n[0]))),i++;continue}let o=hu(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Qh(a)?(r.push(new js(o,H0(a))),i+=2):(r.push(new js(o,{})),i++)}return new Re(r,{})}function i2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Zy(new Re([],{}),0,r))}),e}function H0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function q0(t,e,n){return t==n.path&&Xn(e,n.parameters)}var lu="imperative",pt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(pt||{}),gn=class{constructor(e,n){this.id=e,this.url=n}},Sa=class extends gn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=pt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nn=class extends gn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(nn||{}),Zh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zh||{}),Mr=class extends gn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Oi=class extends gn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=pt.NavigationSkipped}},fu=class extends gn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jh=class extends gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jy=class extends gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xy=class extends gn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ev=class extends gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tv=class extends gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nv=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rv=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},iv=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sv=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ov=class{constructor(e){this.snapshot=e,this.type=pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},av=class{constructor(e){this.snapshot=e,this.type=pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=pt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},pu=class{},Aa=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function s2(t,e){return t.providers&&!t._injector&&(t._injector=Ih(t.providers,e,`Route: ${t.path}`)),t._injector??e}function xn(t){return t.outlet||ce}function o2(t,e){let n=t.filter(r=>xn(r)===e);return n.push(...t.filter(r=>xn(r)!==e)),n}function Eu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var cv=class{get injector(){return Eu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new bu(this.rootInjector),this.attachRef=null}},bu=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new cv(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(Y(Ut))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ef=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=uv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=uv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=lv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lv(e,this._root).map(n=>n.value)}};function uv(t,e){if(t===e.value)return e;for(let n of e.children){let r=uv(t,n);if(r)return r}return null}function lv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=lv(t,n);if(r.length)return r.unshift(e),r}return[]}var tn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _a(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var tf=class extends ef{constructor(e,n){super(e),this.snapshot=n,wv(this,e)}toString(){return this.snapshot.toString()}};function fC(t){let e=a2(t),n=new ct([new js("",{})]),r=new ct({}),i=new ct({}),s=new ct({}),o=new ct(""),a=new Li(n,r,s,o,i,ce,t,e.root);return a.snapshot=e.root,new tf(new tn(a,[]),e)}function a2(t){let e={},n={},r={},i="",s=new ba([],e,r,i,n,ce,t,null,{});return new rf("",new tn(s,[]))}var Li=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ue(d=>d[Iu]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(e=>Da(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(e=>Da(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),t.params),data:$($({},e.data),t.data),resolve:$($($($({},t.data),e.data),i?.data),t._resolvedData)}:r={params:$({},t.params),data:$({},t.data),resolve:$($({},t.data),t._resolvedData??{})},i&&gC(i)&&(r.resolve[Iu]=i.title),r}var ba=class{get title(){return this.data?.[Iu]}constructor(e,n,r,i,s,o,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Da(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Da(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},rf=class extends ef{constructor(e,n){super(n),this.url=e,wv(this,n)}toString(){return pC(this._root)}};function wv(t,e){e.value._routerState=t,e.children.forEach(n=>wv(t,n))}function pC(t){let e=t.children.length>0?` { ${t.children.map(pC).join(", ")} } `:"";return`${t.value}${e}`}function qy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xn(e.params,n.params)||t.paramsSubject.next(n.params),kF(e.url,n.url)||t.urlSubject.next(n.url),Xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function dv(t,e){let n=Xn(t.params,e.params)&&VF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||dv(t.parent,e.parent))}function gC(t){return typeof t.title=="string"||t.title===null}var c2=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.parentContexts=V(bu),this.location=V(Ri),this.changeDetector=V(ga),this.inputBinder=V(cf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new hv(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ls({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fa]});let t=e;return t})(),hv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Li?this.route:e===bu?this.childContexts:this.parent.get(e,n)}},cf=new G(""),G0=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Oc([i.queryParams,i.params,i.data]).pipe(qt(([o,a,u],d)=>(u=$($($({},o),a),u),d===0?ee(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=c0(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function u2(t,e,n){let r=gu(t,e._root,n?n._root:void 0);return new tf(r,e)}function gu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=l2(t,e,n);return new tn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>gu(t,a)),o}}let r=d2(e.value),i=e.children.map(s=>gu(t,s));return new tn(r,i)}}function l2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return gu(t,r,i);return gu(t,r)})}function d2(t){return new Li(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var mu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},mC="ngNavigationCancelingError";function sf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Bs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yC(!1,nn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function yC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[mC]=!0,n.cancellationCode=e,n}function h2(t){return vC(t)&&Bs(t.url)}function vC(t){return!!t&&t[mC]}var f2=(t,e,n,r)=>ue(i=>(new fv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),fv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),qy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_a(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_a(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_a(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_a(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new av(s.value.snapshot))}),e.children.length&&this.forwardEvent(new sv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(qy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),qy(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},of=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ta=class{constructor(e,n){this.component=e,this.route=n}};function p2(t,e,n){let r=t._root,i=e?e._root:null;return au(r,i,n,[r.value])}function g2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Pb(t)?t:e.get(t):r}function au(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=_a(e);return t.children.forEach(o=>{m2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>du(a,n.getContext(o),i)),i}function m2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=y2(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new of(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?au(t,e,a?a.children:null,r,i):au(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ta(a.outlet.component,o))}else o&&du(e,a,i),i.canActivateChecks.push(new of(r)),s.component?au(t,null,a?a.children:null,r,i):au(t,null,n,r,i);return i}function y2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Us(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Us(t.url,e.url)||!Xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dv(t,e)||!Xn(t.queryParams,e.queryParams);case"paramsChange":default:return!dv(t,e)}}function du(t,e,n){let r=_a(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?du(o,e.children.getContext(s),n):du(o,null,n):du(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ta(e.outlet.component,i)):n.canDeactivateChecks.push(new Ta(null,i)):n.canDeactivateChecks.push(new Ta(null,i))}function Tu(t){return typeof t=="function"}function v2(t){return typeof t=="boolean"}function w2(t){return t&&Tu(t.canLoad)}function I2(t){return t&&Tu(t.canActivate)}function _2(t){return t&&Tu(t.canActivateChild)}function E2(t){return t&&Tu(t.canDeactivate)}function b2(t){return t&&Tu(t.canMatch)}function wC(t){return t instanceof yr||t?.name==="EmptyError"}var qh=Symbol("INITIAL_VALUE");function Ra(){return qt(t=>Oc(t.map(e=>e.pipe(wr(1),wg(qh)))).pipe(ue(e=>{for(let n of e)if(n!==!0){if(n===qh)return qh;if(n===!1||T2(n))return n}return!0}),Ht(e=>e!==qh),wr(1)))}function T2(t){return Bs(t)||t instanceof mu}function D2(t,e){return et(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ee(Le($({},n),{guardsResult:!0})):C2(o,r,i,t).pipe(et(a=>a&&v2(a)?S2(r,s,t,e):ee(a)),ue(a=>Le($({},n),{guardsResult:a})))})}function C2(t,e,n,r){return Ue(t).pipe(et(i=>M2(i.component,i.route,n,e,r)),qn(i=>i!==!0,!0))}function S2(t,e,n,r){return Ue(e).pipe(vr(i=>qo(R2(i.route.parent,r),A2(i.route,r),N2(t,i.path,n),x2(t,i.route,n))),qn(i=>i!==!0,!0))}function A2(t,e){return t!==null&&e&&e(new ov(t)),ee(!0)}function R2(t,e){return t!==null&&e&&e(new iv(t)),ee(!0)}function x2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(s=>bd(()=>{let o=Eu(e)??n,a=xa(s,o),u=I2(a)?a.canActivate(e,t):ln(o,()=>a(e,t));return Fi(u).pipe(qn())}));return ee(i).pipe(Ra())}function N2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>g2(o)).filter(o=>o!==null).map(o=>bd(()=>{let a=o.guards.map(u=>{let d=Eu(o.node)??n,p=xa(u,d),g=_2(p)?p.canActivateChild(r,t):ln(d,()=>p(r,t));return Fi(g).pipe(qn())});return ee(a).pipe(Ra())}));return ee(s).pipe(Ra())}function M2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ee(!0);let o=s.map(a=>{let u=Eu(e)??i,d=xa(a,u),p=E2(d)?d.canDeactivate(t,e,n,r):ln(u,()=>d(t,e,n,r));return Fi(p).pipe(qn())});return ee(o).pipe(Ra())}function P2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let s=i.map(o=>{let a=xa(o,t),u=w2(a)?a.canLoad(e,n):ln(t,()=>a(e,n));return Fi(u)});return ee(s).pipe(Ra(),IC(r))}function IC(t){return ag(tt(e=>{if(typeof e!="boolean")throw sf(t,e)}),ue(e=>e===!0))}function k2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let s=i.map(o=>{let a=xa(o,t),u=b2(a)?a.canMatch(e,n):ln(t,()=>a(e,n));return Fi(u)});return ee(s).pipe(Ra(),IC(r))}var yu=class{constructor(e){this.segmentGroup=e||null}},vu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ia(t){return Ho(new yu(t))}function O2(t){return Ho(new J(4e3,!1))}function L2(t){return Ho(yC(!1,nn.GuardRejected))}var pv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[ce])return O2(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:w,params:_,data:N,title:O}=i,M=ln(s,()=>a({params:_,data:N,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:w,title:O}));if(M instanceof Pr)throw new vu(M);n=M}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new vu(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Pr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new J(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},gv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F2(t,e,n,r,i){let s=_C(t,e,n);return s.matched?(r=s2(e,r),k2(r,e,n,i).pipe(ue(o=>o===!0?s:$({},gv)))):ee(s)}function _C(t,e,n){if(e.path==="**")return V2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?$({},gv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||PF)(n,t,e);if(!i)return $({},gv);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?$($({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function V2(t){return{matched:!0,parameters:t.length>0?eC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function W0(t,e,n,r){return n.length>0&&B2(t,n,r)?{segmentGroup:new Re(e,U2(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&$2(t,n,r)?{segmentGroup:new Re(t.segments,j2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function j2(t,e,n,r){let i={};for(let s of n)if(uf(t,e,s)&&!r[xn(s)]){let o=new Re([],{});i[xn(s)]=o}return $($({},r),i)}function U2(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&xn(r)!==ce){let i=new Re([],{});n[xn(r)]=i}return n}function B2(t,e,n){return n.some(r=>uf(t,e,r)&&xn(r)!==ce)}function $2(t,e,n){return n.some(r=>uf(t,e,r))}function uf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function z2(t,e,n){return e.length===0&&!t.children[n]}var mv=class{};function H2(t,e,n,r,i,s,o="emptyOnly"){return new yv(t,e,n,r,i,o,s).recognize()}var q2=31,yv=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new pv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new J(4002,`'${e.segmentGroup}'`)}recognize(){let e=W0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ue(({children:n,rootSnapshot:r})=>{let i=new tn(r,n),s=new rf("",i),o=JF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ba([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(ue(r=>({children:r,rootSnapshot:n})),yi(r=>{if(r instanceof vu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof yu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ue(o=>o instanceof tn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ue(s).pipe(vr(o=>{let a=r.children[o],u=o2(n,o);return this.processSegmentGroup(e,u,a,o,i)}),vg((o,a)=>(o.push(...a),o)),vi(null),yg(),et(o=>{if(o===null)return Ia(r);let a=EC(o);return G2(a),ee(a)}))}processSegment(e,n,r,i,s,o,a){return Ue(n).pipe(vr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(yi(d=>{if(d instanceof yu)return ee(null);throw d}))),qn(u=>!!u),yi(u=>{if(wC(u))return z2(r,i,s)?ee(new mv):Ia(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return xn(r)!==o&&(o===ce||!uf(i,s,r))?Ia(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ia(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:w}=_C(n,i,s);if(!u)return Ia(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>q2&&(this.allowRedirects=!1));let _=new ba(s,d,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,K0(i),xn(i),i.component??i._loadedComponent??null,i,Q0(i)),N=nf(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(N.params),_.data=Object.freeze(N.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,_,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(et(M=>this.processSegment(e,r,n,M.concat(w),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=F2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(qt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qt(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:w,remainingSegments:_}=u,N=new ba(w,g,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,K0(r),xn(r),r.component??r._loadedComponent??null,r,Q0(r)),O=nf(N,o,this.paramsInheritanceStrategy);N.params=Object.freeze(O.params),N.data=Object.freeze(O.data);let{segmentGroup:M,slicedSegments:F}=W0(n,w,_,d);if(F.length===0&&M.hasChildren())return this.processChildren(p,d,M,N).pipe(ue(K=>new tn(N,K)));if(d.length===0&&F.length===0)return ee(new tn(N,[]));let H=xn(r)===s;return this.processSegment(p,d,M,F,H?ce:s,!0,N).pipe(ue(K=>new tn(N,K instanceof tn?[K]:[])))}))):Ia(n)))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):P2(e,n,r,this.urlSerializer).pipe(et(i=>i?this.configLoader.loadChildren(e,n).pipe(tt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):L2(n))):ee({routes:[],injector:e})}};function G2(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function W2(t){let e=t.value.routeConfig;return e&&e.path===""}function EC(t){let e=[],n=new Set;for(let r of t){if(!W2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=EC(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!n.has(r))}function K0(t){return t.data||{}}function Q0(t){return t.resolve||{}}function K2(t,e,n,r,i,s){return et(o=>H2(t,e,n,r,o.extractedUrl,i,s).pipe(ue(({state:a,tree:u})=>Le($({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function Q2(t,e){return et(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of bC(u))o.add(d);let a=0;return Ue(o).pipe(vr(u=>s.has(u)?Y2(u,r,t,e):(u.data=nf(u,u.parent,t).resolve,ee(void 0))),tt(()=>a++),Go(1),et(u=>a===o.size?ee(n):Jt))})}function bC(t){let e=t.children.map(n=>bC(n)).flat();return[t,...e]}function Y2(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!gC(i)&&(s[Iu]=i.title),Z2(s,t,e,r).pipe(ue(o=>(t._resolvedData=o,t.data=nf(t,t.parent,n).resolve,null)))}function Z2(t,e,n,r){let i=Ky(t);if(i.length===0)return ee({});let s={};return Ue(i).pipe(et(o=>J2(t[o],e,n,r).pipe(qn(),tt(a=>{if(a instanceof mu)throw sf(new Ca,a);s[o]=a}))),Go(1),mg(s),yi(o=>wC(o)?Jt:Ho(o)))}function J2(t,e,n,r){let i=Eu(e)??r,s=xa(t,i),o=s.resolve?s.resolve(e,n):ln(i,()=>s(e,n));return Fi(o)}function Gy(t){return qt(e=>{let n=t(e);return n?Ue(n).pipe(ue(()=>e)):ee(e)})}var TC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[Iu]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>V(X2),providedIn:"root"});let t=e;return t})(),X2=(()=>{let e=class e extends TC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Y(B0))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Du=new G("",{providedIn:"root",factory:()=>({})}),eV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Gb({type:e,selectors:[["ng-component"]],standalone:!0,features:[JD],decls:1,vars:0,template:function(i,s){i&1&&yy(0,"router-outlet")},dependencies:[c2],encapsulation:2});let t=e;return t})();function Iv(t){let e=t.children&&t.children.map(Iv),n=e?Le($({},t),{children:e}):$({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=eV),n}var wu=new G(""),_v=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(bh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Fi(r.loadComponent()).pipe(ue(DC),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),vs(()=>{this.componentLoaders.delete(r)})),s=new Uo(i,()=>new At).pipe(jo());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=tV(i,this.compiler,r,this.onLoadEndListener).pipe(vs(()=>{this.childrenLoaders.delete(i)})),a=new Uo(o,()=>new At).pipe(jo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tV(t,e,n,r){return Fi(t.loadChildren()).pipe(ue(DC),et(i=>i instanceof $c||Array.isArray(i)?ee(i):Ue(e.compileModuleAsync(i))),ue(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(wu,[],{optional:!0,self:!0}).flat()),{routes:o.map(Iv),injector:s}}))}function nV(t){return t&&typeof t=="object"&&"default"in t}function DC(t){return nV(t)?t.default:t}var Ev=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>V(rV),providedIn:"root"});let t=e;return t})(),rV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CC=new G(""),SC=new G("");function iV(t,e,n){let r=t.get(SC),i=t.get(_t);return t.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),sV(t))),{onViewTransitionCreated:u}=r;return u&&ln(t,()=>u({transition:a,from:e,to:n})),o})}function sV(t){return new Promise(e=>{gy({read:()=>setTimeout(e)},{injector:t})})}var oV=new G(""),bv=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new At,this.transitionAbortSubject=new At,this.configLoader=V(_v),this.environmentInjector=V(Ut),this.urlSerializer=V(_u),this.rootContexts=V(bu),this.location=V(wa),this.inputBindingEnabled=V(cf,{optional:!0})!==null,this.titleStrategy=V(TC),this.options=V(Du,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(Ev),this.createViewTransition=V(CC,{optional:!0}),this.navigationErrorHandler=V(oV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let r=s=>this.events.next(new nv(s)),i=s=>this.events.next(new rv(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Le($($({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ct({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:lu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(o=>o.id!==0),ue(o=>Le($({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qt(o=>{let a=!1,u=!1;return ee(o).pipe(qt(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),Jt;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Le($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!p&&g!=="reload"){let w="";return this.events.next(new Oi(d.id,this.urlSerializer.serialize(d.rawUrl),w,Zh.IgnoredSameUrlNavigation)),d.resolve(!1),Jt}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return ee(d).pipe(qt(w=>{let _=this.transitions?.getValue();return this.events.next(new Sa(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),_!==this.transitions?.getValue()?Jt:Promise.resolve(w)}),K2(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(w=>{o.targetSnapshot=w.targetSnapshot,o.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=Le($({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let _=new Jh(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(_)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:w,extractedUrl:_,source:N,restoredState:O,extras:M}=d,F=new Sa(w,this.urlSerializer.serialize(_),N,O);this.events.next(F);let H=fC(this.rootComponentType).snapshot;return this.currentTransition=o=Le($({},d),{targetSnapshot:H,urlAfterRedirects:_,extras:Le($({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ee(o)}else{let w="";return this.events.next(new Oi(d.id,this.urlSerializer.serialize(d.extractedUrl),w,Zh.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Jt}}),tt(d=>{let p=new Jy(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),ue(d=>(this.currentTransition=o=Le($({},d),{guards:p2(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),D2(this.environmentInjector,d=>this.events.next(d)),tt(d=>{if(o.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw sf(this.urlSerializer,d.guardsResult);let p=new Xy(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),Ht(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",nn.GuardRejected),!1)),Gy(d=>{if(d.guards.canActivateChecks.length)return ee(d).pipe(tt(p=>{let g=new ev(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),qt(p=>{let g=!1;return ee(p).pipe(Q2(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(p,"",nn.NoDataFromResolver)}}))}),tt(p=>{let g=new tv(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}))}),Gy(d=>{let p=g=>{let w=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(g.routeConfig).pipe(tt(_=>{g.component=_}),ue(()=>{})));for(let _ of g.children)w.push(...p(_));return w};return Oc(p(d.targetSnapshot.root)).pipe(vi(null),wr(1))}),Gy(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:d,targetSnapshot:p}=o,g=this.createViewTransition?.(this.environmentInjector,d.root,p.root);return g?Ue(g).pipe(ue(()=>o)):ee(o)}),ue(d=>{let p=u2(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=Le($({},d),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,o}),tt(()=>{this.events.next(new pu)}),f2(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),wr(1),tt({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),Ig(this.transitionAbortSubject.pipe(tt(d=>{throw d}))),vs(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),yi(d=>{if(u=!0,vC(d))this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),h2(d)?this.events.next(new Aa(d.url,d.navigationBehaviorOptions)):o.resolve(!1);else{let p=new fu(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0);try{let g=ln(this.environmentInjector,()=>this.navigationErrorHandler?.(p));if(g instanceof mu){let{message:w,cancellationCode:_}=sf(this.urlSerializer,g);this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),w,_)),this.events.next(new Aa(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(p);let w=r.errorHandler(d);o.resolve(!!w)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return Jt}))}))}cancelNavigationTransition(r,i,s){let o=new Mr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aV(t){return t!==lu}var cV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>V(uV),providedIn:"root"});let t=e;return t})(),vv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},uV=(()=>{let e=class e extends vv{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Wm(e)))(s||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>V(lV),providedIn:"root"});let t=e;return t})(),lV=(()=>{let e=class e extends AC{constructor(){super(...arguments),this.location=V(wa),this.urlSerializer=V(_u),this.options=V(Du,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(Ev),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Sa)this.stateMemento=this.createStateMemento();else if(r instanceof Oi)this.rawUrlTree=i.initialUrl;else if(r instanceof Jh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof pu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Mr&&(r.code===nn.GuardRejected||r.code===nn.NoDataFromResolver)?this.restoreHistory(i):r instanceof fu?this.restoreHistory(i,!0):r instanceof Nn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Pr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=$($({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=$($({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Wm(e)))(s||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(cu||{});function RC(t,e){t.events.pipe(Ht(n=>n instanceof Nn||n instanceof Mr||n instanceof fu||n instanceof Oi),ue(n=>n instanceof Nn||n instanceof Oi?cu.COMPLETE:(n instanceof Mr?n.code===nn.Redirect||n.code===nn.SupersededByNewNavigation:!1)?cu.REDIRECTING:cu.FAILED),Ht(n=>n!==cu.REDIRECTING),wr(1)).subscribe(()=>{e()})}function dV(t){throw t}var hV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},er=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=V(_h),this.stateManager=V(AC),this.options=V(Du,{optional:!0})||{},this.pendingTasks=V(Ai),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(bv),this.urlSerializer=V(_u),this.location=V(wa),this.urlHandlingStrategy=V(Ev),this._events=new At,this.errorHandler=this.options.errorHandler||dV,this.navigated=!1,this.routeReuseStrategy=V(cV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(wu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(cf,{optional:!0}),this.eventsSubscription=new Ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Mr&&i.code!==nn.Redirect&&i.code!==nn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Nn)this.navigated=!0;else if(i instanceof Aa){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),d=$({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||aV(s.source)},a);this.scheduleNavigation(u,lu,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}gV(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let d=$({},s);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Iv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:a,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=$($({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let w;try{let _=s?s.snapshot:this.routerState.snapshot.root;w=uC(_)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),w=this.currentUrlTree.root}return lC(w,r,g,p??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Bs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,lu,null,i)}navigate(r,i={skipLocationChange:!1}){return pV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=$({},hV):i===!1?s=$({},fV):s=i,Bs(r))return $0(this.currentUrlTree,r,s);let o=this.parseUrl(r);return $0(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,d,p;a?(u=a.resolve,d=a.reject,p=a.promise):p=new Promise((w,_)=>{u=w,d=_});let g=this.pendingTasks.add();return RC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new J(4008,!1)}function gV(t){return!(t instanceof pu)&&!(t instanceof Aa)}var Y0=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new At,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof Nn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bs(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:JT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:Bs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Be(er),Be(Li),Km("tabindex"),Be(Kc),Be(Dr),Be(xr))},e.\u0275dir=Ls({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&vy("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&my("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Zc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Zc],replaceUrl:[2,"replaceUrl","replaceUrl",Zc],routerLink:"routerLink"},standalone:!0,features:[py,fa]});let t=e;return t})(),z6=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new It,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Nn&&this.update()})}ngAfterContentInit(){ee(this.links.changes,ee(null)).pipe(mi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ue(r).pipe(mi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=mV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(Be(er),Be(Dr),Be(Kc),Be(ga),Be(Y0,8))},e.\u0275dir=Ls({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&WD(o,Y0,5),i&2){let a;KD(a=QD())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[fa]});let t=e;return t})();function mV(t){return!!t.paths}var af=class{};var yV=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(r=>r instanceof Nn),vr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Ih(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Ue(s).pipe(mi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=ee(null);let o=s.pipe(et(a=>a===null?ee(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ue([o,a]).pipe(mi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(Y(er),Y(bh),Y(Ut),Y(af),Y(_v))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xC=new G(""),vV=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Sa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Nn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Oi&&r.code===Zh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Xh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){dD()},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function H6(t,...e){return un([{provide:wu,multi:!0,useValue:t},[],{provide:Li,useFactory:NC,deps:[er]},{provide:Yc,multi:!0,useFactory:MC},e.map(n=>n.\u0275providers)])}function NC(t){return t.routerState.root}function Cu(t,e){return{\u0275kind:t,\u0275providers:e}}function MC(){let t=V(xt);return e=>{let n=t.get(xi);if(e!==n.components[0])return;let r=t.get(er),i=t.get(PC);t.get(Tv)===1&&r.initialNavigation(),t.get(kC,null,le.Optional)?.setUpPreloading(),t.get(xC,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var PC=new G("",{factory:()=>new At}),Tv=new G("",{providedIn:"root",factory:()=>1});function wV(){return Cu(2,[{provide:Tv,useValue:0},{provide:Eh,multi:!0,deps:[xt],useFactory:e=>{let n=e.get(m0,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(er),s=e.get(PC);RC(i,()=>{r(!0)}),e.get(bv).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}])}function IV(){return Cu(3,[{provide:Eh,multi:!0,useFactory:()=>{let e=V(er);return()=>{e.setUpLocationChangeListener()}}},{provide:Tv,useValue:2}])}var kC=new G("");function _V(t){return Cu(0,[{provide:kC,useExisting:yV},{provide:af,useExisting:t}])}function EV(){return Cu(8,[G0,{provide:cf,useExisting:G0}])}function bV(t){let e=[{provide:CC,useValue:iV},{provide:SC,useValue:$({skipNextTransition:!!t?.skipInitialTransition},t)}];return Cu(9,e)}var Z0=new G("ROUTER_FORROOT_GUARD"),TV=[wa,{provide:_u,useClass:Ca},er,bu,{provide:Li,useFactory:NC,deps:[er]},_v,[]],q6=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[TV,[],{provide:wu,multi:!0,useValue:r},{provide:Z0,useFactory:AV,deps:[[er,new Nt,new Mm]]},{provide:Du,useValue:i||{}},i?.useHash?CV():SV(),DV(),i?.preloadingStrategy?_V(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?RV(i):[],i?.bindToComponentInputs?EV().\u0275providers:[],i?.enableViewTransitions?bV().\u0275providers:[],xV()]}}static forChild(r){return{ngModule:e,providers:[{provide:wu,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(Y(Z0,8))},e.\u0275mod=da({type:e}),e.\u0275inj=la({});let t=e;return t})();function DV(){return{provide:xC,useFactory:()=>{let t=V(E0),e=V(be),n=V(Du),r=V(bv),i=V(_u);return n.scrollOffset&&t.setOffset(n.scrollOffset),new vV(i,r,t,e,n)}}}function CV(){return{provide:xr,useClass:v0}}function SV(){return{provide:xr,useClass:xy}}function AV(t){return"guarded"}function RV(t){return[t.initialNavigation==="disabled"?IV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?wV().\u0275providers:[]]}var J0=new G("");function xV(){return[{provide:J0,useFactory:MC},{provide:Yc,multi:!0,useExisting:J0}]}var LC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4,w=(a&15)<<2|d>>6,_=d&63;u||(_=64,o||(w=64)),r.push(n[p],n[g],n[w],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||g==null)throw new Sv;let w=s<<2|a>>4;if(r.push(w),d!==64){let _=a<<4&240|d>>2;if(r.push(_),g!==64){let N=d<<6&192|g;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Sv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},PV=function(t){let e=LC(t);return FC.encodeByteArray(e,!0)},Su=function(t){return PV(t).replace(/\./g,"")},Rv=function(t){try{return FC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var OV=()=>kV().__FIREBASE_DEFAULTS__,LV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Rv(t[1]);return e&&JSON.parse(e)},df=()=>{try{return OV()||LV()||FV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xv=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VC=t=>{let e=xv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nv=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config},Mv=t=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${t}`]};var lf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function jC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Su(JSON.stringify(n)),Su(JSON.stringify(o)),""].join(".")}function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function VV(){var t;let e=(t=df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){let t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HC(){return!VV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pv(){try{return typeof indexedDB=="object"}catch{return!1}}function qC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var jV="FirebaseError",rn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}},kr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rn(i,a,r)}};function UV(t,e){return t.replace(BV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var BV=/\{\$([^}]+)}/g;function GC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $s(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(OC(s)&&OC(o)){if(!$s(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function OC(t){return t!==null&&typeof t=="object"}function Au(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Na(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ma(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WC(t,e){let n=new Av(t,e);return n.subscribe.bind(n)}var Av=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$V(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cv),i.error===void 0&&(i.error=Cv),i.complete===void 0&&(i.complete=Cv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $V(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cv(){}var K6=4*60*60*1e3;function Et(t){return t&&t._delegate?t._delegate:t}var mn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var zs="[DEFAULT]";var kv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new lf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HV(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zV(t){return t===zs?void 0:t}function HV(t){return t.instantiationMode==="EAGER"}var hf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new kv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var qV=[],me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(me||{}),GV={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},WV=me.INFO,KV={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},QV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=KV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Vi=class{constructor(e){this.name=e,this._logLevel=WV,this._logHandler=QV,this._userLogHandler=null,qV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var YV=(t,e)=>e.some(n=>t instanceof n),KC,QC;function ZV(){return KC||(KC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JV(){return QC||(QC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var YC=new WeakMap,Lv=new WeakMap,ZC=new WeakMap,Ov=new WeakMap,Vv=new WeakMap;function XV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(nr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YC.set(n,t)}).catch(()=>{}),Vv.set(e,t),e}function ej(t){if(Lv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lv.set(t,e)}var Fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JC(t){Fv=t(Fv)}function tj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ff(this),e,...n);return ZC.set(r,e.sort?e.sort():[e]),nr(r)}:JV().includes(t)?function(...e){return t.apply(ff(this),e),nr(YC.get(this))}:function(...e){return nr(t.apply(ff(this),e))}}function nj(t){return typeof t=="function"?tj(t):(t instanceof IDBTransaction&&ej(t),YV(t,ZV())?new Proxy(t,Fv):t)}function nr(t){if(t instanceof IDBRequest)return XV(t);if(Ov.has(t))return Ov.get(t);let e=nj(t);return e!==t&&(Ov.set(t,e),Vv.set(e,t)),e}var ff=t=>Vv.get(t);function eS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=nr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(nr(o.result),u.oldVersion,u.newVersion,nr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var rj=["get","getKey","getAll","getAllKeys","count"],ij=["put","add","delete","clear"],jv=new Map;function XC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jv.get(e))return jv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ij.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rj.includes(n)))return;let s=function(o,...a){return D(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return jv.set(e,s),s}JC(t=>Le($({},t),{get:(e,n,r)=>XC(e,n)||t.get(e,n,r),has:(e,n)=>!!XC(e,n)||t.has(e,n)}));var Bv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function sj(t){let e=t.getComponent();return e?.type==="VERSION"}var $v="@firebase/app",tS="0.10.10";var Or=new Vi("@firebase/app"),oj="@firebase/app-compat",aj="@firebase/analytics-compat",cj="@firebase/analytics",uj="@firebase/app-check-compat",lj="@firebase/app-check",dj="@firebase/auth",hj="@firebase/auth-compat",fj="@firebase/database",pj="@firebase/database-compat",gj="@firebase/functions",mj="@firebase/functions-compat",yj="@firebase/installations",vj="@firebase/installations-compat",wj="@firebase/messaging",Ij="@firebase/messaging-compat",_j="@firebase/performance",Ej="@firebase/performance-compat",bj="@firebase/remote-config",Tj="@firebase/remote-config-compat",Dj="@firebase/storage",Cj="@firebase/storage-compat",Sj="@firebase/firestore",Aj="@firebase/vertexai-preview",Rj="@firebase/firestore-compat",xj="firebase",Nj="10.13.1";var zv="[DEFAULT]",Mj={[$v]:"fire-core",[oj]:"fire-core-compat",[cj]:"fire-analytics",[aj]:"fire-analytics-compat",[lj]:"fire-app-check",[uj]:"fire-app-check-compat",[dj]:"fire-auth",[hj]:"fire-auth-compat",[fj]:"fire-rtdb",[pj]:"fire-rtdb-compat",[gj]:"fire-fn",[mj]:"fire-fn-compat",[yj]:"fire-iid",[vj]:"fire-iid-compat",[wj]:"fire-fcm",[Ij]:"fire-fcm-compat",[_j]:"fire-perf",[Ej]:"fire-perf-compat",[bj]:"fire-rc",[Tj]:"fire-rc-compat",[Dj]:"fire-gcs",[Cj]:"fire-gcs-compat",[Sj]:"fire-fst",[Rj]:"fire-fst-compat",[Aj]:"fire-vertex","fire-js":"fire-js",[xj]:"fire-js-all"};var Ru=new Map,Pj=new Map,Hv=new Map;function nS(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ui(t){let e=t.name;if(Hv.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,t);for(let n of Ru.values())nS(n,t);for(let n of Pj.values())nS(n,t);return!0}function Nu(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t.settings!==void 0}var kj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new kr("app","Firebase",kj);var qv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}};var Bi=Nj;function Kv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=Nv()),!n)throw ji.create("no-options");let s=Ru.get(i);if(s){if($s(n,s.options)&&$s(r,s.config))return s;throw ji.create("duplicate-app",{appName:i})}let o=new hf(i);for(let u of Hv.values())o.addComponent(u);let a=new qv(n,r,o);return Ru.set(i,a),a}function Pa(t=zv){let e=Ru.get(t);if(!e&&t===zv&&Nv())return Kv();if(!e)throw ji.create("no-app",{appName:t});return e}function pf(){return Array.from(Ru.values())}function lt(t,e,n){var r;let i=(r=Mj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(a.join(" "));return}Ui(new mn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Oj="firebase-heartbeat-database",Lj=1,xu="firebase-heartbeat-store",Uv=null;function oS(){return Uv||(Uv=eS(Oj,Lj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),Uv}function Fj(t){return D(this,null,function*(){try{let n=(yield oS()).transaction(xu),r=yield n.objectStore(xu).get(aS(t));return yield n.done,r}catch(e){if(e instanceof rn)Or.warn(e.message);else{let n=ji.create("idb-get",{originalErrorMessage:e?.message});Or.warn(n.message)}}})}function rS(t,e){return D(this,null,function*(){try{let r=(yield oS()).transaction(xu,"readwrite");yield r.objectStore(xu).put(e,aS(t)),yield r.done}catch(n){if(n instanceof rn)Or.warn(n.message);else{let r=ji.create("idb-set",{originalErrorMessage:n?.message});Or.warn(r.message)}}})}function aS(t){return`${t.name}!${t.options.appId}`}var Vj=1024,jj=30*24*60*60*1e3,Gv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=jj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Or.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=iS(),{heartbeatsToSend:r,unsentEntries:i}=Uj(this._heartbeatsCache.heartbeats),s=Su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Or.warn(n),""}})}};function iS(){return new Date().toISOString().substring(0,10)}function Uj(t,e=Vj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Pv()?qC().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Fj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function sS(t){return Su(JSON.stringify({version:2,heartbeats:t})).length}function Bj(t){Ui(new mn("platform-logger",e=>new Bv(e),"PRIVATE")),Ui(new mn("heartbeat",e=>new Gv(e),"PRIVATE")),lt($v,tS,t),lt($v,tS,"esm2017"),lt("fire-js","")}Bj("");var $j="firebase",zj="10.13.1";lt($j,zj,"app");var qs=new Ci("ANGULARFIRE2_VERSION");function mf(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Mu=(t,e)=>{let n=e?[e]:pf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Oa=class{constructor(){return Mu(Hj)}},Hj="app-check";function ka(){}var gf=class{zone;delegate;constructor(e,n=fg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Qv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ka,{},ka,ka)),n.pipe(tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},La=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new gf(Zone.current)),this.insideAngular=n.run(()=>new gf(Zone.current,hg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Y(be))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function qj(t){return yf().ngZone.runOutsideAngular(()=>t())}function Hs(t){return yf().ngZone.run(()=>t())}function Gj(t){return Wj(yf())(t)}function Wj(t){return function(n){return n=n.lift(new Qv(t.ngZone)),n.pipe(gi(t.outsideAngular),pi(t.insideAngular))}}var Kj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Hs(()=>t.apply(void 0,r))},$t=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Hs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ka,{},ka,ka))),r[s]=Kj(r[s],n));let i=qj(()=>t.apply(this,r));if(!e)if(i instanceof fe){let s=yf();return i.pipe(gi(s.outsideAngular),pi(s.insideAngular))}else return Hs(()=>i);return i instanceof fe?i.pipe(Gj):i instanceof Promise?Hs(()=>new Promise((s,o)=>i.then(a=>Hs(()=>s(a)),a=>Hs(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Hs(()=>i)};var Lr=class{constructor(e){return e}},Gs=class{constructor(){return pf()}};function Qj(t){return t&&t.length===1?t[0]:new Lr(Pa())}var Yv=new G("angularfire2._apps"),Yj={provide:Lr,useFactory:Qj,deps:[[new Nt,Yv]]},Zj={provide:Gs,deps:[[new Nt,Yv]]};function Jj(t){return(e,n)=>{let r=n.get(hn);lt("angularfire",qs.full,"core"),lt("angularfire",qs.full,"app"),lt("angular",XD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Lr(i)}}function k8(t,...e){return un([Yj,Zj,{provide:Yv,useFactory:Jj(t),multi:!0,deps:[be,xt,La,...e]}])}var O8=$t(Kv,!0);function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var DS=TS,CS=new kr("auth","Firebase",TS());var bf=new Vi("@firebase/auth");function Xj(t,...e){bf.logLevel<=me.WARN&&bf.warn(`Auth (${Bi}): ${t}`,...e)}function wf(t,...e){bf.logLevel<=me.ERROR&&bf.error(`Auth (${Bi}): ${t}`,...e)}function ir(t,...e){throw ww(t,...e)}function Ws(t,...e){return ww(t,...e)}function SS(t,e,n){let r=Object.assign(Object.assign({},DS()),{[e]:n});return new kr("auth","Firebase",r).create(e,{appName:t.name})}function jr(t){return SS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ww(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CS.create(t,...e)}function te(t,e,...n){if(!t)throw ww(e,...n)}function Fr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw wf(e),new Error(e)}function zi(t,e){t||Fr(e)}function ew(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eU(){return cS()==="http:"||cS()==="https:"}function cS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function tU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eU()||BC()||"connection"in navigator)?navigator.onLine:!0}function nU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ks=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=UC()||$C()}get(){return tU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Iw(t,e){zi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Tf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var iU=new Ks(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function qi(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){return AS(t,i,()=>D(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=Au(Object.assign({key:t.config.apiKey},p)).slice(1),w=yield t._getAdditionalHeaders();return w["Content-Type"]="application/json",t.languageCode&&(w["X-Firebase-Locale"]=t.languageCode),Tf.fetch()(RS(t,t.config.apiHost,n,g),Object.assign({method:e,headers:w,referrerPolicy:"no-referrer"},d))}))})}function AS(t,e,n){return D(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},rU),e);try{let i=new tw(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw vf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw vf(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw vf(t,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw SS(t,p,d);ir(t,p)}}catch(i){if(i instanceof rn)throw i;ir(t,"network-request-failed",{message:String(i)})}})}function Uu(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){let d=yield qi(t,e,n,r,i);return"mfaPendingCredential"in d&&ir(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function RS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Iw(t.config,i):`${t.config.apiScheme}://${i}`}function sU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var tw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ws(this.auth,"network-request-failed")),iU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function vf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ws(t,e,r);return i.customData._tokenResponse=n,i}function uS(t){return t!==void 0&&t.enterprise!==void 0}var nw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function oU(t,e){return D(this,null,function*(){return qi(t,"GET","/v2/recaptchaConfig",Hi(t,e))})}function aU(t,e){return D(this,null,function*(){return qi(t,"POST","/v1/accounts:delete",e)})}function xS(t,e){return D(this,null,function*(){return qi(t,"POST","/v1/accounts:lookup",e)})}function Pu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _w(t,e=!1){return D(this,null,function*(){let n=Et(t),r=yield n.getIdToken(e),i=Ew(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Pu(Zv(i.auth_time)),issuedAtTime:Pu(Zv(i.iat)),expirationTime:Pu(Zv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Zv(t){return Number(t)*1e3}function Ew(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Rv(n);return i?JSON.parse(i):(wf("Failed to decode base64 JWT payload"),null)}catch(i){return wf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lS(t){let e=Ew(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ou(t,e,n=!1){return D(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof rn&&cU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function cU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var rw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Lu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Df(t){return D(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ou(t,xS(n,{idToken:r}));te(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NS(s.providerUserInfo):[],a=uU(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!a?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lu(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)})}function bw(t){return D(this,null,function*(){let e=Et(t);yield Df(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function uU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NS(t){return t.map(e=>{var{providerId:n}=e,r=pg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function lU(t,e){return D(this,null,function*(){let n=yield AS(t,{},()=>D(this,null,function*(){let r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=RS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tf.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function dU(t,e){return D(this,null,function*(){return qi(t,"POST","/v2/accounts:revokeToken",Hi(t,e))})}var ku=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=lS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield lU(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Fr("not implemented")}};function $i(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let n=yield Ou(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return _w(this,e)}reload(){return bw(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Df(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(Mn(this.auth.app))return Promise.reject(jr(this.auth));let e=yield this.getIdToken();return yield Ou(this,aU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,d,p;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,N=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=n.createdAt)!==null&&d!==void 0?d:void 0,H=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:K,emailVerified:Q,isAnonymous:_e,providerData:Z,stsTokenManager:C}=n;te(K&&C,e,"internal-error");let E=ku.fromJSON(this.name,C);te(typeof K=="string",e,"internal-error"),$i(g,e.name),$i(w,e.name),te(typeof Q=="boolean",e,"internal-error"),te(typeof _e=="boolean",e,"internal-error"),$i(_,e.name),$i(N,e.name),$i(O,e.name),$i(M,e.name),$i(F,e.name),$i(H,e.name);let b=new t({uid:K,auth:e,email:w,emailVerified:Q,displayName:g,isAnonymous:_e,photoURL:N,phoneNumber:_,tenantId:O,stsTokenManager:E,createdAt:F,lastLoginAt:H});return Z&&Array.isArray(Z)&&(b.providerData=Z.map(S=>Object.assign({},S))),M&&(b._redirectEventId=M),b}static _fromIdTokenResponse(e,n,r=!1){return D(this,null,function*(){let i=new ku;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Df(s),s})}static _fromGetAccountInfoResponse(e,n,r){return D(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?NS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ku;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Lu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var dS=new Map;function Vr(t){zi(t instanceof Function,"Expected a class definition");let e=dS.get(t);return e?(zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dS.set(t,e),e)}var hU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),iw=hU;function If(t,e,n){return`firebase:${t}:${e}:${n}`}var Cf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=If(this.userKey,i.apiKey,s),this.fullPersistenceKey=If("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new t(Vr(iw),e,r);let i=(yield Promise.all(n.map(d=>D(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Vr(iw),o=If(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(o);if(p){let g=Fa._fromJSON(e,p);d!==s&&(a=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(d=>D(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function hS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FS(e))return"Blackberry";if(VS(e))return"Webos";if(PS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(LS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function MS(t=gt()){return/firefox\//i.test(t)}function PS(t=gt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(t=gt()){return/crios\//i.test(t)}function OS(t=gt()){return/iemobile/i.test(t)}function LS(t=gt()){return/android/i.test(t)}function FS(t=gt()){return/blackberry/i.test(t)}function VS(t=gt()){return/webos/i.test(t)}function Tw(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fU(t=gt()){var e;return Tw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pU(){return zC()&&document.documentMode===10}function jS(t=gt()){return Tw(t)||LS(t)||VS(t)||FS(t)||/windows phone/i.test(t)||OS(t)}function US(t,e=[]){let n;switch(t){case"Browser":n=hS(gt());break;case"Worker":n=`${hS(gt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bi}/${r}`}var sw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function gU(n){return D(this,arguments,function*(t,e={}){return qi(t,"GET","/v2/passwordPolicy",Hi(t,e))})}var mU=6,ow=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var aw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sf(this),this.idTokenSubscription=new Sf(this),this.beforeStateQueue=new sw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Cf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let n=yield xS(this,{idToken:e}),r=yield Fa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var n;if(Mn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield Df(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nU()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(Mn(this.app))return Promise.reject(jr(this));let n=e?Et(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return D(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return Mn(this.app)?Promise.reject(jr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Mn(this.app)?Promise.reject(jr(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(Vr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield gU(this),n=new ow(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield dU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Vr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield Cf.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=US(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Xj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ys(t){return Et(t)}var Sf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var kf={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yU(t){kf=t}function BS(t){return kf.loadJS(t)}function vU(){return kf.recaptchaEnterpriseScript}function wU(){return kf.gapiScript}function $S(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var IU="recaptcha-enterprise",_U="NO_RECAPTCHA",cw=class{constructor(e){this.type=IU,this.auth=Ys(e)}verify(e="verify",n=!1){return D(this,null,function*(){function r(s){return D(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>D(this,null,function*(){oU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new nw(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;uS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(_U)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&uS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=vU();u.length!==0&&(u+=a),BS(u).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})})}};function fS(t,e,n,r=!1){return D(this,null,function*(){let i=new cw(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function uw(t,e,n,r){return D(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield fS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>D(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield fS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Dw(t,e){let n=Nu(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if($s(s,e??{}))return i;ir(i,"already-initialized")}return n.initialize({options:e})}function EU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Cw(t,e,n){let r=Ys(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=zS(e),{host:o,port:a}=bU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||TU()}function zS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bU(t){let e=zS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:pS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:pS(o)}}}function pS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function TU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Fu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}};function DU(t,e){return D(this,null,function*(){return qi(t,"POST","/v1/accounts:signUp",e)})}function CU(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))})}function SU(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))})}function AU(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))})}var Vu=class t extends Fu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uw(e,n,"signInWithPassword",CU);case"emailLink":return SU(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}})}_linkToIdToken(e,n){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uw(e,r,"signUpPassword",DU);case"emailLink":return AU(e,{idToken:n,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Jv(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))})}function RU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xU(t){let e=Na(Ma(t)).link,n=e?Na(Ma(e)).deep_link_id:null,r=Na(Ma(t)).deep_link_id;return(r?Na(Ma(r)).link:null)||r||n||e||t}var Af=class t{constructor(e){var n,r,i,s,o,a;let u=Na(Ma(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=RU((i=u.mode)!==null&&i!==void 0?i:null);te(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=xU(e);try{return new t(n)}catch{return null}}};var HS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Vu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Af.parseLink(r);return te(i,"argument-error"),Vu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Rf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var lw=class extends Rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function NU(t,e){return D(this,null,function*(){return Uu(t,"POST","/v1/accounts:signUp",Hi(t,e))})}var Va=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return D(this,null,function*(){let s=yield Fa._fromIdTokenResponse(e,r,i),o=gS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=gS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function gS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var dw=class t extends rn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function qS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dw._fromErrorAndOperation(t,s,e,r):s})}function MU(t,e,n=!1){return D(this,null,function*(){let r=yield Ou(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Va._forOperation(t,"link",r)})}function PU(t,e,n=!1){return D(this,null,function*(){let{auth:r}=t;if(Mn(r.app))return Promise.reject(jr(r));let i="reauthenticate";try{let s=yield Ou(t,qS(r,i,e,t),n);te(s.idToken,r,"internal-error");let o=Ew(s.idToken);te(o,r,"internal-error");let{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),Va._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ir(r,"user-mismatch"),s}})}function GS(t,e,n=!1){return D(this,null,function*(){if(Mn(t.app))return Promise.reject(jr(t));let r="signIn",i=yield qS(t,r,e),s=yield Va._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Sw(t,e){return D(this,null,function*(){return GS(Ys(t),e)})}function WS(t){return D(this,null,function*(){let e=Ys(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Aw(t,e,n){return D(this,null,function*(){if(Mn(t.app))return Promise.reject(jr(t));let r=Ys(t),o=yield uw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&WS(t),u}),a=yield Va._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Rw(t,e,n){return Mn(t.app)?Promise.reject(jr(t)):Sw(Et(t),HS.credential(e,n)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&WS(t),r}))}function xw(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function Nw(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function Mw(t){return Et(t).signOut()}var xf="__sak";var Nf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xf,"1"),this.storage.removeItem(xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var kU=1e3,OU=10,LU=(()=>{class t extends Nf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);pU()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,OU):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},kU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return D(this,null,function*(){yield hi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return D(this,null,function*(){let r=yield hi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return D(this,null,function*(){yield hi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),KS=LU;var FU=(()=>{class t extends Nf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Pw=FU;function VU(t){return Promise.all(t.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var jU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return D(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>D(this,null,function*(){return p(r.origin,o)})),d=yield VU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function QS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var hw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let d=QS("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let w=g;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(w.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function rr(){return window}function UU(t){rr().location.href=t}function YS(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}function BU(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function $U(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zU(){return YS()?self:null}var ZS="firebaseLocalStorageDb",HU=1,Mf="firebaseLocalStorage",JS="fbase_key",Qs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Of(t,e){return t.transaction([Mf],e?"readwrite":"readonly").objectStore(Mf)}function qU(){let t=indexedDB.deleteDatabase(ZS);return new Qs(t).toPromise()}function fw(){let t=indexedDB.open(ZS,HU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Mf,{keyPath:JS})}catch(i){n(i)}}),t.addEventListener("success",()=>D(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Mf)?e(r):(r.close(),yield qU(),e(yield fw()))}))})}function mS(t,e,n){return D(this,null,function*(){let r=Of(t,!0).put({[JS]:e,value:n});return new Qs(r).toPromise()})}function GU(t,e){return D(this,null,function*(){let n=Of(t,!1).get(e),r=yield new Qs(n).toPromise();return r===void 0?null:r.value})}function yS(t,e){let n=Of(t,!0).delete(e);return new Qs(n).toPromise()}var WU=800,KU=3,QU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield fw(),this.db)})}_withRetries(n){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>KU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return YS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=jU._getInstance(zU()),this.receiver._subscribe("keyChanged",(n,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var n,r;if(this.activeServiceWorker=yield BU(),!this.activeServiceWorker)return;this.sender=new hw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||$U()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let n=yield fw();return yield mS(n,xf,"1"),yield yS(n,xf),!0}catch{}return!1})}_withPendingWrite(n){return D(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>mS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return D(this,null,function*(){let r=yield this._withRetries(i=>GU(i,n));return this.localCache[n]=r,r})}_remove(n){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>yS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return D(this,null,function*(){let n=yield this._withRetries(s=>{let o=Of(s,!1).getAll();return new Qs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),WU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),XS=QU;var z8=$S("rcb"),H8=new Ks(3e4,6e4);function YU(t,e){return e?Vr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ju=class extends Fu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ZU(t){return GS(t.auth,new ju(t),t.bypassAuthState)}function JU(t){let{auth:e,user:n}=t;return te(n,e,"internal-error"),PU(n,new ju(t),t.bypassAuthState)}function XU(t){return D(this,null,function*(){let{auth:e,user:n}=t;return te(n,e,"internal-error"),MU(n,new ju(t),t.bypassAuthState)})}var pw=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZU;case"linkViaPopup":case"linkViaRedirect":return XU;case"reauthViaPopup":case"reauthViaRedirect":return JU;default:ir(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var q8=new Ks(2e3,1e4);var eB="pendingRedirect",_f=new Map,gw=class t extends pw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=_f.get(this.auth._key());if(!e){try{let r=(yield tB(this.resolver,this.auth))?yield hi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_f.set(this.auth._key(),e)}return this.bypassAuthState||_f.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return hi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,hi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function tB(t,e){return D(this,null,function*(){let n=iB(e),r=rB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function nB(t,e){_f.set(t._key(),e)}function rB(t){return Vr(t._redirectPersistence)}function iB(t){return If(eB,t.config.apiKey,t.name)}function sB(t,e,n=!1){return D(this,null,function*(){if(Mn(t.app))return Promise.reject(jr(t));let r=Ys(t),i=YU(r,e),o=yield new gw(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var oB=10*60*1e3,mw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ws(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oB&&this.cachedEventUids.clear(),this.cachedEventUids.has(vS(e))}saveEventToCache(e){this.cachedEventUids.add(vS(e)),this.lastProcessedEventTime=Date.now()}};function vS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eA(t);default:return!1}}function cB(n){return D(this,arguments,function*(t,e={}){return qi(t,"GET","/v1/projects",e)})}var uB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lB=/^https?/;function dB(t){return D(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield cB(t);for(let n of e)try{if(hB(n))return}catch{}ir(t,"unauthorized-domain")})}function hB(t){let e=ew(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lB.test(n))return!1;if(uB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var fB=new Ks(3e4,6e4);function wS(){let t=rr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pB(t){return new Promise((e,n)=>{var r,i,s;function o(){wS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wS(),n(Ws(t,"network-request-failed"))},timeout:fB.get()})}if(!((i=(r=rr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=rr().gapi)===null||s===void 0)&&s.load)o();else{let a=$S("iframefcb");return rr()[a]=()=>{gapi.load?o():n(Ws(t,"network-request-failed"))},BS(`${wU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Ef=null,e})}var Ef=null;function gB(t){return Ef=Ef||pB(t),Ef}var mB=new Ks(5e3,15e3),yB="__/auth/iframe",vB="emulator/auth/iframe",wB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _B(t){let e=t.config;te(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Iw(e,vB):`https://${t.config.authDomain}/${yB}`,r={apiKey:e.apiKey,appName:t.name,v:Bi},i=IB.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Au(r).slice(1)}`}function EB(t){return D(this,null,function*(){let e=yield gB(t),n=rr().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:_B(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wB,dontclear:!0},r=>new Promise((i,s)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ws(t,"network-request-failed"),a=rr().setTimeout(()=>{s(o)},mB.get());function u(){rr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var bB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TB=500,DB=600,CB="_blank",SB="http://localhost",Pf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function AB(t,e,n,r=TB,i=DB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},bB),{width:r.toString(),height:i.toString(),top:s,left:o}),d=gt().toLowerCase();n&&(a=kS(d)?CB:n),MS(d)&&(e=e||SB,u.scrollbars="yes");let p=Object.entries(u).reduce((w,[_,N])=>`${w}${_}=${N},`,"");if(fU(d)&&a!=="_self")return RB(e||"",a),new Pf(null);let g=window.open(e||"",a,p);te(g,t,"popup-blocked");try{g.focus()}catch{}return new Pf(g)}function RB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var xB="__/auth/handler",NB="emulator/auth/handler",MB=encodeURIComponent("fac");function IS(t,e,n,r,i,s){return D(this,null,function*(){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bi,eventId:i};if(e instanceof Rf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(s||{}))o[p]=g}if(e instanceof lw){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${MB}=${encodeURIComponent(u)}`:"";return`${PB(t)}?${Au(a).slice(1)}${d}`})}function PB({config:t}){return t.emulator?Iw(t,NB):`https://${t.authDomain}/${xB}`}var Xv="webStorageSupport",yw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pw,this._completeRedirectFn=sB,this._overrideRedirectResult=nB}_openPopup(e,n,r,i){return D(this,null,function*(){var s;zi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield IS(e,n,r,ew(),i);return AB(e,o,QS())})}_openRedirect(e,n,r,i){return D(this,null,function*(){yield this._originValidation(e);let s=yield IS(e,n,r,ew(),i);return UU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zi(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return D(this,null,function*(){let n=yield EB(e),r=new mw(e);return n.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xv,{type:Xv},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Xv];o!==void 0&&n(!!o),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jS()||PS()||Tw()}},tA=yw;var _S="@firebase/auth",ES="1.7.8";var vw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OB(t){Ui(new mn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:US(t)},d=new aw(r,i,s,u);return EU(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ui(new mn("auth-internal",e=>{let n=Ys(e.getProvider("auth").getImmediate());return(r=>new vw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lt(_S,ES,kB(t)),lt(_S,ES,"esm2017")}var LB=5*60,FB=Mv("authIdTokenMaxAge")||LB,bS=null,VB=t=>e=>D(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FB)return;let i=n?.token;bS!==i&&(bS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function kw(t=Pa()){let e=Nu(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Dw(t,{popupRedirectResolver:tA,persistence:[XS,KS,Pw]}),r=Mv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=VB(s.toString());Nw(n,o,()=>o(n.currentUser)),xw(n,a=>o(a))}}let i=xv("auth");return i&&Cw(n,`http://${i}`),n}function jB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ws("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OB("Browser");var nA="auth",Zs=class{constructor(e){return e}},Bu=class{constructor(){return Mu(nA)}};var Ow=new G("angularfire2.auth-instances");function R$(t,e){let n=mf(nA,t,e);return n&&new Zs(n)}function x$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zs(r)}}var N$={provide:Bu,deps:[[new Nt,Ow]]},M$={provide:Zs,useFactory:R$,deps:[[new Nt,Ow],Lr]};function AK(t,...e){return lt("angularfire",qs.full,"auth"),un([M$,N$,{provide:Ow,useFactory:x$(t),multi:!0,deps:[be,xt,La,Gs,[new Nt,Oa],...e]}])}var rA=$t(Aw,!0);var RK=$t(kw,!0);var iA=$t(Rw,!0);var sA=$t(Mw,!0);var oA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aA={};var Gi,Lw;(function(){var t;function e(C,E){function b(){}b.prototype=E.prototype,C.D=E.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(S,A,R){for(var T=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)T[yn-2]=arguments[yn];return E.prototype[A].apply(S,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,E,b){b||(b=0);var S=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)S[A]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(A=0;16>A;++A)S[A]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=C.g[0],b=C.g[1],A=C.g[2];var R=C.g[3],T=E+(R^b&(A^R))+S[0]+3614090360&4294967295;E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[1]+3905402710&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[2]+606105819&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[3]+3250441966&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(R^b&(A^R))+S[4]+4118548399&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[5]+1200080426&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[6]+2821735955&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[7]+4249261313&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(R^b&(A^R))+S[8]+1770035416&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[9]+2336552879&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[10]+4294925233&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[11]+2304563134&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(R^b&(A^R))+S[12]+1804603682&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(A^E&(b^A))+S[13]+4254626195&4294967295,R=E+(T<<12&4294967295|T>>>20),T=A+(b^R&(E^b))+S[14]+2792965006&4294967295,A=R+(T<<17&4294967295|T>>>15),T=b+(E^A&(R^E))+S[15]+1236535329&4294967295,b=A+(T<<22&4294967295|T>>>10),T=E+(A^R&(b^A))+S[1]+4129170786&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[6]+3225465664&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[11]+643717713&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[0]+3921069994&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(A^R&(b^A))+S[5]+3593408605&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[10]+38016083&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[15]+3634488961&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[4]+3889429448&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(A^R&(b^A))+S[9]+568446438&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[14]+3275163606&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[3]+4107603335&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[8]+1163531501&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(A^R&(b^A))+S[13]+2850285829&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^A&(E^b))+S[2]+4243563512&4294967295,R=E+(T<<9&4294967295|T>>>23),T=A+(E^b&(R^E))+S[7]+1735328473&4294967295,A=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(A^R))+S[12]+2368359562&4294967295,b=A+(T<<20&4294967295|T>>>12),T=E+(b^A^R)+S[5]+4294588738&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[8]+2272392833&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[11]+1839030562&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[14]+4259657740&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(b^A^R)+S[1]+2763975236&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[4]+1272893353&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[7]+4139469664&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[10]+3200236656&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(b^A^R)+S[13]+681279174&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[0]+3936430074&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[3]+3572445317&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[6]+76029189&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(b^A^R)+S[9]+3654602809&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^A)+S[12]+3873151461&4294967295,R=E+(T<<11&4294967295|T>>>21),T=A+(R^E^b)+S[15]+530742520&4294967295,A=R+(T<<16&4294967295|T>>>16),T=b+(A^R^E)+S[2]+3299628645&4294967295,b=A+(T<<23&4294967295|T>>>9),T=E+(A^(b|~R))+S[0]+4096336452&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[7]+1126891415&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[14]+2878612391&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[5]+4237533241&4294967295,b=A+(T<<21&4294967295|T>>>11),T=E+(A^(b|~R))+S[12]+1700485571&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[3]+2399980690&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[10]+4293915773&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[1]+2240044497&4294967295,b=A+(T<<21&4294967295|T>>>11),T=E+(A^(b|~R))+S[8]+1873313359&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[15]+4264355552&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[6]+2734768916&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[13]+1309151649&4294967295,b=A+(T<<21&4294967295|T>>>11),T=E+(A^(b|~R))+S[4]+4149444226&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~A))+S[11]+3174756917&4294967295,R=E+(T<<10&4294967295|T>>>22),T=A+(E^(R|~b))+S[2]+718787259&4294967295,A=R+(T<<15&4294967295|T>>>17),T=b+(R^(A|~E))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var b=E-this.blockSize,S=this.B,A=this.h,R=0;R<E;){if(A==0)for(;R<=b;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<E;)if(S[A++]=C.charCodeAt(R++),A==this.blockSize){i(this,S),A=0;break}}else for(;R<E;)if(S[A++]=C[R++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var b=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=b&255,b/=256;for(this.u(C),C=Array(16),E=b=0;4>E;++E)for(var S=0;32>S;S+=8)C[b++]=this.g[E]>>>S&255;return C};function s(C,E){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=E(C)}function o(C,E){this.h=E;for(var b=[],S=!0,A=C.length-1;0<=A;A--){var R=C[A]|0;S&&R==E||(b[A]=R,S=!1)}this.g=b}var a={};function u(C){return-128<=C&&128>C?s(C,function(E){return new o([E|0],0>E?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return M(d(-C));for(var E=[],b=1,S=0;C>=b;S++)E[S]=C/b|0,b*=4294967296;return new o(E,0)}function p(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return M(p(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(E,8)),S=g,A=0;A<C.length;A+=8){var R=Math.min(8,C.length-A),T=parseInt(C.substring(A,A+R),E);8>R?(R=d(Math.pow(E,R)),S=S.j(R).add(d(T))):(S=S.j(b),S=S.add(d(T)))}return S}var g=u(0),w=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(O(this))return-M(this).m();for(var C=0,E=1,b=0;b<this.g.length;b++){var S=this.i(b);C+=(0<=S?S:4294967296+S)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(O(this))return"-"+M(this).toString(C);for(var E=d(Math.pow(C,6)),b=this,S="";;){var A=Q(b,E).g;b=F(b,A.j(E));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=A,N(b))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function O(C){return C.h==-1}t.l=function(C){return C=F(this,C),O(C)?-1:N(C)?0:1};function M(C){for(var E=C.g.length,b=[],S=0;S<E;S++)b[S]=~C.g[S];return new o(b,~C.h).add(w)}t.abs=function(){return O(this)?M(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],S=0,A=0;A<=E;A++){var R=S+(this.i(A)&65535)+(C.i(A)&65535),T=(R>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);S=T>>>16,R&=65535,T&=65535,b[A]=T<<16|R}return new o(b,b[b.length-1]&-2147483648?-1:0)};function F(C,E){return C.add(M(E))}t.j=function(C){if(N(this)||N(C))return g;if(O(this))return O(C)?M(this).j(M(C)):M(M(this).j(C));if(O(C))return M(this.j(M(C)));if(0>this.l(_)&&0>C.l(_))return d(this.m()*C.m());for(var E=this.g.length+C.g.length,b=[],S=0;S<2*E;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<C.g.length;A++){var R=this.i(S)>>>16,T=this.i(S)&65535,yn=C.i(A)>>>16,Gr=C.i(A)&65535;b[2*S+2*A]+=T*Gr,H(b,2*S+2*A),b[2*S+2*A+1]+=R*Gr,H(b,2*S+2*A+1),b[2*S+2*A+1]+=T*yn,H(b,2*S+2*A+1),b[2*S+2*A+2]+=R*yn,H(b,2*S+2*A+2)}for(S=0;S<E;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=E;S<2*E;S++)b[S]=0;return new o(b,0)};function H(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function K(C,E){this.g=C,this.h=E}function Q(C,E){if(N(E))throw Error("division by zero");if(N(C))return new K(g,g);if(O(C))return E=Q(M(C),E),new K(M(E.g),M(E.h));if(O(E))return E=Q(C,M(E)),new K(M(E.g),E.h);if(30<C.g.length){if(O(C)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var b=w,S=E;0>=S.l(C);)b=_e(b),S=_e(S);var A=Z(b,1),R=Z(S,1);for(S=Z(S,2),b=Z(b,2);!N(S);){var T=R.add(S);0>=T.l(C)&&(A=A.add(b),R=T),S=Z(S,1),b=Z(b,1)}return E=F(C,A.j(E)),new K(A,E)}for(A=g;0<=C.l(E);){for(b=Math.max(1,Math.floor(C.m()/E.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=d(b),T=R.j(E);O(T)||0<T.l(C);)b-=S,R=d(b),T=R.j(E);N(R)&&(R=w),A=A.add(R),C=F(C,T)}return new K(A,C)}t.A=function(C){return Q(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],S=0;S<E;S++)b[S]=this.i(S)&C.i(S);return new o(b,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],S=0;S<E;S++)b[S]=this.i(S)|C.i(S);return new o(b,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],S=0;S<E;S++)b[S]=this.i(S)^C.i(S);return new o(b,this.h^C.h)};function _e(C){for(var E=C.g.length+1,b=[],S=0;S<E;S++)b[S]=C.i(S)<<1|C.i(S-1)>>>31;return new o(b,C.h)}function Z(C,E){var b=E>>5;E%=32;for(var S=C.g.length-b,A=[],R=0;R<S;R++)A[R]=0<E?C.i(R+b)>>>E|C.i(R+b+1)<<32-E:C.i(R+b);return new o(A,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lw=aA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,Gi=aA.Integer=o}).apply(typeof oA<"u"?oA:typeof self<"u"?self:typeof window<"u"?window:{});var Lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ur={};var Fw,Vw,ja,jw,$u,Ff,Uw,Bw,$w;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lf=="object"&&Lf];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,v=!1,x={next:function(){if(!v&&m<c.length){var k=m++;return{value:f(k,c[k]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});var o=o||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function w(c,f,m){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,w.apply(null,arguments)}function _(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function N(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,x,k){for(var U=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)U[xe-2]=arguments[xe];return f.prototype[x].apply(v,U)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function M(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let x=c.length||0,k=v.length||0;c.length=x+k;for(let U=0;U<k;U++)c[x+U]=v[U]}else c.push(v)}}class F{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function H(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var _e=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function Z(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function C(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function E(c){let f={};for(let m in c)f[m]=c[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let k=0;k<b.length;k++)m=b[k],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function A(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function T(){var c=Kr;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class yn{constructor(){this.h=this.g=null}add(f,m){let v=Gr.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Gr=new F(()=>new ac,c=>c.reset());class ac{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Wr,dr=!1,Kr=new yn,Wt=()=>{let c=a.Promise.resolve(void 0);Wr=()=>{c.then(Qr)}};var Qr=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(m){R(m)}var f=Gr;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}dr=!1};function Tt(){this.s=this.s,this.C=this.C}Tt.prototype.s=!1,Tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var Yr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function vn(c,f){if(dt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(_e){e:{try{Q(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:hl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vn.aa.h.call(this)}}N(vn,dt);var hl={2:"touch",3:"pen",4:"mouse"};vn.prototype.h=function(){vn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ln="closure_listenable_"+(1e6*Math.random()|0),cc=0;function Ap(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++cc,this.da=this.fa=!1}function Zr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Jr(c){this.src=c,this.g={},this.h=0}Jr.prototype.add=function(c,f,m,v,x){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var U=uc(c,f,v,x);return-1<U?(f=c[U],m||(f.fa=!1)):(f=new Ap(f,this.src,k,!!v,x),f.fa=m,c.push(f)),f};function Xr(c,f){var m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),k;(k=0<=x)&&Array.prototype.splice.call(v,x,1),k&&(Zr(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function uc(c,f,m,v){for(var x=0;x<c.length;++x){var k=c[x];if(!k.da&&k.listener==f&&k.capture==!!m&&k.ha==v)return x}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),Kt={};function fl(c,f,m,v,x){if(v&&v.once)return lc(c,f,m,v,x);if(Array.isArray(f)){for(var k=0;k<f.length;k++)fl(c,f[k],m,v,x);return null}return m=Ye(m),c&&c[Ln]?c.K(f,m,d(v)?!!v.capture:!!v,x):Dt(c,f,m,!1,v,x)}function Dt(c,f,m,v,x,k){if(!f)throw Error("Invalid event type");var U=d(x)?!!x.capture:!!x,xe=wn(c);if(xe||(c[yt]=xe=new Jr(c)),m=xe.add(f,m,v,U,k),m.proxy)return m;if(v=fo(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)Yr||(x=U),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(Qt(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function fo(){function c(m){return f.call(c.src,c.listener,m)}let f=Fn;return c}function lc(c,f,m,v,x){if(Array.isArray(f)){for(var k=0;k<f.length;k++)lc(c,f[k],m,v,x);return null}return m=Ye(m),c&&c[Ln]?c.L(f,m,d(v)?!!v.capture:!!v,x):Dt(c,f,m,!0,v,x)}function dc(c,f,m,v,x){if(Array.isArray(f))for(var k=0;k<f.length;k++)dc(c,f[k],m,v,x);else v=d(v)?!!v.capture:!!v,m=Ye(m),c&&c[Ln]?(c=c.i,f=String(f).toString(),f in c.g&&(k=c.g[f],m=uc(k,m,v,x),-1<m&&(Zr(k[m]),Array.prototype.splice.call(k,m,1),k.length==0&&(delete c.g[f],c.h--)))):c&&(c=wn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=uc(f,m,v,x)),(m=-1<c?f[c]:null)&&pe(m))}function pe(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Ln])Xr(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(Qt(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=wn(f))?(Xr(m,c),m.h==0&&(m.src=null,f[yt]=null)):Zr(c)}}}function Qt(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function Fn(c,f){if(c.da)c=!0;else{f=new vn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&pe(c),c=m.call(v,f)}return c}function wn(c){return c=c[yt],c instanceof Jr?c:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(c){return typeof c=="function"?c:(c[qe]||(c[qe]=function(f){return c.handleEvent(f)}),c[qe])}function Ze(){Tt.call(this),this.i=new Jr(this),this.M=this,this.F=null}N(Ze,Tt),Ze.prototype[Ln]=!0,Ze.prototype.removeEventListener=function(c,f,m,v){dc(this,c,f,m,v)};function ht(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new dt(f,c);else if(f instanceof dt)f.target=f.target||c;else{var x=f;f=new dt(v,c),S(f,x)}if(x=!0,m)for(var k=m.length-1;0<=k;k--){var U=f.g=m[k];x=Vn(U,v,!0,f)&&x}if(U=f.g=c,x=Vn(U,v,!0,f)&&x,x=Vn(U,v,!1,f)&&x,m)for(k=0;k<m.length;k++)U=f.g=m[k],x=Vn(U,v,!1,f)&&x}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)Zr(m[v]);delete c.g[f],c.h--}}this.F=null},Ze.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},Ze.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Vn(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,k=0;k<f.length;++k){var U=f[k];if(U&&!U.da&&U.capture==m){var xe=U.listener,Je=U.ha||U.src;U.fa&&Xr(c.i,U),x=xe.call(Je,v)!==!1&&x}}return x&&!v.defaultPrevented}function vt(c,f,m){if(typeof c=="function")m&&(c=w(c,m));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function pl(c){c.g=vt(()=>{c.g=null,c.i&&(c.i=!1,pl(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class gl extends Tt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:pl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(c){Tt.call(this),this.h=c,this.g={}}N(ei,Tt);var po=[];function ml(c){Z(c.g,function(f,m){this.g.hasOwnProperty(m)&&pe(f)},c),c.g={}}ei.prototype.N=function(){ei.aa.N.call(this),ml(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var go=a.JSON.stringify,Rp=a.JSON.parse,xp=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function In(){}In.prototype.h=null;function yl(c){return c.h||(c.h=c.i())}function vl(){}var Ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hc(){dt.call(this,"d")}N(hc,dt);function fc(){dt.call(this,"c")}N(fc,dt);var _n={},wl=null;function mo(){return wl=wl||new Ze}_n.La="serverreachability";function jn(c){dt.call(this,_n.La,c)}N(jn,dt);function Xi(c){let f=mo();ht(f,new jn(f))}_n.STAT_EVENT="statevent";function Il(c,f){dt.call(this,_n.STAT_EVENT,c),this.stat=f}N(Il,dt);function wt(c){let f=mo();ht(f,new Il(f,c))}_n.Ma="timingevent";function yo(c,f){dt.call(this,_n.Ma,c),this.size=f}N(yo,dt);function es(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function Np(c,f,m,v,x,k){c.info(function(){if(c.g)if(k)for(var U="",xe=k.split("&"),Je=0;Je<xe.length;Je++){var ve=xe[Je].split("=");if(1<ve.length){var ot=ve[0];ve=ve[1];var ft=ot.split("_");U=2<=ft.length&&ft[1]=="type"?U+(ot+"="+ve+"&"):U+(ot+"=redacted&")}}else U=null;else U=k;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+U})}function Mp(c,f,m,v,x,k,U){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+k+" "+U})}function ti(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Pp(c,m)+(v?" "+v:"")})}function Ne(c,f){c.info(function(){return"TIMEOUT: "+f})}ts.prototype.info=function(){};function Pp(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var U=1;U<x.length;U++)x[U]=""}}}}return go(m)}catch{return f}}var vo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_l={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pc;function wo(){}N(wo,In),wo.prototype.g=function(){return new XMLHttpRequest},wo.prototype.i=function(){return{}},pc=new wo;function Un(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Io}function Io(){this.i=null,this.g="",this.h=!1}var ni={},_o={};function ri(c,f,m){c.L=1,c.v=Co(Ct(f)),c.m=m,c.P=!0,Ve(c,null)}function Ve(c,f){c.F=Date.now(),Eo(c),c.A=Ct(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Pl(m.i,"t",v),c.C=0,m=c.j.J,c.h=new Io,c.g=Ac(c.j,m?f:null,!c.m),0<c.O&&(c.M=new gl(w(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(po[0]=x.toString()),x=po);for(var k=0;k<x.length;k++){var U=fl(m,x[k],v||f.handleEvent,!1,f.h||f);if(!U)break;f.g[U.key]=U}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Xi(),Np(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;let f=this.M;f&&bn(c)==3?f.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{let ft=bn(this.g);var f=this.g.Ba();let gr=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||ft!=4||f==7||(f==8||0>=gr?Xi(3):Xi(2)),mc(this);var m=this.g.Z();this.X=m;t:if(El(this)){var v=$l(this.g);c="";var x=v.length,k=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),ns(this);var U="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(k&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=m==200,Mp(this.i,this.u,this.A,this.l,this.R,ft,m),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,Je=this.g;if((xe=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(xe)){var ve=xe;break t}}ve=null}if(m=ve)ti(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bo(this,m);else{this.o=!1,this.s=3,wt(12),hr(this),ns(this);break e}}if(this.P){m=!0;let Ft;for(;!this.J&&this.C<U.length;)if(Ft=kp(this,U),Ft==_o){ft==4&&(this.s=4,wt(14),m=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==ni){this.s=4,wt(15),ti(this.i,this.l,U,"[Invalid Chunk]"),m=!1;break}else ti(this.i,this.l,Ft,null),bo(this,Ft);if(El(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||U.length!=0||this.h.h||(this.s=1,wt(16),m=!1),this.o=this.o&&m,!m)ti(this.i,this.l,U,"[Invalid Chunked Response]"),hr(this),ns(this);else if(0<U.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ls(ot),ot.M=!0,wt(11))}}else ti(this.i,this.l,U,null),bo(this,U);ft==4&&hr(this),this.o&&!this.J&&(ft==4?Tc(this.j,this):(this.o=!1,Eo(this)))}else Hp(this.g),m==400&&0<U.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),hr(this),ns(this)}}}catch{}finally{}};function El(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kp(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?_o:(m=Number(f.substring(m,v)),isNaN(m)?ni:(v+=1,v+m>f.length?_o:(f=f.slice(v,v+m),c.C=v+m,f)))}Un.prototype.cancel=function(){this.J=!0,hr(this)};function Eo(c){c.S=Date.now()+c.I,gc(c,c.I)}function gc(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=es(w(c.ba,c),f)}function mc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Ne(this.i,this.A),this.L!=2&&(Xi(),wt(17)),hr(this),this.s=2,ns(this)):gc(this,this.S-c)};function ns(c){c.j.G==0||c.J||Tc(c.j,c)}function hr(c){mc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,ml(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function bo(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||vc(m.h,c))){if(!c.K&&vc(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)No(m),cs(m);else break e;xo(m),wt(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=es(w(m.Za,m),6e3));if(1>=Tl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else zn(m,11)}else if((c.K||m.g==c)&&No(m),!H(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let ve=x[f];if(m.T=ve[0],ve=ve[1],m.G==2)if(ve[0]=="c"){m.K=ve[1],m.ia=ve[2];let ot=ve[3];ot!=null&&(m.la=ot,m.j.info("VER="+m.la));let ft=ve[4];ft!=null&&(m.Aa=ft,m.j.info("SVER="+m.Aa));let gr=ve[5];gr!=null&&typeof gr=="number"&&0<gr&&(v=1.5*gr,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let Ft=c.g;if(Ft){let Mo=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var k=v.h;k.g||Mo.indexOf("spdy")==-1&&Mo.indexOf("quic")==-1&&Mo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(wc(k,k.h),k.h=null))}if(v.D){let xc=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;xc&&(v.ya=xc,Me(v.I,v.D,xc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var U=c;if(v.qa=Sc(v,v.J?v.ia:null,v.W),U.K){Dl(v.h,U);var xe=U,Je=v.L;Je&&(xe.I=Je),xe.B&&(mc(xe),Eo(xe)),v.g=U}else bc(v);0<m.i.length&&Ao(m)}else ve[0]!="stop"&&ve[0]!="close"||zn(m,7);else m.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?zn(m,7):li(m):ve[0]!="noop"&&m.l&&m.l.ta(ve),m.v=0)}}Xi(4)}catch{}}var Op=class{constructor(c,f){this.g=c,this.map=f}};function yc(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tl(c){return c.h?1:c.g?c.g.size:0}function vc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function wc(c,f){c.g?c.g.add(f):c.h=f}function Dl(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}yc.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Cl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function Lp(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function Sl(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function Al(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=Sl(c),v=Lp(c),x=v.length,k=0;k<x;k++)f.call(void 0,v[k],m&&m[k],c)}var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fp(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),x=null;if(0<=v){var k=c[m].substring(0,v);x=c[m].substring(v+1)}else k=c[m];f(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function fr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fr){this.h=c.h,rs(this,c.j),this.o=c.o,this.g=c.g,To(this,c.s),this.l=c.l;var f=c.i,m=new si;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Do(this,m),this.m=c.m}else c&&(f=String(c).match(Ic))?(this.h=!1,rs(this,f[1]||"",!0),this.o=is(f[2]||""),this.g=is(f[3]||"",!0),To(this,f[4]),this.l=is(f[5]||"",!0),Do(this,f[6]||"",!0),this.m=is(f[7]||"")):(this.h=!1,this.i=new si(null,this.h))}fr.prototype.toString=function(){var c=[],f=this.j;f&&c.push(ss(f,Rl,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(ss(f,Rl,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(ss(m,m.charAt(0)=="/"?ii:jp,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",ss(m,xl)),c.join("")};function Ct(c){return new fr(c)}function rs(c,f,m){c.j=m?is(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function To(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Do(c,f,m){f instanceof si?(c.i=f,Bp(c.i,c.h)):(m||(f=ss(f,Up)),c.i=new si(f,c.h))}function Me(c,f,m){c.i.set(f,m)}function Co(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function is(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ss(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,Vp),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vp(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Rl=/[#\/\?@]/g,jp=/[#\?:]/g,ii=/[#\?]/g,Up=/[#\?@]/g,xl=/#/g;function si(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Fp(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=si.prototype,t.add=function(c,f){Bn(this),this.i=null,c=oi(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Nl(c,f){Bn(c),f=oi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Ml(c,f){return Bn(c),f=oi(c,f),c.g.has(f)}t.forEach=function(c,f){Bn(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)},t.na=function(){Bn(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let x=c[v];for(let k=0;k<x.length;k++)m.push(f[v])}return m},t.V=function(c){Bn(this);let f=[];if(typeof c=="string")Ml(this,c)&&(f=f.concat(this.g.get(oi(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return Bn(this),this.i=null,c=oi(this,c),Ml(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Pl(c,f,m){Nl(c,f),0<m.length&&(c.i=null,c.g.set(oi(c,f),O(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let k=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var x=k;U[v]!==""&&(x+="="+encodeURIComponent(String(U[v]))),c.push(x)}}return this.i=c.join("&")};function oi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Bp(c,f){f&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(Nl(this,v),Pl(this,x,m))},c)),c.j=f}function $p(c,f){let m=new ts;if(a.Image){let v=new Image;v.onload=_($n,m,"TestLoadImage: loaded",!0,f,v),v.onerror=_($n,m,"TestLoadImage: error",!1,f,v),v.onabort=_($n,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=_($n,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function ai(c,f){let m=new ts,v=new AbortController,x=setTimeout(()=>{v.abort(),$n(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(k=>{clearTimeout(x),k.ok?$n(m,"TestPingServer: ok",!0,f):$n(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),$n(m,"TestPingServer: error",!1,f)})}function $n(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function zp(){this.g=new xp}function kl(c,f,m){let v=m||"";try{Al(c,function(x,k){let U=x;d(x)&&(U=go(x)),f.push(v+k+"="+encodeURIComponent(U))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function os(c){this.l=c.Ub||null,this.j=c.eb||!1}N(os,In),os.prototype.g=function(){return new Yt(this.l,this.j)},os.prototype.i=function(c){return function(){return c}}({});function Yt(c,f){Ze.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Yt,Ze),t=Yt.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,En(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?ci(this):En(this),this.readyState==3&&Ol(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ci(this))},t.Qa=function(c){this.g&&(this.response=c,ci(this))},t.ga=function(){this.g&&ci(this)};function ci(c){c.readyState=4,c.l=null,c.j=null,c.v=null,En(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function En(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ll(c){let f="";return Z(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function _c(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Ll(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Me(c,f,m))}function je(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(je,Ze);var Fl=/^https?$/i,ui=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pc.g(),this.v=this.o?yl(this.o):yl(pc),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(k){Vl(this,k);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let k of v.keys())m.set(k,v.get(k));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ui,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,U]of m)this.g.setRequestHeader(k,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bl(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){Vl(this,k)}};function Vl(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,jl(c),So(c)}function jl(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ht(this,"complete"),ht(this,"abort"),So(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),So(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ul(this):this.bb())},t.bb=function(){Ul(this)};function Ul(c){if(c.h&&typeof o<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)vt(c.Ea,0,c);else if(ht(c,"readystatechange"),bn(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=U===0){var x=String(c.D).match(Ic)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!Fl.test(x?x.toLowerCase():"")}m=v}if(m)ht(c,"complete"),ht(c,"success");else{c.m=6;try{var k=2<bn(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",jl(c)}}finally{So(c)}}}}function So(c,f){if(c.g){Bl(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||ht(c,"ready");try{m.onreadystatechange=v}catch{}}}function Bl(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Rp(f)}};function $l(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hp(c){let f={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(H(c[v]))continue;var m=A(c[v]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let k=f[x]||[];f[x]=k,k.push(m)}C(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function zl(c){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,c),this.cb=as("retryDelaySeedMs",1e4,c),this.Wa=as("forwardChannelMaxRetries",2,c),this.wa=as("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yc(c&&c.concurrentRequestLimit),this.Da=new zp,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zl.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,v){wt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Sc(this,null,this.W),Ao(this)};function li(c){if(Hl(c),c.G==3){var f=c.U++,m=Ct(c.I);if(Me(m,"SID",c.K),Me(m,"RID",f),Me(m,"TYPE","terminate"),us(c,m),f=new Un(c,c.j,f),f.L=2,f.v=Co(Ct(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Ac(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Eo(f)}Cc(c)}function cs(c){c.g&&(ls(c),c.g.cancel(),c.g=null)}function Hl(c){cs(c),c.u&&(a.clearTimeout(c.u),c.u=null),No(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ao(c){if(!bl(c.h)&&!c.s){c.s=!0;var f=c.Ga;Wr||Wt(),dr||(Wr(),dr=!0),Kr.add(f,c),c.B=0}}function qp(c,f){return Tl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=es(w(c.Ga,c,f),Dc(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new Un(this,this.j,c),k=this.o;if(this.S&&(k?(k=E(k),S(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Ro(this,x,f),m=Ct(this.I),Me(m,"RID",c),Me(m,"CVER",22),this.D&&Me(m,"X-HTTP-Session-Id",this.D),us(this,m),k&&(this.O?f="headers="+encodeURIComponent(String(Ll(k)))+"&"+f:this.m&&_c(m,this.m,k)),wc(this.h,x),this.Ua&&Me(m,"TYPE","init"),this.P?(Me(m,"$req",f),Me(m,"SID","null"),x.T=!0,ri(x,m,null)):ri(x,m,f),this.G=2}}else this.G==3&&(c?Ec(this,c):this.i.length==0||bl(this.h)||Ec(this))};function Ec(c,f){var m;f?m=f.l:m=c.U++;let v=Ct(c.I);Me(v,"SID",c.K),Me(v,"RID",m),Me(v,"AID",c.T),us(c,v),c.m&&c.o&&_c(v,c.m,c.o),m=new Un(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Ro(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wc(c.h,m),ri(m,v,f)}function us(c,f){c.H&&Z(c.H,function(m,v){Me(f,v,m)}),c.l&&Al({},function(m,v){Me(f,v,m)})}function Ro(c,f,m){m=Math.min(c.i.length,m);var v=c.l?w(c.l.Na,c.l,c):null;e:{var x=c.i;let k=-1;for(;;){let U=["count="+m];k==-1?0<m?(k=x[0].g,U.push("ofs="+k)):k=0:U.push("ofs="+k);let xe=!0;for(let Je=0;Je<m;Je++){let ve=x[Je].g,ot=x[Je].map;if(ve-=k,0>ve)k=Math.max(0,x[Je].g-100),xe=!1;else try{kl(ot,U,"req"+ve+"_")}catch{v&&v(ot)}}if(xe){v=U.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function bc(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Wr||Wt(),dr||(Wr(),dr=!0),Kr.add(f,c),c.v=0}}function xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=es(w(c.Fa,c),Dc(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ds(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=es(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),cs(this),ds(this))};function ls(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ds(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Ct(c.qa);Me(f,"RID","rpc"),Me(f,"SID",c.K),Me(f,"AID",c.T),Me(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(f,"TO",c.ja),Me(f,"TYPE","xmlhttp"),us(c,f),c.m&&c.o&&_c(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Co(Ct(f)),m.m=null,m.P=!0,Ve(m,c)}t.Za=function(){this.C!=null&&(this.C=null,cs(this),xo(this),wt(19))};function No(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Tc(c,f){var m=null;if(c.g==f){No(c),ls(c),c.g=null;var v=2}else if(vc(c.h,f))m=f.D,Dl(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=mo(),ht(v,new yo(v,m)),Ao(c)}else bc(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&qp(c,f)||v==2&&xo(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),x){case 1:zn(c,5);break;case 4:zn(c,10);break;case 3:zn(c,6);break;default:zn(c,2)}}}function Dc(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function zn(c,f){if(c.j.info("Error code "+f),f==2){var m=w(c.fb,c),v=c.Xa;let x=!v;v=new fr(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||rs(v,"https"),Co(v),x?$p(v.toString(),m):ai(v.toString(),m)}else wt(2);c.G=0,c.l&&c.l.sa(f),Cc(c),Hl(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Cc(c){if(c.G=0,c.ka=[],c.l){let f=Cl(c.h);(f.length!=0||c.i.length!=0)&&(M(c.ka,f),M(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Sc(c,f,m){var v=m instanceof fr?Ct(m):new fr(m);if(v.g!="")f&&(v.g=f+"."+v.g),To(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var k=new fr(null);v&&rs(k,v),f&&(k.g=f),x&&To(k,x),m&&(k.l=m),v=k}return m=c.D,f=c.ya,m&&f&&Me(v,m,f),Me(v,"VER",c.la),us(c,v),v}function Ac(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new je(new os({eb:m})):new je(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}t=Rc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hs(){}hs.prototype.g=function(c,f){return new St(c,f)};function St(c,f){Ze.call(this),this.g=new zl(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!H(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!H(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new di(this)}N(St,Ze),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){li(this.g)},St.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=go(c),c=m);f.i.push(new Op(f.Ya++,c)),f.G==3&&Ao(f)},St.prototype.N=function(){this.g.l=null,delete this.j,li(this.g),delete this.g,St.aa.N.call(this)};function pr(c){hc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}N(pr,hc);function ql(){fc.call(this),this.status=1}N(ql,fc);function di(c){this.g=c}N(di,Rc),di.prototype.ua=function(){ht(this.g,"a")},di.prototype.ta=function(c){ht(this.g,new pr(c))},di.prototype.sa=function(c){ht(this.g,new ql)},di.prototype.ra=function(){ht(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,$w=Ur.createWebChannelTransport=function(){return new hs},Bw=Ur.getStatEventTarget=function(){return mo()},Uw=Ur.Event=_n,Ff=Ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vo.NO_ERROR=0,vo.TIMEOUT=8,vo.HTTP_ERROR=6,$u=Ur.ErrorCode=vo,_l.COMPLETE="complete",jw=Ur.EventType=_l,vl.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,ja=Ur.WebChannel=vl,Vw=Ur.FetchXmlHttpFactory=os,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Fw=Ur.XhrIo=je}).apply(typeof Lf<"u"?Lf:typeof self<"u"?self:typeof window<"u"?window:{});var cA="@firebase/firestore";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var ic="10.13.1";var no=new Vi("@firebase/firestore");function zu(){return no.logLevel}function q(t,...e){if(no.logLevel<=me.DEBUG){let n=e.map(A_);no.debug(`Firestore (${ic}): ${t}`,...n)}}function $r(t,...e){if(no.logLevel<=me.ERROR){let n=e.map(A_);no.error(`Firestore (${ic}): ${t}`,...n)}}function Ga(t,...e){if(no.logLevel<=me.WARN){let n=e.map(A_);no.warn(`Firestore (${ic}): ${t}`,...n)}}function A_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function Oe(t,e){t||ne()}function ie(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Br=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var $f=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ww=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}},Kw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Qw=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Br,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Br)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new $f(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new mt(e)}},Yw=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Zw=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Yw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new Jw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function k$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var zf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=k$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function Wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var bt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new bt(0,0))}static max(){return new t(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},He=class t extends Hf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},O$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=class t extends Hf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return O$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new z(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var X=class t{constructor(e){this.path=e}static fromPath(e){return new t(He.fromString(e))}static fromName(e){return new t(He.fromString(e).popFirst(5))}static empty(){return new t(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new He(e.slice()))}};var eI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};eI.UNKNOWN_ID=-1;function L$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new ro(i,X.empty(),e)}function F$(t){return new ro(t.readTime,t.key,-1)}var ro=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(oe.min(),X.empty(),-1)}static max(){return new t(oe.max(),X.empty(),-1)}};function V$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}var j$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function cl(t){return D(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==j$)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var j=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function U$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(t){return t.name==="IndexedDbTransactionError"}var zA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ip(t){return t==null}function Yu(t){return t===0&&1/t==-1/0}function B$(t){return typeof t=="number"&&Number.isInteger(t)&&!Yu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var $$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$K=[...$$,"documentOverlays"],z$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],H$=z$,q$=[...H$,"indexConfiguration","indexState","indexEntries"];var zK=[...q$,"globals"];function uA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var We=class t{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new za(this.root,e,this.comparator,!1)}getReverseIterator(){return new za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new za(this.root,e,this.comparator,!0)}},za=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ar=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ot=class t{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qf(this.data.getIterator())}getIteratorFrom(e){return new qf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},qf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var or=class t{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ot(sn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Gf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gf("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var G$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Oe(!!t),typeof t=="string"){let e=0,n=G$.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function R_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x_(t){let e=t.mapValue.fields.__previous_value__;return R_(e)?x_(e):e}function Zu(t){let e=zr(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}var nI=class{constructor(e,n,r,i,s,o,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},Wf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Vf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R_(t)?4:GA(t)?9007199254740991:qA(t)?10:11:ne()}function lr(t,e){if(t===e)return!0;let n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=zr(i.timestampValue),a=zr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ki(i.bytesValue).isEqual(Ki(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $e(i.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $e(i.integerValue)===$e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=$e(i.doubleValue),a=$e(s.doubleValue);return o===a?Yu(o)===Yu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(uA(o)!==uA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!lr(o[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function Ju(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function Ka(t,e){if(t===e)return 0;let n=io(t),r=io(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=$e(s.integerValue||s.doubleValue),u=$e(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return lA(t.timestampValue,e.timestampValue);case 4:return lA(Zu(t),Zu(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ki(s),u=Ki(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Te(a[d],u[d]);if(p!==0)return p}return Te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Te($e(s.latitude),$e(o.latitude));return a!==0?a:Te($e(s.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,d,p;let g=s.fields||{},w=o.fields||{},_=(a=g.value)===null||a===void 0?void 0:a.arrayValue,N=(u=w.value)===null||u===void 0?void 0:u.arrayValue,O=Te(((d=_?.values)===null||d===void 0?void 0:d.length)||0,((p=N?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:dA(_,N)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Vf.mapValue&&o===Vf.mapValue)return 0;if(s===Vf.mapValue)return 1;if(o===Vf.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let w=Te(u[g],p[g]);if(w!==0)return w;let _=Ka(a[u[g]],d[p[g]]);if(_!==0)return _}return Te(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ne()}}function lA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);let n=zr(t),r=zr(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function dA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ka(n[i],r[i]);if(s)return s}return Te(n.length,r.length)}function Qa(t){return rI(t)}function rI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=rI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${rI(n.fields[o])}`;return i+"}"}(t.mapValue):ne()}function hA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iI(t){return!!t&&"integerValue"in t}function N_(t){return!!t&&"arrayValue"in t}function fA(t){return!!t&&"nullValue"in t}function pA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function qA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return sc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Pn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(qu(this.value))}};function WA(t){let e=[];return sc(t.fields,(n,r)=>{let i=new sn([n]);if(Uf(r)){let s=WA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new or(e)}var kn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,oe.min(),oe.min(),oe.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,oe.min(),oe.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,oe.min(),oe.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ya=class{constructor(e,n){this.position=e,this.inclusive=n}};function gA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Ka(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}var so=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function W$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Kf=class{},st=class t extends Kf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oI(e,n,r):n==="array-contains"?new uI(e,r):n==="in"?new lI(e,r):n==="not-in"?new dI(e,r):n==="array-contains-any"?new hI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aI(e,r):new cI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ka(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},On=class t extends Kf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return KA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function KA(t){return t.op==="and"}function QA(t){return K$(t)&&KA(t)}function K$(t){for(let e of t.filters)if(e instanceof On)return!1;return!0}function sI(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(QA(t))return t.filters.map(e=>sI(e)).join(",");{let e=t.filters.map(n=>sI(n)).join(",");return`${t.op}(${e})`}}function YA(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(t,e):t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YA(o,i.filters[a]),!0):!1}(t,e):void ne()}function ZA(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(ZA).join(" ,")+"}"}(t):"Filter"}var oI=class extends st{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){let n=X.comparator(e.key,this.key);return this.matchesComparison(n)}},aI=class extends st{constructor(e,n){super(e,"in",n),this.keys=JA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},cI=class extends st{constructor(e,n){super(e,"not-in",n),this.keys=JA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function JA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}var uI=class extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return N_(n)&&Ju(n.arrayValue,this.value)}},lI=class extends st{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}},dI=class extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ju(this.value.arrayValue,n)}},hI=class extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!N_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ju(this.value.arrayValue,r))}};var fI=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function yA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fI(t,e,n,r,i,s,o)}function M_(t){let e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),e.ue=n}return e.ue}function P_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!W$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mA(t.startAt,e.startAt)&&mA(t.endAt,e.endAt)}function pI(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Qi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Q$(t,e,n,r,i,s,o,a){return new Qi(t,e,n,r,i,s,o,a)}function k_(t){return new Qi(t)}function vA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XA(t){return t.collectionGroup!==null}function Gu(t){let e=ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(sn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new so(s,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new so(sn.keyField(),r))}return e.ce}function cr(t){let e=ie(t);return e.le||(e.le=Y$(e,Gu(t))),e.le}function Y$(t,e){if(t.limitType==="F")return yA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new so(i.field,s)});let n=t.endAt?new Ya(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ya(t.startAt.position,t.startAt.inclusive):null;return yA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gI(t,e){let n=t.filters.concat([e]);return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mI(t,e,n){return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _p(t,e){return P_(cr(t),cr(e))&&t.limitType===e.limitType}function eR(t){return`${M_(cr(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZA(i)).join(", ")}]`),Ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qa(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Ep(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Gu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let d=gA(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,Gu(r),i)||r.endAt&&!function(o,a,u){let d=gA(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,Gu(r),i))}(t,e)}function Z$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tR(t){return(e,n)=>{let r=!1;for(let i of Gu(t)){let s=J$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J$(t,e,n){let r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),d=a.data.field(s);return u!==null&&d!==null?Ka(u,d):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var Yi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return HA(this.inner)}size(){return this.innerSize}};var X$=new We(X.comparator);function Hr(){return X$}var nR=new We(X.comparator);function Hu(...t){let e=nR;for(let n of t)e=e.insert(n.key,n);return e}function rR(t){let e=nR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Js(){return Wu()}function iR(){return Wu()}function Wu(){return new Yi(t=>t.toString(),(t,e)=>t.isEqual(e))}var ez=new We(X.comparator),tz=new Ot(X.comparator);function ye(...t){let e=tz;for(let n of t)e=e.add(n);return e}var nz=new Ot(Te);function rz(){return nz}function O_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function sR(t){return{integerValue:""+t}}function iz(t,e){return B$(e)?sR(e):O_(t,e)}var Za=class{constructor(){this._=void 0}};function sz(t,e,n){return t instanceof Ja?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&R_(s)&&(s=x_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof oo?aR(t,e):t instanceof ao?cR(t,e):function(i,s){let o=oR(i,s),a=wA(o)+wA(i.Pe);return iI(o)&&iI(i.Pe)?sR(a):O_(i.serializer,a)}(t,e)}function oz(t,e,n){return t instanceof oo?aR(t,e):t instanceof ao?cR(t,e):n}function oR(t,e){return t instanceof Xa?function(r){return iI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ja=class extends Za{},oo=class extends Za{constructor(e){super(),this.elements=e}};function aR(t,e){let n=uR(e);for(let r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}var ao=class extends Za{constructor(e){super(),this.elements=e}};function cR(t,e){let n=uR(e);for(let r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}var Xa=class extends Za{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function wA(t){return $e(t.integerValue||t.doubleValue)}function uR(t){return N_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function az(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oo&&i instanceof oo||r instanceof ao&&i instanceof ao?Wa(r.elements,i.elements,lr):r instanceof Xa&&i instanceof Xa?lr(r.Pe,i.Pe):r instanceof Ja&&i instanceof Ja}(t.transform,e.transform)}var yI=class{constructor(e,n){this.version=e,this.transformResults=n}},to=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Bf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ec=class{};function lR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qf(t.key,to.none()):new co(t.key,t.data,to.none());{let n=t.data,r=Pn.empty(),i=new Ot(sn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qr(t.key,r,new or(i.toArray()),to.none())}}function cz(t,e,n){t instanceof co?function(i,s,o){let a=i.value.clone(),u=_A(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qr?function(i,s,o){if(!Bf(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=_A(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(dR(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ku(t,e,n,r){return t instanceof co?function(s,o,a,u){if(!Bf(s.precondition,o))return a;let d=s.value.clone(),p=EA(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof qr?function(s,o,a,u){if(!Bf(s.precondition,o))return a;let d=EA(s.fieldTransforms,u,o),p=o.data;return p.setAll(dR(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return Bf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function uz(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=oR(r.transform,i||null);s!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,s))}return n||null}function IA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wa(r,i,(s,o)=>az(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var co=class extends ec{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},qr=class extends ec{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function dR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function _A(t,e,n){let r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oz(o,a,n[i]))}return r}function EA(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,sz(s,o,e))}return r}var Qf=class extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vI=class extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var wI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&cz(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=iR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=lR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>IA(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>IA(n,r))}},II=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=function(){return ez}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var _I=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var EI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var rt,Ie;function lz(t){switch(t){default:return ne();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function hR(t){if(t===void 0)return $r("GRPC error has no .code"),L.UNKNOWN;switch(t){case rt.OK:return L.OK;case rt.CANCELLED:return L.CANCELLED;case rt.UNKNOWN:return L.UNKNOWN;case rt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case rt.INTERNAL:return L.INTERNAL;case rt.UNAVAILABLE:return L.UNAVAILABLE;case rt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case rt.NOT_FOUND:return L.NOT_FOUND;case rt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case rt.ABORTED:return L.ABORTED;case rt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case rt.DATA_LOSS:return L.DATA_LOSS;default:return ne()}}(Ie=rt||(rt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var bA=null;function dz(){return new TextEncoder}var hz=new Gi([4294967295,4294967295],0);function TA(t){let e=dz().encode(t),n=new Lw;return n.update(e),new Uint8Array(n.digest())}function DA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([i,s],0)]}var bI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xs(`Invalid padding: ${n}`);if(r<0)throw new Xs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Gi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Gi.fromNumber(r)));return i.compare(hz)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=TA(e),[r,i]=DA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=TA(e),[r,i]=DA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Xs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yf=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(oe.min(),i,new We(Te),Hr(),ye())}},Xu=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ye(),ye(),ye())}};var Ha=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Zf=class{constructor(e,n){this.targetId=e,this.me=n}},Jf=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Xf=class{constructor(){this.fe=0,this.ge=SA(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Xu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=SA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},TI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=CA(),this.Qe=new We(Te)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(pI(s))if(r===0){let o=new X(s.path);this.Ue(n,o,kn.newNoDocument(o,oe.min()))}else Oe(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}bA?.et(function(p,g,w,_,N){var O,M,F,H,K,Q;let _e={localCacheCount:p,existenceFilterCount:g.count,databaseId:w.database,projectId:w.projectId},Z=g.unchangedNames;return Z&&(_e.bloomFilter={applied:N===0,hashCount:(O=Z?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(H=(F=(M=Z?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(Q=(K=Z?.bits)===null||K===void 0?void 0:K.padding)!==null&&Q!==void 0?Q:0,mightContain:C=>{var E;return(E=_?.mightContain(C))!==null&&E!==void 0&&E}}),_e}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Ki(r).toUint8Array()}catch(u){if(u instanceof Gf)return Ga("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new bI(o,i,s)}catch(u){return Ga(u instanceof Xs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&pI(a.target)){let u=new X(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,kn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ye();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Yf(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=CA(),this.Qe=new We(Te),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Te),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function CA(){return new We(X.comparator)}function SA(){return new We(X.comparator)}var fz={asc:"ASCENDING",desc:"DESCENDING"},pz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gz={and:"AND",or:"OR"},DI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function CI(t,e){return t.useProto3Json||Ip(e)?e:{value:e}}function ep(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mz(t,e){return ep(t,e.toTimestamp())}function ur(t){return Oe(!!t),oe.fromTimestamp(function(n){let r=zr(n);return new bt(r.seconds,r.nanos)}(t))}function L_(t,e){return SI(t,e).canonicalString()}function SI(t,e){let n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pR(t){let e=He.fromString(t);return Oe(wR(e)),e}function AI(t,e){return L_(t.databaseId,e.path)}function zw(t,e){let n=pR(e);if(n.get(1)!==t.databaseId.projectId)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(mR(n))}function gR(t,e){return L_(t.databaseId,e)}function yz(t){let e=pR(t);return e.length===4?He.emptyPath():mR(e)}function RI(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mR(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AA(t,e,n){return{name:AI(t,e),fields:n.value.mapValue.fields}}function vz(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Oe(p===void 0||typeof p=="string"),Lt.fromBase64String(p||"")):(Oe(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Lt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){let p=d.code===void 0?L.UNKNOWN:hR(d.code);return new z(p,d.message||"")}(o);n=new Jf(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zw(t,r.document.name),s=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):oe.min(),a=new Pn({mapValue:{fields:r.document.fields}}),u=kn.newFoundDocument(i,s,o,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Ha(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zw(t,r.document),s=r.readTime?ur(r.readTime):oe.min(),o=kn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ha([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zw(t,r.document),s=r.removedTargetIds||[];n=new Ha([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new EI(i,s),a=r.targetId;n=new Zf(a,o)}}return n}function wz(t,e){let n;if(e instanceof co)n={update:AA(t,e.key,e.value)};else if(e instanceof Qf)n={delete:AI(t,e.key)};else if(e instanceof qr)n={update:AA(t,e.key,e.data),updateMask:Az(e.fieldMask)};else{if(!(e instanceof vI))return ne();n={verify:AI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ja)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function Iz(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ur(i.updateTime):ur(s);return o.isEqual(oe.min())&&(o=ur(s)),new yI(o,i.transformResults||[])}(n,e))):[]}function _z(t,e){return{documents:[gR(t,e.path)]}}function Ez(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gR(t,i);let s=function(d){if(d.length!==0)return vR(On.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:Ba(w.field),direction:Dz(w.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=CI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function bz(t){let e=yz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Oe(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){let w=yR(g);return w instanceof On&&QA(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(w=>function(N){return new so($a(N.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(w))}(n.orderBy));let a=null;n.limit&&(a=function(g){let w;return w=typeof g=="object"?g.value:g,Ip(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(g){let w=!!g.before,_=g.values||[];return new Ya(_,w)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let w=!g.before,_=g.values||[];return new Ya(_,w)}(n.endAt)),Q$(e,i,o,s,a,"F",u,d)}function Tz(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=$a(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=$a(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=$a(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=$a(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return st.create($a(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>yR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function Dz(t){return fz[t]}function Cz(t){return pz[t]}function Sz(t){return gz[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function $a(t){return sn.fromServerFormat(t.fieldPath)}function vR(t){return t instanceof st?function(n){if(n.op==="=="){if(pA(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(fA(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pA(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(fA(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:Cz(n.op),value:n.value}}}(t):t instanceof On?function(n){let r=n.getFilters().map(i=>vR(i));return r.length===1?r[0]:{compositeFilter:{op:Sz(n.op),filters:r}}}(t):ne()}function Az(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var el=class t{constructor(e,n,r,i,s=oe.min(),o=oe.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xI=class{constructor(e){this.ct=e}};function Rz(t){let e=bz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mI(e,e.limit,"L"):e}var tp=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At($e(e.integerValue));else if("doubleValue"in e){let r=$e(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Yu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=zr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ki(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?GA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):qA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At($e(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),X.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};tp.vt=new tp;var NI=class{constructor(){this.un=new MI}addToCollectionParentIndex(e,n){return this.un.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(ro.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}},MI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(He.comparator)).toArray()}};var qK=new Uint8Array(0);var sr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(41943040,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);var tl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var PI=class{constructor(){this.changes=new Yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var kI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var OI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ku(r.mutation,i,or.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){let i=Js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Hu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr(),o=Wu(),a=function(){return Wu()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof qr)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),Ku(p.mutation,d,p.mutation.getFieldMask(),bt.now())):o.set(d.key,or.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var g;return a.set(d,new kI(p,(g=o.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Wu(),i=new We((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||or.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=iR();p.forEach(w=>{if(!s.has(w)){let _=lR(n.get(w),r.get(w));_!==null&&g.set(w,_),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Js()),a=-1,u=s;return o.next(d=>j.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?j.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,ye())).next(p=>({batchId:a,changes:rR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Hu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Hu();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,u=>{let d=function(g,w){return new Qi(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,w)=>{o=o.insert(g,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let p=d.getKey();o.get(p)===null&&(o=o.insert(p,kn.newInvalidDocument(p)))});let a=Hu();return o.forEach((u,d)=>{let p=s.get(u);p!==void 0&&Ku(p.mutation,d,or.empty(),bt.now()),Ep(n,d)&&(a=a.insert(u,d))}),a})}};var LI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Rz(i.bundledQuery),readTime:ur(i.readTime)}}(n)),j.resolve()}};var FI=class{constructor(){this.overlays=new We(X.comparator),this.Ir=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Js();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){let i=Js(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((d,p)=>d-p),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Js(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Js(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return j.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _I(n,r));let s=this.Ir.get(n);s===void 0&&(s=ye(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var VI=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}};var nl=class{constructor(){this.Tr=new Ot(it.Er),this.dr=new Ot(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new it(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new it(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new X(new He([])),r=new it(n,e),i=new it(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new X(new He([])),r=new it(n,e),i=new it(n,e+1),s=ye();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new it(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},it=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||X.comparator(e.key,n.key)}};var jI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ot(it.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new wI(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new it(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Te);return n.forEach(i=>{let s=new it(i,0),o=new it(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;X.isDocumentKey(s)||(s=s.child(""));let o=new it(new X(s),0),a=new Ot(Te);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},o),j.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(n.mutations,i=>{let s=new it(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new it(n,0),i=this.br.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var UI=class{constructor(e){this.Mr=e,this.docs=function(){return new We(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kn.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr(),o=n.path,a=new X(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||V$(F$(p),r)<=0||(i.has(p.key)||Ep(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BI(this)}getSize(e){return j.resolve(this.size)}},BI=class extends PI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var $I=class{constructor(e){this.persistence=e,this.Nr=new Yi(n=>M_(n),P_),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new nl,this.targetCount=0,this.kr=tl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Kn(n),j.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}};var zI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zA(0),this.Kr=!1,this.Kr=!0,this.$r=new VI,this.referenceDelegate=e(this),this.Ur=new $I(this),this.indexManager=new NI,this.remoteDocumentCache=function(i){return new UI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new xI(n),this.Gr=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new jI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new HI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},HI=class extends tI{constructor(e){super(),this.currentSequenceNumber=e}},qI=class t{constructor(e){this.persistence=e,this.Jr=new nl,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var GI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ye(),i=ye();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var WI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var KI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return HC()?8:U$(gt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new WI;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(zu()<=me.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(zu()<=me.DEBUG&&q("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(zu()<=me.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):j.resolve())}Yi(e,n){if(vA(n))return j.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mI(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ye(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,a);return this.ns(n,d,o,u.readTime)?this.Yi(e,mI(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return vA(n)||i.isEqual(oe.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?j.resolve(null):(zu()<=me.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.rs(e,o,n,L$(i,-1)).next(a=>a))})}ts(e,n){let r=new Ot(tR(e));return n.forEach((i,s)=>{Ep(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return zu()<=me.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.Ji.getDocumentsMatchingQuery(e,n,ro.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var QI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new We(Te),this._s=new Yi(s=>M_(s),P_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function xz(t,e,n,r){return new QI(t,e,n,r)}function IR(t,e){return D(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ye();for(let d of i){o.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of s){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})})}function Nz(t,e){let n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,w=g.keys(),_=j.resolve();return w.forEach(N=>{_=_.next(()=>p.getEntry(u,N)).next(O=>{let M=d.docVersions.get(N);Oe(M!==null),O.version.compareTo(M)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _R(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Mz(t,e){let n=ie(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,g)=>{let w=i.get(g);if(!w)return;a.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let _=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Lt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),function(O,M,F){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(w,_,p)&&a.push(n.Ur.updateTargetData(s,_))});let u=Hr(),d=ye();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(Pz(s,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(oe.min())){let p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.os=i,s))}function Pz(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,u)=>{let d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function kz(t,e){let n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oz(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new el(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function YI(t,e,n){return D(this,null,function*(){let r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ul(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function RA(t,e,n){let r=ie(t),i=oe.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){let g=ie(u),w=g._s.get(p);return w!==void 0?j.resolve(g.os.get(w)):g.Ur.getTargetData(d,p)}(r,o,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:oe.min(),n?s:ye())).next(a=>(Lz(r,Z$(e),a),{documents:a,Ts:s})))}function Lz(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var np=class{constructor(){this.activeTargetIds=rz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ZI=class{constructor(){this.so=new np,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new np,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var JI=class{_o(e){}shutdown(){}};var rp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var jf=null;function Hw(){return jf===null?jf=function(){return 268435456+Math.round(2147483648*Math.random())}():jf++,"0x"+jf.toString(16)}var Fz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var XI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var kt="WebChannelConnection",e_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Hw(),u=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(p=>(q("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Ga("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ic}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Fz[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Hw();return new Promise((o,a)=>{let u=new Fw;u.setWithCredentials(!0),u.listenOnce(jw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case $u.NO_ERROR:let p=u.getResponseJson();q(kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case $u.TIMEOUT:q(kt,`RPC '${e}' ${s} timed out`),a(new z(L.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:let g=u.getStatus();if(q(kt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);let _=w?.error;if(_&&_.status&&_.message){let N=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(F)>=0?F:L.UNKNOWN}(_.status);a(new z(N,_.message))}else a(new z(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new z(L.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{q(kt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);q(kt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=Hw(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$w(),a=Bw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new Vw({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=s.join("");q(kt,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=o.createWebChannel(p,u),w=!1,_=!1,N=new XI({Io:M=>{_?q(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(w||(q(kt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),q(kt,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},To:()=>g.close()}),O=(M,F,H)=>{M.listen(F,K=>{try{H(K)}catch(Q){setTimeout(()=>{throw Q},0)}})};return O(g,ja.EventType.OPEN,()=>{_||(q(kt,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),O(g,ja.EventType.CLOSE,()=>{_||(_=!0,q(kt,`RPC '${e}' stream ${i} transport closed`),N.So())}),O(g,ja.EventType.ERROR,M=>{_||(_=!0,Ga(kt,`RPC '${e}' stream ${i} transport errored:`,M),N.So(new z(L.UNAVAILABLE,"The operation could not be completed")))}),O(g,ja.EventType.MESSAGE,M=>{var F;if(!_){let H=M.data[0];Oe(!!H);let K=H,Q=K.error||((F=K[0])===null||F===void 0?void 0:F.error);if(Q){q(kt,`RPC '${e}' stream ${i} received error:`,Q);let _e=Q.status,Z=function(b){let S=rt[b];if(S!==void 0)return hR(S)}(_e),C=Q.message;Z===void 0&&(Z=L.INTERNAL,C="Unknown error status: "+_e+" with message "+Q.message),_=!0,N.So(new z(Z,C)),g.close()}else q(kt,`RPC '${e}' stream ${i} received:`,H),N.bo(H)}}),O(a,Uw.STAT_EVENT,M=>{M.stat===Ff.PROXY?q(kt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Ff.NOPROXY&&q(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}};function qw(){return typeof document<"u"?document:null}function bp(t){return new DI(t,!0)}var ip=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var sp=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ip(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new z(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},t_=class extends sp{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=vz(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?ur(o.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=RI(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=pI(u)?{documents:_z(s,u)}:{query:Ez(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fR(s,o.resumeToken);let d=CI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=ep(s,o.snapshotVersion.toTimestamp());let d=CI(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=Tz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=RI(this.serializer),n.removeTarget=e,this.a_(n)}},n_=class extends sp{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=Iz(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=RI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>wz(this.serializer,r))};this.a_(n)}};var r_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,SI(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(L.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,SI(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(L.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},i_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var s_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>D(this,null,function*(){lo(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let d=ie(u);d.L_.add(4),yield ll(d),d.q_.set("Unknown"),d.L_.delete(4),yield Tp(d)})}(this))}))}),this.q_=new i_(r,i)}};function Tp(t){return D(this,null,function*(){if(lo(t))for(let e of t.B_)yield e(!0)})}function ll(t){return D(this,null,function*(){for(let e of t.B_)yield e(!1)})}function ER(t,e){let n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),U_(n)?j_(n):oc(n).r_()&&V_(n,e))}function F_(t,e){let n=ie(t),r=oc(n);n.N_.delete(e),r.r_()&&bR(n,e),n.N_.size===0&&(r.r_()?r.o_():lo(n)&&n.q_.set("Unknown"))}function V_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).A_(e)}function bR(t,e){t.Q_.xe(e),oc(t).R_(e)}function j_(t){t.Q_=new TI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.q_.v_()}function U_(t){return lo(t)&&!oc(t).n_()&&t.N_.size>0}function lo(t){return ie(t).L_.size===0}function TR(t){t.Q_=void 0}function Vz(t){return D(this,null,function*(){t.q_.set("Online")})}function jz(t){return D(this,null,function*(){t.N_.forEach((e,n)=>{V_(t,e)})})}function Uz(t,e){return D(this,null,function*(){TR(t),U_(t)?(t.q_.M_(e),j_(t)):t.q_.set("Unknown")})}function Bz(t,e,n){return D(this,null,function*(){if(t.q_.set("Online"),e instanceof Jf&&e.state===2&&e.cause)try{yield function(i,s){return D(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield op(t,r)}else if(e instanceof Ha?t.Q_.Ke(e):e instanceof Zf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{let r=yield _R(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{let p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Lt.EMPTY_BYTE_STRING,p.snapshotVersion)),bR(s,u);let g=new el(p.target,u,d,p.sequenceNumber);V_(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield op(t,r)}})}function op(t,e,n){return D(this,null,function*(){if(!ul(e))throw e;t.L_.add(1),yield ll(t),t.q_.set("Offline"),n||(n=()=>_R(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Tp(t)}))})}function DR(t,e){return e().catch(n=>op(t,n,e))}function Dp(t){return D(this,null,function*(){let e=ie(t),n=Zi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$z(e);)try{let i=yield kz(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,zz(e,i)}catch(i){yield op(e,i)}CR(e)&&SR(e)})}function $z(t){return lo(t)&&t.O_.length<10}function zz(t,e){t.O_.push(e);let n=Zi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function CR(t){return lo(t)&&!Zi(t).n_()&&t.O_.length>0}function SR(t){Zi(t).start()}function Hz(t){return D(this,null,function*(){Zi(t).p_()})}function qz(t){return D(this,null,function*(){let e=Zi(t);for(let n of t.O_)e.m_(n.mutations)})}function Gz(t,e,n){return D(this,null,function*(){let r=t.O_.shift(),i=II.from(r,e,n);yield DR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Dp(t)})}function Wz(t,e){return D(this,null,function*(){e&&Zi(t).V_&&(yield function(r,i){return D(this,null,function*(){if(function(o){return lz(o)&&o!==L.ABORTED}(i.code)){let s=r.O_.shift();Zi(r).s_(),yield DR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Dp(r)}})}(t,e)),CR(t)&&SR(t)})}function xA(t,e){return D(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=lo(n);n.L_.add(3),yield ll(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Tp(n)})}function Kz(t,e){return D(this,null,function*(){let n=ie(t);e?(n.L_.delete(2),yield Tp(n)):e||(n.L_.add(2),yield ll(n),n.q_.set("Unknown"))})}function oc(t){return t.K_||(t.K_=function(n,r,i){let s=ie(n);return s.w_(),new t_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Vz.bind(null,t),Ro:jz.bind(null,t),mo:Uz.bind(null,t),d_:Bz.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.K_.s_(),U_(t)?j_(t):t.q_.set("Unknown")):(yield t.K_.stop(),TR(t))}))),t.K_}function Zi(t){return t.U_||(t.U_=function(n,r,i){let s=ie(n);return s.w_(),new n_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Hz.bind(null,t),mo:Wz.bind(null,t),f_:qz.bind(null,t),g_:Gz.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.U_.s_(),yield Dp(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var o_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function B_(t,e){if($r("AsyncQueue",`${e}: ${t}`),ul(t))return new z(L.UNAVAILABLE,`${e}: ${t}`);throw t}var ap=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Hu(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var cp=class{constructor(){this.W_=new We(X.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},tc=class t{constructor(e,n,r,i,s,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ap.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var a_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},c_=class{constructor(){this.queries=NA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ie(n),s=i.queries;i.queries=NA(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new z(L.ABORTED,"Firestore shutting down"))}};function NA(){return new Yi(t=>eR(t),_p)}function Qz(t,e){return D(this,null,function*(){let n=ie(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new a_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=B_(o,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&$_(n)})}function Yz(t,e){return D(this,null,function*(){let n=ie(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Zz(t,e){let n=ie(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&$_(n)}function Jz(t,e,n){let r=ie(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function $_(t){t.Y_.forEach(e=>{e.next()})}var u_,MA;(MA=u_||(u_={})).ea="default",MA.Cache="cache";var l_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==u_.Cache}};var up=class{constructor(e){this.key=e}},lp=class{constructor(e){this.key=e}},d_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=tR(e),this.Ra=new ap(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new cp,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let w=i.get(p),_=Ep(this.query,g)?g:null,N=!!w&&this.mutatedKeys.has(w.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),M=!1;w&&_?w.data.isEqual(_.data)?N!==O&&(r.track({type:3,doc:_}),M=!0):this.ga(w,_)||(r.track({type:2,doc:_}),M=!0,(u&&this.Aa(_,u)>0||d&&this.Aa(_,d)<0)&&(a=!0)):!w&&_?(r.track({type:0,doc:_}),M=!0):w&&!_&&(r.track({type:1,doc:w}),M=!0,(u||d)&&(a=!0)),M&&(_?(o=o.add(_),s=O?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,g)=>function(_,N){let O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return O(_)-O(N)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new tc(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new lp(r))}),this.da.forEach(r=>{e.has(r)||n.push(new up(r))}),n}ba(e){this.Ta=e.Ts,this.da=ye();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return tc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},h_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},f_=class{constructor(e){this.key=e,this.va=!1}},p_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Yi(a=>eR(a),_p),this.Ma=new Map,this.xa=new Set,this.Oa=new We(X.comparator),this.Na=new Map,this.La=new nl,this.Ba={},this.ka=new Map,this.qa=tl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Xz(t,e,n=!0){return D(this,null,function*(){let r=PR(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield AR(r,e,n,!0),i})}function eH(t,e){return D(this,null,function*(){let n=PR(t);yield AR(n,e,!0,!1)})}function AR(t,e,n,r){return D(this,null,function*(){let i=yield Oz(t.localStore,cr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield tH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ER(t.remoteStore,i),a})}function tH(t,e,n,r,i){return D(this,null,function*(){t.Ka=(g,w,_)=>function(O,M,F,H){return D(this,null,function*(){let K=M.view.ma(F);K.ns&&(K=yield RA(O.localStore,M.query,!1).then(({documents:C})=>M.view.ma(C,K)));let Q=H&&H.targetChanges.get(M.targetId),_e=H&&H.targetMismatches.get(M.targetId)!=null,Z=M.view.applyChanges(K,O.isPrimaryClient,Q,_e);return kA(O,M.targetId,Z.wa),Z.snapshot})}(t,g,w,_);let s=yield RA(t.localStore,e,!0),o=new d_(e,s.Ts),a=o.ma(s.documents),u=Xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,u);kA(t,n,d.wa);let p=new h_(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function nH(t,e,n){return D(this,null,function*(){let r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!_p(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield YI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&F_(r.remoteStore,i.targetId),g_(r,i.targetId)}).catch(cl))):(g_(r,i.targetId),yield YI(r.localStore,i.targetId,!0))})}function rH(t,e){return D(this,null,function*(){let n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F_(n.remoteStore,r.targetId))})}function iH(t,e,n){return D(this,null,function*(){let r=dH(t);try{let i=yield function(o,a){let u=ie(o),d=bt.now(),p=a.reduce((_,N)=>_.add(N.key),ye()),g,w;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let N=Hr(),O=ye();return u.cs.getEntries(_,p).next(M=>{N=M,N.forEach((F,H)=>{H.isValidDocument()||(O=O.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,N)).next(M=>{g=M;let F=[];for(let H of a){let K=uz(H,g.get(H.key).overlayedDocument);K!=null&&F.push(new qr(H.key,K,WA(K.value.mapValue),to.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,F,a)}).next(M=>{w=M;let F=M.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(_,M.batchId,F)})}).then(()=>({batchId:w.batchId,changes:rR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new We(Te)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield dl(r,i.changes),yield Dp(r.remoteStore)}catch(i){let s=B_(i,"Failed to persist write");n.reject(s)}})}function RR(t,e){return D(this,null,function*(){let n=ie(t);try{let r=yield Mz(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Oe(o.va):i.removedDocuments.size>0&&(Oe(o.va),o.va=!1))}),yield dl(n,r,e)}catch(r){yield cl(r)}})}function PA(t,e,n){let r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=ie(o);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let w of g.j_)w.Z_(a)&&(d=!0)}),d&&$_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sH(t,e,n){return D(this,null,function*(){let r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new We(X.comparator);o=o.insert(s,kn.newNoDocument(s,oe.min()));let a=ye().add(s),u=new Yf(oe.min(),new Map,new We(Te),o,a);yield RR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),z_(r)}else yield YI(r.localStore,e,!1).then(()=>g_(r,e,n)).catch(cl)})}function oH(t,e){return D(this,null,function*(){let n=ie(t),r=e.batch.batchId;try{let i=yield Nz(n.localStore,e);NR(n,r,null),xR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield dl(n,i)}catch(i){yield cl(i)}})}function aH(t,e,n){return D(this,null,function*(){let r=ie(t);try{let i=yield function(o,a){let u=ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Oe(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);NR(r,e,n),xR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield dl(r,i)}catch(i){yield cl(i)}})}function xR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function NR(t,e,n){let r=ie(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function g_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||MR(t,r)})}function MR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(F_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),z_(t))}function kA(t,e,n){for(let r of n)r instanceof up?(t.La.addReference(r.key,e),cH(t,r)):r instanceof lp?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||MR(t,r.key)):ne()}function cH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),z_(t))}function z_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new X(He.fromString(e)),r=t.qa.next();t.Na.set(r,new f_(n)),t.Oa=t.Oa.insert(n,r),ER(t.remoteStore,new el(cr(k_(n.path)),r,"TargetPurposeLimboResolution",zA.oe))}}function dl(t,e,n){return D(this,null,function*(){let r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=GI.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return D(this,null,function*(){let p=ie(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>j.forEach(d,w=>j.forEach(w.$i,_=>p.persistence.referenceDelegate.addReference(g,w.targetId,_)).next(()=>j.forEach(w.Ui,_=>p.persistence.referenceDelegate.removeReference(g,w.targetId,_)))))}catch(g){if(!ul(g))throw g;q("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let w=g.targetId;if(!g.fromCache){let _=p.os.get(w),N=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(N);p.os=p.os.insert(w,O)}}})}(r.localStore,s))})}function uH(t,e){return D(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield IR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new z(L.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dl(n,r.hs)}})}function lH(t,e){let n=ie(t),r=n.Na.get(e);if(r&&r.va)return ye().add(r.key);{let i=ye(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function PR(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sH.bind(null,e),e.Ca.d_=Zz.bind(null,e.eventManager),e.Ca.$a=Jz.bind(null,e.eventManager),e}function dH(t){let e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aH.bind(null,e),e}var dp=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=bp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xz(this.persistence,new KI,e.initialUser,this.serializer)}createPersistence(e){return new zI(qI.Zr,this.serializer)}createSharedClientState(e){return new ZI}terminate(){return D(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var m_=class{initialize(e,n){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uH.bind(null,this.syncEngine),yield Kz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new c_}()}createDatastore(e){let n=bp(e.databaseInfo.databaseId),r=function(s){return new e_(s)}(e.databaseInfo);return function(s,o,a,u){return new r_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new s_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>PA(this.syncEngine,n,0),function(){return rp.D()?new rp:new JI}())}createSyncEngine(e,n){return function(i,s,o,a,u,d,p){let g=new p_(i,s,o,a,u,d);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return D(this,null,function*(){var e,n;yield function(i){return D(this,null,function*(){let s=ie(i);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield ll(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var y_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var v_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=zf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>D(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=B_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Gw(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield IR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function OA(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield fH(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>xA(e.remoteStore,i)),t._onlineComponents=e})}function hH(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function fH(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gw(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!hH(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),yield Gw(t,new dp)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield Gw(t,new dp);return t._offlineComponents})}function kR(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield OA(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield OA(t,new m_))),t._onlineComponents})}function pH(t){return kR(t).then(e=>e.syncEngine)}function LA(t){return D(this,null,function*(){let e=yield kR(t),n=e.eventManager;return n.onListen=Xz.bind(null,e.syncEngine),n.onUnlisten=nH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rH.bind(null,e.syncEngine),n})}function OR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var FA=new Map;function LR(t,e,n){if(!n)throw new z(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gH(t,e,n,r){if(e===!0&&r===!0)throw new z(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VA(t){if(!X.isDocumentKey(t))throw new z(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jA(t){if(X.isDocumentKey(t))throw new z(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Qu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Cp(t);throw new z(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var hp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},nc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ww;switch(r.type){case"firstParty":return new Zw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=FA.get(n);r&&(q("ComponentProvider","Removing Datastore"),FA.delete(n),r.terminate())}(this),Promise.resolve()}};function FR(t,e,n,r={}){var i;let s=(t=Qu(t,nc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=mt.MOCK_USER;else{a=jC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new z(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mt(d)}t._authCredentials=new Kw(new $f(a,u))}}var uo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},on=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Wi=class t extends uo{constructor(e,n,r){super(e,n,k_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new X(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function VR(t,e,...n){if(t=Et(t),LR("collection","path",e),t instanceof nc){let r=He.fromString(e,...n);return jA(r),new Wi(t,null,r)}{if(!(t instanceof on||t instanceof Wi))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return jA(r),new Wi(t.firestore,null,r)}}function jR(t,e,...n){if(t=Et(t),arguments.length===1&&(e=zf.newId()),LR("doc","path",e),t instanceof nc){let r=He.fromString(e,...n);return VA(r),new on(t,null,new X(r))}{if(!(t instanceof on||t instanceof Wi))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return VA(r),new on(t.firestore,t instanceof Wi?t.converter:null,new X(r))}}var w_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ip(this,"async_queue_retry"),this.Eu=()=>{let n=qw();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=qw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=qw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Br;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return D(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ul(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=o_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ne()}verifyOperationInProgress(){}mu(){return D(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function UA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var rc=class extends nc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new w_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$R(this),this._firestoreClient.terminate()}};function UR(t,e){let n=typeof t=="object"?t:Pa(),r=typeof t=="string"?t:e||"(default)",i=Nu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=VC("firestore");s&&FR(i,...s)}return i}function BR(t){return t._firestoreClient||$R(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $R(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,d,p){return new nI(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,OR(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new v_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var rl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new z(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var il=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fp=class{constructor(e){this._methodName=e}};var sl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var ol=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var mH=/^__.*__$/,I_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new co(e,this.data,n,this.fieldTransforms)}};function zR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var __=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return pp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(zR(this.wu)&&mH.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},E_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bp(e)}Nu(e,n,r,i=!1){return new __({wu:e,methodName:n,Ou:r,path:sn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HR(t){let e=t._freezeSettings(),n=bp(t._databaseId);return new E_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yH(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);WR("Data must be an object, but it was:",o,r);let a=qR(r,o),u,d;if(s.merge)u=new or(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let g of s.mergeFields){let w=wH(e,g,n);if(!o.contains(w))throw new z(L.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);_H(p,w)||p.push(w)}u=new or(p),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new I_(new Pn(a),u,d)}function vH(t,e,n,r=!1){return H_(n,t.Nu(r?4:3,e))}function H_(t,e){if(GR(t=Et(t)))return WR("Unsupported field value:",e,t),qR(t,e);if(t instanceof fp)return function(r,i){if(!zR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=H_(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=bt.fromDate(r);return{timestampValue:ep(i.serializer,s)}}if(r instanceof bt){let s=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ep(i.serializer,s)}}if(r instanceof sl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rl)return{bytesValue:fR(i.serializer,r._byteString)};if(r instanceof on){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:L_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ol)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return O_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Cp(r)}`)}(t,e)}function qR(t,e){let n={};return HA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(t,(r,i)=>{let s=H_(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function GR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof sl||t instanceof rl||t instanceof on||t instanceof fp||t instanceof ol)}function WR(t,e,n){if(!GR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Cp(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function wH(t,e,n){if((e=Et(e))instanceof il)return e._internalPath;if(typeof e=="string")return KR(t,e);throw pp("Field path arguments must be of type string or ",t,!1,void 0,n)}var IH=new RegExp("[~\\*/\\[\\]]");function KR(t,e,n){if(e.search(IH)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new il(...e.split("."))._internalPath}catch{throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pp(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new z(L.INVALID_ARGUMENT,a+t+u)}function _H(t,e){return t.some(n=>n.isEqual(e))}var gp=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new b_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},b_=class extends gp{data(){return super.data()}};function Sp(t,e){return typeof e=="string"?KR(t,e):e instanceof il?e._internalPath:e._delegate._internalPath}function EH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var al=class{},mp=class extends al{};function QR(t,e,...n){let r=[];e instanceof al&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof T_).length,a=s.filter(u=>u instanceof yp).length;if(o>1||o>0&&a>0)throw new z(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var yp=class t extends mp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return JR(e._query,n),new uo(e.firestore,e.converter,gI(e._query,n))}_parse(e){let n=HR(e.firestore);return function(s,o,a,u,d,p,g){let w;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new z(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){$A(g,p);let _=[];for(let N of g)_.push(BA(u,s,N));w={arrayValue:{values:_}}}else w=BA(u,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||$A(g,p),w=vH(a,o,g,p==="in"||p==="not-in");return st.create(d,p,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function YR(t,e,n){let r=e,i=Sp("where",t);return yp._create(i,r,n)}var T_=class t extends al{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:On.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)JR(o,u),o=gI(o,u)}(e._query,n),new uo(e.firestore,e.converter,gI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var D_=class t extends mp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new so(s,o)}(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Qi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function ZR(t,e="asc"){let n=e,r=Sp("orderBy",t);return D_._create(r,n)}function BA(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XA(e)&&n.indexOf("/")!==-1)throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(He.fromString(n));if(!X.isDocumentKey(r))throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hA(t,new X(r))}if(n instanceof on)return hA(t,n._key);throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cp(n)}.`)}function $A(t,e){if(!Array.isArray(t)||t.length===0)throw new z(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JR(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var C_=class{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return sc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>$e(o.doubleValue));return new ol(s)}convertGeoPoint(e){return new sl($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=x_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){let n=zr(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=He.fromString(e);Oe(wR(r));let i=new Wf(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||$r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function bH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var eo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vp=class extends gp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new qa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},qa=class extends vp{data(e={}){return super.data(e)}},S_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qa(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:TH(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function TH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var wp=class extends C_{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}};function XR(t,e){let n=Qu(t.firestore,rc),r=jR(t),i=bH(t.converter,e);return DH(n,[yH(HR(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,to.exists(!1))]).then(()=>r)}function ex(t,...e){var n,r,i;t=Et(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||UA(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(UA(e[o])){let g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,p;if(t instanceof on)d=Qu(t.firestore,rc),p=k_(t._key.path),u={next:g=>{e[o]&&e[o](CH(d,t,g))},error:e[o+1],complete:e[o+2]};else{let g=Qu(t,uo);d=Qu(g.firestore,rc),p=g._query;let w=new wp(d);u={next:_=>{e[o]&&e[o](new S_(d,w,g,_))},error:e[o+1],complete:e[o+2]},EH(t._query)}return function(w,_,N,O){let M=new y_(O),F=new l_(_,M,N);return w.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return Qz(yield LA(w),F)})),()=>{M.za(),w.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return Yz(yield LA(w),F)}))}}(BR(d),p,a,u)}function DH(t,e){return function(r,i){let s=new Br;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return iH(yield pH(r),i,s)})),s.promise}(BR(t),e)}function CH(t,e,n){let r=n.docs.get(e._key),i=new wp(t);return new vp(t,i,e._key,r,new eo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ic=i})(Bi),Ui(new mn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new rc(new Qw(r.getProvider("auth-internal")),new Xw(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new z(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wf(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),lt(cA,"4.7.1",e),lt(cA,"4.7.1","esm2017")})();var ho=class{constructor(e){return e}},tx="firestore",q_=class{constructor(){return Mu(tx)}};var G_=new G("angularfire2.firestore-instances");function SH(t,e){let n=mf(tx,t,e);return n&&new ho(n)}function AH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ho(r)}}var RH={provide:q_,deps:[[new Nt,G_]]},xH={provide:ho,useFactory:SH,deps:[[new Nt,G_],Lr]};function lQ(t,...e){return lt("angularfire",qs.full,"fst"),un([xH,RH,{provide:G_,useFactory:AH(t),multi:!0,deps:[be,xt,La,Gs,[new Nt,Bu],[new Nt,Oa],...e]}])}var nx=$t(XR,!0);var rx=$t(VR,!0);var dQ=$t(UR,!0);var hQ=$t(ex,!0);var fQ=$t(ZR,!0);var pQ=$t(QR,!0);var gQ=$t(YR,!0);var ix=class t{constructor(e,n){this.auth=e;this.firestore=n}userSubject=new ct(null);login(e,n){return iA(this.auth,e,n).then(r=>(this.userSubject.next(r.user),this.logLogin(e),r.user))}logout(){return sA(this.auth).then(()=>{this.userSubject.next(null)})}register(e,n){return rA(this.auth,e,n).then(r=>(this.userSubject.next(r.user),r.user))}getUser(){return this.userSubject.asObservable()}logLogin(e){let n=rx(this.firestore,"logins");nx(n,{fecha:new Date,user:e}).then(()=>console.log("Login registrado correctamente")).catch(r=>console.log("Error al registrar el login: ",r))}static \u0275fac=function(n){return new(n||t)(Y(Zs),Y(ho))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};export{$ as a,Le as b,OH as c,D as d,At as e,ct as f,Ue as g,ee as h,ue as i,AN as j,J as k,Nb as l,W as m,la as n,G as o,Y as p,Gb as q,da as r,Ls as s,fa as t,X9 as u,eW as v,Wm as w,It as x,Dr as y,$P as z,tW as A,Be as B,Kc as C,sW as D,FO as E,QO as F,my as G,u1 as H,l1 as I,HD as J,qD as K,yy as L,oW as M,vy as N,aW as O,cW as P,M1 as Q,YD as R,P1 as S,k1 as T,uW as U,O1 as V,lW as W,JD as X,dW as Y,hW as Z,Qc as _,fW as $,ga as aa,Zc as ba,pW as ca,uL as da,ya as ea,FW as fa,VW as ga,jW as ha,jL as ia,Nr as ja,QL as ka,XW as la,D6 as ma,c2 as na,er as oa,Y0 as pa,z6 as qa,H6 as ra,q6 as sa,NV as ta,k8 as ua,O8 as va,AK as wa,RK as xa,ho as ya,lQ as za,nx as Aa,rx as Ba,dQ as Ca,hQ as Da,fQ as Ea,pQ as Fa,gQ as Ga,ix as Ha};
